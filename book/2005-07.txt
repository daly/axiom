\documentclass{book}
%\newcommand{\VolumeName}{Volume 2: Axiom Users Guide}
%\input{bookheader.tex}
\pagenumbering{arabic}
\mainmatter
\setcounter{chapter}{0} % Chapter 1

\usepackage{makeidx}
\makeindex
\begin{document}
\begin{verbatim}
\start
Date: Thu, 30 Jun 2005 23:09:24 -0700
From: Bob McElrath
To: Kai Kaminski
Subject: SVG, MathML, and all that


Kai, in the SVG example you sent previously at:
    http://kaikaminski.gmxhome.de/axiom-index.html
your server is sending the content-type "image/svg-xml" for the svg
file, where it should be "image/svg+xml"  (note the "+").  Mozilla
(properly) does not understand this content-type so does not render it.

Also, anyone wanting to play with SVG (esp. under linux) should grab the
"deer park" alpha for firefox 1.1:
    http://www.mozilla.org/projects/firefox/
It contains SVG enabled by default, rendered with the Cairo engine.
MathML is also enabled.  (but it is enabled in all mozilla browsers
nowadays)  The Mozilla SVG implementation is young, so you may want to
also install the Adobe SVG viewer:
    http://www.adobe.com/svg/viewer/install/main.html
You can switch between them by typing 'about:config' in the URL bar and
changing the value of 'svg.enabled' (which controls the built-in Mozilla
SVG implementation.  However, version 3.0 of their viewer (the only one
available) will hang all recent versions of firefox and mozilla, and is
therefore totally unusable.  :(

Just to be pedantic, the document type I am contemplating is described
here: http://www.w3.org/TR/2002/WD-XHTMLplusMathMLplusSVG-20020809/
Essentially an interface would be a single XML file with javascript to
bind user interface widgets.

Here are some interesting resources/projects:
    http://smarth.sourceforge.net/
a dynamic MathML equation editor.  The application itself is written in
SVG.  (requires Adobe SVG viewer -- Mozilla doesn't like this one)

Here is an equation grapher that uses SVG and javascript:
    http://www.jasonkarldavis.com/scripts/grapher/grapher.xml
(perhaps just to motivate that SVG is a good format for figures)
and here is the same using Mozilla's XUL interface:
    http://www.jasonkarldavis.com/scripts/grapher/xul/grapher.xul
it's intended to be run in the sidebar, which is why everything is
clustered on the left.  I'm envisioning javascript actions that would
allow the user to click on the graph to rescale axes, change labelling,
change from log to linear, etc.  I think all of these should send a
command back to axiom to regenerate the graph.

XUL is Mozilla's XML User Interface Language, which gives developers
access to every UI widget used by Mozilla.  It is the framework upon
which Firefox extensions are based.  
    http://www.xulplanet.com/
Sometimes it's also called "chrome".

\start
Date: Fri, 01 Jul 2005 03:05:25 -0500
From: MathAction (unknown)
To: MathAction
Subject: [#173 (1 . failed) cannot be coerced to mode (Integer) in TriangularMatrixOperations] what's wrong with that?

>From the package:
++ This package provides functions that compute "fraction-free"
++ inverses of upper and lower triangular matrices over a integral
++ domain. By "fraction-free inverse" we mean the following:
++ given a matrix B with entries in R and an element d of R such that
++ d* inv(B) also has entries in R, we return d * inv(B).

So if you enter B and d such that d * inv(B) does not have entries in R, it is an error. 
The package is for internal use (that why it is not exposed) 
where d is always divisible by the determinant of B.

\start
Date: Fri, 01 Jul 2005 03:17:29 -0500
From: MathAction (unknown)
To: MathAction
Subject: [#144 Domain abbreviation is no longer associated with filename] wild card and case sensitivity in hyperdoc

The searches should allow use wild card character * also be case
insensitive. This is not the case in the open source version
(something broken?), making it very unusable. Should be a high
priority to fix since it is close to impossible for newcomers to
program in Axiom without a fully working hyperdoc. Why spent time
discussing about new GUI when it is perhaps simpler to fix these?

\start
Date: Fri, 01 Jul 2005 11:03:26 +0200
From: Kai Kaminski
To: Bob McElrath
Subject: Re: SVG, MathML, and all that

Hi Bob!

Bob McElrath wrote:

>Kai, in the SVG example you sent previously at:
>    http://kaikaminski.gmxhome.de/axiom-index.html
>your server is sending the content-type "image/svg-xml" for the svg
>file, where it should be "image/svg+xml"  (note the "+").  Mozilla
>(properly) does not understand this content-type so does not render it.
>  
>
I sent an email to my provider.

>nowadays)  The Mozilla SVG implementation is young, so you may want to
>also install the Adobe SVG viewer:
>    http://www.adobe.com/svg/viewer/install/main.html
>You can switch between them by typing 'about:config' in the URL bar and
>changing the value of 'svg.enabled' (which controls the built-in Mozilla
>SVG implementation.  However, version 3.0 of their viewer (the only one
>available) will hang all recent versions of firefox and mozilla, and is
>therefore totally unusable.  :(
>  
>
I think I've read somewhere that you have to use an older version. I 
also believe that Bill is running Firefox with Adobe, so maybe he can 
tell you how to get it to work.

>Just to be pedantic, the document type I am contemplating is described
>here: http://www.w3.org/TR/2002/WD-XHTMLplusMathMLplusSVG-20020809/
>Essentially an interface would be a single XML file with javascript to
>bind user interface widgets.
>  
>
Yes, that's it. Although we might want to avoid MathML for now and rely 
on jsMath instead.

>Here are some interesting resources/projects:
>    http://smarth.sourceforge.net/
>a dynamic MathML equation editor.  The application itself is written in
>SVG.  (requires Adobe SVG viewer -- Mozilla doesn't like this one)
>  
>
Looks quite impressive, but doesn't work very well on my system. For 
example some keys always generate two characters and others don't 
generate the correct output. But it demonstrates that one could indeed 
embed a mini-GUI for plot manipulation in the plot files themselves.

>Here is an equation grapher that uses SVG and javascript:
>    http://www.jasonkarldavis.com/scripts/grapher/grapher.xml
>(perhaps just to motivate that SVG is a good format for figures)
>and here is the same using Mozilla's XUL interface:
>    http://www.jasonkarldavis.com/scripts/grapher/xul/grapher.xul
>it's intended to be run in the sidebar, which is why everything is
>clustered on the left.  I'm envisioning javascript actions that would
>allow the user to click on the graph to rescale axes, change labelling,
>change from log to linear, etc.  I think all of these should send a
>command back to axiom to regenerate the graph.
>  
>
Maybe simple transformation could be done without consulting Axiom 
again. Either by doing the manipulations in Javascript or by including 
several plots with different parameters in the plot file and making all 
but one invisible. The software at those links doesn't work for me, by 
the way. I'm not sure what the problem is.

\start
Date: Fri, 01 Jul 2005 04:44:47 -0500
From: MathAction (anonymous)
To: MathAction
Subject: [#188 the do instruction doesn't display any result] A feature?

------------------<br>
That is a feature?? (perhaps useful just for its side effects; and 'do' seems not documented -- it is equivalent to adding semicolons to each line of the pile, without the type info outputted on each line except the last). You need to explicitly ask to display a value.
\begin{axiom}
do
  1
  2
%
do i for i in 1..3
%
x:=do [i for i in 1..3]
x
1;
2;
%
\end{axiom}

\start
Date: Fri, 01 Jul 2005 06:16:19 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#187 trouoble with tuples] work around suggestion (if you must use Tuple)

++added:

<hr>
From: William Sit, July 1, 2005 06:26:00 -5:00<br>

The following works (not as neat as it should be, of course)

\begin{axiom}
f1:INT->Tuple INT
f1(x)==(x,2+x)
f2:(INT,INT)->INT
f2(x,y)==x*y  -- fixed typo
a:=f1(4)
f2(select(a,0), select(a,1))
f3:Tuple INT -> INT
f3(x) == reduce(*,[select(x,i::NNI) for i in 0..length(x)-1])
f3(a)
f3(f1(5))
f3((1,2,3,4)::Tuple INT)
f3 [1,2,3,4]
f4:Tuple INT -> List INT
f4 x == concat(x::List INT, x::List INT)
f4(f1(5))
\end{axiom}

Note that neither 'f3(1,2,3,4)' nor 'f3((1,2,3,4))' works, even though
tuples are lists without the square brackets, essentially. In both
cases, the reason is probably the parser treats the arities
differently. Recall that the Interpreter (and Axiom) treats
parenthesis as "applied to" (so 'f3 (1,2,3,4)' is the same as applying
'f3' to 4 distinct arguments and 'f3(a)' is 'f3 a'). I do think the
second form should have worked without the explicit coercion.

I do not know why in the design of 'Tuple S', the parts are not to be
referenced with just the usual list method like 'a.i' and must use
'select'. Also the indexing in 'Tuple S' starts with 0. In the very
old days of Scratchpad, all aggregates indexing was zero based. Most
are converted to one-based and you can have a choice. Somehow, 'Tuple
S' was not updated to reflect this.

One final puzzle: What is the 'G1433' (or whatever) function from
'Integer->Boolean'? I tried

\begin{axiom}
)clear all
f3:Tuple INT->INT
f3 x == reduce(*,[select(x,i::NNI) for i in 0..length(x)-1])
a:Tuple INT:=(2,3)
f3 a
\end{axiom}

and there is no such function.

\start
Date: Fri, 01 Jul 2005 06:12:50 -0500
From: MathAction (unknown)
To: MathAction
Subject: [#188 the do instruction doesn't display any result] 

I need the do command for tests with => in interpret input.
\begin{axiom}
1=2 => 3
2=2 => 4
\end{axiom}
Isn't right.
\begin{axiom}
do 
  1=2 => 3
  2=2 => 4
\end{axiom}
is better.
I don't understand why the do command runs with a semicolon ; at the end.
If I don't want any display I add a semicolon, if not I get the result.

\start
Date: Fri, 01 Jul 2005 12:08:39 +0200
From: Michel Lavaud
To: William Sit
Subject: Re: Dispaying special characters on MathAction

Hello William,

On 30 Jun 2005 at 18:38, William Sit wrote:

> > under Firefox, I obtain the line 1 :
> > 
> > math e mat i cal (math'?-mat'i-k?l)
> > 
> > with u accent on the a and i, which looks rather strange, and on the
> > upper right corner
> 
> I thought that was deliberate, taken from a dictionary and the
> punctuations and accents are meant to be pronunciation help and
> presumably use special Unicode-8 characters. It's the same whether I
> use Firefox or IE. Changing the encoding (even to English) will make
> that worse.

Ah, OK, thank you very much for the info.

\start
Date: Fri, 01 Jul 2005 06:49:18 -0500
From: MathAction (unknown)
To: MathAction
Subject: [#187 trouble with tuples] display of tuple

Why tuples are displayed as list ? 
\par
I prefer to read (2,3) or 2,3 for tuple, and [2,3] only for lists.
\par
Students and I make errors when the display is the same, even if there is a type information.  

\start
Date: Fri, 01 Jul 2005 08:02:36 -0500
From: MathAction (unknown)
To: MathAction
Subject: [#188 the do instruction doesn't display any result] do expressions in Aldor

Quoted from the Aldor User Guide at http://www.aldor.org/docs/HTML/chap5.html#7

The do expression evaluates E and discards the computed value, so that the do expression returns no value.

do E

\start
Date: Fri, 01 Jul 2005 08:05:26 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#187 trouble with tuples] 

Students and I make errors when the display is the same, even if there is a type information.

<hr>
>From William Sit, Fri Jul 1 08:50:00 -0500 2005<br>

There seems to be some bug in the display, because the code in Tuple (array1.spad) uses parenthesis, not brackets.

\begin{axiom}
coerce(a)$Tuple INT
coerce(a)@PRIMARR INT
\end{axiom}

This bug may be due to the Interpreter coercing 'Tuple INT' to 'PRIMARR INT' and then to 'OutputForm', which perhaps uses the List output. Tim Daly may know more.

\start
Date: Fri, 01 Jul 2005 08:23:08 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#187 trouble with tuples] 

This "bug" may be due to the Interpreter coercing 'Tuple INT' to 'PRIMARR INT' and then to 'OutputForm', which perhaps uses the List output. The order of coercion may be governed by the conditional on coerce to 'Outputform' in 'Tuple S' ('S' needs to be of 'SetCategory').

\start
Date: Fri, 1 Jul 2005 12:18:28 -0700
From: Bob McElrath
To: list
Subject: IRC channel

With our new paid rock star, Kai, the pace of development has picked up
a bit.

I just wanted to remind everyone that I set up an IRC channel on
irc.freenode.net #axiom-developer.  Probably a good way to discuss many
things, with faster response time than email.

After I get this SVG graphing widget demo working, maybe I'll try again
at that axiom bot I promised for the channel.  ;)

\start
Date: Fri, 01 Jul 2005 14:53:28 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [Cartesian Product] (new) 

++ This domain implements cartesian product

\begin{axiom}
)show Product
\end{axiom}

\begin{axiom}
)abbrev domain PRODUCT Product
Product (A:SetCategory,B:SetCategory) : C == T
 where
  C == SetCategory  with
       if A has Finite and B has Finite then Finite
       if A has Monoid and B has Monoid then Monoid
       if A has AbelianMonoid and B has AbelianMonoid then AbelianMonoid
       if A has CancellationAbelianMonoid and
          B has CancellationAbelianMonoid then CancellationAbelianMonoid
       if A has Group  and B has Group  then  Group
       if A has AbelianGroup and B has AbelianGroup then  AbelianGroup
       if A has OrderedAbelianMonoidSup and B has OrderedAbelianMonoidSup
                                             then OrderedAbelianMonoidSup
       if A has OrderedSet and B has OrderedSet then  OrderedSet
 
       makeprod     : (A,B) -> %
        ++ makeprod(a,b) \undocumented
       selectfirst  :   %   -> A
        ++ selectfirst(x) \undocumented
       selectsecond :   %   -> B
        ++ selectsecond(x) \undocumented
 
  T == add
 
    --representations
       Rep := Record(acomp:A,bcomp:B)
 
    --declarations
       x,y: %
       i: NonNegativeInteger
       p: NonNegativeInteger
       a: A
       b: B
       d: Integer
 
    --define
       coerce(x):OutputForm == paren [(x.acomp)::OutputForm,
                                      (x.bcomp)::OutputForm]
       x=y ==
           x.acomp = y.acomp => x.bcomp = y.bcomp
           false
       makeprod(a:A,b:B) :%   == [a,b]
 
       selectfirst(x:%) : A   == x.acomp
 
       selectsecond (x:%) : B == x.bcomp
 
       if A has Monoid and B has Monoid then
          1 == [1$A,1$B]
          x * y == [x.acomp * y.acomp,x.bcomp * y.bcomp]
          x ** p == [x.acomp ** p ,x.bcomp ** p]
 
       if A has Finite and B has Finite then
          size == size$A () * size$B ()
 
       if A has Group and B has Group then
          inv(x) == [inv(x.acomp),inv(x.bcomp)]
 
       if A has AbelianMonoid and B has AbelianMonoid then
          0 == [0$A,0$B]
 
          x + y == [x.acomp + y.acomp,x.bcomp + y.bcomp]
 
          c:NonNegativeInteger * x == [c * x.acomp,c*x.bcomp]
 
       if A has CancellationAbelianMonoid and
          B has CancellationAbelianMonoid then
            subtractIfCan(x, y) : Union(%,"failed") ==
              (na:= subtractIfCan(x.acomp, y.acomp)) case "failed" => "failed"
              (nb:= subtractIfCan(x.bcomp, y.bcomp)) case "failed" => "failed"
              [na::A,nb::B]
 
       if A has AbelianGroup and B has AbelianGroup then
          - x == [- x.acomp,-x.bcomp]
          (x - y):% == [x.acomp - y.acomp,x.bcomp - y.bcomp]
          d * x == [d * x.acomp,d * x.bcomp]
 
       if A has OrderedAbelianMonoidSup and B has OrderedAbelianMonoidSup then
          sup(x,y) == [sup(x.acomp,y.acomp),sup(x.bcomp,y.bcomp)]
 
       if A has OrderedSet and B has OrderedSet then
          x < y ==
               xa:= x.acomp ; ya:= y.acomp
               xa < ya => true
               xb:= x.bcomp ; yb:= y.bcomp
               xa = ya => (xb < yb)
               false
 
\start
Date: Fri, 01 Jul 2005 14:47:21 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#187 trouble with tuples] Cartesian products and tuples

I think the concept of a tuple and [Cartesian Product] should be related,
i.e. a tuple is an element of a Cartesian Product:

\begin{axiom}
)expose Product
makeprod(1,1.1)
f:(INT,Float)->Float
f:Product(INT,Float)->Float
\end{axiom}

\start
Date: Fri, 01 Jul 2005 14:38:13 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#187 trouble with tuples] 

These error messages indicate some serious problems

'Tuple Any' should work in a similar way to 'List Any' and
'DirectProduct(2,Any)'.
-------------------
<hr />

f2(x,y)==x*y

f2(x,y)==x*y

\start
Date: Fri, 01 Jul 2005 19:50:48 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#187 trouble with tuples] Tuple, Product, Direct Product

Product can be looked up in hyperdoc. It is listed in Appendix C
(p. 613 of Axiom (paper) Book; p. 1028 of eBook). Tuple is more like
Direct Product since the entries must come from the same
domain. However, Product constructs only Cartesian product of two
domains; Direct Product requires a dimension parameter; whereas Tuple
does not (arbitrary length). Also Tuple is only a linear aggregate (or
PRIMARR) and has no algebraic structure. Direct product exists in many
categories.

So, a tuple is not an element of Product (it is a Cartesian product in
a loose mathematical sense: Tuple S is actually the infinite union of
DirectProduct(n,S) over all n.

\start
Date: Sat, 02 Jul 2005 09:52:40 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#187 trouble with tuples] 

I think a domain such as Product deserves (much) more documentation
then just to be listed in Appendix C! Of course that is also true of
many other domains in Axiom. It worries me that a 1000+ page book is
not nearly enough to properly document more than a small number of
Axiom's mathematical constructs. How big of a book do we need? Is the
idea of a "book" adequate at all? In fact Appendix C seems to be of
very little value to me.

> Tuple is more like Direct Product since the entries must come
> from the same domain.

The domain Tuple and the use of tuple in Axiom seems to be
a little confused. See page 1100 of Book::

  tuple

  an expression of two or more other expressions separated by
  commas, for example, 4,7,11. Tuples are also used for multiple
  arguments both for applications (for example, f (x,y)) and in
  signatures (for example, (Integer, Integer) > Integer). A
  tuple is not a data structure, rather a syntax mechanism for
  grouping expressions.

This implies that we should not think of a function with
a signature like '(Integer,Float)->Float' as a mapping
'Product(Integer,Float)->Float' and it certainly isn't the
mapping 'Tuple Any -> Float', but elsewhere in Axiom the
notion of a function as a mapping is very important.

What I want is for Product to be generalized to an n-ary
[Cartesian Product] and then instead of expressions like:
\begin{axiom}
T1:=(1,1.1)
f:(Integer,Float)->Float
\end{axiom}

being interpreted as Tuples, I think such tuples should be
Products:
\begin{axiom}
(1,1.1)$(Product(Integer,Float)
f:Product(Integer,Float)->Float
\end{axiom}

\start
Date: Sat, 02 Jul 2005 09:55:26 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#187 trouble with tuples] 

I prefer to read (2,3) or 2,3 for tuple, and ![2,3] only for lists.

makeprod(1,1.1)$Product(Integer,Float)

\start
Date: Sat, 02 Jul 2005 10:45:48 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [DirectProduct] (new) 

Description:

This type represents the finite direct or cartesian product of an
underlying component type. This contrasts with simple vectors in that
the members can be viewed as having constant length. Thus many
categorical properties can by lifted from the underlying component type.
Component extraction operations are provided but no updating operations.
Thus new direct product elements can either be created by converting
vector elements using the \spadfun{directProduct} function
or by taking appropriate linear combinations of basis vectors provided
by the \spad{unitVector} operation.

(from vector.spad.pamphlet)

\start
Date: Sat, 02 Jul 2005 10:38:29 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#187 trouble with tuples] Tuple and ITUPLE

William Sit wrote:

> Tuple S is actually the infinite union of DirectProduct?(n,S) over all n.

What you describe sounds more like InfiniteTuple - another interesting
but undocumented domain.

\start
Date: Sat, 02 Jul 2005 11:54:29 -0500
From: MathAction (William Sit)
To: MathAction
Subject: [#187 trouble with tuples] [#187 trouble with tuples]

Bill Page wrote:
> I think a domain such as Product deserves (much) more documentation
> then just to be listed in Appendix C! Of course that is also true of
> many other domains in Axiom. It worries me that a 1000+ page book is
> not nearly enough to properly document more than a small number of
> Axiom's mathematical constructs. How big of a book do we need? Is the
> idea of a "book" adequate at all? In fact Appendix C seems to be of
> very little value to me.

Documenting the algebra code of Axiom is a very big project itself. I agree that
the Appendices are not that helpful. 
 
> > Tuple is more like Direct Product since the entries must come
> > from the same domain.
> 
> The domain Tuple and the use of tuple in Axiom seems to be
> a little confused. See page 1100 of Book::
> 
>   tuple
> 
>   an expression of two or more other expressions separated by
>   commas, for example, 4,7,11. Tuples are also used for multiple
>   arguments both for applications (for example, f (x,y)) and in
>   signatures (for example, (Integer, Integer)b > Integer). A
>   tuple is not a data structure, rather a syntax mechanism for
>   grouping expressions.
> 
> This implies that we should not think of a function with
> a signature like '(Integer,Float)->Float' as a mapping
> 'Product(Integer,Float)->Float' and it certainly isn't the
> mapping 'Tuple Any -> Float', but elsewhere in Axiom the
> notion of a function as a mapping is very important.

There is a subtle distinction. Tuples have no bounding parenthesis or brackets
or structures. It is simply a "list" in raw enumerated form. It is convenient
because it is a true list, where as a List object is a single object, not a
"list". This distinction is important in the notion of arity of operators (and
OOP).

> What I want is for Product to be generalized to an n-ary
> [Cartesian Product] and then instead of expressions like:
> \begin{axiom}
> T1:=(1,1.1)
> f:(Integer,Float)->Float
> \end{axiom}
> 
> being interpreted as Tuples, I think such tuples should be
> Products:
> \begin{axiom}
> (1,1.1)$(Product(Integer,Float)
> f:Product(Integer,Float)->Float
> \end{axiom}
> 
I don't agree.  When one wraps up something into a single object, it is
inconvenient to look at the parts without unwrapping. (May be some optical
technology can? :-) Here in f you must take an integer and a float, wrap them up
into a product, and then unwrap it to compute the resulting float. For objects
that are complicated, there is of course a role to wrap up the pieces before
shipping. (Ever think of zipping if you are sending just two small files?)

\start
Date: Sat, 02 Jul 2005 11:58:32 -0500
From: MathAction (William Sit)
To: MathAction
Subject: [#187 trouble with tuples] [#187 trouble with tuples] Tuple and ITUPLE

Bill Page wrote:
> William Sit wrote:
> 
> > Tuple S is actually the infinite union of DirectProduct?(n,S) over all n.
> 
> What you describe sounds more like InfiniteTuple - another interesting
> but undocumented domain.

No. InfiniteTuple is more like stream. It is conceptually infinite in
length. A construct analogous to Tuple S is Matrix(R), which can have
arbitary but finite dimensions. Matrix(R) is conceptually the union of
Matrix(m,n,R) over all m and n. An object in Tuple S has arbitrary but
finite length.

\start
Date: Sun, 03 Jul 2005 21:40:31 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#187 trouble with tuples] 

> (1,1.1)$Product(Integer,Float)

\start
Date: Sun, 03 Jul 2005 22:48:32 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#187 trouble with tuples] functions are objects of type Mapping

Bill Page wrote:

> I think such tuples should be Products ... 

>From page 246 of the Axiom book:

"The type of a function is always a mapping of the form
 Source -> Target where Source and Target are types."

and from page 1085:

"Domains Mapping, Record, and Union are primitive domains. All
other domains are written in the Axiom programming language ..."

\begin{axiom}
)show Mapping
Mapping(String,INT,Float)
\end{axiom}

>From a mathematical point of view clearly the idea that
Mapping(T, A, B) denotes the class of mappings from (A, B)
into T implies that (A,B) denotes some kind of set, i.e.
the Product(A,B).

William Sit wrote:

> I don't agree. When one wraps up something into a single object,
> it is inconvenient to look at the parts without unwrapping.

But [Cartesian Product] is implemented as a Record and the
domain Record is a primative in Axiom. So my proposal above
amounts to stating, for example, that:
\begin{axiom}
f1:Record(a:INT,b:FLOAT)->FLOAT
f1(arg)==arg.b+arg.a
f1[1,1.1]
\end{axiom}

should be viewed as equivalent to
\begin{axiom}
f2:(INT,FLOAT)->FLOAT
f2(a,b)==a+b
f2(1,1.1)
\end{axiom}

And in fact after a simple optimization, the compiler should
be able to produce equivalent internal lisp code.

\start
Date: Mon, 04 Jul 2005 08:20:03 -0500
From: MathAction (William Sit)
To: MathAction
Subject: [#187 trouble with tuples] [#187 trouble with tuples] functions are objectsof type Mapping

Bill Page wrote:

> From a mathematical point of view clearly the idea that
> Mapping(T, A, B) denotes the class of mappings from (A, B)
> into T implies that (A,B) denotes some kind of set, i.e.
> the Product(A,B).

> William Sit wrote:
> 
> > I don't agree. When one wraps up something into a single object,
> > it is inconvenient to look at the parts without unwrapping.

(Disclaimer: my earlier response above is not directly to your new comment. See
previous post. I agree that the Cartesian product of A, B is implied in the
notion of Mapping(T,A,B). But that is *not* the issue here.)

In most mathematics I know, products, if they exist, are formed from objects of
the same category. If $f:A \times B \rightarrow C$ is a mapping, where $A$, $B$
are from the same category, we may sometimes let $D = A \times B$ and identify
$f$ as $f:D \rightarrow C$ (let me rename this to $g:D \rightarrow C$). However,
there is this subtle distinction in the way we give the definition of $f$ and
$g$. In the first case, we would write f(a,b) = c, where as in the second case,
we would write g(d) = c, with d = (a,b). The two are *not* equivalent as
*mappings*: $f$ is binary and $g$ is unary. To define $c$ to be $a+b$ in both
cases, say, it is straight forward in the first case $f(a,b)=a+b$. In the second
case, there is necessarily a composition with two projection maps $p:D
\rightarrow A$ and $q:D \rightarrow B$, where $p(d)=a$, $q(d) = b$. The true
definition of $g$ is: $g(d) = p(d)+q(d)$. If the target $C$ is more involved,
say $C$ is D^2$ and $f$ is meant to be the diagonal map $D \rightarrow D^2$,
then the $g$-form would be more preferrable: $g(d) = (d,d)$.

In short, Axiom imitates closely mathematics and gives us both ways to define
mappings. When the data structure is complicated, a Record is preferred.

In mathematics, we have been trained to be sloppy with details that have been
seen too often already, so as to contemplate at newer and more abstract levels. 
We tend to see things as the same via isomorphisms. Now, we are forced to think
about all the details again in using Axiom. That is the main hurdle and a steep
"relearning" curve. Perhaps in 2032 (I'm not going to let this be a sliding
window of 30 years!), computer algebra can be smart enough to incorporate all
theorems (isomorphisms included) from a self-generated data-base and we don't
have to "relearn" what is in our subconsciousness.

> But [Cartesian Product] is implemented as a Record and the
> domain Record is a primative in Axiom. So my proposal above
> amounts to stating, for example, that:
> \begin{axiom}
> f1:Record(a:INT,b:FLOAT)->FLOAT
> f1(arg)==arg.b+arg.a
> f1[1,1.1]
> \end{axiom}
> 
> should be viewed as equivalent to
> \begin{axiom}
> f2:(INT,FLOAT)->FLOAT
> f2(a,b)==a+b
> f2(1,1.1)
> \end{axiom}
> 
> And in fact after a simple optimization, the compiler should
> be able to produce equivalent internal lisp code.

Axiom is a strongly typed language with object oriented roots. A
Record, even if it is a primary domain, is a single object. You cannot
have the compiler *sometimes* treat it as one object and *sometimes*
not. In your example, f1 has arity one (requiring two projection
maps), and f2 has arity two. In general, the compiler reads in a list
of arguments for a function and then parses it. I don't see much
optimization (the parser needs to work one level deeper to parse the
content of the record,and there is *no way* the generated code can be
simplified to remove this level because the arities are different).

In the second form, you *explicitly* tell the compiler that f2
requires two *objects* as inputs. In the first, only one. In terms of
data structure, Axiom *must* view arg as a Record object (note your
use of square brackets). In your scenario, you seem to suggest that
the compiler *automatically* changes the arity of f1 to the length of
the record. If so, I think this will only confuse users, even if that
change is restricted to Records appearing as function signatures.

There is also another problem with your automatic translation. In a
record, the *order* of the items is not important (conceptually
speaking), each field is tagged by an identifier. In a tuple, the
physical order is important and items are not tagged.

Please note also that Axiom *hides* the data representation of objects
from code external to the object constructors. So sometimes these
projections are *not* available (for 'Product' and domains of
'DirectProductCategory', they should be, and are).

\start
Date: Mon, 04 Jul 2005 12:25:29 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#187 trouble with tuples] 

let me rename this to:
$$g:D \rightarrow C$$

If the target $C$ is more involved, say $C$ is $D^2$ and $f$ is meant to be
the diagonal map

\start
Date: Mon, 04 Jul 2005 12:23:00 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#187 trouble with tuples] 

the same category. If $$f:A \times B \rightarrow C$$ is a mapping,
where $A$, $B$ are from the same category, we may sometimes let $$D =
A \times B$$ and identify $f$ as $$f:D \rightarrow C$$ let me rename
this to: $$g:D \rightarrow C$$.

However, there is this subtle distinction in the way we give the
definition of $f$ and $g$. In the first case, we would write f(a,b) =
c, where as in the second case, we would write g(d) = c, with d =
(a,b). The two are *not* equivalent as *mappings*: $f$ is binary and
$g$ is unary. To define $c$ to be $a+b$ in both cases, say, it is
straight forward in the first case $$f(a,b)=a+b$$

In the second case, there is necessarily a composition with two projection maps
$$p:D \rightarrow A$$
and
$$q:D \rightarrow B$$
where
$$p(d)=a$$
$$q(d) = b$$

The true definition of $g$ is:
$$g(d) = p(d)+q(d)$$
If the target $C$ is more involved, say $C$ is D^2$ and $f$ is meant to be the
diagonal map
$$D \rightarrow D^2$$
then the $g$-form would be more preferrable:
$$g(d) = (d,d)$$

\start
Date: Mon, 04 Jul 2005 12:08:17 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#187 trouble with tuples] 

William Sit wrote:

> I agree that the Cartesian product of A, B is implied in the notion
> of Mapping(T,A,B). But that is not the issue here.

??? But that *is* precisely the issue with which **I am** concerned.

> products, if they exist, are formed from objects of the same
> category

Yes, I agree. I think program semantics must be expressed in some
"cartesian closed" category. See

http://en.wikipedia.org/wiki/Cartesian_closed_category

In the case of Axiom I think that it is highly significant
that "The category Cat of all small categories (with functors
as morphisms) is cartesian closed;". And the choice of Mapping,
Record and Union as primatives in Axiom directly supports this
notion.

> The two are not equivalent as mappings: f is binary and g is unary.

I disagree strongly with your analysis. These two things are formally
identical. No "subtle distinction" is necessary or relevant. 

> A Record, even if it is a primary domain, is a single object.
> You cannot have the compiler sometimes treat it as one object
> and sometimes not.

I agree. My point is that the expression '(A,B)' in the Mapping
'(A,B)->C', does in fact denote a single object, not two objects.
It is clear that when we write 'f(a,b) == a+b' in the definition
of the function 'f:(A,B)-> C', that 'a' and 'b' denote composition
with the necessary projections - that is precisely what we mean
when we say that 'a' and 'b' are "formal parameters" of the
function.

Your definition of "arity" is wrong. A function with multiple
inputs is necessarily defined over a product and has an "arity"
equal to the size of that product. I think Axiom's definition of
Mapping is wrong to admit more than two arguments (mapping should
be semantically equivalent to exponentiation in a cartesian closed
category). It is confusing and unnecessarily complicated from a
mathematical point of view to define Mapping(C,A,B) as different
from Mapping(C,Product(A,B)). It makes a vacuous distinction where
none is necessary.

> In a record, the order of the items is not important (conceptually
> speaking), each field is tagged by an identifier. In a tuple, the
> physical order is important and items are not tagged.

That is not true. As long as we admit a Tuple as a domain and not
"just a syntactic construct" (what ever that might mean), in a Tuple
the "fields" are simply tagged by their order - or better: indexed
by '1..n'. In Records these "tags" are given names. In both cases
these are formally just different names for projections from a
product. In Axiom the fields of a Record are also given in an order
that allows for example the assignment:
\begin{axiom}
R:Record(a:Integer,b:Float):=[1,1.1]
\end{axiom}

\start
Date: Mon, 04 Jul 2005 12:42:21 -0500
From: MathAction (anonymous)
To: MathAction
Subject: [#189 Graphics does not work on Debian] (new) 

Axiom does not start if you start it in an X session.
GUI fails completely:
user@home:~$ axiom
ptyopen: Failed to grant access to slave device: No such file or directory
ptyopen: Failed to get name of slave device: No such file or directory
ptyopen: Failed to open slave: Bad address
fork_Axiom: Failed to reopen server: No such file or directory
ptyopen: Failed to grant access to slave device: No such file or directory
ptyopen: Failed to get name of slave device: No such file or directory
ptyopen: Failed to open slave: Bad address
clef trying to get the initial terminal settings: Invalid argument

This is under a chrooted environment. Is this relevant?

\start
Date: Mon, 04 Jul 2005 12:53:37 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#93 Confusing amount of information on Axiom (beginner's issue)] content-management software

The Axiom web site is already based on content-management software.
The fact these pages might be confusing is due to either a lack of
talent or time (or both). As an Axiom user, your participation in
improving these pages is **strongly** encouraged. Please edit them
and add your own improved content. Everyone will benefit.

\start
Date: Mon, 04 Jul 2005 16:53:14 -0500
From: MathAction (Bob McElrath)
To: MathAction
Subject: [#189 Graphics does not work on Debian] See

You must be running on a system which does not have Unix98 pty's.  (e.g.
/dev/ptmx)  As this is by now an old standard, I'm confused why so many
people are running into this problem.  It's included since the 2.1
series of linux kernels.  Could you provide some more information about
your distro/kernel?  Specifically, kernel version, distro version, does
/dev/ptmx exist?  Is devpts mounted?  Does chroot prevent you from using
ptmx due to file premissions?  What/how is your chroot set up?  Is it a
common configuration?  Is it something you did by hand or did you
install some debian package which did it for you?

If machines with this problem are so common, we can fix it by falling
back to the BSD-style pty allocation in src/lib/openpty.c.pamphlet
(patch follows).  Reporter: can you answer the above questions and/or
test the below patch?

--- openpty.c.pamphlet.orig     2005-07-04 14:37:38.000000000 -0700
+++ openpty.c.pamphlet  2005-07-04 14:39:23.000000000 -0700
@@ -177,9 +177,32 @@
       if (ioctl(fds, I_PUSH, "ldterm") < 0)
         perror("ptyopen: Failed to push idterm");
 #endif
+#if defined(LINUXplatform) /* Linux with old-style BSD pty's (not Unix98 devpts) */
+      int looking = 1, i;
+      int oflag = O_RDWR;                  /* flag for opening the pty */
+      
+      for (i = 0; looking && i < 1000; i++) {
+        makeNextPtyNames(controllerPath, serverPath);
+        if (access(controllerPath, 6) != 0) continue;
+        *controller = open(controllerPath, oflag, 0);
+        if (*controller >= 0) {
+          *server = open(serverPath, oflag, 0);
+          if (*server > 0)
+            looking = 0;
+          else
+            close(*controller);
+        }
+      }
+      if (looking) {
+        fprintf(stderr, "Couldn't find a free pty.\n");
+        exit(-1);
+      }
+      return (*controller);
+#else
       strcpy(serverPath,slavename);
       *controller=fdm;
       *server=fds;
+#endif
     }
   }
   return(fdm);

\start
Date: Mon, 04 Jul 2005 16:57:02 -0500
From: MathAction (anonymous)
To: MathAction
Subject: [#189 Graphics does not work on Debian] 

??changed:
-test the below patch?
-
---- openpty.c.pamphlet.orig     2005-07-04 14:37:38.000000000 -0700
-+++ openpty.c.pamphlet  2005-07-04 14:39:23.000000000 -0700
-@@ -177,9 +177,32 @@
-       if (ioctl(fds, I_PUSH, "ldterm") < 0)
-         perror("ptyopen: Failed to push idterm");
- #endif
-+#if defined(LINUXplatform) /* Linux with old-style BSD pty's (not Unix98 devpts) */
-+      int looking = 1, i;
-+      int oflag = O_RDWR;                  /* flag for opening the pty */
-+      
-+      for (i = 0; looking && i < 1000; i++) {
-+        makeNextPtyNames(controllerPath, serverPath);
-+        if (access(controllerPath, 6) != 0) continue;
-+        *controller = open(controllerPath, oflag, 0);
-+        if (*controller >= 0) {
-+          *server = open(serverPath, oflag, 0);
-+          if (*server > 0)
-[18 more lines...]
test the below patch?::

 --- openpty.c.pamphlet.orig     2005-07-04 14:37:38.000000000 -0700
 +++ openpty.c.pamphlet  2005-07-04 14:39:23.000000000 -0700
 @@ -177,9 +177,32 @@
        if (ioctl(fds, I_PUSH, "ldterm") < 0)
          perror("ptyopen: Failed to push idterm");
  #endif
 +#if defined(LINUXplatform) /* Linux with old-style BSD pty's (not Unix98 devpts) */
 +      int looking = 1, i;
 +      int oflag = O_RDWR;                  /* flag for opening the pty */
 +      
 +      for (i = 0; looking && i < 1000; i++) {
 +        makeNextPtyNames(controllerPath, serverPath);
 +        if (access(controllerPath, 6) != 0) continue;
 +        *controller = open(controllerPath, oflag, 0);
 +        if (*controller >= 0) {
 +          *server = open(serverPath, oflag, 0);
 +          if (*server > 0)
 +            looking = 0;
 +          else
 +            close(*controller);
 +        }
 +      }
 +      if (looking) {
 +        fprintf(stderr, "Couldn't find a free pty.\n");
 +        exit(-1);
 +      }
 +      return (*controller);
 +#else
        strcpy(serverPath,slavename);
        *controller=fdm;
        *server=fds;
 +#endif
      }
    }
    return(fdm);

\start
Date: Tue, 05 Jul 2005 11:45:05 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#187 trouble with tuples] 

??changed:
-> \begin{axiom}
-> f1:Record(a:INT,b:FLOAT)->FLOAT
-
-> f1(arg)==arg.b+arg.a
-> f1[1,1.1]
-> \end{axiom}
-> 
-> should be viewed as equivalent to
-> \begin{axiom}
-> f2:(INT,FLOAT)->FLOAT
-> f2(a,b)==a+b
-> f2(1,1.1)
-> \end{axiom}
-> 
>
>  (code snipped, see above)
>

In the second form, you *explicitly* tell the compiler that 'f2' requires two

arity of 'f1' to the length of the record. If so, I think this will only confuse

++added:
<hr>
>From William Sit Tues Jul 5 12:29:00 -5:00 2005

Bill Page wrote:

PS. Sorry these discussions get longer and longer. I know you are not
shy about long discussions.  Let's hope we can come to some
understanding.

> William Sit wrote:
>
> > I agree that the Cartesian product of A, B is implied in the notion
> > of Mapping(T,A,B). But that is not the issue here.
>
> ??? But that *is* precisely the issue with which **I am** concerned.

No one is saying that *mathematically* '(A,B)' is not 'A x B'.  THEY
ARE!  Here, 'A x B' is only a mathematical notation for '(A,B)'.
There is no Axiom domain with that notation.  'Mapping(C,A x B)' has
no meaning in Axiom.  That was the reason I said this is not the issue
here.  I'll refrain from using this notation when discussing Axiom,
since it only confuses the issues.  The Cartesian product in Axiom is
either '(A,B)' or 'Product(A,B)', the latter is what I should have
denoted as 'D'.

> http://en.wikipedia.org/wiki/Cartesian_closed_category

Thanks for the pointer. Always nice to learn new jargon.

> > The two are not equivalent as mappings: f is binary and g is unary.
>
> I disagree strongly with your analysis. These two things are formally
> identical. No "subtle distinction" is necessary or relevant.

We don't agree then (even though I don't know what you mean by
"formally identical").  The distinction is both subtle and still very
relevant!  The distinction is between 'Mapping(C,A,B)' and
'Mapping(C,D)' when 'D' is treated as an entity in itself (that is,
when you start writing 'Product(A,B)' in Axiom for '(A,B)',
"wrapping" the components).

> > A Record, even if it is a primary domain, is a single object.
> > You cannot have the compiler sometimes treat it as one object
> > and sometimes not.
>
> I agree. My point is that the expression '(A,B)' in the Mapping
> '(A,B)->C', does in fact denote a single object, not two objects.
> It is clear that when we write 'f(a,b) == a+b' in the definition
> of the function 'f:(A,B)->C', that 'a' and 'b' denote composition
> with the necessary projections - that is precisely what we mean
> when we say that 'a' and 'b' are "formal parameters" of the
> function.
>
> Your definition of "arity" is wrong. A function with multiple
> inputs is necessarily defined over a product and has an "arity"
> equal to the size of that product.

I see, this is what we are talking about:  how to count arguments.
That depends on what you meant by "multiple inputs".  We cannot
discuss about arity unless we first agree to allow the notation for
many-to-one functions:  'f:(A1,A2,...,Am)->C' is a function with 'm'
inputs.  According to my understanding of the previous quote, you
consider '(A1,A2, ..., Am)' as one object, living in some Cartesian
product, and yet, you also consider that, in 'f(a1, a2, ..., am)', the
'a1, a2, ..., am' are "formal parameters" and the arity is the size of
the product, namely 'm'.  This is a syntactic definition and I don't
think it is different from mine (if I ever gave one).

I would like to point out, however, that the domains 'A1, A2, ..., Am'
are considered *atomic* in this counting:  that is, we do not look
inside each component, to see how they are constructed.  This is how I
understand the word "formal" as in "formal parameter". So arity is
the number of formal parameters.  If 'A1' turns out to be a Cartesian
product of three domains, we do not view 'A1' as contributing 3 to the
arity of 'f'.  Perhaps you do not agree with this.  I'll discuss later
the consequence of not viewing the components as anything other than
atomic as far as arity goes.

More specifically, your definition above first wraps the multiple
inputs (the "many") as a product and then unwraps it to count the
dimension.  The number of inputs never changes in the process and is
the arity.

Notice you said this:  'a' and 'b' are "formal parameters" of the
function 'f(a,b)=a+b'.  The number of *formal parameters* is precisely
the arity of the function.  As long as 'a' and 'b' are supplied in the
form of parameters to a function, they are counted towards the arity
of the function.  You think the composition with the projection is
implied and view '(A,B)' as "a single object".  To me, '(A,B)'
definitely denotes two objects:  it is spelled out loud and clear.  I
am not disagreeing with your interpretation that '(A,B)' is identical
to the (mathematical) Cartesian product 'A x B' and by its notation,
'A x B', just like '(A,B)' indicates two objects are involved.  But
when you *encapsulate* the cartesian product by giving it the first
class status as a new domain, by denoting it as 'Product(A,B)' or
more appropriately, as I did, as 'D', that is when it becomes one
object.  This process of encapsulation is not trivial, and hides 'A',
'B' from the domain despite their appearances in 'Product(A,B)'.  This
is much more than the mathematical sentence "Let D be A x B."
Encapsulation is where one starts going into the realm of computer
science.  This is where the "subtle distinction" originates.  When we
write 'g:D->C', the arity of 'g' is one because 'D' now becomes
atomic.

Let's look at another example regarding atomicity of parameters.  If I
write a mapping in Axiom, 'f:Complex Integer->Float', would you
say 'f' has arity two just because a Gaussian integer *may be*
represented by two integers?  In Axiom and object oriented languages,
I would consider 'f' having only *one* input, not two.  I am not
supposed to look inside what the *data representation* of a 'Complex
Integer' is (indeed, I should *not* need to know; I may need to know
about the real and imaginary parts, but the data representation, or
inputs if you will, could be very different).  Of course, if you write
the domain of 'f' in terms of these parts, 'a' and 'b', of a Gaussian
integer 'a+b i', it would have arity two and the signature would then
be:  'f:Integer x Integer->Float'.  You do lose the identity of
the domain 'Complex Integer'.  For illustration, I could also have
represented 'a+b i' by 'x,y,z', where 'x' is 'gcd(a,b)', 'y = a/x',
and 'z = b/x', using three integers (by the way, this would also be a
possible data representation of the Cartesian product 'Integer x
Integer').  Would you then say 'f' now has three inputs and arity 3?

There are many mathematical objects that are data-represented using
products of sets, but the arity of a function is the number of
*formal* arguments, not what the data representation of the domain of
the function is.  Arity is an important notion even in mathematics
(recall the chain rule for several variables).  There is some slight
difference in usage though.  In computer languages, the number of
arguments are sometimes not fixed, known as *variable arity*, which in
fact, amounts to *one* list of arguments.  In Axiom, I would much
prefer to call a function with source 'List ANY' as having arity one.
Take a harder example, if I write a mapping 'p:POLY INT->NNI',
what is the arity of 'p'?  Are you going to say it is the number of
coefficients, which depends on the degree of the given polynomial and
hence has variable arity?

So getting back to my "subtle distinction":  in 'g:D->C', where 'D' is
'Product(A,B)', the arity of 'g' is one; in 'f:(A,B)->C', the arity
of 'f' is two.  It is the *formal* way the function is declared that
determines the arity, and the *mathematical* equivalences among 'D',
'(A,B)', and the mathematical object 'A x B' does not necessarily
preserve arity.  In mathematics, there is but one Cartesian product of
'A' and 'B'.  In computing, there are two, a raw version '(A,B)' and
an encapsulated version 'Product(A,B)'.  The formal use of the symbol
'D' in declaring 'f' signifies an encapsulation.


(aside) In fact, in many Axiom constructors, to get around this
encapsulation, extra parameters are necessary, for example, in
Groebner basis package, the calling convention is::

'GroebnerPackage(Dom,Expon,VarSet,Dpol)'

where 'Dom', 'Expon' and 'VarSet' are all duplicated because they are
encapsulated in 'Dpol', which is a domain of
'POLYCAT(Dom,Expon,VarSet)'.  Currently, there is no other way to
extract the parameter domains from domain constructors. But this is
another story. (My wish list includes each domain constructor freeing
the encapsulated parameter domains).

Arity may change when one makes substitutions (which is composition)!
So substituting '(A,B)' by 'D' or the other way around are both
compositions with an isomorphism (note).  The map 'g' is the
composition of 'h:D->(A,B)' with 'f:(A,B)->C'.  The signature of the
composite 'f o h' is not the same as the original map 'f' and the
arity of the composite need not be the same, and is not the same in
this case.  (Of course, 'h' is not allowed in Axiom, the source of all
these discussions!  but perfectly ok mathematically for many-to-many
functions.)

(note) Here the map is of course the identity map.  But it is not
instructive to think that way.  Rather, because we deliberately give
the Cartesian product a new identity, not as made up of two component
parts, but as a new object.  It may be helpful to think of 'D' as just
another Cartesian product of 'A' and 'B' and by universal property is
isomorphic to '(A,B)'.  In an object oriented language like Axiom, new
objects must not be thought of as just the sum of its parts, which
should be hidden, but available when needed.  Polynomials would be a
good example.  But 'D' with the representation '(x,y,z)' given above
is simpler and we can indeed have an isomorphism between 'h:D->(A,B)'
defined by 'h(d) = (d.x * d.y, d.x * d.z)'.

> I think Axiom's definition of
> Mapping is wrong to admit more than two arguments (mapping should
> be semantically equivalent to exponentiation in a cartesian closed
> category). It is confusing and unnecessarily complicated from a
> mathematical point of view to define Mapping(C,A,B) as different
> from Mapping(C,Product(A,B)). It makes a vacuous distinction where
> none is necessary.

On the contrary.  It is the idealistic mathematical view which
identifies the two that creates "vacuous" wraps and unwraps "where
none is necessary".  Indeed, I would have preferred mapping to be
many-to-many so that this wrapping and unwrapping are unnecessary both
on the source and target sides.  I have argued that it is convenient
not to have to wrap cartesian products with few components.  Your
correct but pedantic mathematical view of 'Mapping(Y,X)' as $Y^X$
would require wrapping on both source and targets for all mappings and
turn these multi-inputs and multi-outputs into cartesian products.  It
[81 more lines...]

\start
Date: Tue, 05 Jul 2005 15:07:39 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [Tuples Products And Records] 

'Product' can be looked up in hyperdoc. It is listed in Appendix C (p. 613 of Axiom (paper) Book; p. 1028 of eBook). 'Tuple' is more like 'DirectProduct' since the entries must come from the same domain. However, 'Product'  constructs only Cartesian product of two domains; 'DirectProduct' requires a dimension parameter; whereas 'Tuple' does not (arbitrary length). Also 'Tuple' is only a linear aggregate (or 'PRIMARR') and has no algebraic structure. Direct product exists in many categories. 

So, a tuple is not an element of 'Product' (it is a Cartesian product in a loose mathematical sense: 'Tuple S' is actually the infinite union of 'DirectProduct(n,S)' over all 'n'.

I think a domain such as 'Product' deserves (much) more documentation

\start
Date: Tue, 05 Jul 2005 15:39:14 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [MathAction problems] Breaking up scrolling, competitive edits

Is it possible (and easy) to break the MathAction screen into two
independent scroll areas during editing mode, one for editing and one
for preview? That way, one can keep track of editing
better. Currently, the preview screen scroll dominates; so the request
is to limit the preview screen scroll just like the edit area scroll,
in its own subwindow.

Also, right now, when a page is being edited, it is not locked, and
there is a chance (it happens often enough) that someone else may beat
one to the finish before a save. Is there an easy way to merge the two
edits so the slow guy would not lose the edits? (Otherwise, the only
way would be to save frequently, generating a lot of uninteresting
reports.)

How about an alert if two people are editing the same page at the same time?

\start
Date: Tue, 05 Jul 2005 16:14:20 -0500
From: MathAction (billpage)
To: MathAction
Subject: [Tuples Products And Records] functional-categorical programming versus object-oriented programming

William Sit wrote:

> Sorry these discussions get longer and longer.

On the contrary, that *is* one of the purposes of this web site.
I will expand on that point in the [Axiom Colloquium].

> Let's hope we can come to some understanding.

Yes, I think so. Afterall, mathematics is an *objective* science.
But sometimes this does required considerable effort and patience. :)

> Mapping(C,A x B) has no meaning in Axiom.

But I have already written the equivalent:
\begin{axiom}
f:Mapping(STRING, Product(INT,FLOAT))
\end{axiom}
and this has a clear meaning in Axiom. Using names like
\begin{axiom}
C:=STRING
D:=Product(INT,FLOAT)
f:D->C
\end{axiom}
makes no difference. My view is that
\begin{axiom}
f:Mapping(STRING,INT,FLOAT)
\end{axiom}
should have the same meaning as the previous expression.
The fact that is doesn't seems unnecessary and confusing.

About Cartesian closed categories:

> Always nice to learn new jargon.

But the concept of a [Cartesian Closed Category] is much
more important than mere jargon! It provides the categorical
basis for typed lambda calculus and thus essentially all of
the theory of computation, modern functional programming and
languages such as OCAML.

> Encapsulation is where one starts going into the realm of computer
> science. This is where the "subtle distinction" originates.

In the context of Axiom I strongly object to creating such
"subtle distinctions". Axiom is intended to be a system for
doing mathematics with a computer. I think the programming
language in which we express mathematical algorithms should
be a close as possible to the actual mathematics. This is one
of the things that distinquishes Axiom from other "engineering-
oriented" computer algebra systems like Maple and Mathematica.

> In mathematics, there is but one Cartesian product of A and B.
> In computing, there are two, a raw version (A,B) and an
> encapsulated version Product(A,B).

To me, when applied to Axiom this is wrong! wrong! wrong! :)
We do not need this kind of distinction.

> If I write a mapping in Axiom, 'f:Complex Integer->Float', would
> you say f has arity two just because a Gaussian integer may be
> represented by two integers?

No. I think the product '(A,B)' in the signature of a function
(mapping) such as 'f:(A,B)->C' plays a more fundamental role in
the semantics of the Axiom programming language than derived
domains such 'Complex Integer'. That is why the domain 'Record'
is considered a "primative". These are the basic types of things
that we need to define more complex things.

> It is the idealistic mathematical view which identifies the two
> that creates "vacuous" wraps and unwraps "where none is necessary".

No. There are no unnecessary "wraps and unwraps". This is just
normal paramater passing. The compiler only needs to do what
is usually necessary to pass, for example the tuple (a,b) i.e.
object of type Product(A,B), to the body of the function by
pushing the values of the projections onto the stack.

> It makes no sense to encapsulate objects from unrelated domains
> just because they happen to be the argument types of some function.

I disagree. This makes perfectly good sense in the context of the
cartesian closed category CAT of small categories. I think this
the foundation on which all of Axiom's algebra and it's programming
language should be based.

> why should the data-structures be the "canonical" cartesian product
> structure

Precisely because of the special role that products play in the
concept of a cartesian closed category.

\start
Date: Tue, 05 Jul 2005 21:33:27 -0500
From: MathAction (billpage)
To: MathAction
Subject: [MathAction problems] two independent scroll areas during editing mode

William Sit asked:

> Is it possible (and easy) to break the MathAction screen into two
> independent scroll areas during editing mode, one for editing and
> one for preview?

Great suggestion! Yes it is possible and it wasn't too difficult.
Please try the new edit/preview page format and let me know if
this works better for you.

About competing edits: Merging simultaneous edits is quite hard.
MathAction is based on ZWiki so it behaves as described here:

http://zwiki.org/GeneralDiscussion200311

"Zwiki prevents data loss due to simultaneous edits, throwing
up a warning when the second person tries to save. It doesn't
warn you earlier - can't, really. Normally when someone else is
active on a page you'll see a very recent last edited timestamp,
and you'll be forewarned. What it could do, and doesn't, is assist
the second editor in merging their edits, instead of just telling
them to go back and start again. I believe this situation happens
rarely on most sites, though."

Improvements to this behaviour is still on the "wish list":

http://zwiki.org/661GiveMoreWarningOfSimultaneousEdits

\start
Date: Tue, 05 Jul 2005 21:41:15 -0500
From: MathAction (billpage)
To: MathAction
Subject: [MathAction problems] controlling edit window height

In "preferences":UserOptions you can change the height
of the edit window from the default of 20 lines of text
to something smaller or larger. Click 'Save' and then
the size of the edit window will change the next time
you click "edit":editform.

\start
Date: Tue, 05 Jul 2005 22:00:00 -0500
From: MathAction (William Sit)
To: MathAction
Subject: [MathAction problems] [MathAction problems] two independent scrollareas during editing mode

billpage wrote:
> Please try the new edit/preview page format and let me know if
> this works better for you.
 
Excellent, thanks for the speed job. It works quite well and I can synchronize
(manually) the editing and preview. 

The preview area on my screen is about half the height of the editing area. Can
that be made more even?

\start
Date: Tue, 05 Jul 2005 22:05:00 -0500
From: MathAction (William Sit)
To: MathAction
Subject: [MathAction problems] [MathAction problems] controlling edit windowheight

billpage wrote:
> In the "preferences":UserOptions menu you can change the height
> of the edit window from the default of 20 lines of text to
> something smaller or larger. Click 'Save' and then the size
> of the edit window will change the next time you click 'edit'.

You must be reading my mind.
Now, will you be providing similar control for the preview window?

\start
Date: Wed, 06 Jul 2005 00:09:50 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [Tuples Products And Records] 

++added:

<hr>
From: wyscc Wed Jul 6 00:49:00 -5:00 2005

billpage wrote:

> makes no difference. My view is that
> (code snipped)
> should have the same meaning as the previous expression.

Of course you are correct here, but you are still missing my point. I
was using 'D' for 'Product(A,B)' to emphasize that in 'Product(A,B)',
'A' and 'B' are no longer by default available because they have been
encapsulated (encapsulation need neither necessarily hide nor not hide
information). But the distinction is that 'Product(A,B)' is not the
same as '(A,B)' computationally, as it is currently in Axiom, and no
amount of mathematical identifying each to 'A x B' is going to erase
the distinction. This is computation, not mathematics! In symbolic
computation, many concepts in mathematics split into computational
branches because of different applications of the same mathematical
domain. Sparse matrices versus dense matrices is an example.

> But the concept of a [Cartesian Closed Category] is much
> more important than mere jargon! 

I was half-joking. I went and read the articles (about currying, for
example) until I had to stop! But a first step is always getting
familiar with the jargon. There are relatively few ideas but lots of
jargon for the same thing. So currying is nothing but specialization,
something mathematicians have used to turn say group multiplication
into the group acting on itself. At the end of the day, one still has
to write the binary multiplication routine to compute.

> In the context of Axiom I strongly object to creating such
> "subtle distinctions". Axiom is intended to be a system for
> doing mathematics with a computer. 

The distinction is really not "subtle" but a key one for object
oriented programming (of course I didn't realize this earlier since I
was, and still am, just exploring along with you). Unfortunately, this
seems unavoidable in computing. In order to be able to speak of a
polynomial, say, as an abstract mathematical object (so we can
differentiate, integrate, etc) in as general a fashion as possible
(meaning allowing different data representation, for one, but ignoring
these at the same time), we have to omit mentioning the details until
we need them for computation. So we can say 'differentiate(p)' when
'p' is a polynomial, no matter what domain in POLYCAT p comes from. I
think that is what distinguishes Axiom from M&M.

We are (and certainly Axiom is) very far away from your ideal of
"doing mathematics" using a computer.  We can't really do "symbolic
computation" the way a human mind can. Consider how a computer can
interpret what mathematicians call ... (ellipsis) and compute with
it. If you know any language that can handle that (and I don't mean
just sums or products but something iterated in general, like iterated
integrals with ellipsis between two integral signs), I would be very
interested.

> > In mathematics, there is but one Cartesian product of A and B.
> > In computing, there are two, a raw version (A,B) and an
> > encapsulated version Product(A,B).
> 
> To me, when applied to Axiom this is wrong! wrong! wrong! :)
> We do not need this kind of distinction.

May be not for simple constructs like the Cartesian product (even
though there is still a role for encapsulation).  How about there is
just one polynomial ring in several variables over say the integers,
but Axiom has DMP, HDMP, GDMP, SMP, and POLY? What would be the single
implementation of the polynomial ring be?

> > If I write a mapping in Axiom, 'f:Complex Integer->Float', would
> > you say f has arity two just because a Gaussian integer may be
> > represented by two integers?
> 
> No. I think the product '(A,B)' in the signature of a function
> (mapping) such as 'f:(A,B)->C' plays a more fundamental role in
> the semantics of the Axiom programming language than derived
> domains such 'Complex Integer'. That is why the domain 'Record'
> is considered a "primative". These are the basic types of things
> that we need to define more complex things.

No quarrel with that, but where do you draw the line? When does a
domain become "derived enough" to count as one object one parameter?
You did not answer my question on arity. I already commented on the
role of 'Record'.
 
> > It is the idealistic mathematical view which identifies the two
> > that creates "vacuous" wraps and unwraps "where none is necessary".
> 
> No. There are no unnecessary "wraps and unwraps". This is just
> normal paramater passing. The compiler only needs to do what
> is usually necessary to pass, for example the tuple (a,b) i.e.
> object of type Product(A,B), to the body of the function by
> pushing the values of the projections onto the stack.

I can't agree that you can equate a tuple '(a,b)' with an object of
type 'Product(A,B)' because such equating does not generalize. In your
mindset, 'Product(A,B)' *is* '(A,B)'. Just because a tuple '(a,b)' is
*one* way, even the canonical way, to represent objects of
'Product(A,B)' does not give it the right to be the only way. There
are other ways and other uses of 'Product(A,B)'. The design of the
domain 'Product(A,B)' need not be dominated by the two projection
maps. There are also more complicated tuples if every domain is
unwrapped to the basics like integers.  If you identify 'Product(A,B)'
with '(A,B)', so there is no wrap and unwrap, then why not just use
'(A,B)'? Is it just because you rather *rename* '(A,B)' as
'Product(A,B)' in function declarations? (That would be syntactic
sugar if the current 'Product' is removed or renamed)

> > It makes no sense to encapsulate objects from unrelated domains
> > just because they happen to be the argument types of some function.
> 
> I disagree. This makes perfectly good sense in the context of the
> cartesian closed category CAT of small categories. I think this
> the foundation on which all of Axiom's algebra and it's programming
> language should be based.

Care to elaborate? I fail to follow your logic. You on the one hand
want 'Product(A,B)' not to encapsulate 'A' and 'B' (by identifying it
as '(A,B)') and on the other hand want to encapsulate all parameters?
Even though encapsulation wraps data into a structure, its use goes
far beyond just that. One main programming design is careful planning
for information hiding that encapsulation facilitates (but not
necessarily always). Needlessly encapsulating the set of parameters of
every function only creates needless coercions.

Consider the two ways of coding

<pre>
g:(INT,INT)->INT
g(a,b)==a+b
g(1,2)
f:Product(INT,INT)->INT
f(z)==(selectfirst z)+selectsecond(z)
f(makeprod(1,2))
</pre>

 Which is more convenient?

 
> > why should the data-structures be the "canonical" cartesian product
> > structure
> 
> Precisely because of the special role that products play in the
> concept of a cartesian closed category.

So, use tuples.
Is CCC the only kind of categories in symbolic computation?

\start
Date: Wed, 06 Jul 2005 16:16:49 -0500
From: MathAction (billpage)
To: MathAction
Subject: [MathAction problems] controlling preview window height

In the 'preferences' menu look for the line::

  Editform width: 60 height: 20 Preview height: 20

You can now change the height of both the edit window and the
preview window from the default of 20 lines of text to something
smaller or larger. Click 'Save' and then the size of the windows
will change the next time you click 'Edit' and 'Preview'.

\start
Date: Wed, 6 Jul 2005 18:23:23 -0500
From: arch@axiom-developer.org
To: Kai Kaminski
Subject: axiom--GUI--1

Kai and *,

A new project has been set up in arch called axiom--GUI--1
To check it out type:
  
  tla get axiom--GUI--1

The project is writeable by everyone who has sent me ssh keys.

\start
Date: Wed, 06 Jul 2005 19:17:17 -0500
From: MathAction (billpage)
To: MathAction
Subject: [MathAction problems] edit and preview window synchronization

William Sit wrote:

> I can synchronize (manually) the editing and preview.

Try clicking the box labelled 'Sync [ ]' below the edit scrollbar.
When this box is checked 'Sync [x]' the edit and preview windows are
synchronized. On Internet Explorer the sychoronization is immediate.
On FireFox (due to a bug in current version of FireFox) the sychnronization
occurs only when you click the mouse in the text window.

Please let me know how this works for you. If there is a problem,
please tell me what browser you are using.

\start
Date: Wed, 06 Jul 2005 20:39:23 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [MathAction problems] 

Try clicking the box labelled 'Sync()' below the edit scrollbar.
When this box is checked 'Sync(x)' the edit and preview windows are

On !FireFox (due to a bug in current version of !FireFox) the sychnronization

\start
Date: Wed, 06 Jul 2005 22:25:37 -0500
From: MathAction (William Sit)
To: MathAction
Subject: [MathAction problems] [MathAction problems] edit and preview windowsynchronization

billpage wrote:
> 
> Try clicking the box labelled 'Sync [ ]' below the edit scrollbar.
> When this box is checked 'Sync [x]' the edit and preview windows are
> synchronized. 

Wow, this is working great! It will save a ton of time editing. 
Thanks.

In Internet Explorer and Firefox, if the Sync[] is checked when the windows are
out of sync, they will sync with this offset after the Sync[x]. (Not
complaining, just an observation).

In the preference, would it be possible to use percent of vertical space instead
of number of lines? That way, if the size of the browser window is changed,
(maybe) the two windows will resize proportionally?

\start
Date: Thu, 07 Jul 2005 00:32:01 -0500
From: MathAction (billpage)
To: MathAction
Subject: [MathAction problems] preview of comments

Here's the last thing on my !MathAction wishlist for now ...

It is now possible to preview your comments before adding them
to a page! Comment preview works the same way as when editing a
whole page, but only the new text is displayed in the preview
window. You must click 'Save' to actually add the comment to
the page.

Previewing is especially important for the !MathAction wiki because
typing correct $\text{\LaTeX}$ and Axiom commands is often more
difficult that when just writing plain text.

\start
Date: Thu, 07 Jul 2005 05:28:35 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [Sandbox Curry] (new) 

Using the compiler we can write:
\begin{axiom}
)abbrev package MAPPK3C MappingPackage3c
++ Description: Higher-order Currying operations.
MappingPackage3c(A:SetCategory, B:SetCategory, C:SetCategory):_
  MPcat == MPdef where

    MPcat ==  with
        curryR:   ((A,B)->C) -> (B->(A ->C))
        curryL:   ((A,B)->C) -> (A->(B ->C))

    MPdef == add
        MappingPackage3(A, B, C)

        fabc: (A,B)->C

        curryR(fabc) == curryRight(fabc,#1)
        curryL(fabc) == curryLeft(fabc,#1)

\end{axiom}

\begin{axiom}
plus:(INT,INT)->INT
plus(x,y) == x+y
plusX:=curryL(plus)
\end{axiom}

\start
Date: Thu, 07 Jul 2005 06:06:00 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [Sandbox Curry] 

curried_plus:INT->(INT->INT)
curried_plus(x) == curryLeft(plus,x)
plus_one:= curried_plus(1)
plus_one(2) = plus(1,2)
plus_one(7)

\start
Date: Thu, 07 Jul 2005 06:00:24 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [Sandbox Curry] 

Using the compiler we should be able to write:

MappingPackage3c(A:SetCategory, B:SetCategory, C:SetCategory):

    NNI   ==>  NonNegativeInteger

        rightCurry:   ((A,B)->C) -> (B->(A ->C))
        leftCurry:   ((A,B)->C) -> (A->(B ->C))

        Fabc: (A,B)->C

        rightCurry(Fabc) == curryRight(Fabc,#1)
        leftCurry(Fabc) == curryLeft(Fabc,#1)

I do not understand this error message.

If this had worked we could have used it this way:

plusX:INT->(INT->INT)
plusX(x) == curryLeft(plus,x)
plusX(1)(2) = plus(1,2)

\start
Date: Thu, 07 Jul 2005 07:04:20 -0500
From: MathAction (anonimo)
To: MathAction
Subject: [#190 Compile fail on Fedora Core 4] (nuovo) 

Compile fail on Fedora Core 4. The error seems to be the randomized sbrk. 
How can I avoid it?

Thanks
Domenico

checking endianness... little
checking for sbrk... yes
checking for randomized sbrk... yes
checking for randomized brk remedy... no
Cannot build with randomized sbrk
make[3]: Entering directory `/home/dmo/axiom/lsp/gcl-2.6.6'
rm -f bin/gcl xbin/gcl
MGCLDIR=`echo /home/dmo/axiom/lsp/gcl-2.6.6 | sed -e 'sX^\([a-z]\):X/\1Xg'` ; \
GCLDIR=`echo /home/dmo/axiom/lsp/gcl-2.6.6` ; \
make install-command "INSTALL_LIB_DIR=$GCLDIR" "prefix=$GCLDIR" "BINDIR=$MGCLDIR/unixport"
make[4]: Entering directory `/home/dmo/axiom/lsp/gcl-2.6.6'
rm -f /home/dmo/axiom/lsp/gcl-2.6.6/bin/gcl
(echo '#!/bin/sh' ; \
echo exec /home/dmo/axiom/lsp/gcl-2.6.6/unixport/ \\ ; \
echo '   -dir' /home/dmo/axiom/lsp/gcl-2.6.6/unixport/ \\ ; \
echo '   -libdir' /home/dmo/axiom/lsp/gcl-2.6.6/ \\ ; \
echo '   -eval '\''(setq si::*allow-gzipped-file* t)'\' \\ ;\
! [ -d "" ] || echo '   -eval '\''(setq si::*tk-library* '\"\"')'\' \\;\
echo '     '\"\$@\" ) > /home/dmo/axiom/lsp/gcl-2.6.6/bin/gcl;
echo '#' other options: -load "/tmp/foo.o" -load "jo.lsp" -eval '"(joe 3)"' >> /home/dmo/axiom/lsp/gcl-2.6.6/bin/gcl
chmod a+x /home/dmo/axiom/lsp/gcl-2.6.6/bin/gcl
rm -f /home/dmo/axiom/lsp/gcl-2.6.6/bin/gclm.bat
if gcc --version | grep mingw >/dev/null 2>&1 ; then (echo '@SET cd='; \
 echo '@SET promp%prompt%'; \
 echo '@PROMPT SET cd'; \
 echo '@CALL>%temp%.\setdir.bat'; \
 echo '@'; \
 echo '% do not delete this line %'; \
 echo '@ECHO off'; \
 echo 'PROMPT %promp'; \
 echo 'FOR %%c IN (CALL DEL) DO %%c %temp%.\setdir.bat'; \
 echo 'set cwd=%cd%'; \
 echo 'set libdir=%cd%\..\lib\gcl-`cat majvers`.`cat minvers`'; \
 echo 'set unixportdir=%libdir%\unixport'; \
 echo 'path %cd%\..\mingw\bin;%PATH%'; \
 echo "start %unixportdir%\.exe -dir %unixportdir% -libdir %libdir% -eval \"(setq si::*allow-gzipped-file* t)\" %1 %2 %3 %4 %5 %6 %7 %8 %9" ) > /home/dmo/axiom/lsp/gcl-2.6.6/bin/gclm.bat ; fi
rm -f /home/dmo/axiom/lsp/gcl-2.6.6/bin/gclfinal.bat
if gcc --version | grep -i mingw >/dev/null 2>&1 ; then (echo 'ECHO path %1\mingw\bin;%PATH% > gcli.bat'; \
 echo "ECHO start %1\lib\gcl-`cat majvers`.`cat minvers`\unixport\.exe -dir %1\lib\gcl-`cat majvers`.`cat minvers`\unixport -libdir %1\lib\gcl-`cat majvers`.`cat minvers` -eval \"(setq si::*allow-gzipped-file* t)\" %1 %2 %3 %4 %5 %6 %7 %8 %9 >> gcli.bat" ) > /home/dmo/axiom/lsp/gcl-2.6.6/bin/gclfinal.bat ; fi
make[4]: Leaving directory `/home/dmo/axiom/lsp/gcl-2.6.6'
(cd xbin ; cp ../bin/gcl .)
cd cmpnew && make gcl_collectfn.o
make[4]: Entering directory `/home/dmo/axiom/lsp/gcl-2.6.6/cmpnew'
../unixport/saved_pre_gcl ../unixport/ -compile gcl_collectfn.lsp
make[4]: ../unixport/saved_pre_gcl: Command not found
make[4]: *** [gcl_collectfn.o] Error 127
make[4]: Leaving directory `/home/dmo/axiom/lsp/gcl-2.6.6/cmpnew'
make[3]: *** [cmpnew/gcl_collectfn.o] Error 2
make[3]: Leaving directory `/home/dmo/axiom/lsp/gcl-2.6.6'
/bin/sh: unixport/saved_gcl: No such file or directory
make[2]: *** [gcldir] Error 127
make[2]: Leaving directory `/home/dmo/axiom/lsp'
make[1]: *** [lspdir] Error 2
make[1]: Leaving directory `/home/dmo/axiom'
make: *** [all] Error 2
[dmo@localhost axiom]$

\start
Date: Thu, 07 Jul 2005 06:53:43 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [Tuples Products And Records] 

William Sit wrote:

> 'Product(A,B)' is not the same as '(A,B)' computationally, as it is
> currently in Axiom.

Yes, I agree that is true in Axiom as it is now. But I am thinking about
how Axiom should be not how it is. The mathematical concept of product
is straight-forward and there is no reason why '(A,B)' where 'A' and
'B' are domains should not denote this product.

The derived domain Product, as it is defined now in Axiom is rather
more complicated than what one needs for defining a Mapping for
a function with more than one input. The domain Tuple on the other
hand is too restricted. Axiom's built-in primitive domain Record
is just about right.

> So currying is nothing but specialization ...

No, specialization is not equivalent to currying. The result of
currying is a higher-order function. Specialization is applying
that function to a specific argument. See for example:

http://en.wikipedia.org/wiki/Currying

Unfortunating the funtions called curryLeft and curryRight are
actually specializations:
\begin{axiom}
)di op curryLeft
)di op curryRight
\end{axiom}

What we need is a function
\begin{axiom}
leftCurry:((INT,INT)->INT)->(INT->(INT->INT))
leftCurry(f)== x+->(y+->f(x,y))
\end{axiom}

But the Axiom interpreter is not able compile this function.

See [Sandbox Curry] for more attempts to define this in Axiom.

> using a computer. We can't really do "symbolic computation"
> the way a human mind can.

I do not know anything of an algorithmic nature that a human mind
does which cannot in principle be done on computer. As I understand
it dealing with " ... (ellipsis)" is one of the purposes of the
construct called Streams in Axiom.

> You did not answer my question on arity.

Do you mean the question of the arity of, for example the following
function::

  f:Product(A,Product(B,C))->D

My answer (assuming that you accept the notion of Product as a
primitive domain) would be that this function has "arity" of 3
since in a Cartesian closed category (CCC) we have

  Product(A,Product(B,C)) = Product(Product(A,B),C) = Product(A,B,C)

Axiom actually takes the domain Record as primitive rather than
Product. The equivalence of constructs such as::

  Record(a:A,b:Record(a:B,b:C)) = Record(a:Record(a:A,b:B),b:C) =
  Record(a:A,b:B,c:C)

is a little less obvious but natural coercions (isomorphisms) could
be provided which make the question of arity clear in this case as
well.

> The design of the domain Product(A,B) need not be dominated by the
> two projection maps.

That is not true. The very nature of what we mean by product is
defined in terms of these projection maps. The product is what is
known as a type of limit in category theory. It is defined by a
universal property which makes the product and it's projection
maps unique amoung all other such objects and maps. See for
example:

http://en.wikipedia.org/wiki/Limit_(category_theory)

> Consider the two ways of coding ... f, g

Using the Record constructor in Axiom this function can be
written as:
\begin{axiom}
h:Record(a:INT,b:INT)->INT
h(parameter) == parameter.a + parameter.b
h[1,2]
\end{axiom}

which is almost as convenient as your definition of 'g'. Syntactically,
the name 'parameter' could be eliminated for brevity. There is no
reason that the compiler should produce less efficient code for this
notation.

> Is CCC the only kind of categories in symbolic computation?

That is a long story that I plan to continue here
[Cartesian Closed Category]. But very briefly one answer to
your question could be: CCC is the smallest and simplist kind
of category in which we should expect to be able to do all the
symbolic computation that is possible on a computer. The reason
why we can say this with some certainty has to do with the
relation between CCC and the simple-typed lambda calculus.

Lambda calculus is the smallest and simplist programming language
which can be shown to be computation universal, i.e. in which we
can prove that it is possible to express all computable functions,
the partial recursive functions or equivalently to simulate a
Turing machine.

(Cf. previous reference to CCC for all this "jargon" :)

\start
Date: Thu, 07 Jul 2005 09:22:25 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [Tuples Products And Records] links updated after rename

What we need is are the functions:

)set functions compile on

rightCurry:((INT,INT)->INT)->(INT->(INT->INT))
rightCurry(f)== y+->(x+->f(x,y))

The option ')set functions compile on' is required for the Axiom
interpreter to able to successfully compile this function. See #156

\begin{axiom}
plus:(INT,INT)->INT
plus(x,y) == x+y
curryPlus:=leftCurry(plus)
curryPlus1:=curryPlus(1)
curryPlus1(2)
\end{axiom}

See [SandBox Curry] for an attempt to define left and right Curry
as an Axiom library functions.

\start
Date: Thu, 07 Jul 2005 17:18:55 +0200
From: Joerg van Den Hoff
To: list
Subject: build of 'axiom' under MacOS

dear all,

I want to install axiom under MacOS.

of course the configure failed: uname -s returns "Darwin" under MacOS.

being a descendant of FreeBSD, it is hopefully not to difficult to 
include MacOS in the list of supported platforms?

any response appreciated.

thanks

joerg

\start
Date: Thu, 07 Jul 2005 17:52:18 +0200
From: Kai Kaminski
To: list
Subject: HyperDoc as static HTML

Hi everyone,

I converted the old HyperDoc pages to HTML and put them up at 
http://kaikaminski.gmxhome.de/hyper/rootpage.html. I use jsMath, a 
Javascript library, to format mathematical expressions, hence Javascript 
must be enabled. The dynamic HyperDoc features, i.e. everything that 
requires interaction with either Axiom or the OS, doesn't work, of 
course. On the other hand all the pictures should be there, most of the 
math should look reasonable and the links should all work.

Kai

PS: Don't fix any errors in those files by hand. They are generated 
automatically.

\start
Date: Thu, 07 Jul 2005 12:29:36 -0400
From: William Sit
To: Kai Kaminski
Subject: Re: HyperDoc as static HTML

Kai Kaminski wrote:
> 
> Hi everyone,
> 
> I converted the old HyperDoc pages to HTML and put them up at
> http://kaikaminski.gmxhome.de/hyper/rootpage.html. I use jsMath, a
> Javascript library, to format mathematical expressions, hence Javascript
> must be enabled. The dynamic HyperDoc features, i.e. everything that
> requires interaction with either Axiom or the OS, doesn't work, of
> course. On the other hand all the pictures should be there, most of the
> math should look reasonable and the links should all work.

Bravo! 

The Browse and Basic Command screens are not hyperlink enabled for some items.
Is Search considered "non-static"? The rest (not all) I have tried all work
nice. The Examples and graphics worked as are documentations that are clickable.

Thanks for this contribution! A good start.


\start
Date: Thu, 7 Jul 2005 12:47:41 -0400 
From: Bill Page
To: Kai Kaminski
Subject: RE: HyperDoc as static HTML

Kai,

This is looking great!

Here are some initial questions and suggestions.

On Thursday, July 07, 2005 11:52 AM you wrote:

> I converted the old HyperDoc pages to HTML and put them up at 
> http://kaikaminski.gmxhome.de/hyper/rootpage.html. I use jsMath,
> a Javascript library, to format mathematical expressions, hence
> Javascript must be enabled.

Could you suggest some links to pages that contain jsMath? I quickly
browsed a bunch of pages and the only math I saw was in "ASCII"
format. Perhaps you have not loaded the jsMath directory on your
server? I see a reference to:

   <script src="jsMath/jsMath.js" 

But I can't seem to find jsMath/jsMath.js on you server.

On the page:

http://kaikaminski.gmxhome.de/hyper/ugIntroCalcDerivPage.html

I see some "PATCH NOT FOUND!" messages in RED such as:

> ...
> We use a factorization-free algorithm.
>
> PATCH NOT FOUND!

What is it supposed to be? 

> The dynamic HyperDoc features, i.e. everything that requires
> interaction with either Axiom or the OS, doesn't work, of 
> course.

I presume these are things like the \lispdownlink{...} ? For
example

   \lispdownlink{Matrix}{(|bcMatrix|)} Create a matrix

You might try running this command manually or via a pipe in
Axiom like this:

  echo ')lisp (|bcMatrix|)' | AXIOMsys

and capture any usable output.


> On the other hand all the pictures should be there, most of the 
> math should look reasonable and the links should all work.

Thanks for sharing this. I think this is a really good effort.

> PS: Don't fix any errors in those files by hand. They are
> generated automatically.

How/when (or if?) would you like errors to be reported to you?

\start
Date: Thu, 07 Jul 2005 12:23:26 -0500
From: MathAction (William Sit)
To: MathAction
Subject: [Tuples Products And Records] [Tuples Products	And Records] Arity and names

Bill Page wrote:
> William Sit wrote:
> 
> > 'Product(A,B)' is not the same as '(A,B)' computationally, as it is
> > currently in Axiom.
> 
> Yes, I agree that is true in Axiom as it is now. But I am thinking about
> how Axiom should be not how it is. 

If we are really only talking about what Axiom *should* have used as
*notation* for multiple inputs, then I think 'A x B' would be the
best. It would be trivial to implement this syntactic sugar.

> The mathematical concept of product
> is straight-forward and there is no reason why '(A,B)' where 'A' and
> 'B' are domains should not denote this product.

Exactly, so why are you still insisting on calling it 'Product(A,B)'?

> The derived domain Product, as it is defined now in Axiom is rather
> more complicated than what one needs for defining a Mapping for
> a function with more than one input. The domain Tuple on the other
> hand is too restricted. Axiom's built-in primitive domain Record
> is just about right.

What difference does it make to use '(A,B)' vs 'Record' other than
wrapping?  'Product(A,B)' is more complicated precisely because it is
to be used for other (higher level) applications, where as '(A,B)'
need be only the vanilla Cartesian product.
 

> > You did not answer my question on arity.
> 
> Do you mean the question of the arity of, for example the following
> function::
> 
>   f:Product(A,Product(B,C))->D
> 
> My answer (assuming that you accept the notion of Product as a
> primitive domain) would be that this function has "arity" of 3
> since in a Cartesian closed category (CCC) we have
> 
>   Product(A,Product(B,C)) = Product(Product(A,B),C) = Product(A,B,C)
> 
> Axiom actually takes the domain Record as primitive rather than
> Product. The equivalence of constructs such as::
> 
>   Record(a:A,b:Record(a:B,b:C)) = Record(a:Record(a:A,b:B),b:C) =
>   Record(a:A,b:B,c:C)
> 
> is a little less obvious but natural coercions (isomorphisms) could
> be provided which make the question of arity clear in this case as
> well.

Would you say that 

f:DirectProduct(5, INT)->INT

has arity 5 then? And to do so recursively? Give me a break. What is wrong with 

f:(A,B,C)->D

having arity 3 *without* recursing into 'A', 'B', 'C'? I have no objection with
that. I don't see your reason for insisting on writing '(A,B,C)' as
'Product(A,B,C)' and STILL interpreting it the same way as '(A,B,C)'. I guess
you just don't like the notation '(A,B,C)' for Cartesian product. You have every
right to prefer your notation, but I like to hear other people's opinion.
 
> > The design of the domain Product(A,B) need not be dominated by the
> > two projection maps.
> 
> That is not true. The very nature of what we mean by product is
> defined in terms of these projection maps. The product is what is
> known as a type of limit in category theory. It is defined by a
> universal property which makes the product and it's projection
> maps unique amoung all other such objects and maps. See for
> example:
> 
> http://en.wikipedia.org/wiki/Limit_(category_theory)

Bill, I fully know how a product is defined categorically (I took such
a course with Eilenberg and kept a copy of Mitchell's text at arm's
length). What I am saying is, for the purpose of computing, it is
reasonable, and perhaps even desirable under suitable environments,
NOT to implement an *external* interfaces for the projection maps in a
Cartesian product -- which is why it is encapsulated (to faciliate the
information hiding, for example 'A' may be your Social Security Number
and 'B' your bank account password) into something else we called
'Product(A,B)'. The projections maps can be available internal to the
package. (Of course, currently, 'Product(A,B)' does export projection
maps, but my point is: once packaged, 'Product(A,B)' is not the same
as '(A,B)' computationally because it may serve other purposes, and
whether it remains vanilla Cartesian product or or not is not the
issue). If you do not like the name 'Product' to be used or associated
with this new package, fine. But we are not arguing about just naming
conventions, I hope (that would be endless discussion because there
are many names we don't like).

> > Consider the two ways of coding ... f, g
> 
> Using the Record constructor in Axiom this function can be
> written as:
> \begin{axiom}
> h:Record(a:INT,b:INT)->INT
> h(parameter) == parameter.a + parameter.b
> h[1,2]
> \end{axiom}
> 
> which is almost as convenient as your definition of 'g'. Syntactically,
> the name 'parameter' could be eliminated for brevity. There is no
> reason that the compiler should produce less efficient code for this
> notation.

But the arity of h is one, not two, despite your use of h[1,2], which is really
parsed as h([1,2]) in Axiom.

\start
Date: Thu, 07 Jul 2005 19:32:41 +0200
From: Kai Kaminski
To: Bill Page
Subject: Re: HyperDoc as static HTML

Page, Bill wrote:

>Kai,
>
>This is looking great!
>
>Here are some initial questions and suggestions.
>
>On Thursday, July 07, 2005 11:52 AM you wrote:
>
>  
>
>>I converted the old HyperDoc pages to HTML and put them up at 
>>http://kaikaminski.gmxhome.de/hyper/rootpage.html. I use jsMath,
>>a Javascript library, to format mathematical expressions, hence
>>Javascript must be enabled.
>>    
>>
>
>Could you suggest some links to pages that contain jsMath? I quickly
>browsed a bunch of pages and the only math I saw was in "ASCII"
>format. Perhaps you have not loaded the jsMath directory on your
>server? I see a reference to:
>
>  
>
You are right, of course. I forgot to copy those files. If you want to 
see some math go to 
http://kaikaminski.gmxhome.de/hyper/IntegerNumberTheoryFunctionsXmpPage.html.

>On the page:
>
>http://kaikaminski.gmxhome.de/hyper/ugIntroCalcDerivPage.html
>
>I see some "PATCH NOT FOUND!" messages in RED such as:
>
>  
>
>>...
>>We use a factorization-free algorithm.
>>
>>PATCH NOT FOUND!
>>    
>>
>
>What is it supposed to be? 
>  
>
Sometimes HyperDoc pages contain references to external 'patches'. In 
the original HyperDoc you might see an Axiom command and a button next 
to it. If you click the button, the corresponding 'patch' is loaded and 
replaces that portion of the page. Typically the patch would contain the 
Axiom command and the result, but the mechanism is more general, it also 
applies for plots for example. I assume that this mechanism was mostly 
useful for saving screen real estate in the HyperDoc browser. Nowadays 
that's not so much of a problem so I just include the patches in the 
HTML pages directly. If my code can't find a patch it insert a PATCH NOT 
FOUND message. I'll see if I can fix that.

>>The dynamic HyperDoc features, i.e. everything that requires
>>interaction with either Axiom or the OS, doesn't work, of 
>>course.
>>    
>>
>
>I presume these are things like the \lispdownlink{...} ? For
>example
>  
>
Yes. I would have to call Axiom I guess, and a static HTML page can't do 
that. Besides Axiom isn't running on that server anyway.

>   \lispdownlink{Matrix}{(|bcMatrix|)} Create a matrix
>
>You might try running this command manually or via a pipe in
>Axiom like this:
>
>  echo ')lisp (|bcMatrix|)' | AXIOMsys
>
>and capture any usable output.
>  
>
I could do that, but:
1) I've only been able to run Axiom since late yesterday.
2) This version of the HyperDoc is just meant to make it easy for 
everyone to read the pages, even if the old browser doesn't work. I'm 
not so much concerned with replicating every bit of functionality right 
now.

>>PS: Don't fix any errors in those files by hand. They are
>>generated automatically.
>>    
>>
>
>How/when (or if?) would you like errors to be reported to you?
>  
>
If you find a problem with one of the pages, just tell me the 
URL/filename and give a rough description what's wrong with it, e.g. 
"ugIntroGraphicsPage.html contains visible LaTeX-commands".

Kai

PS: The 'About Axiom' page is there and contains the copyright notices, 
I guess. Any other license/copyright information that should be included 
in HTML comments or something?

\start
Date: Thu, 07 Jul 2005 19:36:01 +0200
From: Kai Kaminski
To: William Sit
Subject: Re: HyperDoc as static HTML

William Sit wrote:

>Kai Kaminski wrote:
>  
>
>>Hi everyone,
>>
>>I converted the old HyperDoc pages to HTML and put them up at
>>http://kaikaminski.gmxhome.de/hyper/rootpage.html. I use jsMath, a
>>Javascript library, to format mathematical expressions, hence Javascript
>>must be enabled. The dynamic HyperDoc features, i.e. everything that
>>requires interaction with either Axiom or the OS, doesn't work, of
>>course. On the other hand all the pictures should be there, most of the
>>math should look reasonable and the links should all work.
>>    
>>
>
>Bravo! 
>
>The Browse and Basic Command screens are not hyperlink enabled for some items.
>Is Search considered "non-static"? The rest (not all) I have tried all work
>nice. The Examples and graphics worked as are documentations that are clickable.
>  
>
'Browse' and 'Basic commands' require interaction with Axiom, search 
requires interaction with the OS, so they don't work. They will work in 
the new browser, but this is just meant for reading.

\start
Date: Thu, 7 Jul 2005 15:28:54 -0400 
From: Bill Page
To: Kai Kaminski
Subject: RE: HyperDoc as static HTML

On Thursday, July 07, 2005 1:33 PM Kai Kaminski wrote:

> ...
> If you want to see some math go to 

http://kaikaminski.gmxhome.de/hyper/IntegerNumberTheoryFunctionsXmpPage.html
.

I like it!

> ...
> If you find a problem with one of the pages, just tell me the 
> URL/filename and give a rough description what's wrong with it,
> e.g. "ugIntroGraphicsPage.html contains visible LaTeX-commands".

Here is another page that seems to contain some partially converted
LaTeX \tt commands:

http://kaikaminski.gmxhome.de/hyper/ugSysCmdabbreviationPage.html

  <li> <tt>)abbreviation query  {tt [{</tt><i>nameOrAbbrev</i>{tt ]{}}

After we have had a change to proof-read and clean-up some of these
"loose-ends", I would really like to include these pages on the Axiom
MathAction web site. In addition to the built-in navigation, this will
also allow searching by the contents of the pages. I also want to
include these pages with the next release of the Windows version of
Axiom.

> PS: The 'About Axiom' page is there and contains the copyright notices, 
> I guess. Any other license/copyright information that should be included 
> in HTML comments or something?

I think this is clearly a 'derived work' according to our agreement
with NAG for the release of Axiom. So unless we hear otherwise directly
from NAG, I think we should include the Copyright notice that you find
in all of the .pamphlet files as comments embedded in at least the root
page of this web site. And we should also include a smaller comment in all
the other pages that references to the existence of the Copyright notice
on the root page.

\start
Date: Thu, 07 Jul 2005 14:06:11 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [Tuples Products And Records] I think we agree

William Sit wrote:

> Bill Page wrote:
>
> > there is no reason why (A,B) where A and B are domains should not denote this product.
>
> Exactly, so why are you still insisting on calling it Product(A,B)? 

I am sorry. I must have mislead you somehow into thinking that I was
concerned with the name or the specific Axiom domain called Product.
I am not.

All I want is something that is semantically just the Cartesian product
or better: the product in some category such as CCC. I want the expression
'(A,B)' in the mapping 'f:(A,B)->C' to *be* such a product, complete with
it's projections. I don't want 'Mapping(C,A,B)'. I want it to be
'Mapping(C,(A,B))' where '(A,B)' denotes this product. If you prefer the
notation 'Mapping(C,A x B)' then that is fine with me also. This is not
an issue of "syntactic sugar". That's why I say that the notation
'Mapping(C,Record(a:A,b:B))' is also acceptible - it just provides
specific names for the projections.

> (A,B) need be only the vanilla Cartesian product.

I agree. That is exactly what I am trying to say.

> Would you say that
>
>   f:DirectProduct(5, INT)->INT
>
> has arity 5 then? 

No. The only thing to the left of the $\rightarrow$ that has arity more than
1 is whatever we decide represents the "the vanilla Cartesian product".
Arity is just the size of that product. Of course we have to admit
n-ary products where n is some non-negative integer. $()$ denotes
the "terminal" object (the identity for the product constructor)
and $(A)$ denotes just the object $A$.

I am not sure what you mean by not implementing:

> external interfaces for the projection maps in a Cartesian product

To me, a product is *defined* by it's projections. You can hide
other details of the implementation of a product if you wish,
but not the projections. If you did, then it is mathematically
speaking no longer a product. I think we agree that the "vanilla
Cartesian product" (A,B) necessarily has projections, right?
That is all I want. I am not arguing against encapsulation or
information hiding in the case of the representations of other
constructed domains. So I think that we agree! :)

> But the arity of $h$ is one, not two, despite your use of $h[1,2]$,
> which is really parsed as $h([1,2])$ in Axiom.

**If** we agreed to call 'Record(a:A,b:B)' Axiom's equivalent of
the type of categorical product that I am looking for, *then* I
would say that the arity of $h$ is equal to the size of the Record
object. It is the number of prjection maps. I agree that $h[1,2]$
is parsed like $h([1,2])$. In fact, the best I can determine in
this context '[1,2]' it is really:
\begin{axiom}
construct(1,2)$Record(a:INT,b:INT)
)show Record(a:INT,b:INT)
\end{axiom}

but 'construct' seems to be treated in a rather special way by the
interpreter since when I try to add a 'construct' function to the
'Product' domain, Axiom aborts.

Otherwise "arity" as you have been describing it, is a peculiar
thing in Axiom. It is the number of inputs to the Mapping
constructor minus 1. In my case I want the function Mapping
constructor to be the exponential object in a CCC and of course
that has exactly two inputs.

\start
Date: Thu, 7 Jul 2005 16:07:04 -0400 
From: Bill Page
To: Marc Battyani
Subject: RE: Axiom UI
Cc: Bill Page, Heow Eide-Goodman

On Thursday, July 07, 2005 3:59 AM Marc Battyani wrote:

> I've looked at the Axiom UI SOC project and I thought there may be
> some possibility to use cl-typesetting/cl-pdf as a typesetting engine
> for the layout of the mathematical expressions.

Thanks for you email. Yes, we have already briefly discussed cl-typesetting
as an option for the new Axiom user interface.

The major part of the proposal by Kai Kaminski which was selected for
the SOC funding concerns a web browser based interface. See:

http://page.axiom-developer.org/zope/mathaction/AxiomUI

However, that does not preclude the possibility of using tools like
cl-tempsetting, especially in the context of high quality printable
output such as PDF, as an alternative to more traditional routes like
LaTeX.

> cl-typesetting already has math capabilities and can output to a pdf
> file but it is also possible to write to a screen or any graphical
> device. It is already platform independant and of TeX like quality.

Can you point us to any example programs that run on both linux
and windows? What flavor of lisp provides the greatest portability?

> I can even help on that if needed and add stuff such as finding which
> element got a mouse click (for editing purposes) for instance.

I would like to hear more about how you see this working. In particular,
what would be the format of the expressions which could be edited in
this manner? How closely could then correspond to the mathematical
content (as opposed to the presentation) of the output of the computer
algebra system?

> In addition to this intereactive mode, a cl-typesetting/cl-pdf backend
> could be useful too.

I agree.

> For an example of math layout, look at page 3 of :
> http://fractalconcept.com/fcweb/download/ex.pdf
>
> The lisp to generate this formula is:
> (display-formula ()
>        (with-style (:font (pdf:get-font "CMEX10" nil) :font-size 30)
>          (with-offset (23) "H"))
>        "E"(math-super-and-sub-script () ("n+1") ("k,m"))"="
>        (fraction ()
>    ("x"(with-superscript () "2")"+x-1")
>    ("F(x)+b-3"))
>        "-e"(with-superscript () "-x"(with-superscript () "2")))

Have you considered what might be required to convert from, say
LaTeX equations syntax to this sort of lisp? Or from a (much) simpler
s-expression format such as might be output by a computer algebra
system like Axiom?

Thanks for your interest. I think we need to be aware of these sort
of advances and also to proceed on more than one front -- if resource
would permit it. Unfortunately resources are in ratjer sort supply...
:) But if you have an interest in Axiom and want to proceed with some
kind of demonstration or whatever, I am sure you will have the ears
and eyes of other axiom developers.

\start
Date: Thu, 7 Jul 2005 14:23:51 -0700
From: Bob McElrath
To: Kai Kaminski
Subject: Re: HyperDoc as static HTML

Excellent!  I see a couple constructs that were overlooked:
    \axiomType{Fraction Integer}
    e.g. http://kaikaminski.gmxhome.de/hyper/ComplexXmpPage.html
    \lispdownlink{Matrix}{(|bcMatrix|)}
    e.g. http://kaikaminski.gmxhome.de/hyper/BasicCommand.html

you might grep for \\ in the auto-generated files to see if there are
any other latex/axiom \constructs that were missed.

Kai Kaminski [Kai Kaminski] wrote:
> Hi everyone,
> 
> I converted the old HyperDoc pages to HTML and put them up at 
> http://kaikaminski.gmxhome.de/hyper/rootpage.html. I use jsMath, a 
> Javascript library, to format mathematical expressions, hence Javascript 
> must be enabled. The dynamic HyperDoc features, i.e. everything that 
> requires interaction with either Axiom or the OS, doesn't work, of 
> course. On the other hand all the pictures should be there, most of the 
> math should look reasonable and the links should all work.
> 
> Kai
> 
> PS: Don't fix any errors in those files by hand. They are generated 
> automatically.

\start
Date: Thu, 7 Jul 2005 23:38:09 +0200
From: Marc Battyani
To: Bill Page
Subject: Re: Axiom UI
Cc: Heow Eide-Goodman

On Thursday, July 07, 2005 10:07 PM Bill Page wrote:

> On Thursday, July 07, 2005 3:59 AM Marc Battyani wrote:
>
> > I've looked at the Axiom UI SOC project and I thought there may be
> > some possibility to use cl-typesetting/cl-pdf as a typesetting engine
> > for the layout of the mathematical expressions.
>
> Thanks for you email. Yes, we have already briefly discussed
cl-typesetting
> as an option for the new Axiom user interface.
>
> The major part of the proposal by Kai Kaminski which was selected for
> the SOC funding concerns a web browser based interface. See:
>
> http://page.axiom-developer.org/zope/mathaction/AxiomUI

OK. I didn't know that. (it's not mentioned on
http://www.alphageeksinc.com/cgi-bin/lispnyc.cgi?AxiomUI)

> However, that does not preclude the possibility of using tools like
> cl-tempsetting, especially in the context of high quality printable
> output such as PDF, as an alternative to more traditional routes like
> LaTeX.

Yes, but int the case of a pure web interface I agree it's better to use
jsMath and SVG. The math stuff of cl-typesetting is not finished as nobody
has really used it. I mainly added some math capabilities more as a proof of
concept than for a real need.

> > cl-typesetting already has math capabilities and can output to a pdf
> > file but it is also possible to write to a screen or any graphical
> > device. It is already platform independant and of TeX like quality.
>
> Can you point us to any example programs that run on both linux
> and windows? What flavor of lisp provides the greatest portability?

I use it both on linux and windows in web applications to generate all kind
of documents, like documentation, business reports, traceability reports,
calibration certificates, physical data measurement (plots), etc.
The implantation I use is LispWorks but cl-pdf/cl-typesetting is known to
work on opensource implementations like CMUCL, SBCL and CLISP. (well may be
the latest SBCL don't work due to the changes in external format)

> > I can even help on that if needed and add stuff such as finding which
> > element got a mouse click (for editing purposes) for instance.
>
> I would like to hear more about how you see this working. In particular,
> what would be the format of the expressions which could be edited in
> this manner? How closely could then correspond to the mathematical
> content (as opposed to the presentation) of the output of the computer
> algebra system?

It's just an idea. I think that from the click place it's possible to go
back to corresponding text/form in the formula input. But you can do that in
Javascript as well in jsMath. (just put an on_click handler in the span
elements)

> > In addition to this intereactive mode, a cl-typesetting/cl-pdf backend
> > could be useful too.
>
> I agree.
>
> > For an example of math layout, look at page 3 of :
> > http://fractalconcept.com/fcweb/download/ex.pdf
> >
> > The lisp to generate this formula is:
> > (display-formula ()
> >        (with-style (:font (pdf:get-font "CMEX10" nil) :font-size 30)
> >          (with-offset (23) "H"))
> >        "E"(math-super-and-sub-script () ("n+1") ("k,m"))"="
> >        (fraction ()
> >    ("x"(with-superscript () "2")"+x-1")
> >    ("F(x)+b-3"))
> >        "-e"(with-superscript () "-x"(with-superscript () "2")))
>
> Have you considered what might be required to convert from, say
> LaTeX equations syntax to this sort of lisp? Or from a (much) simpler
> s-expression format such as might be output by a computer algebra
> system like Axiom?

I didn't look at the LaTeX syntax in details but using a simpler
s-expression format would be easy.

> Thanks for your interest. I think we need to be aware of these sort
> of advances and also to proceed on more than one front -- if resource
> would permit it. Unfortunately resources are in ratjer sort supply...
> :) But if you have an interest in Axiom and want to proceed with some
> kind of demonstration or whatever, I am sure you will have the ears
> and eyes of other axiom developers.

Well, I really think that given the choice of a browser as the UI engine
(which is a very good choice IMO) it's better to stick to native browser
stuff like Javascript/SVG/jsMath.

\start
Date: Fri, 08 Jul 2005 03:23:44 -0500
From: MathAction (billpage)
To: MathAction
Subject: [Axiom Portal] (new) 

The Axiom Portal is an online enviroment in which Axiom users can:

* register and log-in

* create a "home page" that identifies their interests

* selectively share files with other users

* "publish" documents to make them available to all users

* comment on pages

* experiment with Axiom and Reduce online, either privately or shared
  with other users

* search, upload and download Axiom and Reduce bibliographies

* view the calendar of events and submit new event notices

* view and submit news items

* subscribe to receive notices of new or changed pages

* bookmark RSS news feeds on specific subjects.

Click "here":http://page.axiom-developer.org/zope/Plone to login or
register.

\start
Date: Fri, 08 Jul 2005 03:21:26 -0500
From: MathAction (billpage)
To: MathAction
Subject: [the Axiom Community] 

  The [Axiom Portal] is an online workspace for Axiom developers
and other people interested in doing research in computer algebra
systems. Please "login or register":http://page.axiom-developer.org/zope/Plone
to access the workspace or click [Axiom Portal] to find out more.

\start
Date: Fri, 08 Jul 2005 04:11:30 -0500
From: MathAction (billpage)
To: MathAction
Subject: [MathActionDevelopment] 

Design Goals and Issues

  - Performance and Stability

    - backup contents of MathAction Wiki and Axiom Portal databases

    - update the base ZWiki and LatexWiki software to newest realease.

  - Provide interface to additional computer math systems. E.g.

    - Aldor

    - Maxima

    - ???

    - Increase number of users who actively contribute to Axiom
      and the MathAction website
 

  - Improved editing and preview

  - DHTML, JavaScript and AJAX techniques for faster interaction

  = Support and help mentor for the AxiomUI project funded by Google
    [Summer of Code].

  - Integration of personal singler-user client-side wiki (e.g.
    TiddlyWiki) with server-based wikis. See [Doyen].

Recently Completed 

  - Scrolling preview window with edit synchronization

    The new dual-window edit/preview mode permits easier reference to
    formatted text and computer generated results while editing and
    updating a web page. Use 'Sync(x)' to automatically synchronize
    the scroll position in the two windows.

  - Preview for comments

    The new 'Preview' button at the bottom of each page allows comments
    to be reviewed and polished without generating notifications messages.
    Click 'Cancel' or click 'Save' to post your comment to the web site
    and send email notices to subscribers.

  - Implemented MathAction access policy to require Users to identify
    themselves via the 'preferences' menu in order to edit pages.

  - Collapsing and Expanding (folding) information on pages.

    See new '(+/-)' menu and example at [Sandbox Folding]

  - Fold output of Axiom compiler.

    The Axiom compiler produces a lot of output that is useful
    mainly for debugging. Compiler output is now folded by
    default. Use '(+/-)' to expand or hide this information.

Planned or Delayed

\start
Date: Fri, 8 Jul 2005 12:15:44 -0400 
From: Bill Page
To: Kai Kaminski
Subject: HyperDoc special characters and NAG docs

Kai,

Having the hyperdoc pages available in this new format

http://kaikaminski.gmxhome.de/hyper/rootpage.html

makes them much more accessible to me. The old Hyperdoc browser
certainly works (on linux at least), so it is surprizing to me
that just changing the format so it can be read in a modern
browser seems to make such a difference. I gusee it just goes
to show that user interface matters! :)

Here's another conversion problem that I noticed. I'll just
send these to you as I notice them...

------------
On page:

http://kaikaminski.gmxhome.de/hyper/HTXIntroPage2.html

the following text seems to be malformed:

The HyperDoc special characters are :<br /><div
style="border-width:1pt;border-style:solid;border-color:black;padding:0.5cm;
color:blue;">
<em>Special Characters</em>: <tt>\table{\$</tt>{\\}{\{}{\} 

-------------

There is a whole section on the NAG-link library that is not
part of the open source distribution:

http://kaikaminski.gmxhome.de/hyper/FoundationLibraryDocPage.html

This is based on the NAG proprietary library so it is likely
to never be available for free. We discussed a while back
about the possibility of converting this work to a new open
source numerical library -- Hey that would be a great idea
for another Google Summer of Code project ... :)

Anyway, at some point we will have to weed out of the new
hyperdoc pages that do not relate to the current version, or
at least mark them with some color code or something.

\start
Date: Fri, 8 Jul 2005 12:42:44 -0400 
From: Bill Page
To: Kai Kaminski
Subject: Tidy HTML

Kai,

The converted pages at

http://kaikaminski.gmxhome.de/hyper/rootpage.html

look pretty good in Firefox 1.0 but when looking at the page
source I see quite a few format peculiarities that are artifacts
of the conversion. As you know, it's typical of modern web
browsers that they are very tolerant of improperly formatted
XHTML code but the results can be unpredictable in different
versions of browsers.

Anyway as part of your conversion process, I think you should
include a filter like HTML Tidy:

http://tidy.sourceforge.net/

http://www.w3.org/People/Raggett/tidy/

I have had very good results with this program.

\start
Date: Fri, 8 Jul 2005 19:24:27 -0400 
From: Bill Page
To: Kai Kaminski
Subject: navigation in the static HTML version of HyperDoc

Kai,

I think it would be a good idea to add a simple header (containing
a small Axiom logo and standard sectional navigation like home,
table of contents, index, etc.) and footers (containing copyright
disclaimer, link to Axiom license and the Axiom developer web site).

I hacked together a simple example page at

http://page.axiom-developer.org/TopExamplePage2.html

Notice I also changed the doctype to XHTML strict for better
compatibility with IE 6. With a little more effort I am sure
you can cleanup my embedded CSS coding. :) Anyway use it as it
or use if for inspiration, as you wish.

PS. There is a conversion glitch at:

http://kaikaminski.gmxhome.de/hyper/ugSysCmdOverviewPage.html

)syscmd <i>arg1 arg2</tt> )opt1 {\it opt1arg1 opt1arg2</i> )opt2
<i>opt2arg1</i> ...</div>}

\start
Date: Fri, 8 Jul 2005 18:08:13 -0700
From: Bob McElrath
To: Davide P.Cervone
Subject: Re: New version of jsMath

Yes things are coming along.  I think the Axiom project (a computer
algebra system) is going to use it in our web-browser interface, as a
bridge to MathML support someday.

Along those lines, you might be interested in my latest toy, which is an
update of my previous tiddlywiki+jsmath to include an interface to the
axiom system.
    http://bob.mcelrath.org/moz-axiom.tar.gz

Untar it and run the script 'fifo-axiom' in the moz-axiom directory
created.  It will try to load the interface in firefox.  (If you have a
different browser, edit the script)

I have seen some rendering bugs that I haven't tracked down, I'll see if
they're fixed in the new version.
Thanks!

Davide P.Cervone [Davide P.Cervone] wrote:
> Bob:
> 
> Hope your TiddlyWiki site is working out.  I wanted to alert you to an 
> update to jsMath that I'm getting ready to release.  I think I 
> mentioned it to you before, but that you had some trouble with it.  It 
> is available at
> 
> 	http://www.math.union.edu/locate/jsMath-img
> 
> and is jsMath v2.0.  I have made a number of improvements that you can 
> read about in the changes section.  There are some important changes 
> that I have just made to improve the support for showing mathematics at 
> different sizes, and some improvements to the alignment of mathematics 
> in MSIE.  I also got my hands on a version of Konqueror (but an old 
> one, 3.1.4, which is pretty buggy) and made some changes to support 
> that.  Strangely, the centering of display equations works in that 
> version.  Not sure why it doesn't in the later ones.   I'll have to see 
> if I can compile a more recent one, but haven't taken the time to try 
> that.
> 
> Anyway, if you are moving forward with using jsMath, you might want to 
> work with v2.0 rather than v1.8.
> 
> Davide

\start
Date: Fri, 8 Jul 2005 21:34:15 -0400 
From: Bill Page
To: Kai Kaminski
Subject: Semantic content in the static HTML version of	HyperDoc

Kai,

In your conversion from the hyperdoc .ht and .pht files to XHTML
pages I think you should try to retain as much semantic information
as possible. Specifically, I think it is important to be able to
identify Axiom commands and the corresponding Axiom output which
is pasted into the .ht files from the .pht files. This information
could be used later for example, to replace the ASCII text art with
prettier LaTeX output from Axiom which could then be rendered by
jsMath.

So for example where we see:

  \xtc{
  This is the ring of coefficients.
  }{
  \spadpaste{coefRing := Integer \bound{coefRing}}
  }

in the '/doc/hypertex/pages/DERHAM.ht' file and

  \begin{patch}{DeRhamComplexXmpPagePatch1}
  \begin{paste}{DeRhamComplexXmpPageFull1}{DeRhamComplexXmpPageEmpty1}
  \pastebutton{DeRhamComplexXmpPageFull1}{\hidepaste}
  \tab{5}\spadcommand{coefRing := Integer\bound{coefRing }}
  \indentrel{3}\begin{verbatim}
     (1)  Integer
                                             Type: Domain
  \end{verbatim}
  \indentrel{-3}\end{paste}\end{patch}

in the '/doc/hypertex/pages/DERHAM.pht' file, you currently
generate:

  <p>
  
  
  <pre>coefRing := Integer</pre>
  
  <pre>
     (1)  Integer
                                             Type: Domain
  </pre>
  </p>

in the DeRhamComplexXmpPage.html file.

As we discussed in earlier email messages, I think this should
be rendered as something like:

  <div class="AxiomPatch" id="DeRhamComplexXmpPagePatch1">
  <span class="SpadCommand" bound="coefRing">coefRing := Integer</span>
  <div class="AxiomVerbatim">
     (1)  Integer
                                             Type: Domain
  </div>
  </div>

Of course the appropriate CSS definitions must be provided
in the hyperdoc.css stylesheet so that the formatting is
equivalent to what you product now.

This would also enable the browser to implement some dynamic
behaviours equivalent to the 'hide' and 'show' buttons for
displaying Axiom output ... and all kinds of other neat stuff.

---------

I think the following article :

http://www.ripcord.co.nz/behaviour

 "Behaviour is the missing link for your ajax apps.

    Or: Using CSS selectors to apply Javascript functionality

  Published by Ben Nolan, June 2004."

describes a simple and tidy way to associate JavaScript semantics
with HTML files.

See also my recent example of simple dynamic HTML to implement
"content folding" on the MathAction web site:

http://page.axiom-developer.org/zope/mathaction/SandBoxFolding

Although this is not (yet) and AJAX application. :)

\start
Date: Sat, 9 Jul 2005 22:20:38 -0500
From: Tim Daly
To: list
Subject: missing in action

I've been away on business this past week with only occasional
net access. I'll be online until tuesday and then offline again
until the DSL line shows up at the new house. I've been following
the user interface discussion but have not been in a position to
participate. 

\start
Date: Sun, 10 Jul 2005 02:21:53 -0500
From: MathAction (billpage)
To: MathAction
Subject: [FrontPage] 

<td><a title="more stuff" href="http://www.cafepress.com/supportaxiom" style="text-decoration:none"> ...</a>

\start
Date: Sun, 10 Jul 2005 02:12:05 -0500
From: MathAction (billpage)
To: MathAction
Subject: [FrontPage] 

++added:
<table><tr><td onclick="window.self.location='http://www.cafepress.com/supportaxiom'"><img src="surprize2.gif"></a></td><td>Buy "Axiom Gear":http://www.cafepress.com/supportaxiom to help support Axiom</td><td><a title="T-shirt" href="http://www.cafepress.com/supportaxiom.25197477"> <img src="/shirt_store.png" style="border:0" ></a><a title="Badge" href="http://www.cafepress.com/supportaxiom.25197484" ><img src="/button_store.png" style="border:0" ></a> <a title="Hat" href="http://www.cafepress.com/supportaxiom.25197479" ><img src="/hat_store.png" style="border:0" ></a><a title="Coffee mug" href="http://www.cafepress.com/supportaxiom.25194756" ><img src="/mug_store.png" style="border:0" ></a><a title="Tote bag" href="http://www.cafepress.com/supportaxiom.25197482" ><img src="/bag_store.png" style="border:0" ></a></td><td><a title="more stuff" href="http://www.cafepress.com/supportaxiom>" style="text-decoration:none"> ...</a>
</td></tr></table>

\start
Date: Sun, 10 Jul 2005 02:19:12 -0500
From: MathAction (billpage)
To: MathAction
Subject: [FrontPage] 

<table><tr><td onclick="window.self.location='http://www.cafepress.com/supportaxiom'"><img src="surprize2.gif"></a></td>
<td>Buy "Axiom Gear":http://www.cafepress.com/supportaxiom to help support Axiom</td>
<td><a title="T-shirt" href="http://www.cafepress.com/supportaxiom.25197477"><img src="/shirt_store.png" style="border:0" ></a>
<a title="Badge" href="http://www.cafepress.com/supportaxiom.25197484" ><img src="/button_store.png" style="border:0" ></a>
<a title="Hat" href="http://www.cafepress.com/supportaxiom.25197479" ><img src="/hat_store.png" style="border:0" ></a>
<a title="Coffee mug" href="http://www.cafepress.com/supportaxiom.25194756" ><img src="/mug_store.png" style="border:0" ></a>
<a title="Tote bag" href="http://www.cafepress.com/supportaxiom.25197482" ><img src="/bag_store.png" style="border:0" ></a></td>
<td><a title="more stuff" href="http://www.cafepress.com/supportaxiom>" style="text-decoration:none"> ...</a>

\start
Date: Sun, 10 Jul 2005 10:02:43 -0500
From: MathAction (unknown)
To: MathAction
Subject: [#173 (1 . failed) cannot be coerced to mode (Integer) in TriangularMatrixOperations] I know it is false but...

But I don't like 'computer error'. I prefer some 'mathematical'
message for example:

<pre>
d is not an element of R such that \spad{M = d * inv(B)} has entries in R.
</pre>

\start
Date: Sun, 10 Jul 2005 17:32:14 +0200
From: Gregory Vanuxem
To: "Axiom-Developer" <list>
Subject: TR: Magma Workshop on Group Theory and Algebraic Geometry

Re sent....

-----Message d'origine-----

Hi,

Just for information....

Cheers,

Greg

-----Message d'origine-----
De : Magma announcements [mailto:magma-announce@maths.usyd.edu.au]
Envoye : jeudi 30 juin 2005 07:00
A : Magma announcements
Objet : Magma Workshop on Group Theory and Algebraic Geometry


NOTE: please do not reply to this email.  For any enquiries, please
mail one of the contacts listed at the bottom of this mesage.


             ***********************************
                      MAGMA WORKSHOP ON
             GROUP THEORY AND ALGEBRAIC GEOMETRY
             ***********************************


LOCATION: Mathematics Research Institute, University of Warwick, UK

DATES: August 22 -- 26, 2005.

CONFERENCE WEBSITE:
         http://www.maths.warwick.ac.uk/~dfh/magma05.html

SPEAKERS:
     H-C Graf v. Bothmer (Hannover)        Gavin Brown (Warwick)
     Nils Bruin (Simon Fraser)             Jon Carlson (Athens, GA)
     John Coates (Cambridge)               Bettina Eick (Braunschweig)
     Peter Fleischmann (Canterbury)        Steven Galbraith (Royal Holloway)
     Willem de Graaf (Trento)              Michael Harrison (Sydney)
     Florian Hess (Berlin)                 Derek Holt (Warwick)
     Dimitri Leemans (Brussels)            Steve Linton (St Andrews)
     Scott Murray (Eindhoven)              Eamonn O'Brien (Auckland)
     Miles Reid (Warwick)                  Colva Roney-Dougal (St Andrews)
     Joseph Schicho (Linz)                 Samir Sisek (Warwick)
     Don Taylor (Sydney)                   Bill Unger (Sydney)
     Mark Watkins (Bristol)                Mike Vaughan-Lee (Oxford)

DESCRIPTION: A workshop on computational methods in group theory and
algebraic geometry, in the context of the Computer Algebra system Magma.
The meeting will be particularly concerned with exploring interactions
between computational group theory and computational algebraic geometry.
This is the fourth in a series of Magma conferences: the previous one
was held at Institute Henri Poincare', Paris, October 4 -- 8, 2004.

THEMES: Group theory, representation theory, Lie theory, algebraic
geometry, arithmetic geometry.

ACTIVITIES:
 * Lectures reporting recent advances in algorithmic methods.

 * Talks on significant applications of Magma to one of the
   thematic areas.

 * Talks on future directions for computational methods in
   the thematic areas.

 * Tutorials on the use of Magma in the following areas:
   - Finite groups and representation theory
   - Schemes and algebraic curves

CONTRIBUTED TALKS: Conference participants interested in giving a
25 minute contributed talk should submit a title and long abstract
by July 31.

CONFERENCE FUNDING: Some funding is available to provide limited travel
support for graduate students based in the UK.

REGISTRATION AND ACCOMMODATION: To register and reserve accommodation,
please download and fill in the form found at
            http://www.maths.warwick.ac.uk/~dfh/magma05.html
and return it as soon as possible, and in any case by June 30, to:

   Mrs. Peta McAllister                 E-mail: mrc@maths.warwick.ac.uk
   Phone: 44 + (0)2476 - 524403         Fax: 44 + (0)2476 - 523548

ORGANIZERS:  Derek Holt (dfh@maths.warwick.ac.uk)
             Gavin Brown (gavinb@maths.warwick.ac.uk)
             John Cannon (john@maths.usyd.edu.au)

\start
Date: Sun, 10 Jul 2005 16:00:17 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#173 (1 . failed) cannot be coerced to mode (Integer) in TriangularMatrixOperations] 

>From the package::

  ++ This package provides functions that compute "fraction-free"
  ++ inverses of upper and lower triangular matrices over a integral
  ++ domain. By "fraction-free inverse" we mean the following:
  ++ given a matrix B with entries in R and an element d of R such that
  ++ d* inv(B) also has entries in R, we return d * inv(B).

\start
Date: Mon, 11 Jul 2005 15:45:08 -0500
From: MathAction (unknown)
To: MathAction
Subject: [ExamplePage] 

integrate(1/sqrt(1-x**2)*x,x)

\start
Date: Mon, 11 Jul 2005 16:01:19 -0500
From: MathAction (billpage)
To: MathAction
Subject: [Award Of Bounties] (new) 

Bounties: --
  relatively small promotional awards to be paid for programming
  work done to enhance Axiom.

Submissions will be accepted on an "as is" basis. It should be
very clear whether a submission fulfils a specific requirement
or not. A good example would be a MS Windows port of axiom:
The requirements would be (roughly):

* that axiom can be compiled according to step by step instructions

* passes "most" of the tests -- there might be some platform 
  specific problems, of course, like pathnames and the like

* and the changes are documented.

Similarly, a bounty could be awarded for an SBCL port, when Axiom
actually compiles in this environmnet.

Special awards will be granted for especially good work.

In fact, there are quite a few tasks where a simple operational
result would already be great: pamphlet support on MathAction,
a Windows port, an SBCL or CMUCL port, compiling domains with Aldor,
etc.

The individual items from the WishList and [Summer Of Code] are possible
items for awards.

Here the current proposals:

+--------------------------------+-----+
|Windows port                    | 50$ |
+--------------------------------+-----+
|pamphlet support for MathAction | 50$ |
+--------------------------------+-----+
|CMUCL/SBCL port                 |100$ |
+--------------------------------+-----+
|Aldor                           |200$ |
+--------------------------------+-----+
 
Note that we really have *no* idea how much work these items 
represent although you can be sure that their value to users
of Axiom is far beyond 200$. That is way we refer to a bounty
as an "award" and not as a payment for work accomplished.

<em>**Sidenote**: Many great mathematicians set out prices for proofs 
of conjectures they had. Best known are probably the prices of
Paul Erdos.  These prices ranged from 10$ (difficult problem)
to (I think) 500$ (only for genius)...</em>

In this spirit, we might set up a second row of bounties, like:

+--------------------------------------------------------------------------+----+
|implementing Zeilberger                                                   | 5$ |
+--------------------------------------------------------------------------+----+
|fixing bug #191 exquo and therefore gcd cannot handle UP(x, EXPR INT)     | 5$ |
+--------------------------------------------------------------------------+----+

based on an email from::

  Martin Rubey
  Thursday, November 25, 2004 8:29 AM

**Subject to change without notice.**

\start
Date: Mon, 11 Jul 2005 15:56:26 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#191 exquo and therefore gcd cannot handle UP(x, EXPR INT)] (new) 

Update of bug #10530 (project axiom):

                  Status:                    None => transferred            


    _______________________________________________________

Reply to this item at:

  <http://savannah.nongnu.org/bugs/?func=detailitem&item_id=10530>

\start
Date: Mon, 11 Jul 2005 15:26:24 -0500
From: MathAction (billpage)
To: MathAction
Subject: [FrontPage] 

"Google":http://code.google.com/summerofcode.html Summer Of Code
supports Axiom User Interface (AxiomUI) project thanks to
"Lisp NYC":http://www.lispnyc.org/summerofcode.html!

The [Axiom Foundation] is our means to promote the development and
maintenance of the open source version of Axiom through the dispersement
of "donations":http://axiom-developer.org/donate.html to support
Axiom-related "projects":SummerOfCode and through the [Award Of Bounties].

We also gratefully acknowledge the support of our [Sponsor]

\start
Date: Mon, 11 Jul 2005 16:19:13 -0500
From: MathAction (billpage)
To: MathAction
Subject: [#191 exquo and therefore gcd cannot handle UP(x,EXPR INT)] 

\begin{axiom}
gcd((x-2^a)::UP(x, EXPR INT), simplify((x-2^a)*(x+2^a))::UP(x, EXPR INT))
\end{axiom}

Gives 1, while the correct answer should be $x-2^a$, as given by

\begin{axiom}
gcd((x-2^a)::UP(x, EXPR INT),((x-2^a)*(x+2^a))::UP(x, EXPR INT))
\end{axiom}

 gcd((x-2^a)::UP(x, EXPR INT), simplify((x-2^a)*(x+2^a))::UP(x, EXPR INT))

gives 1, while the correct answer should be x-2^a, as given by

gcd((x-2^a)::UP(x, EXPR INT),((x-2^a)*(x+2^a))::UP(x, EXPR INT))

A workaround is presented on [EXPR_GCD]

Internal Cause

  In EXPR INT, $2^a$ and $2^(2a)$ are treated as two variables
without relations in EXPR INT. Therefore exquo in::

  gcdPrimitive(p1:SUPP,p2:SUPP)$PGCD

fails.

Thu 09/30/2004 at 09:31, comment !#3

Excuse me, I was to quick again. Here is the (hopefully correct)
anaylysis::

  exquo(simplify((A-2^a)*(A+2^a))::UP(A,EXPR INT),(A-2^a)::UP(A,EXPR INT))

calls 'exquo$SUP(EXPR INT)'. This implements exact division of
polynomials p1 by p2 as usual. After each subtraction - done via
'fmecg$SUP' - the result is again stored in p1. exquo terminates
when p1 is the empty list - note that SUPs are stored as lists
of pairs (degree, coefficient) - or the degree of p2 is larger
than p1. In the latter case, exquo fails.

Thus, in our case, at one point p1 is $4^a-2^(2a)$, which is zero
mathematically, but axiom does not know it. In particular,
p1 is not the empty list, but rather a constant polynomial...

It would be interesting to see how MuPAD or Aldor handle this.

Martin Rubey <kratt6>

Wed 09/29/2004 at 16:20, comment !#2:

  The instance of exquo involved is the one in SMP.

Sorry, this is not correct. It is in FIELD (for EXPR INT)

Martin Rubey <kratt6>

Wed 09/29/2004 at 16:02, comment !#1:

  I should have added:

\begin{axiom}
exquo(normalize(simplify(((A-2^a)*(A+2^a)))::EXPR INT),normalize((A-2^a)::EXPR INT))
exquo(simplify((A-2^a)*(A+2^a))::UP(A,EXPR INT),(A-2^a)::UP(A,EXPR INT))
\end{axiom}

I'm afraid that this cannot be fixed easily, since there is no
general mechanism to determine whether an expression is zero or not,
which is needed in exquo. The instance of exquo involved is the
one in SMP.

\start
Date: Mon, 11 Jul 2005 18:18:26 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#191 exquo and therefore gcd cannot handle UP(x, EXPR INT)] plausible explanation

The problem is 

\begin{axiom}
r := simplify (x-2^a)*(x+2^a)
gcd(p,r)
\end{axiom}
ends up in EXPR INT, not 'UP(x,EXPR INT)' which is entirely reasonable. But then the 'x' in 'r' is no longer the same 'x' in p and hence the 'gcd(p,r)' is 1. 

I don't think anything should be fixed. Users are responsible when they mix variables in nested polynomial domains. Check out the code for triangularSystems where careful pushing and pulling of these variables are done.

\start
Date: Mon, 11 Jul 2005 18:08:30 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#191 exquo and therefore gcd cannot handle UP(x, EXPR INT)] Step by step works

\begin{axiom}
dom:=UP('x,EXPR INT)
p:dom:=x-2^a
q:dom:=(x-2^a)*(x+2^a)
gcd(p,q)
exquo(q,p)
\end{axiom}
But note:
\begin{axiom}
simplify q
\end{axiom}

\start
Date: Mon, 11 Jul 2005 18:54:13 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#191 exquo and therefore gcd cannot handle UP(x, EXPR INT)] Magic? I 'm confused!

For some unknown reason, gcd(p,r) above *was* 1 but now becomes the
correct answer! (Actually, it turns back to 1 when I click the
"reply", but for the page, it gave the correct answer as redone below!
In other words, the coercion 'r::dom' puts the 'x' into the correct
'x' for 'UP(x, EXPR INT)'). The other possibility was 'r::dom' would
be '0*x+r', with 'r' still in 'EXPR INT').)

\begin{axiom}
)clear all
dom:=UP('x,EXPR INT)
p:dom:=x-2^a
q:dom:=(x-2^a)*(x+2^a)
gcd(p,q)
exquo(q,p)
r := simplify (x-2^a)*(x+2^a)
gcd(p,r)
gcd(p,r::dom)
\end{axiom}

\start
Date: Mon, 11 Jul 2005 19:09:15 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#191 exquo and therefore gcd cannot handle UP(x,EXPR INT)] Oh, my! MathAction playing tricks.

When I edit the message of Mon, 11 Jul 2005 18:18:25 -0500, by
changing "p" in the *text* to "'p'" and preview, the *answer* to
'gcd(p,r)' changes to the correct one! When I cancel this change, the
correct answer remains, but then if I "reply" to the message again (as
I am doing now), the display for gcd(p,r) in line 2 becomes 1 again.

Reason: When I *edit*, the entire page is re-rendered and hence the
answer is the correct answer (not 1), but when I *reply*, a new
instance of Axiom is started, and hence the value of 'p' is just a
variable 'p'.

I think Mathaction should be more consistent, or else we may be
wasting a lot of time.

\start
Date: Mon, 11 Jul 2005 19:39:36 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#191 exquo and therefore gcd cannot handle UP(x,EXPR INT)] Conclusion

So Mathaction should give a warning that in using the reply box
(instead of directly editing the page), a new session of Axiom is
initiated.

My analysis of Mon, 11 Jul 2005 18:18:25 -0500 was not supported (but
might still be the explanation). When done in step by step, Axiom does
coerce 'r' correctly to what a normal user would expect. So the
question is: why would it make a difference when everything is put on
one line?

My guess is that when the command is in one line, the arguments are
evaluated first (supported by the sequence displayed with ')set mess
bot on' ) and the coercion is done without the benefit of knowledge
that 'gcd' is to be involved. Without this, the coercion from 'EXPR
INT' to 'UP(x,EXPR INT)' is one from the coefficient to the univariate
polynomial ring. Then the gcd is performed without further problem and
yields '1'.  In the step by step case, even though in 'gcd(p,r)', 'r'
has type 'EXPR INT', the Interpreter is looking for a map 'gcd' and
not finding one, will now coerce 'r' to 'UP(x, EXPR INT)' and this
time, the coercion was done in a different way. Unfortunately, ')set
mess bot on' does not help here.

\start
Date: Mon, 11 Jul 2005 21:24:09 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#191 exquo and therefore gcd cannot handle UP(x,EXPR INT)] MathAction playing tricks

William Sit wrote:

> When I edit, the entire page is re-rendered and hence the answer
> is the correct answer (not 1), but when I reply, a new instance
> of Axiom is started.

That is essentially correct. It is a limitation of MathAction.

In fact, in both cases a new Axiom session is started when you
click 'Save'. Axiom starts, computes some output and then stops.
The output is converted to a web page (rendered) and the resulting
web page is saved. But the state of the calculation in Axiom is
not saved.

As you say, the difference is that when you use 'edit' and then
'Save', all of the commands on the whole page are executed by
Axiom and the entire page is re-rendered. But when you simply
use 'Add comment', only the commands contained in that comment
are executed by Axiom, nothing else. The additional comment is
rendered and then added to the bottom of the existing page.

'Preview' does the same except the result is not saved.

This means that the commands contained in the comment will not
refer to any previously computed values on the same page until
the whole page is re-calculated, either by a subsequent 'edit'
and 'Save' or by clicking 'refresh' (see right side above comment
box).

> Mathaction should give a warning

Maybe we should add something to the comment box such as:

<em>Click _refresh_ after 'Save' if comments refer to
previous results.</em>

Or can you suggest another way to say this in a brief but
clear manner?

\start
Date: Mon, 11 Jul 2005 22:17:52 -0500
From: MathAction (billpage)
To: MathAction
Subject: [#191 exquo and therefore gcd cannot handle UP(x,EXPR INT)] MathActionProblems

William Sit wrote:

> Probably just erase the whole thing?

Perhaps some part of the discussion about MathAction should
go into MathActionProblems?

But I think you can edit this issue report so that it is simple
and to the point about just the issue.

\start
Date: Mon, 11 Jul 2005 22:08:33 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#191 exquo and therefore gcd cannot handle UP(x,EXPR INT)] Thanks

Bill, thanks for confirming what MathAction does. Actually, I simply
did not notice the "Click refresh to recalculate all" and now that I
am aware of the difference between edit and add comment, that should
be ok.  Prior to your upgrading preview for comments, I seldom use add
comments, to avoid broadcasting too many editing changes after save.

In order to present a consistent page, there should not be this
difference. I think any time someone press "save" (or even "preview")
using "add comments", the entire page should be recomputed. (I know
this is less efficient, but it would avoid treating potentially
unintentional wrong results as correct (since when a viewer reads the
page, the same error remains until page is refreshed). And we did a
lot of minor editing that would recompute anyway (even though very
often, the axiom code was not changed).

Now I don't know what to do with the "wrong" but correct answer to
'gcd(p,r)' because it is now recorded with the correct result (after I
did a refresh)! Probably just erase the whole thing?

\start
Date: Mon, 11 Jul 2005 22:00:57 -0500
From: MathAction (Camm Maguire)
To: MathAction
Subject: [#190 Compile fail on Fedora Core 4] [#190 Compile fail on Fedora Core 4] (nuovo)

Greetings!  GCL works around RH's randomization of sbrk (an absolute
necessity) by making use of the sysctl i386 personality calls as done
in the 'setarch' utility.  This works on FC2 and FC3.  It would be
helpful if you could discover why this apparently does not work in
FC4.  The failed tester program and output should be in the file
config.log.

Take care,

MathAction (anonimo) writes:

> Changes http://page.axiom-developer.org/zope/mathaction/190CompileFailOnFedoraCore4/diff
> --
> Compile fail on Fedora Core 4. The error seems to be the randomized sbrk. 
> How can I avoid it?
> 
> Thanks
> Domenico
> 
> 
> 
> checking endianness... little
> checking for sbrk... yes
> checking for randomized sbrk... yes
> checking for randomized brk remedy... no
> Cannot build with randomized sbrk
> make[3]: Entering directory `/home/dmo/axiom/lsp/gcl-2.6.6'
> rm -f bin/gcl xbin/gcl
> MGCLDIR=`echo /home/dmo/axiom/lsp/gcl-2.6.6 | sed -e 'sX^\([a-z]\):X/\1Xg'` ; \
> GCLDIR=`echo /home/dmo/axiom/lsp/gcl-2.6.6` ; \
> make install-command "INSTALL_LIB_DIR=$GCLDIR" "prefix=$GCLDIR" "BINDIR=$MGCLDIR/unixport"
> make[4]: Entering directory `/home/dmo/axiom/lsp/gcl-2.6.6'
> rm -f /home/dmo/axiom/lsp/gcl-2.6.6/bin/gcl
> (echo '#!/bin/sh' ; \
> echo exec /home/dmo/axiom/lsp/gcl-2.6.6/unixport/ \\ ; \
> echo '   -dir' /home/dmo/axiom/lsp/gcl-2.6.6/unixport/ \\ ; \
> echo '   -libdir' /home/dmo/axiom/lsp/gcl-2.6.6/ \\ ; \
> echo '   -eval '\''(setq si::*allow-gzipped-file* t)'\' \\ ;\
> ! [ -d "" ] || echo '   -eval '\''(setq si::*tk-library* '\"\"')'\' \\;\
> echo '     '\"\$@\" ) > /home/dmo/axiom/lsp/gcl-2.6.6/bin/gcl;
> echo '#' other options: -load "/tmp/foo.o" -load "jo.lsp" -eval '"(joe 3)"' >> /home/dmo/axiom/lsp/gcl-2.6.6/bin/gcl
> chmod a+x /home/dmo/axiom/lsp/gcl-2.6.6/bin/gcl
> rm -f /home/dmo/axiom/lsp/gcl-2.6.6/bin/gclm.bat
> if gcc --version | grep mingw >/dev/null 2>&1 ; then (echo '@SET cd='; \
>  echo '@SET promp%prompt%'; \
>  echo '@PROMPT SET cd'; \
>  echo '@CALL>%temp%.\setdir.bat'; \
>  echo '@'; \
>  echo '% do not delete this line %'; \
>  echo '@ECHO off'; \
>  echo 'PROMPT %promp'; \
>  echo 'FOR %%c IN (CALL DEL) DO %%c %temp%.\setdir.bat'; \
>  echo 'set cwd=%cd%'; \
>  echo 'set libdir=%cd%\..\lib\gcl-`cat majvers`.`cat minvers`'; \
>  echo 'set unixportdir=%libdir%\unixport'; \
>  echo 'path %cd%\..\mingw\bin;%PATH%'; \
>  echo "start %unixportdir%\.exe -dir %unixportdir% -libdir %libdir% -eval \"(setq si::*allow-gzipped-file* t)\" %1 %2 %3 %4 %5 %6 %7 %8 %9" ) > /home/dmo/axiom/lsp/gcl-2.6.6/bin/gclm.bat ; fi
> rm -f /home/dmo/axiom/lsp/gcl-2.6.6/bin/gclfinal.bat
> if gcc --version | grep -i mingw >/dev/null 2>&1 ; then (echo 'ECHO path %1\mingw\bin;%PATH% > gcli.bat'; \
>  echo "ECHO start %1\lib\gcl-`cat majvers`.`cat minvers`\unixport\.exe -dir %1\lib\gcl-`cat majvers`.`cat minvers`\unixport -libdir %1\lib\gcl-`cat majvers`.`cat minvers` -eval \"(setq si::*allow-gzipped-file* t)\" %1 %2 %3 %4 %5 %6 %7 %8 %9 >> gcli.bat" ) > /home/dmo/axiom/lsp/gcl-2.6.6/bin/gclfinal.bat ; fi
> make[4]: Leaving directory `/home/dmo/axiom/lsp/gcl-2.6.6'
> (cd xbin ; cp ../bin/gcl .)
> cd cmpnew && make gcl_collectfn.o
> make[4]: Entering directory `/home/dmo/axiom/lsp/gcl-2.6.6/cmpnew'
> ../unixport/saved_pre_gcl ../unixport/ -compile gcl_collectfn.lsp
> make[4]: ../unixport/saved_pre_gcl: Command not found
> make[4]: *** [gcl_collectfn.o] Error 127
> make[4]: Leaving directory `/home/dmo/axiom/lsp/gcl-2.6.6/cmpnew'
> make[3]: *** [cmpnew/gcl_collectfn.o] Error 2
> make[3]: Leaving directory `/home/dmo/axiom/lsp/gcl-2.6.6'
> /bin/sh: unixport/saved_gcl: No such file or directory
> make[2]: *** [gcldir] Error 127
> make[2]: Leaving directory `/home/dmo/axiom/lsp'
> make[1]: *** [lspdir] Error 2
> make[1]: Leaving directory `/home/dmo/axiom'
> make: *** [all] Error 2
> [dmo@localhost axiom]$

\start
Date: Mon, 11 Jul 2005 22:09:13 -0500
From: MathAction (billpage)
To: MathAction
Subject: [#191 exquo and therefore gcd cannot handle UP(x,EXPR INT)] simplify does not apply to	UnivariatePolynomial(x, Expression Integer)

but it can be coerced to Expression Integer
\begin{axiom}
simplify(q::Expression Integer)
\end{axiom}

\start
Date: Tue, 12 Jul 2005 12:33:11 +0200
From: Martin Rubey
To: Bill Page
Subject: IssueTracker anonymous property changes

Dear Bill,

property changes as below with no explanation appear regularly on IssueTracker.

Is there a way that only identified people may commit such changes? I.e.,
changes from open to anything else?

Martin

unknown writes:

 > Category: Axiom Interpreter => Axiom Mathematics 
 > Severity: critical => minor 
 > Status: open => testing 
 > 

\start
Date: Tue, 12 Jul 2005 13:24:48 +0200
From: Martin Rubey
To: Bill Page
Subject: RE: proposed fixes
Cc: Camm Maguire

Dear Bikk, Tim, Camm, *,

Page, Bill writes:
 > > Bill: could you transfer the remaining open bugs from savannah,
 > > especially #9298...
 > 
 > Ok. Do you know if any other reports form Savannah are missing?

Well, you can easily find out yourself, since you tagged those which are
already transferred with a "transferred" tag on savannah...

I don't really know which of those are duplicates. However, it is no problem in
IssueTracker to mark them as duplicate. I'd propose that you transfer all of
them, and with time I mark those as duplicate that are. (Usually this happens
when I try to debug one)

 > > Camm: when Bill has done this, could you please upload your
 > > (temporary) fix for the bug in new!
 > 
 > Is that an Axiom patch or a GCL patch? If it is GCL then it
 > might already be in the version of GCL that we use to build
 > Axiom.

It was an axiom patch. And as far as I remember, even Manuel Bronstein was
d'accord. There was only some minor non-issue, which wouldn't introduce any
bugs anyway.

 > > -------------------------------------------------------------------
 > >
 > > I must say that I'm a bit unhappy about the bug fixing - pro{c,gr}ess.

 > The bottleneck in getting proposed fixes into Axiom is just that no besides
 > Tim Daly is actually posting any changes to the Axiom source archives. Tim
 > has a million other things to do in this project beside test patches and
 > commit changes to the archive, so these get done when he manages to steal
 > time from something else that he would rather be doing. (We all have lives
 > besides Axiom, I guess ... but we tend to forget that of others. :)

Very true.

 > So the best solution of this problem is if someone (or more people) besides
 > Tim would start to actively contribute changes directly to one of the source
 > archives.

OK, send me a password and some instructions and I'll do it. I'd follow the
following lines:

  When a proposed fix remains (in principle) unmodified for at least one month
  on IssueTracker, I'll ask on axiom-developer and axiom-math whether anybody
  is against applying this fix.

  If this is not the case, I'll try to organize the documentation and patch the
  pamphlet file.

(Un)fortunately, I don't have the skills for patching Makefiles, or .boot
files, so I think I'll stay with the .spad files only.

What I'd need are instructions (and passwords) how I can apply a patch in the
archive. And the OK from Tim.

 > > We simply don't have the (wo)manpower to do everything the
 > > "right" way immediately.
 > 
 > I certainly agree with that!
 > 
 > > I'm absolutely certain that a bad fix is better than no fix.
 > 
 > We definitely have different opinions about this. I think that usually a
 > "bad fix" is much worse than "no fix". As long as we clearly document what
 > the problem is, then most users can compensate for such "known
 > problems". The existence of these known problems is what motivates proper
 > solutions. If one accepts temporary "bad" solutions, these very often become
 > permanent since we have no extra resources to correct things that are now
 > "more or less ..." working.

I think this depends on the documentation: A documented "bad" fix does not
create any problems. If it is marked as "bad fix", I doubt that it will attract
*less* attention than something that doesn't work at all.

 > Of course there is a limit to how many such problems one can live with.

Yes.
 
 > > -----------------------------------------------------------
 > >
 > > Bounties:
 > >
 > > I'd like to propose two bounties:
 > >
 > > * a bounty for somebody who implements a fast rational
 > >   interpolation algorithm
 > 
 > Sounds like a good one to me.
 > 
 > > * a bounty for somebody who implements an interpreter for
 > >   aldor in lisp.
 > 
 > Say what?! Isn't that exactly what Axiom's interpreter is right now? What do
 > you mean?
 > 
 > Aldor used to be Axiom's prefer library compiler. I don't see any reason why
 > this cant be again. Only a few technical problems remain for it's
 > re-integration in to the new open source version of Axiom.

In fact, most of the technicalities have been adressed (by Peter, I think),
however, they have only been applied partially. This is the content of Issue
#37.

What is completely open however is the following: 

First, the Aldor compiler is not free. Thus, I think it would be good to have a
free replacement, and it is obvious to me that this should be done in lisp.

Second, Aldor and Spad differ slightly, for example, Aldor allows more
flexibility with dependend types than Spad. The interpreter in Axiom is not yet
prepared to handle this. I think it will be easier to integrate a free Lisp
Aldor interpreter than a non-free C Aldor interpreter.

Finally, note that Aldor is a well defined language. There is not much room for
changes. I expect, that Aldor won't change at all in the next few years (apart
from bugs that get fixed). Thus it is *possible* to write a replacement.

 > 
 > > If you reply before tommorow afternoon (european time), I could formulate
 > > these bounties and send them to comp.lang.lisp and sci.math.
 > 
 > I think that is a good idea.
 > 
 > > I'd give only symbolic prices, i.e., 200$ each.
 > 
 > Sounds good to me. The Axiom Foundation is very poor financially speaking
 > and could afford much more than that anyway.

Bill, you were the only one who replied. Since the Aldor bounty is not enough
thought-through, I think I concentrate on the rational-interpolation bounty. Do
I have to wait for permission from the other axiom-foundation members?

 > ---------------------------------------------------------------
 > 
 > > I'm off for two weeks of holidays saturday, so: no email,
 > > no axiom.
 > 
 > Ah, a life beside Axiom ... :) How's your (new) family coming
 > along?

Great. I wish I had more time for both Family and Axiom and Maths...

\start
Date: Tue, 12 Jul 2005 13:43:19 +0200
From: Martin Rubey
To: Bob McElrath
Subject: Re: document, graphics

Dear Kai, Bob, *,

Bob McElrath writes:


 > > Suppose we want to support LaTeX as an input syntax for 
 > > HyperDoc pages or something similar (Martin Rubey wants this, as I 
 > > understand). Do we want to put a LaTeX parser into Axiom? Do we want to 
 > > implement one in Javascript? 
 > 
 > This is fundamentally impossible because LaTeX is mathematically amgibuous.
 > e.g.

 >     \int_a^b x d x
 >     \int_a^b d x d x

 > 'd' is a constant.  For that matter presentation MathML is also
 > mathematically ambiguous.  (hence the creation of content mathml and
 > OpenMath)

This is a misunderstanding. What I meant is, that the thing should be
able to *render* LaTeX, just as it renders plain text. No semantics
here. I need to be able to present mathematical formulas in my
documentation, no more. MathAction nearly does this. (Nearly, since $
sometimes has to be escaped, for example)

-------------------------------------------------------------------------------

 > > I would much prefer to have a different format for HyperDoc pages than
 > > HTML, because HTML doesn't capture the semantics of Axiom or HyperDoc.

What I think is we need ONE thing that replaces

  MathAction

  HyperDoc

  pamphlets (i.e., dvi viewer)

  the graphics viewers.

(I'm perfectly aware of the fact that these four items *seem* to be
fundamentally different, especially the last one. I'm absolutely sure
that they are not.)

Thus, the first step (and I think that it is nearly done), is to
define a good file format, that is able to carry the necessary
semantics. Currently we have three file formats, that are all "similar
but different".

As I've tried to explain, I think that it should be possible to use a
normal editor to create a file in this format, and that it should be
possible to write an article. I think that the most accessible format
would be LaTeX + special environments. This would also be most similar
to HyperDoc. The reason is that I don't want to keep two (only
syntactically different) versions of my article.

\start
Date: Tue, 12 Jul 2005 16:39:35 +0200
From: Martin Rubey
To: Bill Page
Subject: RE: document, graphics
Cc: Ralf Hemmecke

Dear Bill, Bob, Kai, Ralf, *,

 > What is the size of the unit input transaction? Would one Axiom command per
 > transaction might be too limiting?

No.

 > Of course it might consist of multiple lines even for a single command. But
 > what about multi-line function definitions? What about compiling SPAD code,
 > versus interactive use? Should we treat a SPAD compile as a unit
 > transaction?

Yes. Well, the compile of one domain or category. If I'm not very mistaken,
domains and categories are simply (complicated) function definitions.

 > What about Axiom commands that do not increment the line counter
 > such as
 > 
 >  )set output autoload off

In fact, )co is also such a command, I think.

(I'm very much hoping that in future the interpreter will also be able to
handle domain and category definitions...)


 > > The second part of the discussion is non-mathematical input/output.
 > > e.g. graphs, diagrams.  Can we do the same thing as for mathematical
 > > output?  (e.g. the output contains only data structures and hints, and
 > > no code?)  This requires a graph renderer/manipulator which understands
 > > the underlying data structure.  (e.g. 1-dimensional point set,
 > > 2-dimensional graph, 3d point set with mesh, etc) "understanding the
 > > data structure" is a separate problem from "communicating the data
 > > structure" since the latter can be simply marshaled into an sexp
 > > or XML data structure.
 > >
 > > Furthermore "draw" should really be an alias for "give me a point-set
 > > approximation".  Axiom generates a point-set.  The *user-interface*
 > > must decide what to do with it.
 > 
 > I am not convinced that a "point-set" language would be adequate
 > given problems of resolution, scaling, rotation etc.

Me neither. But maybe the user interface can ask axiom to produce this or
that. As far as I know, this is the way graphics is handled now. Look at 
view2D.spad and view3D.spad. By the way, SOCK_-GET_-FLOAT doesn't work on linux
right now, see bug #161...


 > > ... let's keep "pamphlet" as our primary format for the
 > > time being, and convert it.
 > 
 > Convert it during the build and install process? Continue
 > to maintain it in the format used now. Right?

yes, yes, yes! Though I wouldn't mind if the pamphlet format would change. The
philosophy should remain the same! Ralf Hemmecke thought quite a bit about a
better documentation format for Aldor, which would also work for Axiom, of
course. What is missing currently in the pamphlet format is an environment that
briefly documents the domain/package/category and an environment that briefly
documents an operation. For HyperDoc, this was done with the +++ and ++
comments.

\start
Date: Tue, 12 Jul 2005 23:02:08 -0500
From: MathAction (billpage)
To: MathAction
Subject: [#94 TeX output misses parenthesis in FACTORED] 

)set output algebra on

Compare:
\begin{axiom}
  -(x^2+1)
\end{axiom}
\begin{axiom}
  -((x^2+1)::Factored POLY INT)
\end{axiom}

\start
Date: Tue, 12 Jul 2005 22:51:37 -0500
From: Tim Daly
To: list
Subject: offline

I'll be offline until Monday 7/18 due to a household move. 
Sorry for the outages but life intervenes in almost everything eventually :-)

\start
Date: Wed, 13 Jul 2005 00:12:39 -0400
From: Bill Page
To: Martin Rubey
Subject: RE: IssueTracker anonymous property changes

On Tuesday, July 12, 2005 6:33 AM Martin Rubey wrote:

> property changes with no explanation appear regularly on
> IssueTracker.
>
> Is there a way that only identified people may commit such changes?
> I.e., changes from open to anything else?

I have changed IssueTracker so that it is necessary for a user to
identify themselves by setting name and email address in preferences
before being able to apply property changes to issues. This is the
same as now required for edit.

I have also improved the formatting of the properties section of the
issue reports a little and introduced new color coding for 'duplicate'
reports (yellow) and for reports with 'fix proposed' (light green).

Let me know if you have comments.

\start
Date: Tue, 12 Jul 2005 23:41:07 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [MathAction problems] 

>From wyscc Mon Jul 11 18:54:08 -0500 2005
From: wyscc
Date: Mon, 11 Jul 2005 18:54:08 -0500
Subject: Magic? I 'm confused!

For some unknown reason, ![my output] *was* ![wrong] but now becomes
the correct answer! (Actually, it turns back to ![wrong] when I click
the "reply", but for the page, it gave the correct answer [when] redone!

>From wyscc Mon Jul 11 19:09:14 -0500 2005
From: wyscc
Date: Mon, 11 Jul 2005 19:09:14 -0500
Subject: Oh, my! MathAction playing tricks.

When I edit the message of Mon, 11 Jul 2005 18:18:25 -0500, and preview,
the *answer* changes to the correct one! When I cancel this change, the
correct answer remains, but then if I "reply" to the message again ![it
becomes wrong] again.

Reason: When I *edit*, the entire page is re-rendered and hence the answer
is the correct answer (not 1), but when I *reply*, a new instance of Axiom
is started, and hence the value of 'p' is just a variable 'p'.

I think Mathaction should be more consistent, or else we may be wasting a
lot of time.

>From wyscc Mon Jul 11 19:39:36 -0500 2005
From: wyscc
Date: Mon, 11 Jul 2005 19:39:36 -0500
Subject: Conclusion

So Mathaction should give a warning that in using the reply box (instead of
directly editing the page), a new session of Axiom is initiated.

>From BillPage Mon Jul 11 21:24:05 -0500 2005
From: Bill Page
Date: Mon, 11 Jul 2005 21:24:05 -0500
Subject: MathAction playing tricks

William Sit wrote:

> When I edit, the entire page is re-rendered and hence the answer
> is the correct answer (not 1), but when I reply, a new instance
> of Axiom is started.

That is essentially correct. It is a limitation of MathAction.

In fact, in both cases a new Axiom session is started when you
click 'Save'. Axiom starts, computes some output and then stops.
The output is converted to a web page (rendered) and the resulting
web page is saved. But the state of the calculation in Axiom is
not saved.

As you say, the difference is that when you use 'edit' and then
'Save', all of the commands on the whole page are executed by
Axiom and the entire page is re-rendered. But when you simply
use 'Add comment', only the commands contained in that comment
are executed by Axiom, nothing else. The additional comment is
rendered and then added to the bottom of the existing page.

'Preview' does the same except the result is not saved.

This means that the commands contained in the comment will not
refer to any previously computed values on the same page until
the whole page is re-calculated, either by a subsequent 'edit'
and 'Save' or by clicking 'refresh' (see right side above comment
box).

> Mathaction should give a warning

Maybe we should add something to the comment box such as:

<em>Click _refresh_ after 'Save' if comments refer to
previous results.</em>

Or can you suggest another way to say this in a brief but
clear manner?

>From wyscc Mon Jul 11 22:08:32 -0500 2005
From: wyscc
Date: Mon, 11 Jul 2005 22:08:32 -0500
Subject: Thanks

Bill, thanks for confirming what MathAction does. Actually, I simply
did not notice the "Click refresh to recalculate all" and now that
I am aware of the difference between edit and add comment, that
should be ok.  Prior to your upgrading preview for comments, I seldom
use add comments, to avoid broadcasting too many editing changes after
save. 

In order to present a consistent page, there should not be this
difference. I think any time someone press "save" (or even "preview")
using "add comments", the entire page should be recomputed. (I know
this is less efficient, but it would avoid treating potentially
unintentional wrong results as correct (since when a viewer reads the
page, the same error remains until page is refreshed). And we did a
lot of minor editing that would recompute anyway (even though very
often, the axiom code was not changed).

\start
Date: Tue, 12 Jul 2005 23:47:17 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#191 exquo and therefore gcd cannot handle UP(x,EXPR INT)] 

simplify(q::EXPR INT)

When done in step by step, Axiom does coerce 'r' correctly to what a normal
user would expect. So the question is: why would it make a difference when
everything is put on one line? 

My guess is that when the command is in one line, the arguments are evaluated
first (supported by the sequence displayed with ')set mess bot on' ) and the
coercion is done without the benefit of knowledge that 'gcd' is to be involved.
Without this, the coercion from 'EXPR INT' to 'UP(x,EXPR INT)' is one from the
coefficient to the univariate polynomial ring. Then the gcd is performed without
further problem and yields '1'.  In the step by step case, even though in
'gcd(p,r)', 'r' has type 'EXPR INT', the Interpreter is looking for a map 'gcd'
and not finding one, will now coerce 'r' to 'UP(x, EXPR INT)' and this time,
the coercion was done in a different way. Unfortunately, ')set mess bot on'
does not help here.

\start
Date: Wed, 13 Jul 2005 00:47:29 -0500
From: MathAction (billpage)
To: MathAction
Subject: [#191 exquo and therefore gcd cannot handle UP(x,EXPR INT)] $2^{a2}$ vs $4^a$

Notice the result of the simplification:
\begin{axiom}
p:=(x-2^a)::UP(x, EXPR INT)
q:=simplify((x-2^a)*(x+2^a))::UP(x, EXPR INT)
gcd(p, q)
\end{axiom}
Without the simplification:
\begin{axiom}
r:=((x-2^a)*(x+2^a))::UP(x, EXPR INT)
gcd(p, r)
\end{axiom}
The problem seems to be that Axiom does not always treat $2^{a2}$
the same as $4^a$.

\start
Date: Wed, 13 Jul 2005 01:24:14 -0500
From: MathAction (unknown)
To: MathAction
Subject: [#190 Compile fail on Fedora Core 4] 

The same error appear compiling gcc-2.6.6 alone.

This is axiom's config.log

This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

configure:786: checking host system type
configure:1199: checking for gcc
configure:1312: checking whether the C compiler (gcc    ) works
configure:1328: gcc -o conftest      conftest.c  1>&5
configure:1354: checking whether the C compiler (gcc    ) is a cross-compiler
configure:1359: checking whether we are using GNU C
configure:1368: gcc -E conftest.c
configure:1387: checking whether gcc accepts -g
configure:1419: checking how to run the C preprocessor
configure:1440: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1547: checking for gawk
configure:1663: checking system version (for dynamic loading)
configure:1671: checking for makeinfo
configure:1728: checking for unistd.h
configure:1738: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1755: checking for sysconf in -lc
configure:1774: gcc -o conftest      conftest.c -lc   1>&5
configure:1790: checking for _SC_CLK_TCK
configure:1807: gcc -o conftest      conftest.c  1>&5
configure:1851: checking for gmp.h
configure:1861: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:1878: checking for __gmpz_init in -lgmp
configure:1897: gcc -o conftest      conftest.c -lgmp   1>&5
configure:1913: checking for external gmp version
configure:1929: gcc -o conftest      conftest.c  1>&5
configure:2008: checking for leading underscore in object symbols
configure:2022: checking for GNU ld option -Map
configure:2039: checking for size of gmp limbs
configure:2055: gcc -o conftest      conftest.c  1>&5
configure:2078: checking _SHORT_LIMB
configure:2095: gcc -o conftest      conftest.c  1>&5
configure: failed program was:
#line 2083 "configure"
#include "confdefs.h"
#include <stdio.h>
	#include "/usr/include/gmp.h"
	int main() {
	#ifdef _SHORT_LIMB
	return 0;
	#else
	return 1;
	#endif
	}
configure:2111: checking _LONG_LONG_LIMB
configure:2128: gcc -o conftest      conftest.c  1>&5
configure: failed program was:
#line 2116 "configure"
#include "confdefs.h"
#include <stdio.h>
	#include "/usr/include/gmp.h"
	int main() {
	#ifdef _LONG_LONG_LIMB
	return 0;
	#else
	return 1;
	#endif
	}
configure:2167: checking for X
configure:2481: checking for dnet_ntoa in -ldnet
configure:2500: gcc -o conftest      conftest.c -ldnet   1>&5
/usr/bin/ld: cannot find -ldnet
collect2: ld returned 1 exit status
configure: failed program was:
#line 2489 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char dnet_ntoa();

int main() {
dnet_ntoa()
; return 0; }
configure:2522: checking for dnet_ntoa in -ldnet_stub
configure:2541: gcc -o conftest      conftest.c -ldnet_stub   1>&5
/usr/bin/ld: cannot find -ldnet_stub
collect2: ld returned 1 exit status
configure: failed program was:
#line 2530 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char dnet_ntoa();

int main() {
dnet_ntoa()
; return 0; }
configure:2570: checking for gethostbyname
configure:2598: gcc -o conftest      conftest.c  1>&5
configure:2668: checking for connect
configure:2696: gcc -o conftest      conftest.c  1>&5
configure:2760: checking for remove
configure:2788: gcc -o conftest      conftest.c  1>&5
configure:2852: checking for shmat
configure:2880: gcc -o conftest      conftest.c  1>&5
configure:2953: checking for IceConnectionNumber in -lICE
configure:2972: gcc -o conftest      -L/usr/X11R6/lib conftest.c -lICE   1>&5
configure:3003: checking for main in -lXmu
configure:3018: gcc -o conftest      conftest.c -lXmu  -L/usr/X11R6/lib  1>&5
configure:3040: checking for main in -lXt
configure:3055: gcc -o conftest      conftest.c -lXt  -L/usr/X11R6/lib -lXmu  1>&5
configure:3077: checking for main in -lXext
configure:3092: gcc -o conftest      conftest.c -lXext  -L/usr/X11R6/lib -lXmu -lXt  1>&5
configure:3114: checking for main in -lXaw
configure:3129: gcc -o conftest      conftest.c -lXaw  -L/usr/X11R6/lib -lXmu -lXt -lXext  1>&5
configure:3151: checking for main in -lX11
configure:3166: gcc -o conftest      conftest.c -lX11  -L/usr/X11R6/lib -lXmu -lXt -lXext -lXaw  1>&5
configure:3260: checking for bfd.h
configure:3270: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:3287: checking for bfd_init in -lbfd
configure:3306: gcc -o conftest      conftest.c -lbfd -liberty  1>&5
configure:3325: checking if need to define CONST for bfd
configure:3336: gcc -o conftest      conftest.c  1>&5
configure:3394: checking for useable bfd_boolean
configure:3406: gcc -o conftest      conftest.c  1>&5
configure:3593: checking size of long
configure:3613: gcc -o conftest      conftest.c  1>&5
configure: In function 'main':
configure:3607: warning: incompatible implicit declaration of built-in function 'exit'
configure:3633: checking sizeof struct contblock
configure:3686: gcc -o conftest      conftest.c  1>&5
configure:3711: checking for endian.h
configure:3721: gcc -E  conftest.c >/dev/null 2>conftest.out
configure:3742: checking endianness
configure:3753: gcc -o conftest      conftest.c  1>&5
configure:3780: checking for sbrk
configure:3798: gcc -o conftest      conftest.c  1>&5
configure:3814: checking for randomized sbrk
configure:3831: gcc -o conftest      conftest.c  1>&5
configure:3863: gcc -o conftest      conftest.c  1>&5
configure:3883: checking for randomized brk remedy
configure:3908: gcc -o conftest      conftest.c  1>&5
configure:3948: gcc -o conftest      conftest.c  1>&5

\start
Date: Wed, 13 Jul 2005 10:52:59 +0200
From: Martin Rubey
To: William Sit
Subject: hyperdoc searches with wildcards

Dear William,

you reported that hyperdoc searches with wildcards don't work on your
machine. (Bug #168)

Could you please try the fix proposed in #153 and tell me whether this works
for you. (I think it works for me, but I have so many patches applied, that I
can't tell which one fixed #168)

If yes, I can mark yet another bug report as duplicate!

\start
Date: Wed, 13 Jul 2005 05:38:32 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [MathActionDevelopment] 

Recently Completed

  - Implemented MathAction access policy for properties changes in IssueTracker

    Users must provide name and email address before they are allowed to change
    status, severity, and category.

  - Provide "one-click" LaTeX symbols in comment form

    Clicking on::

      !\begin{axiom}
        axiom command
      \end{axiom}

    enters this text into the comment window. Similarily for other constructs
    and symbols on this form. Just click the symbol to insert the corresponding
    LaTeX command. You can select several different sets of symbols.

\start
Date: Wed, 13 Jul 2005 07:16:23 -0500
From: MathAction (kratt6)
To: MathAction
Subject: [#192 Folding does not work in Konqueror 3.1.4] (nouveau) 

Nothing happens when I click on any of the fold/unfold buttons.

Still, the idea is very nice!

\start
Date: Wed, 13 Jul 2005 08:30:41 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#192 Folding does not work in Konqueror 3.1.4] I suggest you try it with a newer version of Konqueror

The current versions is 3.4

See: http://www.konqueror.org

\start
Date: Wed, 13 Jul 2005 11:43:35 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#191 exquo and therefore gcd cannot handle UP(x,EXPR INT)] 

  In EXPR INT, $2^a$ and $2^{(2a)}$ are treated as two variables

Thus, in our case, at one point p1 is $4^a-2^{(2a)}$, which is zero

>From billpage Wed Jul 13 00:47:27 -0500 2005
From: billpage
Date: Wed, 13 Jul 2005 00:47:27 -0500
Subject: $2^{{a2}}$ vs $4^a$

The problem seems to be that Axiom does not always treat $2^{a2}$
the same as $4^a$.

q:=(x-2^a)*(x+2^a)
qq:= simplify(q)
r:= q::dom
rr:= qq::dom

gcd(p,r)
gcd(p,qq)
gcd(p,rr)
q - qq
simplify q - qq
simplify ((r - rr)::EXPR INT)
t:Boolean:=(r = rr)

Comments from wyscc:

Martin wrote:
> I'm afraid that this cannot be fixed easily, since there is no
> general mechanism to determine whether an expression is zero or not,
> which is needed in exquo.

Your analysis seems to be the correct diagnosis. The problem has
nothing to do with 'gcd' or 'exquo', but with the fact that
simplification is an art as there is no canonical form for expressions
and hence no way to test equality (which is in general *different*
from testing zero, a special case needed for 'exquo'). More frequent
use of simplification will help but will not eliminate the
problem. Here, it is because the expressions $4^a$ and $2^{2a}$ are
not handled by an automatic simplification in 'UP(x, R)' (that is, not
pushed down to the level of 'R').

\start
Date: Wed, 13 Jul 2005 12:48:03 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [Tuples Products And Records] 

Hi Bill:

Yes, we are finally agreeing on something. Use '(A,B,C, ...)" for vanilla cartesian product and use 'Mapping(D, (A,B))' instead of 'Mapping(D,A,B)'; and better still allow 'Mapping((C,D),(A,B))'.

> I am not sure what you mean by not implementing:

>> external interfaces for the projection maps in a Cartesian product

>To me, a product is defined by it's projections. You can hide other details of the implementation of a product if you wish, but not the projections. If you did, then it is mathematically speaking no longer a product. 

While it is true that in any specification of a 'CartesianProductCategory(L: List Domains)', the projections should be exported, there is no requirement that they must be implemented. (That is the general situation currently in Axiom). To hide info, it is possible that the projections are only implemented as local functions in the domain. Whether you want to consider that as acceptable *in Axiom* is subject to further discussion, but mathematically, the domain remains a Cartesian product.

>I think we agree that the "vanilla Cartesian product" (A,B) necessarily has projections, right? That is all I want. I am not arguing against encapsulation or information hiding in the case of the representations of other constructed domains. So I think that we agree! :) 

Agreed.

>Otherwise "arity" as you have been describing it, is a peculiar thing in Axiom. It is the number of inputs to the Mapping constructor minus 1. In my case I want the function Mapping constructor to be the exponential object in a CCC and of course that has exactly two inputs.

That is why I said your proposal to change the notation in 'Mapping' is syntactic sugar. You want to use an exponential notation and yet you want to count arity as the dimension of the cartesian product, but to count arity as the number of inputs in *any* other. So :

<pre>
arity of Mapping(D,(A,B)) is two.
arity of Mapping(D, (A,B,C)) is three.
arity of Mapping(D,((A,B),C)) is three? (I would say two)
arity of Mapping(D, Record(a:A, b:B)) is two? (I would say one)
arity of Mapping(D, (Record(a:A, b:B))) is two? (I would say one)
arity of Mapping(D, DirectProduct(5,A)) causes a syntax error, or considered same as:
         Mapping(D, (DirectProduct(5,A))) and has arity one.
arity of Mapping(D, (DirectProduct(5,A), (A,B)) is three? (I would say two)
arity of Mapping(D, ((A,B), Record(a:A, b:B)) is two? three? four? (I would say two)
</pre>

If we do not agree, then it shows such conventions are very confusing. In that case, perhaps you can give a precise syntax and definition of arity that covers all the above cases?

\start
Date: Wed, 13 Jul 2005 23:51:36 -0500
From: MathAction (billpage)
To: MathAction
Subject: [#78 Axiom access to OpenMath library no longer works] 

$\alpha \beta \gamma \psi $

\alpha \mu \psi \omega \nu \beta 

\start
Date: Thu, 14 Jul 2005 08:15:13 -0500
From: MathAction (kratt6)
To: MathAction
Subject: [#47 complexForm(log(%i) - log(-%i))] EXPR INT	does not have OrderedRing

Hm, replacing 'RealNumberSystem' with 'OrderedRing' does not really
work, since 'EXPR INT' does not have 'OrderedRing'... Furthermore,
'FRAC INT' does not have 'TRAFUN'... On the other hand, asking for
'TranscendentalFunctionCategory' also seems a lot, since only division
by two is required.

Questions: 

* Should 'EXPR INT' have 'OrderedRing' ?

* Is 'TRAFUN' really necessary?

\start
Date: Thu, 14 Jul 2005 12:54:54 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#192 Folding does not work in Konqueror 3.1.4] Using folding to implement tabs

SandBoxTabs contains another example of the sime javascript
content folding tools to implement tabs in the browser. I have
tested this with FireFox 1.0.4 and IE 6 sp2 on Windows XP and
it seems to work well. I would like to receive reports from
other users about how this works (or doesn't) on their systems.
(Please include a detailed description of the software and
operating system.)

I would also be very interested of your opion about the new
"point-and-click" features in the comment box. Everything
that you see in the grey box at the bottom of the page, above
the comment box, is "live" and can help with editing - especially
for new users (I hope).

\start
Date: Thu, 14 Jul 2005 13:13:42 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#192 Folding does not work in Konqueror 3.1.4] Using folding to implement tabs

SandBoxTabs contains another example of the simple javascript

I would also be very interested in your opion about the new

\start
Date: Thu, 14 Jul 2005 15:56:44 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#47 complexForm(log(%i) - log(-%i))] 

myhalf: ()-> EXPR INT

Note, I think the current returns by 'argument(0::Complex EXPR INT)' and 'argument(0::Complex INT)' as '%pi/2' are wrong. 

Even 'POLY INT' does not have 'OrderedRing' and the reason given was
to allow 'EXPR' to implement 'abs'. I thought about this briefly and
wonder what 'abs' of a polynomial really should be and find no
satisfactory answer (one possibility is to define it relative to a
term-ordering as the 'abs' of the leading coefficient). You probably
noted that 'OrderedRing' is not the same as 'Join(OrderedSet,
Ring)'. One use of 'ORDRING' is to step through a segment. Clearly,
there is no canonical meaning to stepping from one expression (or
polynomial) to another (since some term-orderings like pure lex is not
*sequential* because there may be infinitely many monomials between
two).

\start
Date: Thu, 14 Jul 2005 15:49:20 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#47 complexForm(log(%i) - log(-%i))] 

<hr>
From: wyscc Thurs Jul 14 15:30:00 -5:00

>On the other hand, asking for 'TranscendentalFunctionCategory' also seems a lot, since only division by two is required.

Looking at the code above, to define 'argument' in 'COMPCAT R', it seems we need, other than arithmetic in 'RING', the following:

<pre>
   R has OrderedSet 
   atan: % -> %
   zero?: R -> Boolean
   recip: % -> Union(%,"failed")
   pi: () -> R
</pre>

\begin{axiom}
half: ()-> EXPR INT
myhalf()==recip(2::EXPR INT)::EXPR INT
myArgument: Complex EXPR INT -> EXPR INT
myArgument(x) == 
  zero? real x =>
    imag(x) > 0 =>  pi()$(EXPR INT) * myhalf()
    imag(x) < 0 => - pi()$(EXPR INT) * myhalf()
    error "myArgument not defined at (0,0)"
  atan(imag(x)*recip(real(x)))
myArgument(-%i)
myArgument(%i)
myArgument(3+5*%i)
myArgument(3-5*%i)
myArgument(0::Complex EXPR INT)
\end{axiom}

Note, I think the current return of  'argument(0::Complex EXPR INT)' and 'argument(0::Complex INT)' as '%pi/2' are wrong. 

\begin{axiom}
argument(0::Complex INT)
argument(0::Complex EXPR INT)
\end{axiom}
    
             
> * Should 'EXPR INT' have 'OrderedRing' ?

Even 'POLY INT' does not have 'OrderedRing' and the reason given was
to allow 'EXPR' to implement 'abs'. I thought about this briefly and
wonder what 'abs' of a polynomial really should be and find no
satisfactory answer (one possibility is to define it relative to a
term-ordering as the 'abs' of the leading coefficient). You probably
noted that 'OrderedRing' is not the same as 'Join(OrderedSet,
Ring)'. One use of 'ORDRING' is to step through a segment. Clearly,
there is no canonical meaning to stepping from one expression (or
polynomial) to another (since some term-orderings like pure lex is not
*sequential* because there may be infinitely number of monomials
between two).

> * Is 'TRAFUN' really necessary?

You meant 'TRANFUN'? (Maybe it's not since searching hyperdoc with
'*TRANFUN*' under constructors only returns 'FortranFunctionCategory'
:-). Seriously, I believe the reason is, like any other categories in
Axiom, to allow multiple domains in the category (say due to the
different data-representations or algorithms, or whether one wants
symbolic computation or numerical), but to also provide a few default
implementations valid across all domains of the category (unless
overridden for some more efficient implementations).

In Axiom, it is easy (and we are sometimes forced) to spin out these
hierarchical categories and domains of abstractions. In any other
system, such abstractions are not really necessary because the author
usually dictates every choice (notation, algorithm, input, output
conventions). I once worked with a bright undergraduate student on
developing something intended to be partial differential polynomial
ring (where derivations are abstract operators, not necessarily the
d/dx type) and wanted a flexible way to input/output partial
differential algebraic equations (something rather simple?) and the
number of categories and domains simply proliferated. One of the main
hurdles is ordering the pieces (a general multivariate partial
differential monomial carries a lot of data and notation). The student
quitted, unfortunately leaving no notes of our numerous discussions on
the design. I wonder whether MB worked alone on the design for
transcendental functions or wrote notes to himse!  lf at least.

\start
Date: Thu, 14 Jul 2005 18:02:49 -0500
From: MathAction (William Sit)
To: MathAction
Subject: [#192 Folding does not work in Konqueror 3.1.4]

Hi Bill:

SandBoxTabs ran fine. Nice tabs. Can the tabs be placed vertically, like on the
left side of the window? That way the number of tabs won't be limited by the
width of the screen (although of course one can also scroll horizontally, but
vertical scroll seems more tolerable, to me). I am thinking these may be nested
to become something like the cell/group brackets in Mathematica's Notebook. (The
html code would become quite unreadable. Are the table tags manually generated?)

The point and click features: some symbols (like Sigma and Paragraph signs under
Latex column) not working ("error on page" for IE 6.0.2900 and just nothing
happens on Firefox (Windows XP SP2)). Most of the time, it is the LaTeX text
versions like \alpha that is pasted, not the actual symbol (the \circ is an
exception).

I am using: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.5)
Gecko/20041107 Firefox/1.0.

\start
Date: Fri, 15 Jul 2005 00:07:57 -0500
From: MathAction (billpage)
To: MathAction
Subject: [MathActionAssistantHelp] (new) 

The MathAction Assistant is a new interactive toolbar that appears at
the bottom of the 'edit' and 'Add comments' windows. It helps users
edit text containing LaTeX, Axiom and Reduce commands. MathAction
Assistant is especially intended for new users who may not be
familiar with LaTeX, Axiom or Reduce commands.

You may insert many commands into the edit/comment windows without
typing. Just point at the text or symbol in the toolbar that refers
to the command you need and click the mouse. The text of the command
will be inserted at the location of the cursor.

Click on the symbols in the top row of the toolbar to expand or
shorten the list of commands.

In most cases you can build more complex commands by first selecting
some text in the edit window, then clicking the the appropriate command
in the toolbar. The text which you had previously highlighted will be
inserted at the appropriate place in the command and the result will
be pasted into the edit window.

MathAction Assistant is not intended as complete command editor for
LaTeX, Axiom or Reduce. Only a carefully selected set of simple and
basic commands are included in the menus. For information on these and
other commands, the user is encouraged to search the web site (using
the search box in the top right corner of the browser window) and the
full documentation for either LaTeX, Axiom or Reduce.

Suggestions for improving MathAction Assistant would be greatly
appreciated. Comments and questions from new users of Axiom and Reduce
are especially encouraged to comment. Your input will help us make
the Assistant a more useful tool for everyone!

\start
Date: Fri, 15 Jul 2005 00:24:11 -0500
From: MathAction (billpage)
To: MathAction
Subject: [#192 Folding does not work in Konqueror 3.1.4] Nice Tabs and MathAction Assistant

Yes the tabs could be placed vertically. The software that makes
this possible is very basic and flexible. All that it does is
associate some graphical object on a pages as the control object
for some other object. The objects can be anywhere on the page
and can refer to each other.

Yes the table structure (at least the control connections) must
be entirely coded manually. But this is not a very difficult
problem. Of course the page layout itself can be designed through
some gui page creation software.

Please take a look at the HTML coding in the SandBoxTabs page
using 'edit'. Do you find the coding style difficult to follow?
What should I do to document it better?

About the new "point-and-click" interface (which I have decided
to call **MathAction Assistant**): You probably started testing
this before I was finished installing all of the functions. See the
[MathAction Assistant Help] page for a few more details.

What you call the \circ symbol is actually the LaTeX lowercase
Greek letter omicron which as far as LaTeX is concerned is exactly
the same as the letter "o". Of course it is the purpose of the
MathAction Assistant to insert the actuall LaTeX commands and also
some Axiom and Reduce commands for editing. MathAction will convert
these back to symbols when you click 'Preview' or 'Save'.

Nore: I have note yet finished adding the Reduce commands. That
will take me a few more hours later this week.

\start
Date: Fri, 15 Jul 2005 02:22:47 -0500
From: MathAction (Martin Rubey)
To: MathAction
Subject: [#192 Folding does not work in Konqueror 3.1.4]

Tabs don't work in Konqueror 3.1.4 either. Furthermore, it seems to be very
difficult to upgrade KDE for me. It is reported, that the scripts from
DynamicDrive don't work well with several browsers...

Concerning the "point-and-click" features in the comment box, I think that the
grey box is becoming a little crowded. But I don't mind so much...

I had another report concerning the "inconsistency" regarding comments
referring to previous results. Namely, previously loaded libraries are not
available when the comment is added. I think that it would really help if a
changed page is recalculated in any case...

\start
Date: Fri, 15 Jul 2005 02:36:10 -0500
From: MathAction (kratt6)
To: MathAction
Subject: [#192 Folding does not work in Konqueror 3.1.4] Now insertion doesn't work anymore

Strange enough, since you changed the grey box yesterday, it doesn't work on Konqueror 3.1.4 anymore... It did work before (I think).

\start
Date: Fri, 15 Jul 2005 04:28:08 -0500
From: MathAction (kratt6)
To: MathAction
Subject: [#47 complexForm(log(%i) - log(-%i))] 

The proposed definition 'myArgument' is still not correct:

\begin{axiom}
  myArgument(-1+%i)
\end{axiom}

but should be $\frac{3\pi}{4}$. We cannot get around the ordering of
the ring involved... Of course, as soon as variables are involved, we
cannot know anymore in which quadrant we are. So in this case we
really should return 'argument' unevaluated. This would probably
involve making it an operator. A different possibility would be to
introduce a new two argument operator 'atan' paralleling the one in
'Float' and 'DoubleFloat'.

\start
Date: Fri, 15 Jul 2005 14:44:55 +0200
From: Kai Kaminski
To: list
Subject: |spadType|, |oPage| etc

Hi,

I was wondering why

)lisp (|spadType| '|GaloisGroupFactorizer|)

doesn't work. I could probably figure it out myself, but maybe someone 
already knows what I'm doing wrong there.

\start
Date: Fri, 15 Jul 2005 14:52:38 +0200
From: Kai Kaminski
To: Tim Daly
Subject: AxiomUI branch

Hi Tim,

thanks for creating that branch. I have one question, though. Right now 
the branch is empty. Am I supposed to just copy the files that I need 
from axiom--main--1 or is there some special trick to tell Arch that 
this branch starts with axiom--main--1--patch-40?

Another question that I have is wether this new branch is actually a 
branch in the Arch sense or a separate project in a multi-project tree?

\start
Date: Fri, 15 Jul 2005 09:54:34 -0500
From: MathAction (kratt6)
To: MathAction
Subject: [AxiomContributions] 

"Dynamic Real Algebraic Closure":http://www.math.uvsq.fr/~lecerf/software/drc/index.html

\start
Date: 15 Jul 2005 11:29:43 -0400
From: Camm Maguire
To: Jorge Daza
Subject: 2.6.7
Cc: Bill Page

Greetings, and thanks for your report!

I've just upgraded to gcc-4.0 on my Debian unstable dchroot, and made
a few patches against the next upstream release version 2.6.7 to
address the new warnings.  Am testing now, and if all is OK with
maxima, acl2 and axiom, will release 2.6.7 and a new Debian package
for it.  I do not see the effects you describe below.  I'm hoping that
as ubuntu stays fairly close to Debian that you won't either once the
upload is made.  If you want, I can show you how to get the
pre-release from cvs.

Last call for interested parties to suggest anything that should go
into 2.6.7 beyond what is in the -pre branch now.  Bill?  Tim?   Mike
has given the go ahead as gcl-tk on Windows will take a bit more
time. 

Jorge Daza writes:

> Hello,
> 
> I'm trying to build a debian package for ubuntu with gcl-2.6.6, we're
> in the middle of the gcc-4.0 transition, so we're rebuilding packages.
> 
> gcl gave several errors regarding static functions that were solved,
> but later in the build process, when it starts compiling .lsp files it
> starts giving errors without stoping. At the end, at linking time,
> there are several unresolved symbols.
> 
> The errors that the lsp compiler gives are like this:
> 
> ------------------------------------->cut<-----------------------------------
> Compiling gcl_defstruct.lsp.
> Loading ./gcl_cmpinit.lsp
> Loading sys-proclaim.lisp
> Finished loading sys-proclaim.lisp
> Finished loading ./gcl_cmpinit.lsp
> Warning: DEFSTRUCT is being redefined.
> Warning: not replacing s-data property
> End of Pass 1.
> 
> Error: Someone tried to RETURN-FROM a TAGBODY.
> Error signalled by LET.
> Backtrace: gcl-top-level > if > let > setq > error-set > error-set >
> progn > compile-file > loop > setq > apply > apply >
> compiler::compile-file1 > let > unwind-protect > progn > let* > let >
> unwind-protect > progn > when > compiler::compiler-pass2 > let >
> unwind-protect > progn > let > let > unwind-protect > progn > catch >
> compiler::ctop-write > do* > when > apply > apply > compiler::t3defun
> > cond > compiler::analyze-regs > let > cond > let >
> compiler::analyze-regs1 > let > tagbody > universal-error-handler >
> let > let > cond > apply > apply > universal-error-handler >
> break-level > let* > UNLESS
> In file included from gcl_defstruct.c:3:
> gcl_defstruct.h:3:19: warning: no newline at end of file
> gcl_defstruct.c: In function 'init_gcl_defstruct':
> gcl_defstruct.c:4: error: 'VV' undeclared (first use in this function)
> gcl_defstruct.c:4: error: (Each undeclared identifier is reported only once
> gcl_defstruct.c:4: error: for each function it appears in.)
> gcl_defstruct.c:4:40: warning: no newline at end of file
> ------------------------------------->cut<-----------------------------------
> 
> Do you know why could this be happening ?
> 

\start
Date: Fri, 15 Jul 2005 14:52:18 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#192 Folding does not work in Konqueror 3.1.4] a few more details?

Martin, could you take a moment to describe in a little more detail
what you mean by "doesn't work on Kongueror"? What specifically is
not working? Can you point and click to add commands? Is it just the
"unfolding" of the menu that is not working? In the case of browsers
that do not work with the unfolding, they are supposed to be able
to "degrade" gracefully so that you can still use them but they
just are not as nice as with a supported browser. When using
Kongueror is the Assistant menu (grey box) of any use to you at
all?

Do you think it would be worthwhile for me to install Konqueror on
my linux system and see if I can solve the problem? The kind of
things I am doing with javascript here are very basic and it should
be possible to make this work on almost all modern browsers. The
problem usually is just minor variation in function calls.

\start
Date: Fri, 15 Jul 2005 18:46:51 -0400
From: Camm Maguire
To: Bill Page,
Subject: 2.6.7

Greetings!  In testing the 2.6.7 build in preparation for release,
I've run across the following in the 20050201 axiom source build:

(1) ->  
   >> System error:
   Can't change the current directory to "NIL".

protected-symbol-warn called with (NIL)

I think I recall seeing this discussed before, and that there might be
a fix.  Can anyone please give me a pointer?  I want to make sure that
the Debian axiom package is not broken by the new stable release.

\start
Date: Fri, 15 Jul 2005 23:41:37 -0400
From: Bill Page
To: Camm Maguire
Subject: RE: 2.6.7

Hi Camm,

Thanks for working on building Axiom on gcl 2.6.7. I think
it would be great to move Axiom to this version ASAP.

On July 15, 2005 6:47 PM you wrote:

> Greetings!  In testing the 2.6.7 build in preparation for
> release, I've run across the following in the 20050201 axiom
> source build:
>
> (1) ->  
>   >> System error:
>   Can't change the current directory to "NIL".
>
> protected-symbol-warn called with (NIL)
>
> I think I recall seeing this discussed before, and that there
> might be a fix.  Can anyone please give me a pointer?  I want
> to make sure that the Debian axiom package is not broken by
> the new stable release.

It is not clear from your description where this problem 
occurs in your build but it is likely related to the
following patch originally provided by Mike Thomas. In
my case this problem occurred during the building of
the databases on Windows and that is cured by the patch
below (plus my additional change mentioned in the email).

I have since built Axiom on Fedora Core 3 with 2_6_7pre
but I do not recall having to make this patch in that
case.

-----Original Message-----

Mike,

On May 29, 2005 9:20 PM you wrote:

> ...
>The fix then is as follows:
>
-----------
diff -rN old-axiom--windows--1/src/interp/daase.lisp.pamphlet
new-axiom--windows--1/src/interp/daase.lisp.pamphlet
843c843
<   (setq thisdir (namestring (probe-file ".")))
---
>   (setq thisdir (namestring (truename ".")))
1109c1109
<      (list (list '|dir| (namestring (probe-file "./")) ))
---
>      (list (list '|dir| (namestring (truename "./")) ))

---------
I think that there is one more place in daase.lisp.pamphlet
near you last patch where probe-file should be changed to
truename:

  (dolist (dir dirlist)
          (localdatabase nil
                         (list (list '|dir|
                                     (namestring (probe-file
                                                  (format nil "./~a"
                                                          dir)))))
                         'make-database))

---------

Right?

With these three changes, my version of Axiom for Windows
builds with gcl Version_2_6_7pre.

-----Original Message-----

Thanks Bill and Camm.

Bill wrote:

| On Friday, May 27, 2005 10:06 AM Camm Maguire wrote:
|
| > ...
| > probe-file tests whether a file exists.
| >
| > probe-file returns false if there is no file named
| > pathspec, and otherwise returns the truename of pathspec.
| >
| > A file here should be sopentheing that could be opened with
| > (open...) -- we have no such ability currently for directories.
| >
| > Is this a problem to follow in mingw?
|
| No it is not a problem. In fact that is exactly what GCL
| Version_2_6_7pre on Windows does now.
|
| >
| > (probe-file "./") returns nil on Windows with the latest changes.
| >
|
| The problem is in the Axiom source for daase.lisp.pamphlet.
|
| > In daase.lisp.pamphlet the "./" is hard wired:
| >
| >   (localdatabase nil
| >      (list (list '|dir| (namestring (probe-file "./")) ))
| >      'make-database)
| >
|
| Here Axiom is trying to find the name of the "current"
| directory which it passes to |dir|. It should probably just
| call (truename "./"). Or better, perhaps there should be a
| standard lisp mechanism to do what Axiom's |dir| does.



The fix then is as follows:

diff -rN old-axiom--windows--1/src/interp/daase.lisp.pamphlet
new-axiom--windows
--1/src/interp/daase.lisp.pamphlet
843c843
<   (setq thisdir (namestring (probe-file ".")))
---
>   (setq thisdir (namestring (truename ".")))
1109c1109
<      (list (list '|dir| (namestring (probe-file "./")) ))
---
>      (list (list '|dir| (namestring (truename "./")) ))

\start
Date: Sat, 16 Jul 2005 00:02:35 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#47 complexForm(log(%i) - log(-%i))] 

Martin: 

Thanks for pointing out my error. In coding 'myArgument', I was not
aiming for a general definition. I was experimenting to see if there
is need for 'RealNumberSystem' or 'OrderedRing'.

As you proposed, it seems the error in 'myArgument' may be fixed by a
two argument version of 'atan' (which only exists for 'Float' and
'DoubleFloat' currently). The usual sign convention will take care of
the case of inputs involving variables. But I am not convinced one way
or the other that 'OrderedRing' is needed.

\begin{axiom}
myhalf: ()-> EXPR INT
myhalf()==recip(2::EXPR INT)::EXPR INT
pi1:= pi()$(EXPR INT)
pi2 := pi1 * myhalf()
myatan2(x:EXPR INT, y: EXPR INT): EXPR INT ==
  x = 0 => if y >= 0 then %pi else -%pi
  -- Atan in (-pi/2,pi/2]
  theta := atan(y * recip(x)::EXPR INT)
  -- may create infinite loop if variables are used in input
  -- in any case, why would atan give a result outside (-pi/2, pi/2]?
  -- while theta <= -pi2 repeat theta := theta + pi1
  -- while theta > pi2 repeat theta := theta - pi1
  x >= 0 => theta      -- I or IV
  if y >= 0 then
      theta + pi1      -- II
  else
      theta - pi1      -- III
myatan2(1,-1)
myatan2(y,x)
myArgument: Complex EXPR INT -> EXPR INT
myArgument(x) == 
  zero? real x =>
    imag(x) > 0 => pi2
    imag(x) < 0 => - pi2
    error "myArgument not defined at (0,0)"
  myatan2(real x, imag x)
myArgument(-%i)
myArgument(%i)
myArgument(3+5*%i)
myArgument(3-5*%i)
myArgument(-1+%i)
myArgument(2 - x*%i)
myArgument(0::Complex EXPR INT)
\end{axiom}

\start
Date: Sat, 16 Jul 2005 04:20:36 -0500
From: MathAction (Martin Rubey)
To: MathAction
Subject: [#192 Folding does not work in Konqueror 3.1.4]

Dear Bill,

 > Can you point and click to add commands? 

No. (I can point and click, but nothing happens.

 > Is it just the "unfolding" of the menu that is not working?

Doesn't work either.

 > When using Kongueror is the Assistant menu (grey box) of any use to you at
 > all?

Only the refresh button (which is simply an URL, it seems) works. And this only
half-heartedly: it does not really work when I want to preview a
comment... (But it's not supposed to, either, I think)
 
 > Do you think it would be worthwhile for me to install Konqueror on my linux
 > system and see if I can solve the problem?

Would be great. What system are you using? If you have a KDE, Konqueror is
installed also. Note that upgrading KDE seems to be a major task (unless I
upgrade the whole distro), at least on Mandrake. (I suppose I want to switch to
debian...) So it would be even better if you would get it to work with
3.1.4. Note that rumour has it that the scripts of DynamicDrive are not written
in a portable fashion, so it might be that similar problems occur in other
browsers. There are even browsers without JavaScript around ...

Finally note, that *I* won't use the grey box much, except the thingy that
inserts the axiom environment, maybe. However, it would be nice if things that
don't work at least do not hide too much information, as seems to be the case
with folding/unfolding and tabs. (OK, I must admit, I don't care for the
compiler output. But hidden text would be bad.)

\start
Date: Sat, 16 Jul 2005 04:27:04 -0500
From: MathAction (kratt6)
To: MathAction
Subject: [#47 complexForm(log(%i) - log(-%i))] Usual sign convention

Dear William,

I think that the "usual sign convention" is a bad idea. 'myatan2(x,y)' should return unevaluated, since there is no way of knowing in which quadrant 'x+%i*y' is. That's why I proposed 'OrderedRing', in which case the answer is clear. We would have to think of the case of members of 'COMPLEX EXPR INT' where we happen to know the quadrant.

\start
Date: Sat, 16 Jul 2005 12:52:08 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#47 complexForm(log(%i) - log(-%i))] meaning of y > 0; symbolic floating point

Dear Martin:

Thanks, and yes, I was wrong again (shame on me): the range of the
single argument 'atan' does not cover $[0, 2\pi)$. But the only way to
return results in case variables are involved in the arguments of
'atan(x,y)' is to use provisos (I thought I was able to avoid this
with the sign convention). Even if we were able to make 'EXPR INT'
into an 'OrderedRing', the tests such as 'if y > 0 then' will have a
different meaning than when 'y' takes a value in 'INT' whatever the
ordering on 'EXPR INT' may be. Such tests must be done using values of
'y', not the expression represented by 'y' (thus, the code for
'myatan2' used these tests incorrectly for general expressions
'y'). So it seems we need 'OrderedRing' not on 'EXPR INT' but on
'INT', which is okay, except that in 'COMPLEX R' we have no way to
know about what 'R' is (see also last paragraph in this reply).

One possible way is to use a three argument 'atan': in addition to the
'x,y' coordinates, also include the quadrant. This would allow a user
to supply the crucial information and also make it automatic when the
quadrant can be deduced. We can allow the quadrant information to be
specified as "unknown" or "failed" and then return the expression
unevaluated in that case.

The amount of simplification that should be carried out should also be
part of the discussions. For example, in a two-argument version,
'atan(2*(x^2+1),(x^2+1))' should be evaluated to 'atan(1/2)' but any
such simplification either is difficult (not possible?) or may lose
information on the quadrant if not carefully done. For example,
'atan(2*(x^2+1),-(x^2+1))' and 'atan(-2*(x^2+1), (x^2+1))' should give
different answers. But how can we test signs on expressions? (Note
that this is *different* from how to make 'EXPR INT' into an
'OrderedRing' because we are talking really on the level of the base
domain: signs of expressions as values, not as expressions.) It would
seem that we need to get into the full-blown cylindrical algebraic
decomposition (CAD) stuff, even just for the polynomial
expressions. And 'INT' is not quite the base domain to perform these
computations.

Stepping back a bit, let's see why 'EXPR INT' is involved in the
original post to evaluate 'argument(-%i)'. Functions (and especially,
when implemented as operators) like 'argument' and 'atan' perhaps
should be defined only under a domain which is closed with respect to
them (so 'argument: Complex R -> R' would be considered closed, but
'argument: Complex Integer -> Expression Integer' is not.) In 'Complex
Integer' these functions are meaningful only because the set of
Gaussian integers is mathematically a subset of the field of complex
numbers. The Axiom construction is complicated by the fact that $\pi$
may be symbolic and hence lives in 'Expression R'. And once expanded
to 'Expression R', the problem with what to do with variable inputs
further complicates the implementation. Thus in evaluating
'argument((-1+%i)::Complex Integer)', Axiom needs to invoke 'argument:
Complex EXPR INT->EXPR INT'. Would it be appropriate to invoke
something like 'argument: Complex Float -> Flo!  at' instead? (This
would avoid the issue of variables in input arguments.)

This discussion naturally leads one to question why specific constants
such as $\pi$ live in separate domains in Axiom (contrary to a purely
mathematical model). *Must* these constants be numerically represented
under 'Float'? Can one create something called 'SymbolicFloat' where
roughly, 'SymbolicFloat' is a mix of floating point numbers, symbolic
algebraic numbers, and symbolic transcendental numbers, and yet
retains the properties of 'RealNumberSystem' and 'OrderedRing' (so
whenever an inequality in this domain is to be tested, all symbolic
constants will be temporarily converted to floating point with an
accuracy sufficient to resolve the decision, but the symbolic
constants still remain symbolic in subsequent computations)?

\start
Date: Sat, 16 Jul 2005 13:05:24 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#47 complexForm(log(%i) - log(-%i))] 

'OrderedRing', probably. 'OrderedSet', wouldn't make sense...

myatan2(x,y)

One possible way is to use a three argument 'atan' : in addition to the 'x,y' coordinates, also include the quadrant. This would allow a user to supply the crucial information and also make it automatic when the quadrant can be deduced. We can allow the quadrant information to be specified as 'unknown' or 'failed' and then return the expression unevaluated in that case.

Stepping back a bit, let's see why 'EXPR INT' is involved in the original post to evaluate 'argument(-%i)'. Functions (and especially, when implemented as operators) like 'argument' and 'atan' perhaps should be defined only under a domain which is closed with respect to them (so 'argument: Complex R -> R' would be considered closed, but 'argument: Complex Integer -> Expression Integer' would not.) In 'Complex Integer' these functions are meaningful only because the set of Gaussian integers is mathematically a subset of the field of complex numbers. The Axiom construction is complicated by the fact that $\pi$ may be symbolic and hence lives in 'Expression R'. And once expanded to 'Expression R', the problem with what to do with variable inputs further complicates the implementation. Thus in evaluating 'argument((-1+%i)::Complex Integer)', Axiom needs to invoke 'argument: Complex EXPR INT->EXPR INT'. Would it be appropriate to invoke something like 'argument: Complex Float -> !
Float' instead? (This would avoid the issue of variables in input arguments.)

\start
Date: Sat, 16 Jul 2005 17:08:24 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [MathAction problems] Time limits for Axiom execution

It is possible for simple Axiom commands to cause an infinite loop
and not terminate. E.g.::

  i:=1
  repeat
    i:=i+1

such loops can also happen in more complex cases due to programming
errors. 

The server can only tolerate a small number of such non-terminating
Axiom processes. In order to prevent the server from freezing up, I
have set a time limit of 1 minute of CPU time on all Axiom processes
on the MathAction server. If a loop or other very long running Axiom
command exceeds this limit, the process is subject to temination by
the operating system.

Of course there are some Axiom calculations that are not infinite
loops but which might take much longer than 1 minute to complete
but I think 1 minute of CPU time on this server is a generous limit
for must things that people would want to do with MathAction and
should not cause anyone any problems.

Please let me know if you have any concerns with this new MathAction
access policy.

\start
Date: Sat, 16 Jul 2005 18:06:47 -0500
From: MathAction (unknown)
To: MathAction
Subject: [#192 Folding does not work in Konqueror 3.1.4] MathAction Assistant does not work in Konguerer 3.3.1-4.3.FC3

I just confirmed that when using Konguerer 3.3.1-4.3.FC3 and
KDE 3.3.1.2-12.FC3 on Fedora Core 3, The new MathAction Assistant
and content Folding does not work. I will see if it is possible
to make simple changes to the existing javascript to make these
things work in Konguerer.

\start
Date: Sun, 17 Jul 2005 08:15:11 -0500
From: MathAction (unknown)
To: MathAction
Subject: [#47 complexForm(log(%i) - log(-%i))] information

see #141 atan(tan(3)) => 3 

\start
Date: Sun, 17 Jul 2005 15:42:56 +0200
From: Vanuxem Gregory
To: list
Subject: RE: TR: Magma Workshop on Group Theory and AlgebraicGeometry

Sorry,

I'haven't read all my mails...

> -----Message d'origine-----
>
> Hi,
>
> Just for information....
>
> Cheers,
>
> Greg
>
> -----Message d'origine-----
>
> NOTE: please do not reply to this email.  For any enquiries, please
> mail one of the contacts listed at the bottom of this mesage.
>
>
>              ***********************************
>                       MAGMA WORKSHOP ON
>              GROUP THEORY AND ALGEBRAIC GEOMETRY
>              ***********************************
>
>
> LOCATION: Mathematics Research Institute, University of Warwick, UK
>
> DATES: August 22 -- 26, 2005.
>
> CONFERENCE WEBSITE:
>          http://www.maths.warwick.ac.uk/~dfh/magma05.html
>
> SPEAKERS:
>      H-C Graf v. Bothmer (Hannover)        Gavin Brown (Warwick)
>      Nils Bruin (Simon Fraser)             Jon Carlson (Athens, GA)
>      John Coates (Cambridge)               Bettina Eick (Braunschweig)
>      Peter Fleischmann (Canterbury)        Steven Galbraith
> (Royal Holloway)
>      Willem de Graaf (Trento)              Michael Harrison (Sydney)
>      Florian Hess (Berlin)                 Derek Holt (Warwick)
>      Dimitri Leemans (Brussels)            Steve Linton (St Andrews)
>      Scott Murray (Eindhoven)              Eamonn O'Brien (Auckland)
>      Miles Reid (Warwick)                  Colva Roney-Dougal (St Andrews)
>      Joseph Schicho (Linz)                 Samir Sisek (Warwick)
>      Don Taylor (Sydney)                   Bill Unger (Sydney)
>      Mark Watkins (Bristol)                Mike Vaughan-Lee (Oxford)
>
> DESCRIPTION: A workshop on computational methods in group theory and
> algebraic geometry, in the context of the Computer Algebra system Magma.
> The meeting will be particularly concerned with exploring interactions
> between computational group theory and computational algebraic geometry.
> This is the fourth in a series of Magma conferences: the previous one
> was held at Institute Henri Poincare', Paris, October 4 -- 8, 2004.
>
> THEMES: Group theory, representation theory, Lie theory, algebraic
> geometry, arithmetic geometry.
>
> ACTIVITIES:
>  * Lectures reporting recent advances in algorithmic methods.
>
>  * Talks on significant applications of Magma to one of the
>    thematic areas.
>
>  * Talks on future directions for computational methods in
>    the thematic areas.
>
>  * Tutorials on the use of Magma in the following areas:
>    - Finite groups and representation theory
>    - Schemes and algebraic curves
>
> CONTRIBUTED TALKS: Conference participants interested in giving a
> 25 minute contributed talk should submit a title and long abstract
> by July 31.
>
> CONFERENCE FUNDING: Some funding is available to provide limited travel
> support for graduate students based in the UK.
>
> REGISTRATION AND ACCOMMODATION: To register and reserve accommodation,
> please download and fill in the form found at
>             http://www.maths.warwick.ac.uk/~dfh/magma05.html
> and return it as soon as possible, and in any case by June 30, to:
>
>    Mrs. Peta McAllister                 E-mail: mrc@maths.warwick.ac.uk
>    Phone: 44 + (0)2476 - 524403         Fax: 44 + (0)2476 - 523548
>
> ORGANIZERS:  Derek Holt (dfh@maths.warwick.ac.uk)
>              Gavin Brown (gavinb@maths.warwick.ac.uk)
>              John Cannon (john@maths.usyd.edu.au)

\start
Date: Sun, 17 Jul 2005 14:15:53 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#47 complexForm(log(%i) - log(-%i))] atan(tan(3))

Thanks for this pointer. I would prefer to classify 'tan(3)' as
belonging to the hypothetical 'SymbolicFloat' rather than to 'EXPR
INT' and the same for 'atan(tan(3))'. The definition of the single
argument 'atan' chooses by convention a unique answer in $(-\pi/2,
\pi/2)$ where 'tan' is monotone. Axiom is constrained by its type
system to provide an answer within 'EXPR INT' and view 'atan' as a
more generalized inverse (that is, no longer a *function*) and
multiple answers are possible.  The (applied) scientific community
probably prefers invoking the 'Float' or 'DoubleFloat' version of
'atan' and 'tan', and they can, by simply changing '3' to '3.0'.

\start
Date: Sun, 17 Jul 2005 14:50:06 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#167 Infinite Floats Domain] 

However, in my view, this still is not infinite precision in the sense
of that $2^{(-35)} + 2^{34}$ will not compute exactly because the
system does not *automatically* increase precision in 'FLOAT' (it
won't, even using macros).  But one *can* compute it by *manually*
increasing the precision (which precision is by no means
obvious). Compare this with 'FRAC INT' where there is no need to
manually increase the length of integers in numerators or
denominators. Floating point systems are designed to compute only
significant digits.

\start
Date: Sun, 17 Jul 2005 15:00:31 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#47 complexForm(log(%i) - log(-%i))] cross references: Float and (exact) Real arithmetic

see [RealNumbers] and #167 for more info and discussions on infinite precision floats and exact real number computations.

\start
Date: Sun, 17 Jul 2005 17:19:33 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#192 Folding does not work in Konqueror 3.1.4] Folding is now woking in Konqueror 3.3.1-4.3.FC3

A few simple changes to the javascript seems to have corrected
the problem with folding in the version of Konqueror that I
have on my Fedora Core 3 system. Please try it with your version
and let me know if it now works.

BTW, this change should also make folding work with the Safari
browser in MAC. If someone is using this browser, please confirm.

I still have a problem with the text insertion from the MathAction
Assistant toolbar.

\start
Date: Mon, 18 Jul 2005 07:12:25 -0500
From: MathAction (kratt6)
To: MathAction
Subject: [#192 Folding does not work in Konqueror 3.1.4] 

Folding works in Konqueror 3.1.4 now, Tabs don't really. They mess up the display and after clicking on "Series" in SandBoxTabs they vanish entirely. insertion still doesn't work.

But I would discourage use of tabs anyway...

\start
Date: Mon, 18 Jul 2005 07:36:29 -0500
From: MathAction (unknown)
To: MathAction
Subject: [#47 complexForm(log(%i) - log(-%i))] Maybe in	'EF'

I think we could simply add a definition of a two argument version of
'atan' to 'ElementaryFunction', where we can ask for
'OrderedRing'. I'll try to propose a definition tomorrow.

\start
Date: Mon, 18 Jul 2005 10:47:20 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#192 Folding does not work in Konqueror 3.1.4] that is discouraging

Why would you discourage the use of tabs?

The problem with tabs and Konqueror seems to be due to a bug
in Konqueror's presentation of dynamic tables. If you click the
+/- menu item at the top of the page does it at least correctly
expand the tabs into multiple tables?

After working with Konqueror for a while I don't find it too
surprizing that dynamic tables don't work so well. While trying
to debug the problem with folding, Konqueror actually crashed
and aborted several times on me and all I was doing was sending
it javascript with some syntax errors! I have never had either
FireFox or IE 6 do that to me. From what I see on the net, it
seems that Konqueror has a very bad reputation as a general purpose
browser - especially in connection with javascript. I don't see
any reason why someone would not simply upgrade to FireFox. On
the same machine FireFox is noticably faster, doesn't (usually)
abort, and is more standards compilant than Konqueror.

Anyway, I am glad that the folding is now working since you are
quite right that having "hidden text" on some browsers that can
not even display would be a very bad thing. Folding should always
"degrade gracefully" so that the same information is available
even though it might not be so pretty.

\start
Date: Mon, 18 Jul 2005 17:49:53 +0200
From: Kai Kaminski
To: list
Subject: BOOT mode for Emacs

Hi,

I put together a tiny Emacs mode for BOOT code. It doesn't do much, but 
comment-region and font-locking work to some extent, which is all I need 
right now. It's my first Emacs mode ever, so it might not work very 
well. I also haven't tested it with XEmacs yet.

Kai

PS: I hope I didn't duplicate any effort. I couldn't find anything in 
the axiom-developer archive.

;;;; Emacs mode for BOOT, an undocumented, paren-less
;;;; version of Lisp used by Axiom, the Computer Algebra System
;;;; with a thirty year horizon.

;; Copyright 2005 Kai Kaminski <kai.kaminski at gmail.com>

;; This program is free software; you can redistribute it and/or modify
;; it under the terms of the GNU General Public License as published by
;; the Free Software Foundation; either version 2 of the License, or
;; (at your option) any later version.

;; This program is distributed in the hope that it will be useful,
;; but WITHOUT ANY WARRANTY; without even the implied warranty of
;; MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
;; GNU General Public License for more details.

;; You should have received a copy of the GNU General Public License
;; along with this program; if not, write to the Free Software
;; Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA

(require 'font-lock)

(defvar boot-mode-syntax-table nil "Syntax table for the BOOT major mode")
(setq boot-mode-syntax-table (make-syntax-table))

(modify-syntax-entry ?\( "()" boot-mode-syntax-table)
  (modify-syntax-entry ?\) ")(" boot-mode-syntax-table)
  (modify-syntax-entry ?\$ "_" boot-mode-syntax-table)
  (modify-syntax-entry ?\= "." boot-mode-syntax-table)
  (modify-syntax-entry ?\- "w 12b" boot-mode-syntax-table)
  (modify-syntax-entry ?\_ "w" boot-mode-syntax-table)
  (modify-syntax-entry ?\: "." boot-mode-syntax-table)
  (modify-syntax-entry ?\< "." boot-mode-syntax-table)
  (modify-syntax-entry ?\> "." boot-mode-syntax-table)
  (modify-syntax-entry ?\' "." boot-mode-syntax-table)
  (modify-syntax-entry ?\" "\"" boot-mode-syntax-table)
  (modify-syntax-entry ?\n "> b" boot-mode-syntax-table)

(defvar boot-mode-font-lock-keywords
  (let ((keywords
	 (mapconcat 'identity
		    '("and" "or" "not" "while" "for" "in" "repeat"
		      "local" "fluid" "true" "false" "nil" "if" "then")
		    "\\b\\|\\b")))
    (list
     ;; Keywords, like 'if', 'when' etc
     (cons (concat "\\(\\b" keywords "\\b\\)") 1)
     ;; function names found as 'foo('
     (list "\\b\\([a-zA-Z][a-zA-Z0-9*_-]*\\)(" 1 font-lock-function-name-face)
     ;; function names in functions definitions, i.e 'foo param1 ... paramN =='
     (list "^\\([a-zA-Z]+\\) .*==.*$" 1 font-lock-function-name-face)
     ;; function application without parens, like 'foo param'. Doesn't work properly and messes up comments.
;;     (list "\\(^\\|\\s.\\|\\)\\s-*\\([a-zA-Z][a-zA-Z_-]*\\) +[a-zA-Z]" 2 font-lock-function-name-face t)
     (list "\\(\\$[a-zA-Z0-9]+\\)" 1 font-lock-variable-name-face)
     (list "\\b\\([a-zA-Z][a-zA-Z0-9*_-]*\\)\\b" 1 font-lock-variable-name-face))))

(defun boot-mode ()
  "Major mode for editing BOOT code used by Axiom, the Computer
Algebra System with a thirty year horizon.
Commands:
\\{boot-mode-map}
Entry to this mode runs the hook 'boot-mode-hook'."
  (interactive)
  (kill-all-local-variables)
  (make-local-variable 'comment-start)
  (make-local-variable 'comment-start-skip)
  (make-local-variable 'paragraph-start)
  (make-local-variable 'font-lock-defaults)

  (set-syntax-table boot-mode-syntax-table)
  (setq major-mode 'boot-mode
	mode-name "BOOT"
	font-lock-defaults '(boot-mode-font-lock-keywords nil t)
	paragraph-start "^[ \t]*$"
	comment-start "--"
	comment-start-skip "--")


  ;; (use-local-map boot-mode-map)
  (run-hooks 'boot-mode-hook))
  

(run-hooks 'boot-mode-load-hook)
(provide 'boot-mode)

\start
Date: Mon, 18 Jul 2005 13:30:44 -0500
From: MathAction (billpage)
To: MathAction
Subject: [#192 Folding does not work in Konqueror 3.1.4] links updated after rename

MathActionTabs contains another example of the simple javascript

MathActionTabs ran fine. Nice tabs. Can the tabs be placed vertically, like on the

Please take a look at the HTML coding in the MathActionTabs page

Folding works in Konqueror 3.1.4 now, Tabs don't really. They mess up the display and after clicking on "Series" in MathActionTabs they vanish entirely. insertion still doesn't work.

\start
Date: Mon, 18 Jul 2005 15:34:58 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [Axiom In Emacs] BOOT mode for Emacs

<hr />
On July 18, 2005 11:50 AM Kai Kaminski wrote:

I put together a tiny Emacs mode for BOOT code. It doesn't do much, but 
comment-region and font-locking work to some extent, which is all I need 
right now. It's my first Emacs mode ever, so it might not work very 
well. I also haven't tested it with XEmacs yet.

Kai

PS: I hope I didn't duplicate any effort. I couldn't find anything in 
the axiom-developer archive.

\start
Date: Mon, 18 Jul 2005 23:44:44 -0500
From: MathAction (billpage)
To: MathAction
Subject: [MathActionAssistantHelp] 

In most browsers[1] you can build more complex commands by first
selecting some text in the edit window, then clicking the the
appropriate command in the toolbar. The text which you had
previously highlighted will be inserted at the appropriate place
in the command and the result will be pasted into the edit window.
However some browsers[2] do not support this feature. In this
case the commands are simply appended at the end.

.. [1] Known to work with Netscape/Mozilla, FireFox, Microsoft Internet
       Explorer

.. [2] Konqueror 3.x and Safari do not support selection and insertion
       of text.

\start
Date: Tue, 19 Jul 2005 00:31:45 -0500
From: MathAction (unknown)
To: MathAction
Subject: [MathActionTabs] safari

nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?

Clicking \begin{axiom} produces the following:
---
\begin{axiom}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?


\end{axiom}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?
---

And clicking \begin{reduce} the following:

---


\begin{reduce}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?

Clicking \begin{axiom} produces the following:

\begin{axiom}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?


\end{axiom}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?




\end{reduce}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?

Clicking \begin{axiom} produces the following:

\begin{axiom}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?


\end{axiom}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?



nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?

Clicking \begin{axiom} produces the following:
---
\begin{axiom}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?


\end{axiom}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?
---

And clicking \begin{reduce} the following:

---


\begin{reduce}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?

Clicking \begin{axiom} produces the following:

\begin{axiom}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?


\end{axiom}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?




\end{reduce}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?

Clicking \begin{axiom} produces the following:

\begin{axiom}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?


\end{axiom}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?

---
And clicking =alpha give the following (each time, the entire buffer is copied)
---

\alpha nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?

Clicking \begin{axiom} produces the following:
---
\begin{axiom}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?


\end{axiom}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?
---

And clicking \begin{reduce} the following:

---


\begin{reduce}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?

Clicking \begin{axiom} produces the following:

\begin{axiom}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?


\end{axiom}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?




\end{reduce}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?

Clicking \begin{axiom} produces the following:

\begin{axiom}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?


\end{axiom}
nothing happens by pressing the +/- button, or the Show Me those tabs. As if no hyperlink. Has all the plug-ins (I think).Need any style sheet? Particular settings?

\start
Date: Tue, 19 Jul 2005 14:56:51 -0500
From: MathAction (Kai Kaminski)
To: MathAction
Subject: [Axiom In Emacs] 

This is a tiny Emacs major mode for BOOT code. It supports very
rudimentary syntax highlighting and (un)comment-region. To use it,
put the file <tt>boot-mode.el</tt> somewhere in your <tt>load-path</tt>
and add <tt>(require &apos;boot-mode)</tt> to your <tt>.emacs</tt>.
You can activate the mode through <tt>M-x boot-mode RET</tt>.

\start
Date: Tue, 19 Jul 2005 17:45:40 -0500
From: Tim Daly
To: list
Subject: back online

i'm back online finally, catching up with email.

\start
Date: Wed, 20 Jul 2005 15:23:05 -0500
From: MathAction (kratt6)
To: MathAction
Subject: [#193 Symbolic values (without variables) are not ordered properly in 'EXPR INT'] (nouveau) 

Axiom thinks

\begin{axiom}
  (4-%e)::EXPR INT < 0
  (4-%pi)::EXPR INT < 0
\end{axiom}

which poses another problem for fixing bug #47 and bug #141

\start
Date: Wed, 20 Jul 2005 22:37:23 +0200
From: Gregory Vanuxem
To: Martin Rubey
Subject: 193 Symbolic Values Without Variables Are Not Ordered Properly In EXPRINT 

Hi Martin,

About new patch and ordering
Good luck....

\start
Date: Wed, 20 Jul 2005 15:29:05 -0500
From: MathAction (kratt6)
To: MathAction
Subject: [#193 Symbolic values (without variables) are not ordered properly in 'EXPR INT'] 

4-%e < 0

and

\begin{axiom}
4-%pi::EXPR INT < 0
\end{axiom}

\start
Date: Wed, 20 Jul 2005 17:53:45 -0400
From: Bill Page
To: list
Subject: what is meaining of % in SPAD

Dear Axiom Mavins:

If I read for example in expr.spad.pamphlet:

)abbrev domain EXPR Expression
++ Top-level mathematical expressions
++ Author: Manuel Bronstein
++ Date Created: 19 July 1988
++ Date Last Updated: October 1993 (P.Gianni), February 1995 (MB)
++ Description: Expressions involving symbolic functions.
++ Keywords: operator, kernel, function.
Expression(R:OrderedSet): Exports == Implementation where
  Q   ==> Fraction Integer
  K   ==> Kernel %
  MP  ==> SparseMultivariatePolynomial(R, K)
...
Implementation
...
    if R has IntegralDomain then
...
      Rep := Fraction MP

------------

What does the % represent?

Or more specifically, what exactly is the value of Rep above
if I write:

(%e<%pi)$EXPR INT

???

Where can I read about this notation in the Axiom documentation?

\start
Date: Wed, 20 Jul 2005 17:48:32 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#193 Symbolic values (without variables) are not ordered properly in 'EXPR INT'] Two different orderings mixed up

Hi Martin:
 
You already know the reasons and I think the title of this page is
unfair. It is clear that the meaning of the operator '<' in 'EXPR INT'
(or any domain that includes symbolic expressions like 'POLY INT') is
not meant to be an ordering of the ground domain (here 'INT'). In
polynomial rings, '<' is a term-ordering to facilitate polynomial
arithmetic and variable elimination methods. If I read 'expr.spad'
correctly, when 'R' is an integral domain, 'EXPR R' has 'FRAC SMP(R,
Kernel EXPR R)' as its representation ('Rep'). You can explain better
what that means than I (I would much appreciate your writing a page
explaining kernels and operators in Axiom). In any case, the ordering
is inherited from the 'Rep' and so I believe '%e' or 'exp(1)' is
treated as a symbol. Indeed that may be the reason we have:

\begin{axiom}
exp(1)^2 - exp(2)
(exp(1)^2 - exp(2) = 0)::Boolean
\end{axiom}

The sign of a polynomial expression is the sign of the coefficient of
the highest monomial term.

The way that '4-%e < 0' can be evaluated they way you intend is to
substitute a numerical value for '%e'. So users should be aware that
in Axiom, symbolic entries are not the same as their numerical
counterpart. What they should do is:

\begin{axiom}
4.0 - %e < 0
\end{axiom}

or
\begin{axiom}
(4-%e)::(EXPR Float) < 0
\end{axiom} 

(This is reminescent of FORTRAN: type promotion from INTEGER to
REAL). In other words, if one wants to test numerical inequalities
involving symbolic constants, one should work in 'EXPR Float', not
'EXPR Integer' since most symbolic constants are not integers. To
provide an automatic type promotion from 'EXPR INT' to 'EXPR Float'
would interfere with the ordering in polynomial expressions, unless a
symbolic constant can be distinguished from a polynomial variable. We
cannot overload the operator '<' for two distinct orderings in the
same domain. I think the suggestion I posted in #47 of a
'SymbolicFloat' domain may be worth exploring. In 'SymbolicFloat', we
can retain symbolic manipulation of expresions with symbolic constants
by using the term-ordering of the underllying representation, and
still use the numerical ordering of the domain 'SymbolicFloat'.

\start
Date: Wed, 20 Jul 2005 19:23:11 -0400
From: William Sit
To: Bill Page
Subject: Re: what is meaining of % in SPAD

"Page, Bill" wrote:
> 
> Dear Axiom Mavins:
> 
> If I read for example in expr.spad.pamphlet:
> 
> )abbrev domain EXPR Expression
> ++ Top-level mathematical expressions
> ++ Author: Manuel Bronstein
> ++ Date Created: 19 July 1988
> ++ Date Last Updated: October 1993 (P.Gianni), February 1995 (MB)
> ++ Description: Expressions involving symbolic functions.
> ++ Keywords: operator, kernel, function.
> Expression(R:OrderedSet): Exports == Implementation where
>   Q   ==> Fraction Integer
>   K   ==> Kernel %
>   MP  ==> SparseMultivariatePolynomial(R, K)
> ...
> Implementation
> ...
>     if R has IntegralDomain then
> ...
>       Rep := Fraction MP
> 
> ------------
> 
> What does the % represent?

% means the current domain in which this occurs (for categories, it
refers to any domain of that category). In older spad files, the
symbol is $ (Chapter 12 of Axiom book). Here, it means EXPR R.

> Or more specifically, what exactly is the value of Rep above

FRAC SMP(R, Kernel EXPR R)

> if I write:
> 
> (%e<%pi)$EXPR INT
> 
> ???

The '%' in front of 'e' and 'pi' are just a special symbol applied
before system symbols. I am not too sure exactly how 'EXPR R' orders
its elements, but from 'expr.spad', the ordering is inherited from
'Rep := FRAC SMP(R, Kernel EXPR R)'.  Ignoring the ordering on 'FRAC'
(uniquely determined by the ordering on 'SMP'), this means the
ordering should be induced by lexicographic order using the
"variables" ordering of 'Kernel EXPR R'. Here is where things become
difficult (one of the cyclic compiler problems?). Have to dig into
kl.spad.
 
> Where can I read about this notation in the Axiom documentation?
Chapter 12.

\start
Date: Wed, 20 Jul 2005 19:38:43 -0400
From: Bill Page
To: list
Subject: RE: what is meaining of % in SPAD

Let me attempt an answer to my earlier question.

On Wednesday, July 20, 2005 5:54 PM I wrote:

> What does the % represent?

It means "self" or "this". So that in the example definition of the
domain Expression

> )abbrev domain EXPR Expression
> Expression(R:OrderedSet): Exports == Implementation where
>   K   ==> Kernel %

if I write

  EXPR INT

then

  K ==> Kernel EXPR INT

> Or more specifically, what exactly is the value of Rep above
> if I write:
>
> (%e<%pi)$EXPR INT
>

William already answered this question implicitly in a previous
email. 

>  MP  ==> SparseMultivariatePolynomial(R, K)
> Implementation --> Add
>    if R has IntegralDomain then
>      Rep := Fraction MP

So we get

  Rep := Fraction SparseMultivariatePolynomial(INT,Kernel EXPR INT)

--------

The point of this is the definition of the '<' operator in
expr.spad.pamphlet

  x:% < y:% == x <$Rep y

It turns out that the ordering of %e and %pi in Rep are determined
by the ordering given by Kernel EXPR INT. And this magic is encanted
in the file 'kl.spad.pamphlet' where CachableSet is implemented. We
see that the '<' operator in Kernel depends on the position of the
expressions %e and %pi in the cache associated with EXPR INT.

    k1 < k2 ==
      if k1.posit = 0 then enterInCache(k1, triage)
      if k2.posit = 0 then enterInCache(k2, triage)
      k1.posit < k2.posit

The position in the cashe in turn is determined by the following
deeply mysterious function:

    triage(k1, k2) ==
      k1.nest   ^= k2.nest   => B2Z(k1.nest   < k2.nest)
      k1.op ^= k2.op => B2Z(k1.op < k2.op)
      (n1 := #(argument k1)) ^= (n2 := #(argument k2)) => B2Z(n1 < n2)
      ((func := property(operator k1, SPECIALEQUAL)) case None) and
        (((func::None) pretend ((%, %) -> Boolean)) (k1, k2)) => 0
      for x1 in argument(k1) for x2 in argument(k2) repeat
        x1 ^= x2 => return B2Z(x1 < x2)
      0

In any case, it seems that as symbols %e ends up at a higher location
in the cache then %pi inspite of the numerical values that they (usually)
represent. Perhaps, if we really would like the ordering in EXPR INT
to be less surprizing to the novice user of Axiom, then we need to
tweak the above routine.

\start
Date: Wed, 20 Jul 2005 19:53:44 -0400
From: Bill Page
To: William Sit
Subject: RE: what is meaining of % in SPAD

On July 20, 2005 7:23 PM William Sit wrote:

> "Page, Bill" wrote:
>> ... 
>> What does the % represent?
>
> % means the current domain in which this occurs (for categories,
> it refers to any domain of that category). In older spad files,
> the symbol is $ (Chapter 12 of Axiom book). Here, it means EXPR R.

Yes, thanks. After thinking twice about this I realized that this
must be the case.

Are the notations % and $ used interchangably in SPAD code? Why
this change? This use of % does not seem to be mentioned anywhere
in the book but you imply that it is a "newer" notation.

>...
> I am not too sure exactly how 'EXPR R' orders its elements, but
> from 'expr.spad', the ordering is inherited from 'Rep :=
> FRAC SMP(R, Kernel EXPR R)'. Ignoring the ordering on 'FRAC'
> (uniquely determined by the ordering on 'SMP'), this means the
> ordering should be induced by lexicographic order using the
> "variables" ordering of 'Kernel EXPR R'. Here is where things become
> difficult (one of the cyclic compiler problems?). Have to dig into
> kl.spad.

Very interesting reading! :)

As near as I can determine (see previous email), it all has to do
with CacheableSet.

\start
Date: Wed, 20 Jul 2005 19:11:47 -0500
From: Tim Daly
To: Bill Page
Subject: what is meaining of % in SPAD

the spad code used to use $ everywhere. 
however when the new compiler (aka aldor) was coded it was decided
to rename $ to % in the spad code. there is a C-related reason for this
but memory fails me at the moment. they are not interchangeable.

>in algebra (.spad file) code % means "this domain"
>in the interpreter % means the last value, %%(2) means the second result, etc
>%e is a special constant name

\start
Date: Wed, 20 Jul 2005 19:27:10 -0500
From: Tim Daly
To: Camm Maguire
Subject: gcl tag?

I tried to do co -r version_2_6_7 from savannah but failed.
what is the correct tag?

\start
Date: Wed, 20 Jul 2005 20:43:32 -0500
From: Tim Daly
To: Bill Page
Subject: gcl tag?

that worked. thanks.

i'm going to move axiom to this version.

\start
Date: Wed, 20 Jul 2005 21:39:08 -0400
From: Bill Page
To: Tim Daly, Camm Maguire
Subject: RE: gcl tag?

On Wednesday, July 20, 2005 8:27 Tim Daly asked:

> I tried to do co -r version_2_6_7 from savannah but failed.
> what is the correct tag?

co -r Version_2_6_7pre

\start
Date: Wed, 20 Jul 2005 22:03:41 -0400
From: Bill Page
To: Tim Daly
Subject: RE: gcl tag?
Cc: Camm Maguire

On Wednesday, July 20, 2005 9:44 PM Tim Daly wrote:

> i'm going to move axiom to this version.

Beware of some simple changes required in makedatabases.
Did you see the patch from Mike Thomas about this? GCL
Version_2_6_7pre re-defines probe-file slightly.

--------

diff -rN old-axiom--windows--1/src/interp/daase.lisp.pamphlet
new-axiom--windows--1/src/interp/daase.lisp.pamphlet
843c843
<   (setq thisdir (namestring (probe-file ".")))
---
>   (setq thisdir (namestring (truename ".")))
1109c1109
<      (list (list '|dir| (namestring (probe-file "./")) ))
---
>      (list (list '|dir| (namestring (truename "./")) ))

---------

Recall also that Camm has said that he is "very soon now"
moving Version_2_6_7pre to a new release tagged Version_2_6_7
but I guess he hasn't quite gotten around to it yet.

\start
Date: Thu, 21 Jul 2005 00:08:30 -0500
From: MathAction (wyscc)
To: MathAction
Subject: [#193 Symbolic values (without variables) are not ordered properly in 'EXPR INT'] Two different orderings mixed up

(This is reminescent of FORTRAN: type promotion from INTEGER to
REAL). In other words, if one wants to test numerical inequalities
involving symbolic constants, one should work in 'EXPR Float', not
'EXPR Integer' since most symbolic constants are not integers. To
provide an automatic type promotion from 'EXPR INT' to 'EXPR Float'
would interfere with the ordering in polynomial expressions, unless a
symbolic constant can be distinguished from a polynomial variable. We
cannot overload the operator '<' for two distinct orderings in the
same domain. I think the suggestion I posted in #47 of a
'SymbolicFloat' domain may be worth exploring. In 'SymbolicFloat', we
can retain symbolic manipulation of expressions with symbolic
constants by using the term-ordering of the underlying representation,
and still use the numerical ordering of the domain 'SymbolicFloat'.

\start
Date: Thu, 21 Jul 2005 05:59:35 -0400
From: Bill Page
To: list
Subject: RE: what is meaining of % in SPAD

On Wednesday, July 20, 2005 7:39 PM I wrote:

> The position in the cashe in turn is determined by the following
> deeply mysterious function:
>
>     triage(k1, k2) ==
>       k1.nest   ^= k2.nest   => B2Z(k1.nest   < k2.nest)
>       k1.op ^= k2.op => B2Z(k1.op < k2.op)
>       (n1 := #(argument k1)) ^= (n2 := #(argument k2)) => B2Z(n1 < n2)
>       ((func := property(operator k1, SPECIALEQUAL)) case None) and
>         (((func::None) pretend ((%, %) -> Boolean)) (k1, k2)) => 0
>       for x1 in argument(k1) for x2 in argument(k2) repeat
>         x1 ^= x2 => return B2Z(x1 < x2)
>       0
>
> In any case, it seems that as symbols %e ends up at a higher location
> in the cache then %pi inspite of the numerical values that they (usually)
> represent. Perhaps, if we really would like the ordering in EXPR INT
> to be less surprizing to the novice user of Axiom, then we need to
> tweak the above routine.

I have an example of such a change here:

http://page.axiom-developer.org/zope/mathaction/SandBoxKernel

Adding the following lines to 'kl.spad.pamphlet'

    triage(k1, k2) ==
      is?(k1,pi) and is?(k2,exp) =>  1
      is?(k2,pi) and is?(k1,exp) => -1
      ...

does the "trick" by making sure that any exp() expression gets sorted
before any pi() expression, but I am not really happy with this. Ideally
I would like triage to attempt to compare the numerical values of
expressions if at all possible - something like this:

    triage(k1, k2) ==
      n1:=numericIfCan(k1::S)
      n2:=numericIfCan(k2::S)
      n1 case Float and n2 case Float => B2Z(n1<n2)
      ...

except I cannot figure out how to persuade the compiler to do the
necessary coercions and call the 'numericIfCan' function.

Does anyone have some ideas about how to do this?

\start
Date: Thu, 21 Jul 2005 10:18:25 -0400
From: William Sit
To: Bill Page
Subject: Re: what is meaining of % in SPAD

"Page, Bill" wrote:
> > In any case, it seems that as symbols %e ends up at a higher location
> > in the cache then %pi inspite of the numerical values that they (usually)
> > represent. Perhaps, if we really would like the ordering in EXPR INT
> > to be less surprizing to the novice user of Axiom, then we need to
> > tweak the above routine.
> 
> I have an example of such a change here:
> 
> http://page.axiom-developer.org/zope/mathaction/SandBoxKernel
> 
> Adding the following lines to 'kl.spad.pamphlet'
> 
>     triage(k1, k2) ==
>       is?(k1,pi) and is?(k2,exp) =>  1
>       is?(k2,pi) and is?(k1,exp) => -1
>       ...
> 
> does the "trick" by making sure that any exp() expression gets sorted
> before any pi() expression, but I am not really happy with this. 

Yes, this is not enough because you are singling out 'exp()' and 'pi()'. The
same type of problems would occur for any symbolic constant such as those
involving trigonometric functions, or algebraic numbers. 

> Ideally
> I would like triage to attempt to compare the numerical values of
> expressions if at all possible - something like this:
> 
>     triage(k1, k2) ==
>       n1:=numericIfCan(k1::S)
>       n2:=numericIfCan(k2::S)
>       n1 case Float and n2 case Float => B2Z(n1<n2)
>       ...
> 
> except I cannot figure out how to persuade the compiler to do the
> necessary coercions and call the 'numericIfCan' function.
> 
> Does anyone have some ideas about how to do this?

I tried (see SandBox) using operator(k) argument(k) instead of k::S and it
compiles. But for some unknown bug, it does not behave as expected. In the
interpreter, the simulation gives the correct answer in the test cases.

\start
Date: Thu, 21 Jul 2005 16:22:53 +0200
From: Gregory Vanuxem
To: Bill Page
Subject: tracing complex on windows

Hi Bill,

Can you test this on the windows version of axiom.

)tr Complex
complex(0.1::SF,0.3::SF)

On my version (32 bits Windows(R)) gcl "caught fatal error".

> -----Message d'origine-----
>
> Francois,
>
> On Tuesday, June 28, 2005 10:00 AM you wrote:
>
> > I want to play with generic functions of type
> > expression -> expression.
>
> I think you have the right idea but perhaps you do not realize
> just how rigorous Axiom is when it comes to defining and
> operating on functions. What Axiom does is quite simple but
> not simply explained. You may have to read several sections of
> the Axiom Book carefully several times - sometimes between the
> lines.
>
> E.g.
>
> 6.3 Introduction to Functions
> 6.4 Declaring the Type of Functions
> 6.6 Declared vs. Undeclared Functions
> 6.7 Functions vs. Operations
> 6.9 How Axiom Determines What Function to Use
> 9.3 BasicOperator
> 9.50 MakeFunction
> 9.51 MappingPackage1
> 10.10 Automatic Newton Iteration Formulas
>
> And here is some discussion of this on MathAction:
>
> http://page.axiom-developer.org/zope/mathaction/FunctionalMapping
> http://page.axiom-developer.org/zope/mathaction/114MapOnFunctionsCrash
>
> Sometimes even reading the library code helps. (See mappkg.spad.pamphle=
t)
>
> --------
>
> There are two important things to remember that might seem
> quite odd to someone who has used Mupad, Mathematica or Maple:
>
> 1) The name cos is just a name, it is *not* a function.
> 2) Functions in Axiom are objects of type "mapping", i.e. A -> B
>    (also called signature).
>
> In Axiom the same name can be used in more than one way (overloading).
> The Axiom interpreter has elaborate sometimes heuristic rules for
> trying to decide on what mapping to associate with a given name.
> Sometimes you have to give it a little help.
>
> > I use (cos@@100)(1.0) with mupad when I want u100, with u0=1 and
> > u(n+1)=cos u(n)
>
> This works in Axiom but you have to provide some additional
> information
>
> (1) -> cos:Expression Float -> Expression Float := x +-> cos(x)
>
>    (1)  theMap(Closure)
>                        Type: (Expression Float -> Expression Float)
> (2) -> (cos**100)(1.0)
>
>    (2)  0.7390851332 1516064351
>                        Type: Expression Float
>
> Another way is to specify explicitly the package to use for the
> function composition. E.g.
>
> (3) -> FuncExpr:=MappingPackage3(Expression Integer, _
>                                  Expression Integer, _
>                                  Expression Integer);
>                         Type: Domain
>
> (4) -> ((sin*exp)$FuncExpr)(x)
>
>                x
>    (4)  sin(%e )
>                         Type: Expression Integer
>
> (5) -> )show MappingPackage1
>
> (5) -> )show MappingPackage3
>
> >...
> > Is there a the difference between f := t -> 2*t + 1 and
> > f(x)==2*x+1 ?
>
> You mean
>
> (5) -> f := t +-> 2*t + 1
>
>    (5)  t +-> 2t + 1
>                         Type: AnonymousFunction
>
> (6) -> f(2)
>
>    (6)  5
>                         Type: PositiveInteger
>
> This defines an "anonymous" function. On page of The Book
> it says:
>
> "Every function in Axiom is identified by a name and type.
> (An exception is an "anonymous function" discussed in 6.17 on
> page 268.) The type of a function is always a mapping of the
> form Source -> Target where Source and Target are types. To enter
> a type from the keyboard, enter the arrow by using a hyphen "-"
> followed by a greater-than sign ">", e.g. Integer -> Integer."
>
> You must declare the type of the function before you can
> use it in functional composition:
>
> (7) -> (f::(Expression Integer->Expression Integer)**3)(3)
>
>    (7)  31
>                                                      Type: Expression
> Integer
> (8) -> f := (t:INT):INT +-> 2*t + 1
>
>    (8)  theMap(Closure)
>                                                    Type: (Integer ->
> Integer)
> (9) -> (f**3)(3)
>
>    (9)  31
>                                                         Type:
> PositiveInteger
>
> The different between an anonymous function and the following
> is subtle and as far as I can see only be significant if the
> function definition depended on free (global) variables.
>
> (10) -> f(x)==2*x+1
>                         Type: Void
>
> In this case f(x) is not (yet) a function. We only know it's
> functional form, not it's type. More over, the expression on
> the right hand side has not be evaluated (i.e. compiled).
>
> (11) -> f(2)
>    Compiling function f with type PositiveInteger -> PositiveInteger
>
>    (11)  5
>                         Type: PositiveInteger
>
>
> > How can I do f o f o f o ...o f = x -> f(f(f(f...f(x)))) ?
> >    (I iterate 10 or 100 times)
>
> See examples above.
>
> > f := x +-> 3*x
> > g := x +-> 2*x+3
> > It seems impossible to add 2 anonymous functions. I can
> > compute f(x)+g(x) but I can't use (f+g)(x)
>
> You mean that you would like to treat + as a functional operator?
>
> This one is harder. Trying to do this in the interpret seems
> to cause several different kinds of problems in the Axiom
> interpreter (such as recently reported by here Ralf Hemmecke).
>
> The proper way to do this is to compiled a new package for the
> Axiom library. I wrote a very simple example here:
>
> http://page.axiom-developer.org/zope/mathaction/SanboxFunctionalAdditio=
n
>
> It's only about 10 lines of SPAD code. Let me know if you have
> any questions about how it works.
>
> >> Can I do (f o g) or can I only compute f(g(x)) = f g x.
>
> Function composition works using symbol * show above.
>
> > With mupad (sqrt@@2)(16) and (ln@cos@sin)(PI) compute $2$ and $0$.
>
> This works in Axiom.
>
> (1) -> MEI:=MappingPackage1(EXPR INT)
>
>    (1)  MappingPackage1 Expression Integer
>                                Type: Domain
> (2) -> ((sqrt**2)$MEI)(16)
>
>    (2)  2
>                                Type: Expression Integer
>
> (3) -> MEI3:=MappingPackage3(EXPR INT,EXPR INT,EXPR INT)
>
>    (3)
>    MappingPackage3(Expression Integer,Expression
> Integer,Expression Integer)
>                                Type: Domain
> (4) -> ((log*cos*sin)$MEI3)(%pi)
>
>    (4)  0
>                                Type: Expression Integer

\start
Date: Thu, 21 Jul 2005 10:46:40 -0400
From: Bill Page
To: Gregory Vanuxem
Subject: RE: tracing complex on windows

On Thursday, July 21, 2005 10:23 AM Vanuxem Gr=E9gory wrote:

> Can you test this on the windows version of axiom.
>
> )tr Complex
> complex(0.1::SF,0.3::SF)
>
> On my version (32 bits Windows(R)) gcl "caught fatal error".

Yes, I confirm that I get the same error on my Windows system.

This works on the MathAction server (runs linux RedHat):
\begin{axiom}
)tr Complex
\end{axiom}
\begin{axiom}
complex(0.1::SF,0.3::SF)
\end{axiom}

Please report this a bug (IssueTracker).

\start
Date: Thu, 21 Jul 2005 09:57:17 -0500
From: MathAction (anonyme)
To: MathAction
Subject: [#194 tracing complex on windows] (nouveau) 

With
</ br>
)tr Complex
</ br>
complex(0.1::SF,0.3::SF)
</ br>
gcl "caught fatal error".

\start
Date: Thu, 21 Jul 2005 10:11:39 -0500
From: MathAction (greg)
To: MathAction
Subject: [#194 tracing complex on windows] not only complex

Fatal error with other domains, for example
<pre>
)tr INT
2+3
</pre>

\start
Date: Thu, 21 Jul 2005 17:11:15 +0200
From: Martin Rubey
To: William Sit
Subject: Fixing < for expressions

William Sit writes:

 > Yes, this is not enough because you are singling out 'exp()' and 'pi()'. The
 > same type of problems would occur for any symbolic constant such as those
 > involving trigonometric functions, or algebraic numbers. 
 > 
 > > Ideally
 > > I would like triage to attempt to compare the numerical values of
 > > expressions if at all possible - something like this:
 > > 
 > >     triage(k1, k2) ==
 > >       n1:=numericIfCan(k1::S)
 > >       n2:=numericIfCan(k2::S)
 > >       n1 case Float and n2 case Float => B2Z(n1<n2)

This won't work, I think, because S is only an OrderedSet and does not implement
numericIfCan. The correct way to apply an operator in code is

evaluate(operator k, argument k)$

I think:

)di op evaluate

   [1] (BasicOperator,List D1) -> Union(D1,"failed")
            from BasicOperatorFunctions1 D1 if D1 has SETCAT

so you have to know D1, which would be S in our case. But the result is only in
S, there is no way to recover EXPR ??? from it.

In any case, I'd think that defining the ordering should be done in the domain
itself.

\start
Date: Thu, 21 Jul 2005 14:42:39 -0400
From: William Sit
To: Bill Page
Subject: re: tracing complex on windows

Sorry, forget to say OS is Windows XP Professional SP2

Axiom Version of Tuesday November 30, 2004 at 21:11:14

(33) -> complex(0.1::SF, 0.3::SF)

   (33)  0.10000000000000001 + 0.29999999999999999%i
                                                    Type: Complex DoubleFloat
(34) -> )tr Complex

   Packages traced:
      Complex DoubleFloat
   Parameterized constructors traced:
      COMPLEX
(34) -> )tr Complex

   Packages traced:
      Complex DoubleFloat
   Parameterized constructors traced:
      COMPLEX
(34) -> complex(0.1::SF, 0.3::SF)
1<enter Complex.complex,37 : 0.10000000000000001\0.29999999999999999
1>exit  Complex.complex,37 : (0.10000000000000001 . 0.29999999999999999)

1<enter Complex.real,13 : (0.10000000000000001 . 0.29999999999999999)
1>exit  Complex.real,13 : 0.10000000000000001
1<enter Complex.imag,15 : (0.10000000000000001 . 0.29999999999999999)
1>exit  Complex.imag,15 : 0.29999999999999999
   (34)  0.10000000000000001 + 0.29999999999999999%i
  

                                                  Type: Complex DoubleFloat
\start
Date: Thu, 21 Jul 2005 14:40:24 -0400
From: William Sit
To: Bill Page
Subject: re: tracing complex on windows

"Page, Bill" wrote:
> =

> On Thursday, July 21, 2005 10:23 AM Vanuxem Gr=E9gory wrote:
> =

> > Can you test this on the windows version of axiom.
> >
> > )tr Complex
> > complex(0.1::SF,0.3::SF)
> >
> > On my version (32 bits Windows(R)) gcl "caught fatal error".
> =

> Yes, I confirm that I get the same error on my Windows system.

This works on my Windows version  Version of Tuesday November 30, 2004 at=

21:11:14

(33) -> complex(0.1::SF, 0.3::SF)

   (33)  0.10000000000000001 + 0.29999999999999999%i
                                                    Type: Complex DoubleF=
loat
(34) -> )tr Complex

   Packages traced:
      Complex DoubleFloat
   Parameterized constructors traced:
      COMPLEX
(34) -> )tr Complex

   Packages traced:
      Complex DoubleFloat
   Parameterized constructors traced:
      COMPLEX
(34) -> complex(0.1::SF, 0.3::SF)
1<enter Complex.complex,37 : 0.10000000000000001\0.29999999999999999
1>exit  Complex.complex,37 : (0.10000000000000001 . 0.29999999999999999)

1<enter Complex.real,13 : (0.10000000000000001 . 0.29999999999999999)
1>exit  Complex.real,13 : 0.10000000000000001
1<enter Complex.imag,15 : (0.10000000000000001 . 0.29999999999999999)
1>exit  Complex.imag,15 : 0.29999999999999999
   (34)  0.10000000000000001 + 0.29999999999999999%i
                                             Type: Complex DoubleFloat

\start
Date: Thu, 21 Jul 2005 14:53:41 -0400
From: William Sit
To: Bill Page
Subject: re: tracing complex on windows

> Can you test this on the windows version of axiom.
>
> )tr Complex
> complex(0.1::SF,0.3::SF)

On Fedora FC2, Axiom version 3.0 Beta (Feb 2005) at 19:30:16:

the trace worked as in the Windows version.

\start
Date: Thu, 21 Jul 2005 14:12:35 -0500
From: Tim Daly
To: Xin Li
Subject: citation of Axiom?

@Software{AXIOM,
 author = {Jenks, Richard, et. al.},
 book = {Jenks, Richard D., Sutor, Robert S., et. al.
         AXIOM -- The Scientific Computation System,
         Springer-Verlag (1992)
 ISBN = {0-387-97855-0, 3-540-97855-0}
 website = {"http://page.axiom-developer.org",
            "http://savannah.nongnu.org/projects/axiom",
            "http://sourceforge.net/projects/axiom"}
 contact = {"Tim Daly",
            "Bill Page"}
 email = list}

you probably don't need all the fields. let me know if i missed any
you might need.

\start
Date: Thu, 21 Jul 2005 20:09:30 -0500
From: Tim Daly
To: Xin Li
Subject: about Windows version of AXIOM

Xin Li writes

> I just downloaded a windows version Axiom. It works well.
>But, I have some packages developed under Linux which involves:
>Lisp, C and Assembly code.
>Is there a way to port them into Windows version Axiom

Xin Li,

The windows version is built using Msys which has the GCC compiler.
If you are working in the Msys window you should be able to compile
the C and assembler code. 

Axiom runs on GCL which, in the build version, should be under
obj/windows/bin/lisp. I'm not sure if it is in the distribution
version as I don't run it that way. Perhaps someone on this list
knows.

You should send email that copies "list" as
this sends questions to everyone on the mailing list. At this point
there are several people who know more about the windows version
than I do.

\start
Date: Thu, 21 Jul 2005 23:06:52 -0400
From: Bill Page
To: Xin Li
Subject: RE: about Windows version of AXIOM

On Thursday, July 21, 2005 9:10 PM Tim Daly wrote:

> Xin Li writes
>
> I just downloaded a windows version Axiom. It works well. But,
> I have some packages developed under Linux which involves:
> Lisp, C and Assembly code. Is there a way to port them into
> Windows version Axiom


> The windows version is built using Msys which has the GCC
> compiler. If you are working in the Msys window you should
> be able to compile the C and assembler code.

Yes. Instructions for building Axiom from source on Windows
are here:

http://page.axiom-developer.org/zope/mathaction/BuildAxiom

> Axiom runs on GCL which, in the build version, should be under
> obj/windows/bin/lisp. I'm not sure if it is in the distribution
> version as I don't run it that way. Perhaps someone on this list
> knows.

Standalone GCL is not part of the Windows binary distribution of
Axiom. The distribution only includes AXIOMsys plus just the bare
minimum of MinGW/GCC necessary to compile Axiom library code.

After installing the full build environment on Windows as
described on the web page mentioned above, porting Lisp, C and
Assembler code into the Windows version of Axiom should be quite
easy - provided of course that it does not depend on any linux
specific operating system features such as X-windows, pipes,
forks, ... etc.

As Tim said, if you want help, the best place to ask is right
here on the Axiom developer email list. :)

I am anxious to know more about what Xin Li is working on and
I hope to see his contributions on the Axiom web site!

\start
Date: Fri, 22 Jul 2005 09:00:38 +0200
From: Gernot Hueber
To: axiom-developer <list>
Subject: Axiom Build on FreeBSD (axiom--BSD--1--patch--12)

Hello,

I want to compile axiom on FreeBSD 5.4 with gcl-2.6.6 and notangle from
ports. Well, after some compiling I get a fatal error (see below)?!
Can anybody help me to find and resolve the cause for this error.

Thanks
Gernot

GCL (GNU Common Lisp)  2.6.6 CLtL1    Jul 21 2005 14:40:05
Source License: LGPL(gcl,gmp), GPL(unexec,bfd)
Binary License:  GPL due to GPL'ed components: (READLINE UNEXEC)
Modifications of this banner must retain notice of a compatible license
Dedicated to the memory of W. Schelter

Use (help) to get some basic information on how to use GCL.
Initializing /home/hueber/src/axiom--BSD--1--patch-12/mnt/freebsd/algebra=
/exposed.o
                        AXIOM Computer Algebra System
                       Version: Axiom 3.4 (April 2005)
               Timestamp: Thursday July 21, 2005 at 17:01:32

[...]

   compiling local nt : $ -> $
   Loading
      /home/hueber/src/axiom--BSD--1--patch-12/mnt/freebsd/algebra/BOOLEA=
N.o
      for domain Boolean
Initializing /home/hueber/src/axiom--BSD--1--patch-12/mnt/freebsd/algebra=
/BOOLEAN.o

   >> System error:
   Caught fatal error [memory may be damaged]

(1) ->


--
DI Gernot Hueber
Institut f=FCr Integrierte Schaltungen
Altenbergerstr. 69
4040 Linz
Tel +43 732 2468 7120
Fax +43 732 2468 7126
Email Gernot Hueber
Web   www.riic.at

\start
Date: Fri, 22 Jul 2005 14:36:00 -0400
From: Xin Li
To: list
Subject: Re: about Windows version of AXIOM

Quoting Tim Daly:

> Xin Li writes
>
> > I just downloaded a windows version Axiom. It works well.
> >But, I have some packages developed under Linux which involves:
> >Lisp, C and Assembly code.
> >Is there a way to port them into Windows version Axiom
>
> Xin Li,
>
> The windows version is built using Msys which has the GCC compiler.
> If you are working in the Msys window you should be able to compile
> the C and assembler code.
>
> Axiom runs on GCL which, in the build version, should be under
> obj/windows/bin/lisp. I'm not sure if it is in the distribution
> version as I don't run it that way. Perhaps someone on this list
> knows.
>
> You should send email that copies "list" as
> this sends questions to everyone on the mailing list. At this point
> there are several people who know more about the windows version
> than I do.
>

Yes, Thanks.
But I haven't found GCL's source code

\start
Date: Fri, 22 Jul 2005 18:04:09 -0400
From: Bill Page
To: Xin Li
Subject: re: about Windows version of AXIOM

On Friday, July 22, 2005 2:36 PM Xin Li Xin Li wrote:

> But I haven't found GCL's source code

The GCL source code that is used during the Axiom build is in the
zips directory where you extracted the Axiom source distribution.
This tarball is unzipped automatically as part of the makefile
script. After the Axiom build, the GCL source is in lsp/gcl-2.6.5w
(name is based on version of GCL used during the build).

Of course you can also obtain the GCL source from the usual GCL
CVS, but that is a whole nother story.

\start
Date: Fri, 22 Jul 2005 16:51:12 -0500
From: Tim Daly
To: Xin Li
Subject: GCL source code

cvs -d:ext:anoncvs@subversions.gnu.org:/cvsroot/gcl co -r Version_2_6_7pre gcl

\start
Date: 23 Jul 2005 04:11:14 -0400
From: Camm Maguire
To: Bill Page
Subject: Re: gcl tag?

Greetings, and please excuse my delay on this!  I've fully tested
2.6.7pre with the axiom patches you sent and all works well.  I didn't
get a chance to do the upload before leaving on 1 week's vacation
(tomorrow), but hopefully will get to it as soon as I return.  I don't
anticipate any changes to the tree before release, with the possible
exception of getting Kai's requested socket error handling working.

Take care,

Bill Page writes:

> On Wednesday, July 20, 2005 9:44 PM Tim Daly wrote:
> 
> > i'm going to move axiom to this version.
> 
> Beware of some simple changes required in makedatabases.
> Did you see the patch from Mike Thomas about this? GCL
> Version_2_6_7pre re-defines probe-file slightly.
> 
> --------
> 
> diff -rN old-axiom--windows--1/src/interp/daase.lisp.pamphlet
> new-axiom--windows--1/src/interp/daase.lisp.pamphlet
> 843c843
> <   (setq thisdir (namestring (probe-file ".")))
> ---
> >   (setq thisdir (namestring (truename ".")))
> 1109c1109
> <      (list (list '|dir| (namestring (probe-file "./")) ))
> ---
> >      (list (list '|dir| (namestring (truename "./")) ))
> 
> ---------
> 
> Recall also that Camm has said that he is "very soon now"
> moving Version_2_6_7pre to a new release tagged Version_2_6_7
> but I guess he hasn't quite gotten around to it yet.

\start
Date: 23 Jul 2005 09:09:29 -0400
From: Camm Maguire
To: Gernot Hueber
Subject: Re: Axiom Build on FreeBSD

Greetings!  I'll be away for a week, but just wanted to say that if
you are using gcc 4.0, you should be using 2.6.7pre.  Also, please
make sure your bfd libraries and headers are in sync -- if in doubt,
--disable-statsysbfd --enable-locbfd to the gcl configure command
line.

Take care,

Gernot Hueber writes:

> Hello,
>
> I want to compile axiom on FreeBSD 5.4 with gcl-2.6.6 and notangle from
> ports. Well, after some compiling I get a fatal error (see below)?!
> Can anybody help me to find and resolve the cause for this error.
>
> Thanks
> Gernot
>
> GCL (GNU Common Lisp)  2.6.6 CLtL1    Jul 21 2005 14:40:05
> Source License: LGPL(gcl,gmp), GPL(unexec,bfd)
> Binary License:  GPL due to GPL'ed components: (READLINE UNEXEC)
> Modifications of this banner must retain notice of a compatible license
> Dedicated to the memory of W. Schelter
>
> Use (help) to get some basic information on how to use GCL.
> Initializing /home/hueber/src/axiom--BSD--1--patch-12/mnt/freebsd/algebra=
/exposed.o
>                         AXIOM Computer Algebra System
>                        Version: Axiom 3.4 (April 2005)
>                Timestamp: Thursday July 21, 2005 at 17:01:32
>
> [...]
>
>    compiling local nt : $ -> $
>    Loading
>       /home/hueber/src/axiom--BSD--1--patch-12/mnt/freebsd/algebra/BOOLEA=
N.o
>       for domain Boolean
> Initializing /home/hueber/src/axiom--BSD--1--patch-12/mnt/freebsd/algebra=
/BOOLEAN.o
>
>    >> System error:
>    Caught fatal error [memory may be damaged]
>
> (1) ->
>
>
> --
> DI Gernot Hueber
> Institut f=FCr Integrierte Schaltungen
> Altenbergerstr. 69
> 4040 Linz
> Tel +43 732 2468 7120
> Fax +43 732 2468 7126
> Email Gernot Hueber
> Web   www.riic.at

\start
Date: Sun, 24 Jul 2005 13:16:34 -0500
From: Tim Daly
To: list
Subject: next merge push

I've got a week in the schedule before I leave for germany (first week
in august) and washington (second week in august).

I'm now updating the system for gcl-2.6.7pre.

Does anyone have pending changes they want me to include in this update?
If so, now is the best time to bring them to my attention. Since I've
been without net access for a while I've lost the threads of many
discussions so I'm somewhat clueless about the current hot topics.

\start
Date: Mon, 25 Jul 2005 08:53:05 +0200
From: Martin Rubey
To: Tim Daly
Subject: Re: next merge push

Did you get my patches?

Martin

Tim Daly writes:
 > I've got a week in the schedule before I leave for germany (first week
 > in august) and washington (second week in august).
 > 
 > I'm now updating the system for gcl-2.6.7pre.
 > 
 > Does anyone have pending changes they want me to include in this update?
 > If so, now is the best time to bring them to my attention. Since I've
 > been without net access for a while I've lost the threads of many
 > discussions so I'm somewhat clueless about the current hot topics.

\start
Date: Mon, 25 Jul 2005 11:07:46 +0200
From: Gernot Hueber
To: Camm Maguire
Subject: Re: Axiom Build on FreeBSD

Hello,

thanks for your information. The version of gcc should not be a matter
I hope:
hawkings$ gcc --version
gcc (GCC) 3.4.2 [FreeBSD] 20040728

I used gcl from the ports, and there are a lot of enables/disables. Do
they concern?
[...]
--disable-dlopen \
--disable-dynsysbfd \
--disable-statsysbfd \
--disable-locbfd \
--enable-custreloc
[...]

Thanks

Gernot

On Sat, 2005-07-23 at 09:09 -0400, Camm Maguire wrote:
> Greetings!  I'll be away for a week, but just wanted to say that if
> you are using gcc 4.0, you should be using 2.6.7pre.  Also, please
> make sure your bfd libraries and headers are in sync -- if in doubt,
> --disable-statsysbfd --enable-locbfd to the gcl configure command
> line.
>
> Take care,
>
> Gernot Hueber writes:
>
> > Hello,
> >
> > I want to compile axiom on FreeBSD 5.4 with gcl-2.6.6 and notangle fr=
om
> > ports. Well, after some compiling I get a fatal error (see below)?!
> > Can anybody help me to find and resolve the cause for this error.
> >
> > Thanks
> > Gernot
> >
> > GCL (GNU Common Lisp)  2.6.6 CLtL1    Jul 21 2005 14:40:05
> > Source License: LGPL(gcl,gmp), GPL(unexec,bfd)
> > Binary License:  GPL due to GPL'ed components: (READLINE UNEXEC)
> > Modifications of this banner must retain notice of a compatible licen=
se
> > Dedicated to the memory of W. Schelter
> >
> > Use (help) to get some basic information on how to use GCL.
> > Initializing /home/hueber/src/axiom--BSD--1--patch-12/mnt/freebsd/alg=
ebra/exposed.o
> >                         AXIOM Computer Algebra System
> >                        Version: Axiom 3.4 (April 2005)
> >                Timestamp: Thursday July 21, 2005 at 17:01:32
> >
> > [...]
> >
> >    compiling local nt : $ -> $
> >    Loading
> >       /home/hueber/src/axiom--BSD--1--patch-12/mnt/freebsd/algebra/BO=
OLEAN.o
> >       for domain Boolean
> > Initializing /home/hueber/src/axiom--BSD--1--patch-12/mnt/freebsd/alg=
ebra/BOOLEAN.o
> >
> >    >> System error:
> >    Caught fatal error [memory may be damaged]
> >
> > (1) ->

\start
Date: Mon, 25 Jul 2005 06:02:53 -0500
From: Tim Daly
To: list
Subject: --patch-41

Axiom is now on gcl-2.6.7pre.

Next:
 (a) try to merge the windows branch again.
 (b) sweep over the bug list to see what's been fixed.
 (c) set up a local FreeBSD box and work on a version.

Before I leave I will make an end of month "cut" and push that out to
savannah and sourceforge.

Summary: move to gcl-2.6.7pre
Keywords: daly 

20050724 tpd --patch-41
20050724 tpd src/graph/view2D/viewport2D.c fix ambiguous statement structures
20050724 tpd src/doc/Makefile fix DeveloperNotes to use latex, not document
20050724 tpd src/doc/Makefile fix book to use latex rather than document
20050724 tpd src/doc/Makefile fix Rosetta to use latex rather than document
20050724 tpd src/interp/daase.lisp probe-file -> truename
20050724 tpd lsp/Makefile section GCL-2.6.7pre created
20050724 tpd zips/gcl-2.6.7pre.unixport.makefile.patch
20050724 tpd zips/gcl-2.6.7pre.h.linux.defs.patch
20050724 tpd zips/gcl-2.6.7pre.unixport.init_gcl.lsp.in.patch created
20050724 tpd zips/gcl-2.6.7pre.cmpnew.gcl_cmpflet.lsp.patch created
20050724 tpd zips/gcl-2.6.7pre.cmpnew.gcl_cmpcall.lsp.patch created
20050724 tpd Makefile changed for gcl-2.6.7pre
20050724 tpd zips/gcl-2.6.7pre.tgz created
20050629 tpd FAQ add FAQ 34: How can I find out about a domain?
20050629 tpd FAQ add FAQ 33: How do I run hypertex standalone?
20050619 tpd src/input/Makefile pmint.input added
20050619 tpd src/input/pmint.input added

\start
Date: Mon, 25 Jul 2005 06:05:40 -0500
From: Tim Daly
To: Martin Rubey
Subject: next merge push

> Did you get my patches?

I've applied the daase.lisp patch for truename which I believe was yours.

I haven't reviewed the bug list yet but that's the next thing.
Are there specific patches (diff files) somewhere?
I'd like to get a much done this week as I can.

\start
Date: Mon, 25 Jul 2005 18:08:33 -0400
From: Bill Page
To: Tim Daly
Subject: RE: next merge push

On Monday, July 25, 2005 7:06 AM Tim Daly wrote:

> Martin Rubey wrote:
>> Did you get my patches?
>
> I've applied the daase.lisp patch for truename which I believe
> was yours.

No. The daase.lisp patch was originally proposed by Mike Thomas.

> I haven't reviewed the bug list yet but that's the next thing.
> Are there specific patches (diff files) somewhere?
> I'd like to get a much done this week as I can.

There are currently 11 patches proposed in IssueTracker most of which
are from Martin. See

http://page.axiom-developer.org/zope/mathaction/IssueTracker?status:list=fix
%20proposed

If you need help interpreting any of these please let me know.

\start
Date: Mon, 25 Jul 2005 20:02:38 -0500
From: MathAction (Bill Page)
To: MathAction
Subject: [#90 coredump with infinite stream] 

I understand that the following is not a smart thing to do.  Axiom
should complain, but it just coredumps silently::

  !\begin{axiom}
  primes:Stream Integer := generate(nextPrime, 2)
  smallerThan(stream, n) == [ s for s in stream | s < n ]
  smallerThan(primes, 100) -- Axiom 3.0 Beta coredumps
  \end{axiom}

  \begin{axiom}
  entries p
  \end{axiom}

This crashes::

  !\begin{axiom}
  largerThan(st,n)==[s for s in st | not(s < n)]
  largerThan(p,5)
  \end{axiom}

This one below crashes, but not for the NAG version, which gives the correct answer::

  !\begin{axiom}
  before(st, n)==filterWhile(s+-> s < n, st)
  before(p,5)
  \end{axiom}

And this also crashes (whereas it does NOT crash for NAG version, giving the correct answer).::

  !\begin{axiom}
  lessThan(n)==filterWhile(s+-> (s < n), p)
  lessThan(5)
  \end{axiom}

\start
Date: Tue, 26 Jul 2005 07:03:12 +0200
From: Martin Rubey
To: Bill Page
Subject: RE: next merge push

Dear Tim, Bill, *

I sent Tim some documented pamphlet patches, but by accident, it seems that I
sent them privately. So here they are once more:


--Lx00r3Pkfz
	filename="fr.spad.pamphlet.patch"

LS0tIC9ob21lL3J1YmV5L2F4aW9tLS1tYWluLS0xLS1wYXRjaC00MC9zcmMvYWxnZWJyYS9mci5z
cGFkLnBhbXBobGV0CTIwMDUtMDctMTQgMTE6MzU6MjMuMDAwMDAwMDAwICswMjAwCisrKyBmci5z
cGFkLnBhbXBobGV0CTIwMDUtMDctMTQgMTU6NDc6MTMuMDAwMDAwMDAwICswMjAwCkBAIC00MTIs
MTAgKzQxMiwzOSBAQAogICAgICAgdW5pdE5vcm1hbGl6ZSBta0ZGKDEsIFtbZmwsIHIsIGldJEZG
XSkKIAogICAgIGRpZmZlcmVudGlhdGUodTolLCBkZXJpdjogUiAtPiBSKSA9PQorICAgICAgYW5z
IDo9IGRlcml2KHVuaXQgdSkgKiAoKHUgZXhxdW8gdW5pdCh1KTo6JSk6OiUpCisgICAgICBhbnMg
KyAoXysvW2ZhY3QueHBudCAqIGRlcml2KGZhY3QuZmN0cikgKgorICAgICAgICgodSBleHF1byBu
aWxGYWN0b3IoZmFjdC5mY3RyLCAxKSk6OiUpIGZvciBmYWN0IGluIGZhY3Rvckxpc3QgdV0pCisK
K0AKKworVGhpcyBvcGVyYXRpb24gcHJvdmlkZXMgYW4gaW1wbGVtZW50YXRpb24gb2YgW1tkaWZm
ZXJlbnRpYXRlXV0gZnJvbSB0aGUKK2NhdGVnb3J5IFtbRGlmZmVyZW50aWFsRXh0ZW5zaW9uXV0u
IEl0IHVzZXMgdGhlIGZvcm11bGEgCisKKyQkXGZyYWN7ZH17ZHh9IGYoeCkgPSBcc3VtX3tpPTF9
Xm4gXGZyYWN7Zih4KX17Zl9pKHgpfVxmcmFje2R9e2R4fWZfaSh4KSwkJAorCit3aGVyZSAKKwor
JCRmKHgpPVxwcm9kX3tpPTF9Xm4gZl9pKHgpLiQkCisKK05vdGUgdGhhdCB1cCB0byBbW3BhdGNo
LS00MF1dIHRoZSBmb2xsb3dpbmcgd3JvbmcgZGVmaW5pdGlvbiB3YXMgdXNlZDoKKworXGJlZ2lu
e3ZlcmJhdGltfQorICAgIGRpZmZlcmVudGlhdGUodTolLCBkZXJpdjogUiAtPiBSKSA9PQogICAg
ICAgYW5zIDo9IGRlcml2KHVuaXQgdSkgKiAoKHUgZXhxdW8gKGZyIDo9IHVuaXQodSk6OiUpKTo6
JSkKICAgICAgIGFucyArIGZyICogKF8rL1tmYWN0LnhwbnQgKiBkZXJpdihmYWN0LmZjdHIpICoK
ICAgICAgICAoKHUgZXhxdW8gbmlsRmFjdG9yKGZhY3QuZmN0ciwgMSkpOjolKSBmb3IgZmFjdCBp
biBmYWN0b3JMaXN0IHVdKQorXGVuZHt2ZXJiYXRpbX0KKword2hpY2ggY2F1c2VzIHdyb25nIHJl
c3VsdHMgYXMgc29vbiBhcyB1bml0cyBhcmUgaW52b2x2ZWQsIGZvciBleGFtcGxlIGluIAorCis8
PGlucHV0ZmlsZT4+PQorICBEKGZhY3RvciAoLXgpLCB4KQorQAorCisoSXNzdWV+XCMxNzYpCiAK
Kzw8ZG9tYWluIEZSIEZhY3RvcmVkPj49CiAgICAgbWFwKGZuLCB1KSA9PQogICAgICBmbih1bml0
IHUpICogXyovW2lycmVkdWNpYmxlRmFjdG9yKGZuKGYuZmN0ciksZi54cG50KSBmb3IgZiBpbiBm
YWN0b3JMaXN0IHVdCiAK
--Lx00r3Pkfz
	filename="combfunc.spad.pamphlet.patch"

LS0tIC9ob21lL3J1YmV5L2F4aW9tLS1tYWluLS0xLS1wYXRjaC00MC9zcmMvYWxnZWJyYS9jb21i
ZnVuYy5zcGFkLnBhbXBobGV0CTIwMDUtMDctMTQgMTE6MzU6MjMuMDAwMDAwMDAwICswMjAwCisr
KyBjb21iZnVuYy5zcGFkLnBhbXBobGV0CTIwMDUtMDctMTQgMTU6NDM6NDYuMDAwMDAwMDAwICsw
MjAwCkBAIC00MSwzNyArNDEsNyBAQAogICAgICAgKysgZm9ybWFsIHByb2R1Y3Q7CiAKIEAKLVxz
ZWN0aW9ue3BhY2thZ2UgQ09NQkYgQ29tYmluYXRvcmlhbEZ1bmN0aW9ufQotXHN1YnNlY3Rpb257
ZHZwb3cyIGZpeCAkRCgwXnoseikkfQotVGhpcyBmaXhlcyAkRCgwXnoseikkIHdoaWNoIHByZXZp
b3VzbHkgZmFpbGVkIGluIHRoZSBpbnRlcnByZXRlci4KLU5vdGUgdGhhdCwgc3RyaWN0bHkgc3Bl
YWtpbmcsICQwXnokIGlzIG5vdCBkaWZmZXJlbnRpYWJsZSBhdCAkMCQuCi1UaGlzIHVzZWQgdG8g
cmVhZDoKLVxiZWdpbnt2ZXJiYXRpbX0KLSAgICBpZiBGIGhhcyBFbGVtZW50YXJ5RnVuY3Rpb25D
YXRlZ29yeSB0aGVuCi0gICAgICBkdnBvdzIgbCA9PSBsb2coZmlyc3QgbCkgKiBmaXJzdChsKSAq
KiBzZWNvbmQobCkKLVxlbmR7dmVyYmF0aW19Ci1JdCBub3cgcmVhZHM6Ci08PGR2cG93MiBmaXg+
Pj0KLSAgICBpZiBGIGhhcyBFbGVtZW50YXJ5RnVuY3Rpb25DYXRlZ29yeSB0aGVuCi0gICAgICBk
dnBvdzIgbCA9PSBpZiB6ZXJvPyhmaXJzdCBsKSB0aGVuCi0gICAgICAgICAgICAgICAgICAgIDAK
LSAgICAgICAgICAgICAgICAgIGVsc2UKLSAgICAgICAgICAgICAgICAgICAgbG9nKGZpcnN0IGwp
ICogZmlyc3QobCkgKiogc2Vjb25kKGwpCi1ACi1cc3Vic2VjdGlvbntpaWRwcm9kIGFuZCBpaWRz
dW19Ci1UaGlzIGZ1bmN0aW9ucyBbW2lpZHByb2RdXSBhbmQgW1tpaWRzdW1dXSBoYXZlIGJlZW4g
bW9kaWZpZWQgdG8KLWhhbmRsZSBwcm9kdWN0IG92ZXIgcHJvZHVjdCBvciBzdW0gd2hpY2ggdXNl
ZCB0byBmYWlsLgotCi1JdCBtaWdodCBiZSB0aGF0IHRoZSBwcm9ibGVtIGlzIGluIFtbaWlkcHJv
ZF1dIGlmIEkgdW5kZXJzdGFuZAotY29ycmVjdGx5LCBpdHMgbGFzdCBsaW5lCi0vYmVnaW57dmVy
YmF0aW19Ci0gKi9bZXZhbChmaXJzdCBsLGs6OkssaTo6RikgZm9yIGkgaW4gcjE6OlogLi4gcjI6
OlpdCi0vZW5ke3ZlcmJhdGltfQotZXZhbHVhdGVzIHByb2R1Y3QncyBmaXJzdCBhcmd1bWVudCBm
b3IgZWFjaCB2YWx1ZSBvZiB0aGUgcHJvZHVjdAotdmFyaWFibGUgYW5kIHRoZW4gbXVsdGlwbGll
cyB0aGUgcmVzdWx0aW5nIGxpc3QgdG9nZXRoZXIuIEhvd2V2ZXIsIGZvcgotc29tZSByZWFzb24g
dGhlIGV2YWwgZmFpbHMuIEkgd2FzIHVuYWJsZSB0byBmaW5kIG91dCB3aHkgZXZhbCBmYWlscy4g
QQotaGludCBtaWdodCBiZSB0aGF0IHRoZSBvcGVyYXRpb24gInN1bW1hdGlvbiIgaXMgbm90IGNh
bGxlZCBhbnltb3JlLiBJCi1kb24ndCBldmVuIGtub3cgd2hpY2ggb3BlcmF0aW9uICJldmFsIiBp
cyBjYWxsZWQuLi4KKwogPDxwYWNrYWdlIENPTUJGIENvbWJpbmF0b3JpYWxGdW5jdGlvbj4+PQog
KWFiYnJldiBwYWNrYWdlIENPTUJGIENvbWJpbmF0b3JpYWxGdW5jdGlvbgogKysgUHJvdmlkZXMg
dGhlIHVzdWFsIGNvbWJpbmF0b3JpYWwgZnVuY3Rpb25zCkBAIC0xNzMsOCArMTQzLDI3IEBACiAg
ICAgc21wZmFjdCAgIDogKFNNUCwgTGlzdCBTRSkgLT4gRgogCiAgICAgZHVtbXkgPT0gbmV3KCkk
U0UgOjogRgotLS0gdGhpcyB3b3JrcyBpZiB3ZSBkb24ndCBhY2NpZGVudGx5IHVzZSBzdWNoIGEg
c3ltYm9sIGFzIGEgYm91bmQgb2Ygc3VtbWF0aW9uCi0tLSBvciBwcm9kdWN0IAorQAorCitUaGlz
IG1hY3JvIHdpbGwgYmUgdXNlZCBpbiBbW3Byb2R1Y3RdXSBhbmQgW1tzdW1tYXRpb25dXSwgYm90
aCB0aGUgJDUkIGFuZCAkMyQKK2FyZ3VtZW50IGZvcm1zLiBJdCBpcyB1c2VkIHRvIGludHJvZHVj
ZSBhIGR1bW15IHZhcmlhYmxlIGluIHBsYWNlIG9mIHRoZQorc3VtbWF0aW9uIGluZGV4IHdpdGhp
biB0aGUgc3VtbWFuZHMuIFRoaXMgaW4gdHVybiBpcyBuZWNlc3NhcnkgdG8ga2VlcCB0aGUKK2lu
ZGV4aW5nIHZhcmlhYmxlIGxvY2FsLCBjaXJjdW12ZW50aW5nIHByb2JsZW1zLCBmb3IgZXhhbXBs
ZSwgd2l0aAorZGlmZmVyZW50aWF0aW9uLgorCitUaGlzIHdvcmtzIGlmIHdlIGRvbid0IGFjY2lk
ZW50bHkgdXNlIHN1Y2ggYSBzeW1ib2wgYXMgYSBib3VuZCBvZiBzdW1tYXRpb24gb3IKK3Byb2R1
Y3QuCisKK05vdGUgdGhhdCB1cCB0byBbW3BhdGNoLS0yNV1dIHRoaXMgdXNlZCB0byByZWFkCisK
K1xiZWdpbnt2ZXJiYXRpbX0KKyAgICBkdW1teSA6PSBuZXcoKSRTRSA6OiBGCitcZW5ke3ZlcmJh
dGltfQorCit0aHVzIGludHJvZHVjaW5nIHRoZSBzYW1lIGR1bW15IHZhcmlhYmxlIGZvciBhbGwg
cHJvZHVjdHMgYW5kIHN1bW1hdGlvbnMsIHdoaWNoCitjYXVzZWQgbmVzdGVkIHByb2R1Y3RzIGFu
ZCBzdW1tYXRpb25zIGZhaWwuIChJc3N1ZX5cIzcyKQorCis8PHBhY2thZ2UgQ09NQkYgQ29tYmlu
YXRvcmlhbEZ1bmN0aW9uPj49CiAgICAgb3BmYWN0ICA6PSBvcGVyYXRvcigiZmFjdG9yaWFsIjo6
U3ltYm9sKSRDb21tb25PcGVyYXRvcnMKICAgICBvcHBlcm0gIDo9IG9wZXJhdG9yKCJwZXJtdXRh
dGlvbiI6OlN5bWJvbCkkQ29tbW9uT3BlcmF0b3JzCiAgICAgb3BiaW5vbSA6PSBvcGVyYXRvcigi
Ymlub21pYWwiOjpTeW1ib2wpJENvbW1vbk9wZXJhdG9ycwpAQCAtMjI5LDYgKzIxOCwxMiBAQAog
ICAgICAgZG0gOj0gZHVtbXkKICAgICAgIG9wc3VtIFtldmFsKHgsIGsgOj0ga2VybmVsKGkpJEss
IGRtKSwgZG0sIGs6OkZdCiAKK0AKKworVGhlc2UgdHdvIG9wZXJhdGlvbnMgcmV0dXJuIHRoZSBw
cm9kdWN0IG9yIHRoZSBzdW0gYXMgdW5ldmFsdWF0ZWQgb3BlcmF0b3JzLiBBCitkdW1teSB2YXJp
YWJsZSBpcyBpbnRyb2R1Y2VkIHRvIG1ha2UgdGhlIGluZGV4aW5nIHZhcmlhYmxlIFxscSBsb2Nh
bFxycS4KKworPDxwYWNrYWdlIENPTUJGIENvbWJpbmF0b3JpYWxGdW5jdGlvbj4+PQogICAgIGR2
c3VtKGwsIHgpID09CiAgICAgICBrICA6PSByZXRyYWN0KHNlY29uZCBsKUBLCiAgICAgICBkaWZm
ZXJlbnRpYXRlKHRoaXJkIGwsIHgpICogc3VtbWFuZCBsCkBAIC0yMzYsMTEgKzIzMSw1MSBAQAog
CiAgICAgZHZkc3VtKGwsIHgpID09CiAgICAgICB4ID0gcmV0cmFjdCh5IDo9IHRoaXJkIGwpQFNF
ID0+IDAKKyAgICAgIGlmIG1lbWJlcj8oeCwgdmFyaWFibGVzKGggOj0gdGhpcmQgcmVzdCByZXN0
IGwpKSBvciAKKyAgICAgICAgIG1lbWJlcj8oeCwgdmFyaWFibGVzKGcgOj0gdGhpcmQgcmVzdCBs
KSkgdGhlbgorICAgICAgICBlcnJvciAiYSBzdW0gY2Fubm90IGJlIGRpZmZlcmVudGlhdGVkIHdp
dGggcmVzcGVjdCB0byBhIGJvdW5kIgorICAgICAgZWxzZQorICAgICAgICBvcGRzdW0gW2RpZmZl
cmVudGlhdGUoZmlyc3QgbCwgeCksIHNlY29uZCBsLCB5LCBnLCBoXQorCitACisKK1RoZSBhYm92
ZSBvcGVyYXRpb24gaW1wbGVtZW50cyBkaWZmZXJlbnRpYXRpb24gb2Ygc3VtcyB3aXRoIGJvdW5k
cy4gTm90ZSB0aGF0Cit0aGUgZnVuY3Rpb24KKworJCRuXG1hcHN0b1xzdW1fe2s9MX1ebiBmKGss
bikkJAorCitpcyB3ZWxsIGRlZmluZWQgb25seSBmb3IgaW50ZWdyYWwgdmFsdWVzIG9mICRuJCBn
cmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gemVyby4KK1RoZXJlIGlzIG5vdCBldmVuIGNvbnNlbnN1
cyBob3cgdG8gZGVmaW5lIHRoaXMgZnVuY3Rpb24gZm9yICRuPDAkLiBUaHVzLCBpdCBpcworbm90
IGRpZmZlcmVudGlhYmxlLiBUaGVyZWZvcmUsIHdlIG5lZWQgdG8gY2hlY2sgd2hldGhlciB3ZSBl
cnJvbmVvdXNseSBhcmUKK2RpZmZlcmVudGlhdGluZyB3aXRoIHJlc3BlY3QgdG8gdGhlIHVwcGVy
IGJvdW5kIG9yIHRoZSBsb3dlciBib3VuZCwgd2hlcmUgdGhlCitzYW1lIHJlYXNvbmluZyBob2xk
cy4KKworRGlmZmVyZW50aWF0aW5nIGEgc3VtIHdpdGggcmVzcGVjdCB0byBpdHMgaW5kZXhpbmcg
dmFyaWFibGUgY29ycmVjdGx5IGdpdmVzCit6ZXJvLiBUaGlzIGlzIGR1ZSB0byB0aGUgaW50cm9k
dWN0aW9uIG9mIGR1bW15IHZhcmlhYmxlcyBpbiB0aGUgaW50ZXJuYWwKK3JlcHJlc2VudGF0aW9u
IG9mIGEgc3VtOiB0aGUgb3BlcmF0b3IgW1slZGVmc3VtXV0gdGFrZXMgNSBhcmd1bWVudHMsIG5h
bWVseQorCitcYmVnaW57ZW51bWVyYXRlfQorXGl0ZW0gdGhlIHN1bW1hbmRzLCB3aGVyZSBlYWNo
IG9jY3VycmVuY2Ugb2YgdGhlIGluZGV4aW5nIHZhcmlhYmxlIGlzIHJlcGxhY2VkCisgIGJ5IAor
XGl0ZW0gdGhlIGR1bW15IHZhcmlhYmxlLAorXGl0ZW0gdGhlIGluZGV4aW5nIHZhcmlhYmxlLAor
XGl0ZW0gdGhlIGxvd2VyIGJvdW5kLCBhbmQKK1xpdGVtIHRoZSB1cHBlciBib3VuZC4KK1xlbmR7
ZW51bWVyYXRlfQorCitOb3RlIHRoYXQgdXAgdG8gW1twYXRjaC0tNDBdXSB0aGUgZm9sbG93aW5n
IGluY29ycmVjdCBjb2RlIHdhcyB1c2VkLCB3aGljaCB0cmllZAordG8gcGFyYWxsZWwgdGhlIGtu
b3duIHJ1bGVzIGZvciBpbnRlZ3JhdGlvbjogKElzc3VlflwjMTgwKQorCitcYmVnaW57dmVyYmF0
aW19CisgICAgZHZkc3VtKGwsIHgpID09CisgICAgICB4ID0gcmV0cmFjdCh5IDo9IHRoaXJkIGwp
QFNFID0+IDAKICAgICAgIGsgOj0gcmV0cmFjdChkIDo9IHNlY29uZCBsKUBLCiAgICAgICBkaWZm
ZXJlbnRpYXRlKGggOj0gdGhpcmQgcmVzdCByZXN0IGwseCkgKiBldmFsKGYgOj0gZmlyc3QgbCwg
aywgaCkKICAgICAgICAgLSBkaWZmZXJlbnRpYXRlKGcgOj0gdGhpcmQgcmVzdCBsLCB4KSAqIGV2
YWwoZiwgaywgZykKICAgICAgICAgICAgICArIG9wZHN1bSBbZGlmZmVyZW50aWF0ZShmLCB4KSwg
ZCwgeSwgZywgaF0KK1xlbmR7dmVyYmF0aW19CiAKKzw8cGFja2FnZSBDT01CRiBDb21iaW5hdG9y
aWFsRnVuY3Rpb24+Pj0KICAgICBkZHByb2QgbCA9PQogICAgICAgcHJvZChzdW1tYW5kKGwpOjpP
LCB0aGlyZChsKTo6TyA9IGZvdXJ0aChsKTo6TywgZm91cnRoKHJlc3QgbCk6Ok8pCiAKQEAgLTI1
Nyw2ICsyOTIsMTIgQEAKICAgICAgIGRtIDo9IGR1bW15CiAgICAgICBvcGRzdW0gW2V2YWwoeCxr
LGRtKSwgZG0sIGs6OkYsIGxvIHNlZ21lbnQgcywgaGkgc2VnbWVudCBzXQogCitACisKK1RoZXNl
IHR3byBvcGVyYXRpb25zIHJldHVybiB0aGUgcHJvZHVjdCBvciB0aGUgc3VtIGFzIHVuZXZhbHVh
dGVkIG9wZXJhdG9ycy4gQQorZHVtbXkgdmFyaWFibGUgaXMgaW50cm9kdWNlZCB0byBtYWtlIHRo
ZSBpbmRleGluZyB2YXJpYWJsZSBcbHEgbG9jYWxccnEuCisKKzw8cGFja2FnZSBDT01CRiBDb21i
aW5hdG9yaWFsRnVuY3Rpb24+Pj0KICAgICBzbXBmYWN0KHAsIGwpID09CiAgICAgICBtYXAoSzJm
YWN0KCMxLCBsKSwgIzE6OkYsIHApJFBvbHlub21pYWxDYXRlZ29yeUxpZnRpbmcoCiAgICAgICAg
IEluZGV4ZWRFeHBvbmVudHMgSywgSywgUiwgU01QLCBGKQpAQCAtNDE4LDggKzQ1OSwzMyBAQAog
ICAgIGVsc2UKICAgICAgIGlpcG93IGwgPT0gaXBvdyBsCiAKLTw8ZHZwb3cyIGZpeD4+CisgICAg
aWYgRiBoYXMgRWxlbWVudGFyeUZ1bmN0aW9uQ2F0ZWdvcnkgdGhlbgorICAgICAgZHZwb3cyIGwg
PT0gaWYgemVybz8oZmlyc3QgbCkgdGhlbgorICAgICAgICAgICAgICAgICAgICAwCisgICAgICAg
ICAgICAgICAgICBlbHNlCisgICAgICAgICAgICAgICAgICAgIGxvZyhmaXJzdCBsKSAqIGZpcnN0
KGwpICoqIHNlY29uZChsKQorCitACisKK1RoaXMgb3BlcmF0aW9uIGltcGxlbWVudHMgdGhlIGRp
ZmZlcmVudGlhdGlvbiBvZiB0aGUgcG93ZXIgb3BlcmF0b3IgW1slcG93ZXJdXQord2l0aCByZXNw
ZWN0IHRvIGl0cyBzZWNvbmQgYXJndW1lbnQsIGkuZS4sIHRoZSBleHBvbmVudC4gSXQgdXNlcyB0
aGUgZm9ybXVsYQorCiskJFxmcmFje2R9e2R4fSBnKHkpXnggPSBcZnJhY3tkfXtkeH0gZV57eFxs
b2cgZyh5KX0gPSBcbG9nIGcoeSkgZyh5KV54JCQuCisKK0lmICRnKHkpJCBlcXVhbHMgemVybywg
dGhpcyBmb3JtdWxhIGlzIG5vdCB2YWxpZCwgc2luY2UgdGhlIGxvZ2FyaXRobSBpcyBub3QKK2Rl
ZmluZWQgdGhlcmUuIEFsdGhvdWdoIHN0cmljdGx5IHNwZWFraW5nICQwXngkIGlzIG5vdCBkaWZm
ZXJlbnRpYWJsZSBhdCB6ZXJvLAord2UgcmV0dXJuIHplcm8gZm9yIGNvbnZlbmllbmNlLiAKKwor
Tm90ZSB0aGF0IHVwIHRvIFtbcGF0Y2gtLTI1XV0gdGhpcyB1c2VkIHRvIHJlYWQKIAorXGJlZ2lu
e3ZlcmJhdGltfQorICAgIGlmIEYgaGFzIEVsZW1lbnRhcnlGdW5jdGlvbkNhdGVnb3J5IHRoZW4K
KyAgICAgIGR2cG93MiBsID09IGxvZyhmaXJzdCBsKSAqIGZpcnN0KGwpICoqIHNlY29uZChsKQor
XGVuZHt2ZXJiYXRpbX0KKword2hpY2ggY2F1c2VkIGRpZmZlcmVudGlhdGluZyAkMF54JCB0byBm
YWlsLiAoSXNzdWV+XCMxOSkKKworPDxwYWNrYWdlIENPTUJGIENvbWJpbmF0b3JpYWxGdW5jdGlv
bj4+PQogICAgIGV2YWx1YXRlKG9wZmFjdCwgaWlmYWN0KSRCYXNpY09wZXJhdG9yRnVuY3Rpb25z
MShGKQogICAgIGV2YWx1YXRlKG9wcG93LCBpaXBvdykKICAgICBldmFsdWF0ZShvcHBlcm0sIGlp
cGVybSkKQEAgLTQ2MCwyOSArNTI2LDI5IEBACiAgICAgICArKyBwcm9wZXJ0aWVzIGFwcHJvcHJp
YXRlIGZvciBGOwogICAgICAgKysgZXJyb3IgaWYgb3AgaXMgbm90IGEgc3BlY2lhbCBmdW5jdGlv
biBvcGVyYXRvcgogICAgIGFicyAgICAgOiBGIC0+IEYKLQkrKyBhYnMoZikgcmV0dXJucyB0aGUg
YWJzb2x1dGUgdmFsdWUgb3BlcmF0b3IgYXBwbGllZCB0byBmCisgICAgICArKyBhYnMoZikgcmV0
dXJucyB0aGUgYWJzb2x1dGUgdmFsdWUgb3BlcmF0b3IgYXBwbGllZCB0byBmCiAgICAgR2FtbWEg
ICA6IEYgLT4gRgogICAgICAgKysgR2FtbWEoZikgcmV0dXJucyB0aGUgZm9ybWFsIEdhbW1hIGZ1
bmN0aW9uIGFwcGxpZWQgdG8gZgogICAgIEdhbW1hICAgOiAoRixGKSAtPiBGCiAgICAgICArKyBH
YW1tYShhLHgpIHJldHVybnMgdGhlIGluY29tcGxldGUgR2FtbWEgZnVuY3Rpb24gYXBwbGllZCB0
byBhIGFuZCB4CiAgICAgQmV0YTogICAgICAoRixGKSAtPiBGCi0JKysgQmV0YSh4LHkpIHJldHVy
bnMgdGhlIGJldGEgZnVuY3Rpb24gYXBwbGllZCB0byB4IGFuZCB5CisgICAgICArKyBCZXRhKHgs
eSkgcmV0dXJucyB0aGUgYmV0YSBmdW5jdGlvbiBhcHBsaWVkIHRvIHggYW5kIHkKICAgICBkaWdh
bW1hOiAgIEYtPkYKLQkrKyBkaWdhbW1hKHgpIHJldHVybnMgdGhlIGRpZ2FtbWEgZnVuY3Rpb24g
YXBwbGllZCB0byB4IAorICAgICAgKysgZGlnYW1tYSh4KSByZXR1cm5zIHRoZSBkaWdhbW1hIGZ1
bmN0aW9uIGFwcGxpZWQgdG8geCAKICAgICBwb2x5Z2FtbWE6IChGLEYpIC0+RgotCSsrIHBvbHln
YW1tYSh4LHkpIHJldHVybnMgdGhlIHBvbHlnYW1tYSBmdW5jdGlvbiBhcHBsaWVkIHRvIHggYW5k
IHkKKyAgICAgICsrIHBvbHlnYW1tYSh4LHkpIHJldHVybnMgdGhlIHBvbHlnYW1tYSBmdW5jdGlv
biBhcHBsaWVkIHRvIHggYW5kIHkKICAgICBiZXNzZWxKOiAgIChGLEYpIC0+IEYKLQkrKyBiZXNz
ZWxKKHgseSkgcmV0dXJucyB0aGUgYmVzc2VsaiBmdW5jdGlvbiBhcHBsaWVkIHRvIHggYW5kIHkK
KyAgICAgICsrIGJlc3NlbEooeCx5KSByZXR1cm5zIHRoZSBiZXNzZWxqIGZ1bmN0aW9uIGFwcGxp
ZWQgdG8geCBhbmQgeQogICAgIGJlc3NlbFk6ICAgKEYsRikgLT4gRgotCSsrIGJlc3NlbFkoeCx5
KSByZXR1cm5zIHRoZSBiZXNzZWx5IGZ1bmN0aW9uIGFwcGxpZWQgdG8geCBhbmQgeQorICAgICAg
KysgYmVzc2VsWSh4LHkpIHJldHVybnMgdGhlIGJlc3NlbHkgZnVuY3Rpb24gYXBwbGllZCB0byB4
IGFuZCB5CiAgICAgYmVzc2VsSTogICAoRixGKSAtPiBGCi0JKysgYmVzc2VsSSh4LHkpIHJldHVy
bnMgdGhlIGJlc3NlbGkgZnVuY3Rpb24gYXBwbGllZCB0byB4IGFuZCB5CisgICAgICArKyBiZXNz
ZWxJKHgseSkgcmV0dXJucyB0aGUgYmVzc2VsaSBmdW5jdGlvbiBhcHBsaWVkIHRvIHggYW5kIHkK
ICAgICBiZXNzZWxLOiAgIChGLEYpIC0+IEYKLQkrKyBiZXNzZWxLKHgseSkgcmV0dXJucyB0aGUg
YmVzc2VsayBmdW5jdGlvbiBhcHBsaWVkIHRvIHggYW5kIHkKKyAgICAgICsrIGJlc3NlbEsoeCx5
KSByZXR1cm5zIHRoZSBiZXNzZWxrIGZ1bmN0aW9uIGFwcGxpZWQgdG8geCBhbmQgeQogICAgIGFp
cnlBaTogICAgRiAtPiBGCi0JKysgYWlyeUFpKHgpIHJldHVybnMgdGhlIGFpcnlhaSBmdW5jdGlv
biBhcHBsaWVkIHRvIHggCisgICAgICArKyBhaXJ5QWkoeCkgcmV0dXJucyB0aGUgYWlyeWFpIGZ1
bmN0aW9uIGFwcGxpZWQgdG8geCAKICAgICBhaXJ5Qmk6ICAgIEYgLT4gRgotCSsrIGFpcnlCaSh4
KSByZXR1cm5zIHRoZSBhaXJ5YmkgZnVuY3Rpb24gYXBwbGllZCB0byB4CisgICAgICArKyBhaXJ5
QmkoeCkgcmV0dXJucyB0aGUgYWlyeWJpIGZ1bmN0aW9uIGFwcGxpZWQgdG8geAogCiAgICAgaWlH
YW1tYSA6IEYgLT4gRgogICAgICAgKysgaWlHYW1tYSh4KSBzaG91bGQgYmUgbG9jYWwgYnV0IGNv
bmRpdGlvbmFsOwo=
--Lx00r3Pkfz
	filename="string.spad.pamphlet.patch"

LS0tIC9ob21lL3J1YmV5L2F4aW9tLS1tYWluLS0xLS1wYXRjaC00MC9zcmMvYWxnZWJyYS9zdHJp
bmcuc3BhZC5wYW1waGxldAkyMDA1LTA3LTE0IDExOjM1OjIzLjAwMDAwMDAwMCArMDIwMAorKysg
c3RyaW5nLnNwYWQucGFtcGhsZXQJMjAwNS0wNy0xNCAxNTozOTo1Ny4wMDAwMDAwMDAgKzAyMDAK
QEAgLTQ4OSw4ICs0ODksMjEgQEAKIAkobiA9IDEpID0+IG9yZChzLm1uKQogCW9yZChzLm1uKSAq
IG9yZCBzKG1uK24tMSkgKiBvcmQgcyhtbiArIG4gcXVvIDIpCiAKKyAgICBtYXRjaChwYXR0ZXJu
LHRhcmdldCx3aWxkY2FyZCkgPT0gc3RyaW5nTWF0Y2gocGF0dGVybix0YXJnZXQsQ0hBUkFDVEVS
KHdpbGRjYXJkKSRMaXNwKSRMaXNwCisgCitACisKK1VwIHRvIFtbcGF0Y2gtLTQwXV0gdGhpcyBy
ZWFkCisKK1xiZWdpbnt2ZXJiYXRpbX0KICAgICBtYXRjaChwYXR0ZXJuLHRhcmdldCx3aWxkY2Fy
ZCkgPT0gc3RyaW5nTWF0Y2gocGF0dGVybix0YXJnZXQsd2lsZGNhcmQpJExpc3AKK1xlbmR7dmVy
YmF0aW19CisKK3doaWNoIGRpZCBub3Qgd29yayAoSXNzdWV+XCM5NyksIHNpbmNlIFtbd2lsZGNh
cmRdXSBpcyBhbiBBeGlvbS1bW0NoYXJhY3Rlcl1dLAorbm90IGEgTGlzcC1bW0NoYXJhY3Rlcl1d
LiBUaGUgb3BlcmF0aW9uIFtbQ0hBUkFDVEVSXV0gZnJvbSBbW0xpc3BdXSBwZXJmb3JtcwordGhl
IGNvZXJjaW9uLgogCis8PGRvbWFpbiBJU1RSSU5HIEluZGV4ZWRTdHJpbmc+Pj0KICAgICBtYXRj
aD8ocGF0dGVybiwgdGFyZ2V0LCBkb250Y2FyZSkgPT0KIAluIDo9IG1heEluZGV4IHBhdHRlcm4K
IAlwIDo9IHBvc2l0aW9uKGRvbnRjYXJlLCBwYXR0ZXJuLCBtIDo9IG1pbkluZGV4IHBhdHRlcm4p
OjpOCg==
--Lx00r3Pkfz


Tim: Please correct the patch number I'm referring to, when you merge them. It
seems that they would go into patch number 42 only, so you would have to
replace 40 with 41 everywhere.

\start
Date: Tue, 26 Jul 2005 11:26:08 +0100
From: Mark Murray
To: Gernot Hueber
Subject: Re: Axiom Build on FreeBSD
Cc: Camm Maguire

Gernot Hueber writes:
>I used gcl from the ports, and there are a lot of enables/disables. Do
>they concern?
>=5B...=5D
>--disable-dlopen =5C
>--disable-dynsysbfd =5C
>--disable-statsysbfd =5C
>--disable-locbfd =5C
>--enable-custreloc
>=5B...=5D

No. :-)

\start
Date: Tue, 26 Jul 2005 06:49:13 -0500
From: Tim Daly
To: Martin Rubey
Subject: axiom--main--1--patch-42

Martin,

Your patches have been added.

Tim

============================================================

Summary: algebra patches
Keywords: Martin Rubey, fr.spad combfunc.spad string.spad

20050725 tpd --patch-42
20050725 mxr src/algebra/combfunc.spad fix symbols in sums and products
20050725 tpd src/input/Makefile TESTFR.output
20050725 tpd src/algebra/Makefile create TESTFR.input
20050725 mxr src/algebra/fr.spad handle units in FR differentiate
20050725 mxr src/algebra/string.spad make match use CHARACTER(wildcard)

\start
Date: Wed, 27 Jul 2005 22:43:15 -0500
From: Tim Daly
To: Bill Page, Kai Kaminski
Subject: status

Kai,

Like Bill, I'll be away (in Germany next week, Arlington VA, the week
after) but I'll likely have some web access. I have a priority work
item that is due ever so shortly so I'm going to be rather heads-down
for a little while concentrating on getting it done.

It isn't important which lisp you choose as the browser/graphics lisp
will run in a separate process. And we can figure out porting issues
after it works.

Like Bill with http I have my own hot topic. I'd hope you plan to use
a literate programming style in developing the new code. It'll make
the integration task much easier as I don't have to reverse-engineer
and document the code before merge.

I did have an extended discussion with my son about the various tools
you've mentioned and he convinced me that AJAX was a worthwhile path.
Of course, having come to that understanding I now find you've got a
good reason to abandon it. sigh. :-)

Bill makes a good point about the task of understanding BOOT code.
If you figure out a piece of Axiom technology it is important to
write it down. The steps would be:

given foo.file
cp foo.file foo.file.kai
modify foo.file.kai
diff -Naur foo.file foo.file.kai >foo.file.patch
cat foo.file.patch | mail -s "foo.file.patch" Tim Daly

to send me the patches. The idea is that each person's understanding
of a portion of Axiom gets captured and written down. If you're going
to take the time to understand it the extra time to document that
understanding gets multiplied over every future user.

\start
Date: Thu, 28 Jul 2005 06:48:24 -0500
From: MathAction (unknown)
To: MathAction
Subject: [GraphViz] first

  \begin{latex}
  \digraph[scale=0.5]{MyGraph1}{rankdir=LR; a->b; b->c}
  \digraph[scale=0.5]{MyGraph1}{rankdir=LR; a->b; b->c}
  \end{latex}

\start
Date: Thu, 28 Jul 2005 09:36:08 -0500
From: MathAction (unknown)
To: MathAction
Subject: [GraphViz] test

\begin{latex}
\digraph[scale=0.5]{MyGraph1}{rankdir=LR; a->b; b->c; c->d}
\end{latex}

\start
Date: Thu, 28 Jul 2005 09:34:53 -0500
From: MathAction (unknown)
To: MathAction
Subject: [GraphViz] test

\begin{latex}
\digraph[scale=0.5]{MyGraph1}{rankdir=LR; a->b; b->c}
\end{latex}

\start
Date: Thu, 28 Jul 2005 11:34:18 -0500
From: MathAction (unknown)
To: MathAction
Subject: [#195 Add a conjugateTranspose operation in MatrixCategory] 

\begin{axiom}
a:=matrix ([[%i,7],[6,3*%i]])
b := map(conjugate,transpose(a)) * a
\end{axiom}
Determinant and eigenvalues of a complex positive definite matrix are always real and positive.
For example,
\begin{axiom}
determinant(b)
\end{axiom}

\start
Date: Thu, 28 Jul 2005 11:27:38 -0500
From: MathAction (anonymous)
To: MathAction
Subject: [#195 Add a conjugateTranspose operation in MatrixCategory] (new) 

It can be interesting to add a conjugateTranspose operation in
MatrixCategory RectangularMatrixCategory and SquareMatrixCategory.

For example conjugateTranspose(a) * a will give a positive definite Matrix.

\start
Date: Thu, 28 Jul 2005 11:37:29 -0500
From: MathAction (greg)
To: MathAction
Subject: [#195 Add a conjugateTranspose operation in MatrixCategory] 

For example conjugateTranspose(a) * a will give a hermitian matrix.

Determinant and eigenvalues of a complex hermitian matrix are always
real and positive.

\start
Date: Thu, 28 Jul 2005 13:42:00 -0500
From: MathAction (greg)
To: MathAction
Subject: [#195 Add a conjugateTranspose operation in MatrixCategory] 

Determinant and eigenvalues of a this complex hermitian matrix are always real and positive.

\start
Date: Thu, 28 Jul 2005 13:49:44 -0500
From: MathAction (greg)
To: MathAction
Subject: [#195 Add a conjugateTranspose operation in MatrixCategory] shut up greg !!!

For example conjugateTranspose(a) * a will give a hermitian positive definite matrix.

Determinant and eigenvalues of this matrix are always real and positive.

\start
Date: Sat, 30 Jul 2005 13:03:54 -0500
From: MathAction (Gregory Vanuxem)
To: MathAction
Subject: [Axiom-mail] input initialization file

Hi,

Do you why all my functions defined in .axiom.input
are not usabla if i use the 'axiom' script.
If i use AXIOMsys that's work.

A strange thing is that my functions are added to workspace.

\start
Date: Sat, 30 Jul 2005 13:11:45 -0500
From: MathAction (daly)
To: MathAction
Subject: [Axiom-mail] input initialization file

Greg,

It sounds like the axiom script is running as a different user.
Are you starting the axiom script by hand or are you using a
desktop shortcut? 

\start
Date: Sat, 30 Jul 2005 13:12:38 -0500
From: Tim Daly
To: Gregory Vanuxem
Subject: interesting approach to training

Slime is an emacs-lisp integrated environment. Lately there has been
a movie made that introduces people to slime. While slime might not
be of interest to axiom the approach (using a movie) to introduce
new users is very interesting. Almost makes me wish I had an apple.
See:

wget http://common-lisp.net/movies/slime.mov

\start
Date: Sat, 30 Jul 2005 13:29:39 -0500
From: MathAction (Gregory Vanuxem)
To: MathAction
Subject: [Axiom-mail] Re: input initialization file

Le samedi 30 juillet 2005  13:10 -0500, Tim Daly a
crit :
> Greg,
> 
> It sounds like the axiom script is running as a different user.
> Are you starting the axiom script by hand or are you using a
> desktop shortcut? 
I run it from a terminal.


\start
Date: Sat, 30 Jul 2005 14:53:56 -0500
From: Tim Daly
To: Mark Murray
Subject: init scripts

Ok. Time to get some work out of you. I've moved Axiom to the 
GCL 2.6.7pre version which, I believe, has the fix I need to complete
the FreeBSD port. I'm doing final testing on that at this moment and
will spend some time tonight pushing it out to savannah and sourceforge.

I also have a new machine that is network connected.
So now the game is to set up a freebsd machine and get the axiom
image working and fully integrated. I'm heading for Germany for a
week starting tomorrow and then Arlington VA the week after. But
top of the stack is to set up this machine and get the port done.
It should happen by the end of august, at least that's the plan.

So expect a sequence of dumb questions to start flowing.

First question: what version of freebsd should I set up and where
should I get the images from?

\start
Date: Sat, 30 Jul 2005 21:49:26 +0200
From: Gregory Vanuxem
To: Tim Daly
Subject: Re: init scripts

Le samedi 30 juillet 2005 =E0 14:35 -0500, Tim Daly a
=E9crit :
> Ok. Now I have a clue but it's subtle.
>
> You write this in your .axiom.input file:
>
> mrandom(x:Integer,v:Integer,z:Integer):ColumnMajorMatrix(SF) =
>  a:=matrix([[random(x)::SF for i in 1..y] for j in 1..x])$ColumnMajor=
Matrix(SF)
>  a
>
> You can't see this function even though it appears to be defined. That'=
s
> because Axiom is working in a new frame.

Humm, I was thinking about that...

>
> When you start AXIOMsys you are running the interpreter talking directl=
y
> to the terminal. So the .input file is actually talking to a frame
> at the top level. Your function is defined.
>
> The .axiom.input file is read in a "frame" called "initial".
> AXIOMsys only uses the "initial" frame (although you can define and
> use new ones). A frame contains its own variables and function definiti=
ons.
>
> The "axiom" command does several things that AXIOMsys does not. In
> particular the axiom shell script starts up the 'sman' process which
> starts AXIOMsys (which reads the .axiom.input file) and then sman
> creates a new frame (usually a random lisp gensym name). In this new
> frame (created after .axiom.input is read) your mrandom function is
> not defined.
>
> To see this do:
>   AXIOMsys
>   mrandom(3,3,3)   -- compiles and runs the function
>   )quit
>
> Now do:
>   axiom
>   mrandom(3,3,3)   -- undefined function
>   )frame next
>   mrandom(3,3,3)   -- compiles and runs the function
>   )frame names     -- shows you all of the defined frames
>   )quit
>
>
> So with the axiom shell script the process is:
>   axiom
>     start sman                    (done by axiom shell script)
>       sman starts AXIOMsys        (done by sman)
>         create frame "initial"    (done by AXIOMsys)
>           read .axiom.input       (define your function here)
>         create frame "G00234"     (done by sman)
>           put up a command prompt (in frame G00234, no functions define=
d)
>         )frame next               (done by you)
>                         .... and now you're back in frame initial
>                         .... and your function is there
>
>
> So your function was read and it is defined. However the function got
> defined in the "initial" frame (because you defined it in the .axiom.in=
put
> file) and is not known in the frame created by sman. The ")frame next"
> command will move you around the ring of frames. (See the hardcopy book
> on page 579).

\start
Date: Sat, 30 Jul 2005 14:35:29 -0500
From: Tim Daly
To: Gregory Vanuxem
Subject: init scripts

Ok. Now I have a clue but it's subtle.

You write this in your .axiom.input file:

mrandom(x:Integer,v:Integer,z:Integer):ColumnMajorMatrix(SF) =
 a:=matrix([[random(x)::SF for i in 1..y] for j in 1..x])$ColumnMajorMatrix(SF)
 a

You can't see this function even though it appears to be defined. That's
because Axiom is working in a new frame. 

When you start AXIOMsys you are running the interpreter talking directly
to the terminal. So the .input file is actually talking to a frame
at the top level. Your function is defined. 

The .axiom.input file is read in a "frame" called "initial".
AXIOMsys only uses the "initial" frame (although you can define and
use new ones). A frame contains its own variables and function definitions.

The "axiom" command does several things that AXIOMsys does not. In
particular the axiom shell script starts up the 'sman' process which
starts AXIOMsys (which reads the .axiom.input file) and then sman
creates a new frame (usually a random lisp gensym name). In this new
frame (created after .axiom.input is read) your mrandom function is
not defined.

To see this do:
  AXIOMsys
  mrandom(3,3,3)   -- compiles and runs the function
  )quit

Now do:
  axiom
  mrandom(3,3,3)   -- undefined function
  )frame next
  mrandom(3,3,3)   -- compiles and runs the function
  )frame names     -- shows you all of the defined frames 
  )quit


So with the axiom shell script the process is:
  axiom 
    start sman                    (done by axiom shell script)
      sman starts AXIOMsys        (done by sman)
        create frame "initial"    (done by AXIOMsys)
          read .axiom.input       (define your function here)
        create frame "G00234"     (done by sman)
          put up a command prompt (in frame G00234, no functions defined)
        )frame next               (done by you)
                        .... and now you're back in frame initial
                        .... and your function is there


So your function was read and it is defined. However the function got
defined in the "initial" frame (because you defined it in the .axiom.input
file) and is not known in the frame created by sman. The ")frame next"
command will move you around the ring of frames. (See the hardcopy book
on page 579).

\start
Date: Sat, 30 Jul 2005 21:21:24 +0100
From: Mark Murray
To: Tim Daly
Subject: Re: init scripts 

Tim Daly writes:
>Ok. Time to get some work out of you. I've moved Axiom to the 
>GCL 2.6.7pre version which, I believe, has the fix I need to complete
>the FreeBSD port. I'm doing final testing on that at this moment and
>will spend some time tonight pushing it out to savannah and sourceforge.

Excellent! :-)

>I also have a new machine that is network connected.
>So now the game is to set up a freebsd machine and get the axiom
>image working and fully integrated. I'm heading for Germany for a
>week starting tomorrow and then Arlington VA the week after. But
>top of the stack is to set up this machine and get the port done.
>It should happen by the end of august, at least that's the plan.

Your timing couldn't be better! I'm between jobs right now.

>So expect a sequence of dumb questions to start flowing.

Ask away!

>First question: what version of freebsd should I set up and where
>should I get the images from?

http://www.freebsd.org

We have ISO's. Best to go for version 5.4, i386 architecture (that 
means its OK for Pentium and friends!).

I need to get the GCL "port" updated. I'll do this while you are 
away. Then when you get back, I can tell you how to get the "right" 
GCL and noweb on board.

\start
Date: Sun, 31 Jul 2005 19:34:12 +0200
From: Gregory Vanuxem
To: list
Subject: Re: axiom--main--1--patch-42

Hi,

Le mardi 26 juillet 2005 =E0 06:49 -0500, Tim Daly acrit :
> Martin,
>
> Your patches have been added.
>
> Tim
>
> =========================
==========================
===========
>
>
> Summary: algebra patches
> Keywords: Martin Rubey, fr.spad combfunc.spad string.spad
>
> 20050725 tpd --patch-42
> 20050725 mxr src/algebra/combfunc.spad fix symbols in sums and products
> 20050725 tpd src/input/Makefile TESTFR.output
> 20050725 tpd src/algebra/Makefile create TESTFR.input
> 20050725 mxr src/algebra/fr.spad handle units in FR differentiate
> 20050725 mxr src/algebra/string.spad make match use CHARACTER(wildcard)
>
>
Here is the output from fresh compilation:

"building browse.daase"
"building category.daase"
"building interp.daase"
Value = #p"category.daase"
(1) -> 5 making /usr/local/axiom/mnt/linux/bin/asq
from /usr/local/axiom/obj/linux/etc/asq.c
4 making /usr/local/axiom/mnt/linux/bin/asq
from /usr/local/axiom/obj/linux/etc/asq.c
2 making /usr/local/axiom/mnt/linux/lib/summary
from /usr/local/axiom/src/etc/summary
3 making /usr/local/axiom/mnt/linux/lib/copyright
from /usr/local/axiom/src/etc/copyright
1 making /usr/local/axiom/mnt/linux/bin/axiom
from /usr/local/axiom/src/etc/axiom
6 finished /usr/local/axiom/src/etc
make[3]: quittant le r=E9pertoire =AB /usr/local/axiom/src/etc =BB
6 making /usr/local/axiom/src/clef/Makefile
from /usr/local/axiom/src/clef/Makefile.pamphlet
5 making /usr/local/axiom/src/clef
make[3]: entrant dans le r=E9pertoire =AB /usr/local/axiom/src/clef =BB
2 making /usr/local/axiom/obj/linux/clef/edible.c
from /usr/local/axiom/src/clef/edible.c.pamphlet
3 making /usr/local/axiom/obj/linux/clef/edible.o
from /usr/local/axiom/obj/linux/clef/edible.c
1 linking clef
5 making /usr/local/axiom/mnt/linux/doc/src/clef/axiom.sty
from /usr/local/axiom/src/doc/axiom.sty.pamphlet
4 making /usr/local/axiom/mnt/linux/doc/src/clef/edible.c.dvi
from /usr/local/axiom/src/clef/edible.c.pamphlet
6 finished /usr/local/axiom/src/clef
make[3]: quittant le r=E9pertoire =AB /usr/local/axiom/src/clef =BB
42 making /usr/local/axiom/src/doc/Makefile
from /usr/local/axiom/src/doc/Makefile.pamphlet
41 making /usr/local/axiom/src/doc
make[3]: entrant dans le r=E9pertoire =AB /usr/local/axiom/src/doc =BB
1 making /usr/local/axiom/int/doc/axiom.bib
from /usr/local/axiom/src/doc/axiom.bib.pamphlet
3 making /usr/local/axiom/mnt/linux/doc/DeveloperNotes.dvi
from /usr/local/axiom/src/doc/DeveloperNotes.pamphlet
/bin/sh: line 0: [: too many arguments

\end{verbatim}
\eject
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\cleardoublepage
%\phantomsection
\addcontentsline{toc}{chapter}{Bibliography}
\bibliographystyle{axiom}
\bibliography{axiom}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\cleardoublepage
%\phantomsection
\addcontentsline{toc}{chapter}{Index}
\printindex
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\end{document}
