\start
Date: Sun, 02 Jan 2005 15:52:08 +0300
From: Vadim V. Zhytnikov
To: list
Subject: Re: savannah cvs

root writes:

>Axiom 3.0 Beta sources are now in savannah.
>You can tell that it is the 3.0 Beta because it prints this in the header:
>    
>    Axiom 3.0 Beta (January 2005)
>
>The binaries are not yet up to date with the savannah sources.
>I'll finish as many as the cpu cycles allow but I'll be away from
>the internet for the weekend.
>
>Bug fixes discussed recently are not in the release due to discussion
>of the proper fixes. Graphics is there but not integrated. Hypertex is
>not there but appears to be working locally. Both graphics and hypertex
>will probably be integrated in the next monthly release (February 2005).
>
>Tim
>
>

Thank you very much for such a New Year present!

I'm packaging Axiom (Savannah CVS Des 30, 2004) for
ALT Linux (www.altlinux.com).  Now graphics works well
under sman.  But there are a few glitches I'd like to
report on:

1. If I install axiom with the command

make INSTALL=<my-work-dir>/usr/lib/axiom \
     COMMAND=<my-work-dir>/usr/bin/axiom \
     install

then resulting axiom script contains

AXIOM=<my-work-dir>/usr/lib/axiom/mnt/

instead of correct

AXIOM=<my-work-dir>/usr/lib/axiom/mnt/linux

2. I have quite new binutils so gcl 2.6.5 requires
--disable-sysstatbfd --enable-locbfd.  But setting
this options with GCLOPTS

make GCLOPTS='"....."'

doesn't work as expected.  GCL build aborts almost
instantly with obscure error message even if I use
make with default GCLOPTS value

make GCLOPTS='"--enable-maxpage=128*1024 --enable-vssize=65536*2"'

I was able to build Axiom by direct patching GCLOPTS
in Makefile.

3. I have some troubles with clef.  It doesn't understand
^end and ^delete keys.  ^home and ^backspace works fine.
So normally I start axiom without clef.  GCL has readline
input line editing support which works OK.
Unfortunately GCL's line editing doesn't work under sman 
(with -noclef).  I'm seeking the way to patch clef on
linux.   

\start
Date: Sun, 2 Jan 2005 23:23:33 -0500
From: Tim Daly
To: list
Subject: axiom--main--1--patch-24
Cc: Gilbert Baumslag

*,

Ok, while in the non-connected black hole I pushed the hyperdoc branch
into main. These changes are now reflected in axiom--main--1--patch-24.
This is the pre-savannah version we'll be improving this month. I'm 
starting "round-trip" testing now.

The big change you'll find in this version is that hyperdoc starts
when 'axiom' is typed. Graphics is also there automatically.

Note that the axiom-hyperdoc--1 and axiom--graphics--1 branches
are now considered dead and will be pruned in March. If you have
local changes that are not reflected in the server copies let me
know. You can find out if what you've changed in any branch by

cd axiom--hyperdoc--1--(whatever-patch-level)
tla changes
cd axiom--graphics--1--(whatever-patch-level)
tla changes


Let me know if main works for you. I'll be pushing a binary to
http://axiom.axiom-developer.org shortly.

Tim


=====================================================================
axiom--main--1--patch-24
=====================================================================

Summary: merge hyperdoc, graphics
Keywords: daly hyperdoc graphics

20050102 tpd src/doc/booklet create booklet command
20050102 tpd src/*/Makefile add clean stanzas
20050102 tpd src/graph/Makefile  delete ${DOC}/viewports
20050102 tpd src/graph/viewports delete unused directory
20050102 tpd src/graph/viewman/Makefile   \usepackage{../../scripts/tex/axiom}
20050102 tpd src/graph/viewAlone/Makefile \usepackage{../../scripts/tex/axiom}
20050102 tpd src/graph/viewAlone/Makefile \usepackage{../../scripts/tex/axiom}
20050102 tpd src/graph/view3D/Makefile    \usepackage{../../scripts/tex/axiom}
20050102 tpd src/graph/view2D/Makefile    \usepackage{../../scripts/tex/axiom}
20050102 tpd src/graph/Gdraws/Makefile    \usepackage{../../scripts/tex/axiom}
20050102 tpd src/graph/viewman/Makefile   \usepackage{../../scripts/tex/axiom}
20050102 tpd src/graph/Makefile           \usepackage{../scripts/tex/axiom}
20050102 tpd src/algebra/Makefile         \usepackage{../scripts/tex/axiom}
20050102 tpd src/booklets/Makefile        \usepackage{../scripts/tex/axiom}
20050102 tpd src/boot/Makefile            \usepackage{../scripts/tex/axiom}
20050102 tpd src/clef/Makefile            \usepackage{../scripts/tex/axiom}
20050102 tpd src/doc/Makefile             \usepackage{../scripts/tex/axiom}
20050102 tpd src/etc/Makefile             \usepackage{../scripts/tex/axiom}
20050102 tpd src/hyper/Makefile           \usepackage{../scripts/tex/axiom}
20050102 tpd src/input/Makefile           \usepackage{../scripts/tex/axiom}
20050102 tpd src/interp/Makefile          \usepackage{../scripts/tex/axiom}
20050102 tpd src/lib/Makefile             \usepackage{../scripts/tex/axiom}
20050102 tpd src/sman/Makefile            \usepackage{../scripts/tex/axiom}
20050102 tpd src/Makefile usepackage{scripts/tex/axiom}
20050101 tpd Makefile gentoo branch added
20050101 tpd src/hyper directory copied
20050101 tpd src/sman/sman.c suppress debug output, don't start nagman
20050101 tpd src/Makefile add hyper directory
20050101 tpd src/interp/debugsys.lisp documentation
20050101 tpd src/graph/Makefile document the subdir Makefiles
20050101 tpd src/Makefile document the subdir Makefiles
20050101 tpd Makefile document the top level Makefile
20050101 tpd src/Makefile propagate cleanup of Makefile, Makefile.dvi
20050101 tpd Makefile clean Makefile and Makefile.dvi files
20050101 tpd src/boot/Makefile tmp -> ${TMP}
20050101 tpd ========================================================
20050101 tpd axiom--hyperdoc--1--patch-5 merged
20041231 tpd src/hyper/viewports/* add files in subdirectories
20041231 tpd src/sman/sman.c.pamphlet remove debug, don't start nagman
20041231 tpd src/hyper/pages/util.ht remove share
20041231 tpd src/hyper/parse_aux.pamphlet comment out debugging code
20041231 tpd src/hyper/pages/util.ht remove share
20041231 tpd src/hyper/pages/ug11.pht remove share
20041231 tpd src/hyper/pages/ug10.pht remove share
20041231 tpd src/hyper/pages/ug08.pht remove share
20041231 tpd src/hyper/pages/ug07.pht remove share
20041231 tpd src/hyper/pages/ug01.pht remove share
20041231 tpd src/hyper/pages/ug00.ht remove share
20041231 tpd src/hyper/pages/ht.db complete rebuild with htadd
20041231 tpd src/hyper/pages/graphics.pht remove share
20041231 tpd src/hyper/pages/explot3d.pht remove share
20041231 tpd src/hyper/pages/explot2d.pht remove share
20041231 tpd src/hyper/pages/coverex.pht remove share
20041231 tpd src/hyper/pages/SEGBIND.pht remove share
20041231 tpd src/hyper/pages/HTXTryPage.ht remove share
20041231 tpd src/hyper/pages/HTXLinkPage6.ht remove share
20041231 tpd src/hyper/pages/HTXLinkPage5.ht remove share
20041231 tpd src/hyper/pages/HTXLinkPage4.ht remove share
20041231 tpd src/hyper/pages/HTXLinkPage3.ht remove share
20041231 tpd src/hyper/pages/HTXLinkPage2.ht remove share
20041231 tpd src/hyper/pages/HTXIntroPage3.ht remove share
20041231 tpd src/hyper/pages/HTXFormatPage8.ht remove share
20041231 tpd src/hyper/pages/HTXAdvPage5.ht remove share
20041231 tpd src/hyper/pages/HTXAdvPage3.ht remove share
20041231 tpd src/hyper/mem comment out debugging code
20041231 tpd src/hyper/lex add dumpToken function, comment debugging code
20041231 tpd src/hyper/initx comment out debugging code
20041231 tpd src/hyper/hyper comment out debugging code
20041231 tpd src/hyper/htadd comment out debugging code
20041231 tpd src/hyper/event comment out debugging code
20041231 tpd src/hyper/addfile comment out debugging code
20041231 tpd src/hyper/Makefile add pages section
20041231 tpd src/graph/Gdraws/Gfun.c change hardcoded pathnames to ps files
20041231 tpd src/etc/axiom rewritten
20041231 tpd src/Makefile rearrange DIRS, add mkdir -p to hyperdir
20041228 tpd CHANGELOG merged
20041228 swx,bsm src/hyper/search fix chunkname
20041228 swx,bsm src/hyper/ReadBitmap zopen -> fopen
20041228 swx,bsm src/hyper/parse_aux remove duplicate fclose
20041228 swx,bsm src/hyper/addfile change pathnames  
20041228 tpd add src/hyper/bitmaps
20041227 tpd add src/hyper/pages
20041119 tpd src/Makefile clef -> sman in the \section command
20041119 tpd src/boot/Makefile use ${TMP} rather than /tmp
20041119 tpd src/Makefile add hyper directory
20041119 tpd src/hyper directory added
20050101 axiom--hyperdoc--1--patch-5 merged
20050101 tpd ========================================================
20050101 January 2005 version pushed to savannah CVS

\start
Date: Mon, 03 Jan 2005 18:05:07 +0100
From: Manuel Bronstein
To: Bill Page
Subject: Re: pi, e, EXPR INT 
Cc: Bob McElrath

>  
> What is the purpose of the domain HACKPI ?? 
> 

HACKPI is a hack provided for the benefit of the axiom interpreter.
As a mathematical type, it is the simple transcendental extension
Q(\pi) of the rational numbers. This type allows interactive users
to use the name '%pi' without a type both where a numerical value is expected 
[ as in draw(sin x,x=-%pi..%pi) ] or when the exact symbolic value is meant.
The interpreter defaults a typeless %pi to HACKPI and then uses the various
conversions to cast it further as required by the context.

One could argue that it is unfair to single %pi out from other constants,
but it occurs frequently enough in school examples (specially for graphs)
so it was worth a special hack. In a non-interactive environment (library),
HACKPI would not exist.

\start
Date: Mon, 3 Jan 2005 13:57:19 -0500
From: Bill Page
To: Tim Daly
Subject: RE: axiom--main--1--patch-24

On my linux box where I had previous compiled path-23, I did

  tla update
  .configure
  (set AXIOM and PATH)
  make

The modified build seemed to proceed normally and I now have
a new axiom command that attempts to run HyperDoc. However,
when starting Axiom with

  axiom

I get the message:

  Xlib: connection to ":1.0" refused by server
  Xlib: Invalid MIT-MAGIC-COOKIE-1 key
  (HyperDoc) Cannot connect to the X11 server!

Now I also can no longer use graphics. I get the same
message when I try to start via

  sman

and graphics no longer works although it used to work
fine in the previous patch.

Am I missing an environment variable maybe like DISPLAY?

Can you think of any other cause?

Maybe I should try a completely new 'tla get' and build
for scratch :( another 18 hours ... )

And BTW, Happy New Year!

Regards,
Bill Page.

> -----Original Message-----
> 
> *,
> 
> Ok, while in the non-connected black hole I pushed the hyperdoc branch
> into main. These changes are now reflected in 
> axiom--main--1--patch-24.
> This is the pre-savannah version we'll be improving this month. I'm 
> starting "round-trip" testing now.
> 
> The big change you'll find in this version is that hyperdoc starts
> when 'axiom' is typed. Graphics is also there automatically.
> 
> Note that the axiom-hyperdoc--1 and axiom--graphics--1 branches
> are now considered dead and will be pruned in March. If you have
> local changes that are not reflected in the server copies let me
> know. You can find out if what you've changed in any branch by
> 
> cd axiom--hyperdoc--1--(whatever-patch-level)
> tla changes
> cd axiom--graphics--1--(whatever-patch-level)
> tla changes
> 
> 
> Let me know if main works for you. I'll be pushing a binary to
> http://axiom.axiom-developer.org shortly.
> 

\start
Date: Mon, 3 Jan 2005 21:00:41 +0200
From: Vladimir Bondarenko
To: list
Subject: Axiom 2.2 vs Axiom for Windows comparison

Hello all,

What is, at least approximately, the difference in computational
powers between the commercial AXIOM 2.2 (A22) and the current AXIOM,
Version of Tuesday November 30, 2004 for Windows (A4W)?

In other words, is A22, so to say, "stronger" computationally than
the recent A4W, that is, are there (large) layers of problems A22
can solve but A4W cannot?

Sure, I have my own A22/A4W powers comparison feeling taken from
articles and books and reading axiom-developer messages, as I never
had an extensive experience with A22. But it would be very enjoyable
to learn the opinions from the first hands, from the Axiom Developers.

Any help is highly appreciated, - much thanks in advance.

\start
Date: Mon, 3 Jan 2005 14:53:15 -0500
From: Tim Daly
To: Bill Page
Subject: Re: axiom--main--1--patch-24

Try 

xhost +

it appears that you are running either a remote ssh shell or
a second X server on your box. The usual display is :0.0
(:1.0 I believe is remote, :0.1 is a second server?)

The error you're getting is unrelated to axiom so rebuilding
will not solve it.

\start
Date: Mon, 3 Jan 2005 14:56:19 -0500
From: Tim Daly
To: Vladimir Bondarenko
Subject: Re: Axiom 2.2 vs Axiom for Windows comparison

The algebra in the commercial version is slightly behind the current
free axiom version due to updates by some of the authors and bug fixes.

The windows version shares the same algebra as the other free versions.

\start
Date: Mon, 3 Jan 2005 14:19:45 -0500
From: Bill Page
To: Tim Daly
Subject: axiom--windows--1--patch-10

Tim,

I have commited recently two new patches for the windows
branch.

patch-9 applies 5 patches from Savannah. There are still
a few outstanding proposed patches but I still think these
others need to be investigated more before commiting them.

patch-10 implements several new implicit make rules in the
src/Makefile.pamphlet, src/algebra/Makefile.pamphlet,
src/input/Makefile.pamphlet and src/etc/Makefile.pamphlet.
The main reason for these is because of the continuing
problems that I have had trying to get a clean build of
the Savannah patches to axiom--main--1. I just got very
very frustrated with the bloated structure of the Makefiles
(some with more than 40,000 lines of code!) and my ability
to do everything right. As per our previous discussion you
agreed to a compromise in the design of the Makefiles to at
least use implicit rules where possible. I think I have
solved the problem you mentioned in algebra/Makefile.pamphlet
concerning your first attempt to use implicit rules.

In axiom--windows--1--patch-10 I have implemented these new
implicit rules and this has reduced the Makefile.pamphlet to
not more than 1,600 lines including the documentation. The
reason that I applied this change first to axiom--windows--1
is that I knew you were about to make significant changes to
axiom--main--1 for hyperdoc and I thought it best not to mix
problems and also I have been having much more success with
tla on the axiom--window--1 branch.

For me, even though I know the files are highly structured
and you have gone to some effort to describe that strucuture
in the Makefile.pamphlet files, there is a BIG difference in
how easily I can appreciate and maintain the structure of a
file with 1,600 lines of code versus one that is over 40,000
lines of code.

Anyway, when you get a chance, I would like to get your
opinion of these changes to the Makefiles. Do you find them
clear and otherwise acceptible. If so, I will commit the
same changes to the axiom--main--1 branch along with my
Savannah patches.

Also, although I have not commited any changes for this yet,
I have also been working on adding the missing dependencies in
the algebra/Makefile. I have a very simple script that extracts
this dependency information from the ``Loading'' messages in
the output of the )compile commands. Although it will increase
the size of the Makefile again, adding this information to the
algebra/Makefile will allow changes to spad files to properly
propagate to other files in order to minimize the total number
of files that have to be re-compiled.

\start
Date: Mon, 3 Jan 2005 14:32:59 -0500
From: Bill Page
To: Tim Daly
Subject: RE: axiom--main--1--patch-24

Tim,

'xhost +'

gives

  debian:/home/wspage/axiom# xhost +
  Xlib: connection to ":1.0" refused by server
  Xlib: Invalid MIT-MAGIC-COOKIE-1 key
  xhost:  unable to open display ":1.0"
  debian:/home/wspage/axiom# 

Yes, I am running remote vnc access to a virtual framebuffer
device on my debian linux box. Other X applications are working
fine (such as Mozilla) and Axiom graphics did work fine in this
environment prior to the patch-24 upgrade.

Bill.

> -----Original Message-----
> From: root [mailto:Tim Daly] 
> Sent: Monday, January 03, 2005 2:53 PM
> To: Bill Page
> Cc: Tim Daly; list
> Subject: Re: axiom--main--1--patch-24
> 
> 
> Bill,
> 
> Try 
> 
> xhost +
> 
> it appears that you are running either a remote ssh shell or
> a second X server on your box. The usual display is :0.0
> (:1.0 I believe is remote, :0.1 is a second server?)
> 
> The error you're getting is unrelated to axiom so rebuilding
> will not solve it.

\start
Date: Mon, 3 Jan 2005 14:59:58 -0500
From: Bill Page
To: Tim Daly
Subject: RE: axiom--main--1--patch-24

Oops, false alarm. It's working now. Great! The problem was mine.
I was trying to run the new axiom while signed on as root. And
I also have the previous version of axiom installed at
 /usr/local/axiom/mnt/linux/bin/axiom

I think it was getting confused. When I exited from ``su'' and
ran sman, graphics worked since it was running my installed
version. Once I reset the AXIOM and PATH variables for the newly
compiled version, the command 'axiom' started up hyperdoc...
and now I can play.

Cheers,
Bill Page.

> -----Original Message-----
> 
> Tim,
> 
> 'xhost +'
> 
> gives
> 
>   debian:/home/wspage/axiom# xhost +
>   Xlib: connection to ":1.0" refused by server
>   Xlib: Invalid MIT-MAGIC-COOKIE-1 key
>   xhost:  unable to open display ":1.0"
>   debian:/home/wspage/axiom# 
> 
> Yes, I am running remote vnc access to a virtual framebuffer
> device on my debian linux box. Other X applications are working
> fine (such as Mozilla) and Axiom graphics did work fine in this
> environment prior to the patch-24 upgrade.
> 
> Bill.
> 
> > -----Original Message-----
> > From: root [mailto:Tim Daly] 
> > Sent: Monday, January 03, 2005 2:53 PM
> > To: Bill Page
> > Cc: Tim Daly; list
> > Subject: Re: axiom--main--1--patch-24
> > 
> > 
> > Bill,
> > 
> > Try 
> > 
> > xhost +
> > 
> > it appears that you are running either a remote ssh shell or
> > a second X server on your box. The usual display is :0.0
> > (:1.0 I believe is remote, :0.1 is a second server?)
> > 
> > The error you're getting is unrelated to axiom so rebuilding
> > will not solve it.

\start
Date: Mon, 3 Jan 2005 15:10:37 -0500
From: Bill Page
To: Tim Daly
Subject: RE: axiom--main--1--patch-24

Hyperdoc is pretty neat alright! But it is interesting
how the windows style seems so "dated". It looks like
a windowing application that was written about ten years
ago (oh, I guess it was ... :)

Anyway, everything seems quite functional to me.

I did notice that the "What's New" section accessed from
"Reference" refers to Axiom Version 2.2. Are the contents
of these pages easily edited without rebuilding the system?
Where can I find the actual text in the directory tree?
(Probably obvious once I look for it. :)

\start
Date: Mon, 3 Jan 2005 15:12:09 -0500
From: Tim Daly
To: Bill Page
Subject: Re: axiom--windows--1--patch-10

> patch-10 implements several new implicit make rules in the
> src/Makefile.pamphlet, src/algebra/Makefile.pamphlet,
> src/input/Makefile.pamphlet and src/etc/Makefile.pamphlet.

ok. i'm looking now.

> Also, although I have not commited any changes for this yet,
> I have also been working on adding the missing dependencies in
> the algebra/Makefile. 

This isn't going to work which is why I left the dependencies blank.
There is a subtle reason why this fails which escapes me at the moment.

\start
Date: Mon, 3 Jan 2005 16:23:04 -0500
From: Tim Daly
To: Bill Page
Subject: Re: axiom--main--1--patch-24

The hypertex is intended to be edited by users. We are looking to
build special purpose pages around courses such as linear algebra.

Assume HERE=$AXIOM/doc/hypertex/pages

The text can be found in $HERE/foo.ht or $HERE/foo.pht

The macros are tex-like and live in $HERE/util.ht

To change a page you need to:

cd $HERE
edit the page
rm *~ (to delete backup copies)
htadd *
hypertex

the htadd command takes arguments:

htadd [-s|-l|-f db-directory] [-d|-n] filenames

but, i'm sorry to say, these have not been fully documented.

The htadd function will maintain the file called $HERE/ht.db
which is a database of absolute byte indexes into files.
Forgetting to run htadd will still work, sort-of, until you
hit a bad byte index and then it will fail.

Hypertex can also be directed elsewhere by using the HTPATH
shell variable. 


re: what's new. 

This all needs to be fixed by February when main is due to be
pushed into savannah.

\start
Date: Mon, 3 Jan 2005 16:39:12 -0500
From: Bill Page
To: Tim Daly
Subject: algebra Makefiles with explicit dependencies,	bootstrap, fixed-points etc.

You wrote:
> 
> Bill Page wrote:
> > Also, although I have not committed any changes for this yet,
> > I have also been working on adding the missing dependencies in
> > the algebra/Makefile. 
> 
> This isn't going to work which is why I left the dependencies
> blank. There is a subtle reason why this fails which escapes me
> at the moment.
> 

Well, it is working for me so far. But of course there are still
limitations. There are many cyclical dependencies of course and when
presented with these 'make' breaks the cycles somewhat arbitrarily
by ignoring some of the links. But this is no real consequence for
the build as long as we continue to attempt to compile the algebra
files in layers as we do now. Missing these links will cause some
changes of files to be ignored by 'make'. But this is unavoidable.

These cyclical dependencies where the reason for the bootstrap design
in the first place.

Better than just implementing the dependencies would be to fully extend
the bootstrap approach to all spad files.  They should all exist is two
forms - a bootstrap lisp form and the spad form. Then the build could
proceed by first building all the .o files from the lisp bootstrap.
With this "bootstrap system", one must compile all the spad files.
Then compare (diff) the resulting *.NRLIB/code.lsp files with the
bootstrap lisp. If there is a difference the bootstrap lisp code must
be updated, and then the spad re-compiled again. This process should be
repeated until a fixed-point is reached where the bootstrap lisp code is
the same as the generated code.

As far as I know, finding such fixed-point solutions is the only way
to deal with a system of dependencies with cycles.

\start
Date: Mon, 3 Jan 2005 18:29:13 -0500
From: Tim Daly
To: Bill Page
Subject: Re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

Ah, you've hit the nail in my memory. The cyclic dependencies will
cause the system to build in an arbitrary way. Adding the dependencies
causes the algebra to violate the build order because make thinks it
knows better.

Once the algebra exists you can rebuild in any order so the bug only
shows up in the first build. Thus the algebra does not "really" depend
on the dependencies you are trying to hard code. You can remake any
algebra file without making the files it depends on if you have a 
running axiom with already built algebra. Indeed, if you modify one
of the .spad.pamphlet files then typing "make" will do the minimum
amount of work correctly.

re: BOOTSTRAP everything

The problem with this idea is that it is not needed. The bootstrap
files are very fragile but only for the first build. Once the algebra
files have been built it is possible to change the .spad files any
way you'd like. The 'hole' that a user can fall thru happens when they
change an algebra file that has BOOTSTRAP code (which they did NOT
update) and then try to build the system from scratch. In this case
the first copy of the system will be built with no-longer-valid code.

What the user needs to do to change algebra which has BOOTSTRAP code is:

build the system
change the .spad file
recompile the .spad file
replace the BOOTSTRAP section of code with the newly generated .lsp

now the BOOTSTRAP code mirrors the algebra code and all is well.

I don't ever expect a user to reach that far down into the algebra.
Making BOOTSTRAP files for all of the algebra opens this hole everywhere.

\start
Date: Mon, 3 Jan 2005 17:29:20 -0800
From: Bob McElrath
To: list
Subject: Fwd: [Texmacs-dev] Announce: game thoery grapher


Cross-forwarding this interesting post.

TeXmacs uses scheme as its extension language.  Since scheme is a
dialect of lisp, can scheme programs be run in a lisp interpreter
without modification?  Could the texmacs interpreter be replaced with
gcl or one of the more comprehensive lisps that runs axiom?  Could then
data structures used by texmacs (and any graphing component it may
evolve) be shared by texmacs and axiom?

----- Forwarded message from Corey Sweeney -----

> From: Corey Sweeney

> My game grapher for game thoery has gotten to that hackable state,
> even though it hasn't been integrated with texmacs yet.  I'm still
> trying to figure out if i should make it a general grapher, or
> specific for game theory. Anyway, for anyone interested, here's it is:
> 
> You'll need scsh from http://www.scsh.net and fps (from the same place)
> 
> There are 3 files.  The .scm file is the program.  The
> "run-game-tree-creator" just launches it, and i've attached a
> postscript file of what my final graph made today looks like.
> 
> Remeber to read the comments at the top of the file.

\start
Date: Mon, 3 Jan 2005 17:36:11 -0800
From: Bob McElrath
To: list
Subject: more graphics

Don't you hate it when people reply to their own posts?

I'm new to the lisp world, but the Functional PostScript library:

    http://www.scsh.net/resources/fps.html

is a scheme extension embedding postscript operators.  Note:

    We'd like to have a back-end that renders directly to the screen.
    This could be done by linking FPS's Scheme with the free Ghostscript
    C library of PostScript primitives to render to X. Then we'd have a
    high-level, device-independent graphics system for doing interactive
    screen graphics.

A postscript-driven rendering engine seems an elegant way to unify
axiom's interactive graphics with lisp, texmacs, and
latexwiki/mathaction.

Bob McElrath wrote:
> Cross-forwarding this interesting post.
> 
> TeXmacs uses scheme as its extension language.  Since scheme is a
> dialect of lisp, can scheme programs be run in a lisp interpreter
> without modification?  Could the texmacs interpreter be replaced with
> gcl or one of the more comprehensive lisps that runs axiom?  Could then
> data structures used by texmacs (and any graphing component it may
> evolve) be shared by texmacs and axiom?

\start
Date: Mon, 3 Jan 2005 21:19:17 -0500
From: Bill Page
To: Tim Daly
Subject: RE: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

On Monday, January 03, 2005 6:29 PM you wrote:
> 
> Ah, you've hit the nail in my memory. The cyclic dependencies
> will cause the system to build in an arbitrary way. Adding the
> dependencies causes the algebra to violate the build order
> because make thinks it knows better.

If you give make the correct dependencies then it *does* know
better. I do not agree that "cyclic dependencies will cause the
system to build in an arbitrary way."

> 
> Once the algebra exists you can rebuild in any order so the bug
> only shows up in the first build.

What "bug"? I do not agree that "you can rebuild in any order".

> Thus the algebra does not "really" depend on the dependencies you
> are trying to hard code.

Yes it does.

> You can remake any algebra file without making the files it
> depends on if you have a running axiom with already built
> algebra.

No, that does not solve the problem. It only hides it.

> Indeed, if you modify one of the .spad.pamphlet files then typing
> "make" will do the minimum amount of work correctly.

I do not believe that.

> 
> re: BOOTSTRAP everything
> 
> The problem with this idea is that it is not needed.

I think you are wrong. You do not seem to understand what the
existence of a cyclic dependency implies.

> The bootstrap files are very fragile but only for the first build.

I am not sure what you mean by "fragile". They are lisp source code
files that should always compile the way they were intended.

> Once the algebra files have been built it is possible to change the
> .spad files any way you'd like.

It is possible to make such a change, but as a consequence Axiom
will no longer be in a consistent state. It will depend on the
order in which the changes have been made rather than just on
the spad source code itself. As a minimum all of the spad files
that depend on the file that you changed, and those that depend
on these in turn, need to be recompiled. But life in not even
this simple because there are cyclic dependencies and this
could potentially lead to an infinite loop. Just breaking this
loop in an arbitrary manner the way the Axiom build does now
is not enough.

> The 'hole' that a user can fall thru happens when they change an
> algebra file that has BOOTSTRAP code (which they did NOT update)
> and then try to build the system from scratch. In this case
> the first copy of the system will be built with no-longer-valid
> code.
> 
> What the user needs to do to change algebra which has 
> BOOTSTRAP code is:
> 
> build the system
> change the .spad file
> recompile the .spad file
> replace the BOOTSTRAP section of code with the newly
> generated .lsp
> 
> now the BOOTSTRAP code mirrors the algebra code and all
> is well.
>

All is not well even though the all of the code has
compiled.

This is a necessary step but it does not guarantee that the
Axiom system is fully consistent because this is a *cyclic*
dependency. Once you replace the bootstrap code, then you
must (once again) rebuild all of the code that depends on
it... potentially ad in finitum, except that you (usually
but I can not prove always) will reach a "fixed-point" after
the changes have propagated throughout each of the modules
in the cycle. The convergence to a fix-point might involve
at least as many repetitions as the longest cyclic dependency
in the code.

> I don't ever expect a user to reach that far down into the
> algebra. Making BOOTSTRAP files for all of the algebra opens
> this hole everywhere.

The hole already exists everywhere. The current make process
just does not address it. I doubt that the current build of
Axiom is self-consistent.

Whenever there is a "cyclic dependency" it is just like
solving a set of interdependent equations

   ax+b=y
   cy+d=x

i.e. y depends on x and x depends on y. We want to find values
for x and y that simultaneously satisfy both equations. We know
how to solve this for the general case when the relations are
linear. But if we didn't, we could try a "bootstrap" approach.
We could start with some (bootstrap) value for x, compute y and
they use y and the old value of x to compute a new x, etc. In
complex systems of equations, this is a fairly efficient
algorithm with which to solve the system.

The same thing is happening in the Axiom algebra spad code, but
solving this (i.e. producing the correct binary code for all
of the spad files in the cycle) is not so easy because the
relationships between the spad files can be quite "non-linear".
changes could potentially propagate in rather complex ways.
A single pass through the bootstrap loop such as you describe
above is quite unlikely to produce a consistent solution for
all of the modules in a cycle except where the changes actually
fail to propagate (possible in some cases where the dependency
is conditional).

\start
Date: Tue, 4 Jan 2005 08:28:52 -0500
From: Tim Daly
To: Bill Page
Subject: Re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

This is going to be painful to follow but:

Suppose 
a is a domain, b is a domain and 
b depends on a and
a depends on b.

Suppose
a'.lsp is the lisp code for a
b'.lsp is the lisp code for b

The .spad files contain

\section{a}
a
\section{a.bootstrap}
a'.lsp

\section{b}
b
\section{b.bootstrap}
b'.lsp

Now we compile this algebra
a'.lsp -> a.fasl
b'.lsp -> b.fasl
(load a)
(load b)
a  -> a.fasl
b  -> b.fasl

now we modify a and recompile it

a (mods to) A -> A'.lsp -> A.fasl

where A is the modified A and A'.lsp is the new lisp.

ASSUMING WE HAVE NOT CHANGED THE SIGNATURE OF a
then b will still compile and be valid code and we get:

\section{A}
A
\section{A.bootstrap}
A'.lsp

\section{b}
b
\section{b.bootstrap}
b'.lsp

and it all works. 

Now if we try to change the signature of a
so that it breaks b then we need to rewrite
b into B and recompile it with A loaded so we
start from scratch with

a'.lsp -> a.fasl
b'.lsp -> b.fasl
(load a)
(load b)
a  -> a.fasl
b  -> b.fasl
a  -> A
A  -> A'.lsp -> A.fasl
(load A)
b  -> B
B  -> B'.lsp -> B.fasl
(modfify .spad file bootstraps thus:
\section{A}
A
\section{A.bootstrap}
A'.lsp

\section{B}
B
\section{B.bootstrap}
B'.lsp

and now we rebuild the system from scratch
and it all works. Notice you have to co-modify
a -> A, b -> B in the same image and update the
.spad file and bootstrap code before rebuiding
from scratch.

Note that modifying a->A so it breaks b and
simultaneously modifying b->B so it breaks a
is left as an exercise. This kind of programming
is what got axiom into the state where it needed
a running axiom to build axiom.

Once you get past the circular dependency 
problem you no longer have a need for the
lisp bootstrap code. It is possible to modify 
non-bootstrap code and break the system build
but that's just a simple programming problem.

It is very tricky to modify the fundamental
cycles but it can be done. It has always been
true that you need a running axiom to rebuild 
axiom. My key breakthru was to make it possible
to build axiom from scratch. However it is not
true that you can randomly modify anything and
expect the algebra to build.

In general you would like the makefile to know
the dependency graph of algebra code. However
you'll find that make can't handle such a graph.

I tried another idea which was to decorate each
stanza from layer n with a ${LAYER(n-1)} but that
fails also.

However the fact that I failed is no reason not
to try because you  have a deeper understanding
of make so I'm willing to be convinced. My general
approach, when domain signatures change, is to do

make clean
make

The algebra hierarchy needs a future rewrite for
2 reasons, Provisos and ACL2 integration. Hopefully
we'll be smarter next time.

\start
Date: Tue, 4 Jan 2005 05:22:52 -0500
From: Stephen Wilson
To: Bill Page
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

The current makefile system, in my opinion, deserves the title "dirt
simple". As a new developer, I have had no problems understanding or
modifying the current build environment to suit my own experiments and
tests. Granted, I work mostly in the src/interp directory, but I have
made notes regarding how one would build only a minimal subset of the
algebra. Studying the algebra makefile has not left me with the
impression that it is difficult to work with. Whenever I have broken a
makefile, I have found it easy to repair.

Adding bootstrap lisp code to every .spad file also strikes me as
being unnecessary. Generally, if domain A depends on domain B, domain
A will need to be recompiled only if the signature of B is
modified. This rule is not sacrosanct, but will hold `most' of the
time. This is applicable to the case of circular dependencies as
well. Code will converge to a fixed point rapidly.

If the signature of a domain A is modified, and it participates in a
circular chain of dependencies, then it is probably necessary to break
the cycle by building a twin domain A' and hand edit the generated
lisp to reconnect the cycle. No makefile will help here. 

I am of the opinion that the current bootstrapping process is a
hack. It "just works", and for now I am happy with it. The real
solution to the problem is to either rewrite the algebra into a true
lattice, or to teach the compiler how to handle mutually recursive
structures. Both are clearly heavy tasks, and as I continue to parse
the src/interp code, perhaps I can help in realizing the latter
alternative. 

Ultimately, the makefiles should go away. Everything should be done at
the lisp level, hopefully guided by the logic of some future
compiler. For now, I feel the current "dirt simple" makefiles will be
capable of supporting such a transition.


Sincerely,
Steve



On Mon, Jan 03, 2005 at 09:19:17PM -0500, Bill Page wrote:
> Tim,
> 
> On Monday, January 03, 2005 6:29 PM you wrote:
> > 
> > Ah, you've hit the nail in my memory. The cyclic dependencies
> > will cause the system to build in an arbitrary way. Adding the
> > dependencies causes the algebra to violate the build order
> > because make thinks it knows better.
> 
> If you give make the correct dependencies then it *does* know
> better. I do not agree that "cyclic dependencies will cause the
> system to build in an arbitrary way."
> 
> > 
> > Once the algebra exists you can rebuild in any order so the bug
> > only shows up in the first build.
> 
> What "bug"? I do not agree that "you can rebuild in any order".
> 
> > Thus the algebra does not "really" depend on the dependencies you
> > are trying to hard code.
> 
> Yes it does.
> 
> > You can remake any algebra file without making the files it
> > depends on if you have a running axiom with already built
> > algebra.
> 
> No, that does not solve the problem. It only hides it.
> 
> > Indeed, if you modify one of the .spad.pamphlet files then typing
> > "make" will do the minimum amount of work correctly.
> 
> I do not believe that.
> 
> > 
> > re: BOOTSTRAP everything
> > 
> > The problem with this idea is that it is not needed.
> 
> I think you are wrong. You do not seem to understand what the
> existence of a cyclic dependency implies.
> 
> > The bootstrap files are very fragile but only for the first build.
> 
> I am not sure what you mean by "fragile". They are lisp source code
> files that should always compile the way they were intended.
> 
> > Once the algebra files have been built it is possible to change the
> > .spad files any way you'd like.
> 
> It is possible to make such a change, but as a consequence Axiom
> will no longer be in a consistent state. It will depend on the
> order in which the changes have been made rather than just on
> the spad source code itself. As a minimum all of the spad files
> that depend on the file that you changed, and those that depend
> on these in turn, need to be recompiled. But life in not even
> this simple because there are cyclic dependencies and this
> could potentially lead to an infinite loop. Just breaking this
> loop in an arbitrary manner the way the Axiom build does now
> is not enough.
> 
> > The 'hole' that a user can fall thru happens when they change an
> > algebra file that has BOOTSTRAP code (which they did NOT update)
> > and then try to build the system from scratch. In this case
> > the first copy of the system will be built with no-longer-valid
> > code.
> > 
> > What the user needs to do to change algebra which has 
> > BOOTSTRAP code is:
> > 
> > build the system
> > change the .spad file
> > recompile the .spad file
> > replace the BOOTSTRAP section of code with the newly
> > generated .lsp
> > 
> > now the BOOTSTRAP code mirrors the algebra code and all
> > is well.
> >
> 
> All is not well even though the all of the code has
> compiled.
> 
> This is a necessary step but it does not guarantee that the
> Axiom system is fully consistent because this is a *cyclic*
> dependency. Once you replace the bootstrap code, then you
> must (once again) rebuild all of the code that depends on
> it... potentially ad in finitum, except that you (usually
> but I can not prove always) will reach a "fixed-point" after
> the changes have propagated throughout each of the modules
> in the cycle. The convergence to a fix-point might involve
> at least as many repetitions as the longest cyclic dependency
> in the code.
> 
> > I don't ever expect a user to reach that far down into the
> > algebra. Making BOOTSTRAP files for all of the algebra opens
> > this hole everywhere.
> 
> The hole already exists everywhere. The current make process
> just does not address it. I doubt that the current build of
> Axiom is self-consistent.
> 
> Whenever there is a "cyclic dependency" it is just like
> solving a set of interdependent equations
> 
>    ax+b=y
>    cy+d=x
> 
> i.e. y depends on x and x depends on y. We want to find values
> for x and y that simultaneously satisfy both equations. We know
> how to solve this for the general case when the relations are
> linear. But if we didn't, we could try a "bootstrap" approach.
> We could start with some (bootstrap) value for x, compute y and
> they use y and the old value of x to compute a new x, etc. In
> complex systems of equations, this is a fairly efficient
> algorithm with which to solve the system.
> 
> The same thing is happening in the Axiom algebra spad code, but
> solving this (i.e. producing the correct binary code for all
> of the spad files in the cycle) is not so easy because the
> relationships between the spad files can be quite "non-linear".
> changes could potentially propagate in rather complex ways.
> A single pass through the bootstrap loop such as you describe
> above is quite unlikely to produce a consistent solution for
> all of the modules in a cycle except where the changes actually
> fail to propagate (possible in some cases where the dependency
> is conditional).

\start
Date: 05 Jan 2005 15:00:23 +0100
From: Tim Daly Jr
To: Bill Page
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

Bill Page writes:

> Tim,
> 
> On Monday, January 03, 2005 6:29 PM you wrote:
> > 
> > Ah, you've hit the nail in my memory. The cyclic dependencies
> > will cause the system to build in an arbitrary way. Adding the
> > dependencies causes the algebra to violate the build order
> > because make thinks it knows better.
> 
> If you give make the correct dependencies then it *does* know
> better. I do not agree that "cyclic dependencies will cause the
> system to build in an arbitrary way."
> 

FWIW, I have a cyclic dependency in an unrelated project, and make
does build in an arbitrary order wrt. that dependency.  That is, A
depends on B and B depends on A, and GNU make says:

     make[1]: Circular B <- A dependency dropped.

I'd love to hear about a better way to handle this cycle.  Is there an
idiom for "keep compiling one and then the other until a fixed point
is reached"?

If we were using ASDF, I bet we could do it with an around method or
something. :)

\start
Date: 05 Jan 2005 15:13:37 +0100
From: Tim Daly Jr
To: Bob McElrath
Subject: Re: Fwd: [Texmacs-dev] Announce: game thoery grapher

Bob McElrath writes:

> Cross-forwarding this interesting post.
> 
> TeXmacs uses scheme as its extension language.  Since scheme is a
> dialect of lisp, can scheme programs be run in a lisp interpreter
> without modification?  

Only a small subset of Scheme programs are also Common Lisp programs
with similar semantics, e.g. 'foo, or (+ 1 2).  A larger subset can be
translated trivially, e.g. 
    
    (let ((a ...)) 
      (a 'foo))

becomes something like

    (let ((a (function ...)))
      (funcall a 'foo))

Dorai Sitaram's pregexp library is a Scheme library that has been
machine-translated to Common Lisp.  For stuff that doesn't translate
so easily, like call/cc, there are several implementations of Scheme
in Common Lisp running around.


> Could the texmacs interpreter be replaced with gcl or one of the
> more comprehensive lisps that runs axiom?  Could then data
> structures used by texmacs (and any graphing component it may
> evolve) be shared by texmacs and axiom?

\start
Date: 04 Jan 2005 09:42:08 -0500
From: Camm Maguire
To: Kostas Oikonomou
Subject: Re: [Gcl-devel] Re: Failure in Solaris 9 build, patch 23

Greetings, and please excuse my prolonged absence.

Glad to hear of the progress.  As I'm still unclear exactly what is
being run here, could you please describe from the beginning what
you've done, and post the full configure and build output somewhere
(or email) for me to look at?

Take care,

Kostas Oikonomou writes:

> Tim,
> 
> I'm a little lost here :-)   I checked that indeed there is no obj/sol9gcc/interp/nocompil.o.
> Other than that, I could send the whole output of make, if it would be helpful.
> 
> 					Kostas
> 
> 
> On Thu, 30 Dec 2004 23:01:04 -0500, Tim Daly wrote:
> 
> > Kostas,
> >
> >
> >> ...
> >> Loading /home/build/axiom--main--1--patch-23/obj/sol9gcc/interp/patches.o
> >> start address -T 78c408 Finished loading /home/build/axiom--main--1--patch-23/obj/sol9gcc/interp/patches.o
> >> start address -T 667480    Using local database /home/build/axiom--main--1--patch-23/src/share/algebra/compress.daase..   Re-reading compress.daase   Using local database /home/build/axiom--main--1--patch-23/src/share/algebra/interp.daase..   Re-reading interp.daase
> >>     AXIOM initialization: interpreter
> >> start address -T b55dc0    AXIOM initialization: database
> >>     AXIOM initialization: constructors
> >>     AXIOM initialization: history
> >>                          AXIOM Computer Algebra System
> >>                     Version: Axiom 3.0 Beta (January 2005)
> >>                Timestamp: Friday December 31, 2004 at 11:26:44
> >> -----------------------------------------------------------------------------
> >>     Issue )copyright to view copyright notices.
> >>     Issue )summary for a summary of useful system commands.
> >>     Issue )quit to leave AXIOM and return to shell.
> >> -----------------------------------------------------------------------------
> >>
> >>
> >> Error:  Lisps arglist maximum surpassed
> >> Fast links are on: do (si::use-fast-links nil) for debugging
> >> Error signalled by APPLY.
> >> Broken at APPLY.  Type :H for Help.
> >> BOOT>>make[3]: *** [/home/build/axiom--main--1--patch-23/obj/sol9gcc/bin/interpsys] Error 255
> >> make[3]: Leaving directory `/home/build/axiom--main--1--patch-23/src/interp'
> >> make[2]: *** [interpdir] Error 2
> >> make[2]: Leaving directory `/home/build/axiom--main--1--patch-23/src'
> >> make[1]: *** [srcdir] Error 2
> >> make[1]: Leaving directory `/home/build/axiom--main--1--patch-23'
> >>
> >
> > Many centuries ago, there used to be a problem in GCL about the number
> > of arguments that a compiled function could accept.
> >
> >
> > Error:  Lisps arglist maximum surpassed
> >
> >
> > In order to get around this problem there is a file called
> > src/interp/nocompil.lisp.pamphlet. I can't imagine how this
> > could ever be compiled as the makefile does not do it. The
> > file obj/sol9gcc/interp/nocompil.lsp should not have a
> > corresponding nocompil.o file.
> >
> > There is a function called |Join| which exceeds the GCL maximum.
> > I'm not sure why this shows up for you.

\start
Date: 04 Jan 2005 09:50:15 -0500
From: Camm Maguire
To: Bob McElrath
Subject: Re: more graphics

Greetings!

I mused over this same question some time ago -- wondering if a scheme
parser in gcl would be useful for a 'unified' lisp.  Here is the
response to a post I submitted to c.l.l:

http://groups-beta.google.com/group/comp.lang.lisp/browse_thread/thread/4645b33f088b0d32/89389ff0f1a8e984?q=maguire&_done=%2Fgroup%2Fcomp.lang.lisp%2Fsearch%3Fq%3Dmaguire%26start%3D0%26scoring%3Dd%26&_doneTitle=Back+to+Search&&d#89389ff0f1a8e984

One interesting link that turned up was

http://www.ccs.neu.edu/home/dorai/scmxlate/scm2cl.html

In general, there is a lot that could be done here, but the
cost/benefit ratio is unclear.
 
Take care,

Bob McElrath writes:

> Don't you hate it when people reply to their own posts?
> 
> I'm new to the lisp world, but the Functional PostScript library:
> 
>     http://www.scsh.net/resources/fps.html
> 
> is a scheme extension embedding postscript operators.  Note:
> 
>     We'd like to have a back-end that renders directly to the screen.
>     This could be done by linking FPS's Scheme with the free Ghostscript
>     C library of PostScript primitives to render to X. Then we'd have a
>     high-level, device-independent graphics system for doing interactive
>     screen graphics.
> 
> A postscript-driven rendering engine seems an elegant way to unify
> axiom's interactive graphics with lisp, texmacs, and
> latexwiki/mathaction.
> 
> Bob McElrath wrote:
> > Cross-forwarding this interesting post.
> > 
> > TeXmacs uses scheme as its extension language.  Since scheme is a
> > dialect of lisp, can scheme programs be run in a lisp interpreter
> > without modification?  Could the texmacs interpreter be replaced with
> > gcl or one of the more comprehensive lisps that runs axiom?  Could then
> > data structures used by texmacs (and any graphing component it may
> > evolve) be shared by texmacs and axiom?

\start
Date: Tue, 4 Jan 2005 08:57:21 -0500
From: Tim Daly
To: Camm Maguire
Subject: uffi

I want to lift the socket code from C to lisp in a portable way.
Does GCL support uffi? 

Failing that I'll do it specifically for GCL and then port it
to uffi elsewhere. 

\start
Date: 04 Jan 2005 12:14:11 -0500
From: Camm Maguire
To: Kostas Oikonomou
Subject: Re: [Gcl-devel] Re: Failure in Solaris 9 build, patch 23

Am still looking over the details, but am still suspicious of the bfd
loading/image saving, as although all your loads appear to work
without failure (wasn't there a 'cannot get relocated section
contents' earlier?), the location of this error is at the first point
in which an image with saved loaded .o files is executed.  There may
be an an asynchronization between the bfd.h and libbfd.a available on
your system.

Here is a simple test which would be helpful:

gcl
>(defun foo (x) (* x x))
>(compile 'foo)
>(si::save-system "/tmp/bar")

/tmp/bar:
>(foo 2)
4

I notice that you are not configuring with --disable-statsysbfd
--enable-locbfd.  I would suggest this, at least at the beginning,
hoping that the work you've already done will eliminate previous
problems you've had with this pathway.


Also noticed that your util.lisp is loaded into the interpreter
(i.e. non-compiled), the only difference I can see with my last
successful build log.  Also, there was a failure to find a package
file earlier on, the resolution of which is unclear from the output.  

Barring bfd, the next step is to extract the input being fed to
(interpsys?) in the error below, and run it by hand thus:

.....interpsys
)lisp (si::use-fast-links nil)
)lisp (load "input file.lisp")
>>:bt  (backtrace)

If we cannot see what is happening here, then the next step is to
recompile with gcl configured with --enable-debug, get to the error
below, and then run the image under gdb, breaking at FEerror, and
running the lisp commands above.

Hope some of this helps.

\start
Date: 04 Jan 2005 12:42:41 -0500
From: Camm Maguire
To: Tim Daly
Subject: Re: uffi

The short answer is 'not yet'.  I'd be happy to assist with any
specific C FFI you might need, as GCL's ability, though perhaps not
standard, is (IMHO) quite good in this area.

Take care,

Tim Daly writes:

> Camm,
> 
> I want to lift the socket code from C to lisp in a portable way.
> Does GCL support uffi? 
> 
> Failing that I'll do it specifically for GCL and then port it
> to uffi elsewhere. 

\start
Date: Tue, 4 Jan 2005 13:59:01 -0500 
From: Bill Page
To: Camm Maguire, Tim Daly
Subject: RE: uffi

I thought GCL already had socket support built-in?

> -----Original Message-----
> From: Camm Maguire [mailto:Camm Maguire]
> Sent: Tuesday, January 04, 2005 12:43 PM
> To: Tim Daly
> Cc: list
> Subject: Re: uffi
> 
> 
> Greetings!
> 
> The short answer is 'not yet'.  I'd be happy to assist with any
> specific C FFI you might need, as GCL's ability, though perhaps not
> standard, is (IMHO) quite good in this area.
> 
> Take care,
> 
> Tim Daly writes:
> 
> > Camm,
> > 
> > I want to lift the socket code from C to lisp in a portable way.
> > Does GCL support uffi? 
> > 
> > Failing that I'll do it specifically for GCL and then port it
> > to uffi elsewhere. 

\start
Date: Tue, 4 Jan 2005 14:31:30 -0500 
From: Bill Page
To: Tim Daly
Subject: RE: algebra Makefiles with explicit dependencies, bootstrap, fixe d-points etc.

Tim,

On Tuesday, January 04, 2005 8:29 AM you wrote:

> ... 
> ASSUMING WE HAVE NOT CHANGED THE SIGNATURE OF a
> then b will still compile and be valid code

Are you saying that the *only* reason that the Axiom
)compile needs to "Load" .o files is just in order to
get the signature? Nothing else in the .o file affects
the code that gets generated?

> 
> Now if we try to change the signature of a
> so that it breaks b then we need to rewrite
> b into B and recompile it with A loaded so we
> start from scratch with
> 
> a'.lsp -> a.fasl
> b'.lsp -> b.fasl
> (load a)
> (load b)
> a  -> a.fasl
> b  -> b.fasl
> a  -> A
> A  -> A'.lsp -> A.fasl
> (load A)
> b  -> B
> B  -> B'.lsp -> B.fasl
> (modfify .spad file bootstraps thus:
> \section{A}
> A
> \section{A.bootstrap}
> A'.lsp
> 
> \section{B}
> B
> \section{B.bootstrap}
> B'.lsp
> 

It is possible (isn't it?) that these changes could
cascade down to all dependent and sub-dependent domains.
That is, a new signature passed to some domain could
cause another new signature (possibly different from
the first one) to be generated in a dependent domain
that must in turn be passed on to those domains that
are depended on it.

> and now we rebuild the system from scratch
> and it all works.

Are you sure that a single rebuild is sufficient?
How can you be sure that all dependent domains have
been properly re-compiled with the new signature.

> Notice you have to co-modify a -> A, b -> B in the
> same image and update the .spad file and bootstrap
> code before rebuilding from scratch.
> 
> Note that modifying a->A so it breaks b and
> simultaneously modifying b->B so it breaks a
> is left as an exercise. This kind of programming
> is what got axiom into the state where it needed
> a running axiom to build axiom.

I think that that is not so unnatural a state to be
in. As we have discussed before, one needs a running
C compiler in order to modify an re-compile the compiler.
If you then re-compile the new compiler source with the
new version of the compiler do you then get the same
object file as the one generated with the previous
version of the compiler?

This can happen in any system that is sufficiently
complex that it can be used to describe itself. I think
it is very natural that this happens in a computer
algebra system since exactly this sort of issue had been
addressed by mathematicians since the time of Kurt Godel.

> 
> Once you get past the circular dependency 
> problem you no longer have a need for the
> lisp bootstrap code. It is possible to modify 
> non-bootstrap code and break the system build
> but that's just a simple programming problem.
> 

I don't understand this point of view.

> It is very tricky to modify the fundamental
> cycles but it can be done. It has always been
> true that you need a running axiom to rebuild 
> axiom. My key breakthru was to make it possible
> to build axiom from scratch. However it is not
> true that you can randomly modify anything and
> expect the algebra to build.
>

As far as I understood what you did, Tim, I thought
that it just involved identifying a set of code modules
that if removed from the dependency graph, would result
in all the cycles being broken. Having done this, it
was then possible to sort the resulting lattice of
dependencies into layers of code modules that could be
compiled in sequence.

For those code modules that were logically removed from
the dependency graph you had to provide the lisp code
that had been generated by a previous running version of
Axiom. This is what you called the bootstrap.

Really you have not made it possible to build axiom from
scratch, i.e. from the spad files alone. The bootstrap
lisp code plays an essential role and it still can not be
derived from the spad files without a previously existing
running version of Axiom.
 
> In general you would like the makefile to know
> the dependency graph of algebra code. However
> you'll find that make can't handle such a graph.
>

That is true. 'make' will chase down the dependency
graph starting with whatever node(s) you specify until
it finds that it is about to loop back on itself. At
which point it will issue an warning that the specific
dependency what would have caused the loop is going to
be ignored. In other words, it breaks the cyclic
dependency in exactly the same way that you did Tim.
The only difference is that 'make' does not automatically
provide a bootstrap mechanism.
 
> I tried another idea which was to decorate each
> stanza from layer n with a ${LAYER(n-1)} but that
> fails also.

Do you recall what was the failure in that case. It
seems like it should work to me, except of course it
would not really be as useful as the full set of
dependencies. (I.e. many more dependencies would be
ignored than is really necessary.)

> 
> However the fact that I failed is no reason not
> to try because you  have a deeper understanding
> of make so I'm willing to be convinced. My general
> approach, when domain signatures change, is to do
> 
> make clean
> make
> 
> The algebra hierarchy needs a future rewrite for
> 2 reasons, Provisos and ACL2 integration. Hopefully
> we'll be smarter next time.
> 

Working with Axiom always makes me wish I was smarter.
In lieu of that, it seems to me the next best policy is
to try to use the smartest tools available to help us
do the job. This too is in keeping with the over all
philosophy of Axiom and computer mathematics, what is it
that we are trying to do if it is not some kind of mental
prosthesis?

\start
Date: 04 Jan 2005 16:34:51 -0600
From: Gabriel Dos Reis
To: list
Subject: current CVS tree (axiom 3 beta) fails to build

  Freshly updated from CVS tree fails to build on an x86-based
GNU/Linux with the following error

[...]
make[3]: Entering directory `/home/gdr/src/axiom/src/clef'
3 making /home/gdr/src/axiom/obj/linux/clef/edible.o from /home/gdr/src/axiom/obj/linux/clef/edible.c
edible.c: In function `main':
edible.c:276: error: storage size of `ptermio' isn't known
edible.c:276: warning: unused variable `ptermio'
make[3]: *** [/home/gdr/src/axiom/obj/linux/clef/edible.o] Error 1
make[3]: Leaving directory `/home/gdr/src/axiom/src/clef'
make[2]: *** [clefdir] Error 2
make[2]: Leaving directory `/home/gdr/src/axiom/src'
make[1]: *** [srcdir] Error 2
make[1]: Leaving directory `/home/gdr/src/axiom'
make: *** [all] Error 2

GCC is 3.3.1.

Is this a known issue?

\start
Date: Tue, 4 Jan 2005 18:23:36 -0500
From: Tim Daly
To: Gabriel Dos Reis
Subject: Re: current CVS tree (axiom 3 beta) fails to build

> Is this a known issue?

it is now :-)

i'll have to check what versions of the compiler i'm using.
i'll also check whether ptermio is used.


\start
Date: Tue, 4 Jan 2005 18:27:58 -0500
From: Tim Daly
To: list
Subject: call for speakers

City College is having an Axiom conference to introduce the world
to users of Axiom. If you're using it in any area of science we'd
like to hear from you. The conference is a 1 day event on April 22
in NYC. Some funding is available so if you'd like to visit NYC in
the spring this is the time to suggest a presentation.

\start
Date: Tue, 04 Jan 2005 16:57:41 -0600
From: MathAction (root)
To: MathAction
Subject: [Axiom-mail] call for speakers

City College is having an Axiom conference to introduce the world
to users of Axiom. If you're using it in any area of science we'd
like to hear from you. The conference is a 1 day event on April 22
in NYC. Some funding is available so if you'd like to visit NYC in
the spring this is the time to suggest a presentation.

\start
Date: Tue, 4 Jan 2005 19:18:13 -0600 (CST)
From: Gabriel Dos Reis
To: Tim Daly
Subject: Re: current CVS tree (axiom 3 beta) fails to build

On Tue, 4 Jan 2005, root wrote:

| > Is this a known issue?
|
| it is now :-)
|
| i'll have to check what versions of the compiler i'm using.
| i'll also check whether ptermio is used.

Well, I think my brain is now somewhere in the middle of the atlantic
ocean, so I'm getting  better :-)  I looked into edible.c.
The code at issue is:

#ifdef logterm
    {
      struct termio ptermio;
      char pbuff[1024];
      tcgetattr(contNum, &ptermio);
      sprintf(pbuff, "child's settings: Lflag = %d, Oflag = %d, Iflag = %d\n",
              ptermio.c_lflag, ptermio.c_oflag, ptermio.c_iflag);
      write(logfd, pbuff, strlen(pbuff));
    }
#endif

line 276 is
      struct termio ptermio;

so:
  (1) it looks to me that the error is a mispelling:
      'struct termios' should 'struct termio'.

  (2) ptermio is indeed used.

Correcting (1) as indicated led to a successful compilation.
The whole axiom build is still underway.

\start
Date: 05 Jan 2005 02:47:52 +0100
From: Gabriel Dos Reis
To: Tim Daly
Subject: Re: current CVS tree (axiom 3 beta) fails to build

Gabriel Dos Reis writes:

[...]

| Correcting (1) as indicated led to a successful compilation.
| The whole axiom build is still underway.

I can confirm successful build, installation and several testing on an
x86-based GNU/Linux (gcc-3.3.1, glibc-2.3.2-88).

\start
Date: Tue, 4 Jan 2005 23:04:49 -0500
From: Tim Daly
To: Gabriel Dos Reis
Subject: Re: current CVS tree (axiom 3 beta) fails to build

hmm, can you do me a favor and try the following:

cd obj/linux/clef
gcc -E edible.c

and look for the lines:

/usr/include/termios.h

and

struct termios

these must be included in your system somewhere or the build
would fail at the include step.

In fact, it would be interesting to see the output of the gcc -E edible.c
line.

\start
Date: 05 Jan 2005 04:35:41 +0100
From: Gabriel Dos Reis
To: Tim Daly
Subject: Re: current CVS tree (axiom 3 beta) fails to build

Gabriel Dos Reis writes:

| On Tue, 4 Jan 2005, root wrote:
| 
| | > Is this a known issue?
| |
| | it is now :-)
| |
| | i'll have to check what versions of the compiler i'm using.
| | i'll also check whether ptermio is used.
| 
| Well, I think my brain is now somewhere in the middle of the atlantic
| ocean, so I'm getting  better :-)  I looked into edible.c.

No, not better ;-/

| The code at issue is:
| 
| #ifdef logterm
|     {
|       struct termio ptermio;
|       char pbuff[1024];
|       tcgetattr(contNum, &ptermio);
|       sprintf(pbuff, "child's settings: Lflag = %d, Oflag = %d, Iflag = %d\n",
|               ptermio.c_lflag, ptermio.c_oflag, ptermio.c_iflag);
|       write(logfd, pbuff, strlen(pbuff));
|     }
| #endif
| 
| line 276 is
|       struct termio ptermio;
| 
| so:
|   (1) it looks to me that the error is a mispelling:
|       'struct termios' should 'struct termio'.

That is inverted:  it is 'struct termio' (current code) that should be
'struct termios'. 

\start
Date: Tue, 4 Jan 2005 23:19:33 -0500
From: Tim Daly
To: Gabriel Dos Reis
Subject: Re: current CVS tree (axiom 3 beta) fails to build

Gabriel,

Steve Wilson points out that the CHANGELOG contains the lines:

20041116 tpd src/clef/edible.c termios -> termio
20040730 sxw src/clef/edible.c termio -> termios

so it appears that on some systems we need termio and
on others we need termios.

Steve believes that this is dead code because at the top
of the file we see:

#ifdef unlikely
...
#define logterm

and the termios code is protected by 
#ifdef logterm

still checking....

\start
Date: Tue, 4 Jan 2005 23:28:48 -0500
From: Tim Daly
To: Gabriel Dos Reis
Subject: Re: current CVS tree (axiom 3 beta) fails to build

Ok. I'm closer.
I was working on a BSD port at the time and it is likely that
BSD wants termio while linux wants termios.

Can you modify the pamphlet file back to the original form,
type make, and send me the console log?

\start
Date: Tue, 4 Jan 2005 23:39:37 -0500
From: Tim Daly
To: list
Subject: compile farm

A little known fact is that Axiom is also available on sourceforge.
(http://sourceforge.net/projects/axiom)

The benefit for us is that sourceforge maintains a compile farm
of machines which we can use. Several operating systems are
available. See
http://sourceforge.net/docman/display_doc.php?docid=762&group_id=1#os_reference
 
Perhaps we need to exploit this resource, especially for the *BSD, MAC,
and Solaris efforts.

\start
Date: 05 Jan 2005 05:15:56 +0100
From: Gabriel Dos Reis
To: Tim Daly
Subject: Re: current CVS tree (axiom 3 beta) fails to build

Tim Daly writes:

| Gabriel,
| 
| Steve Wilson points out that the CHANGELOG contains the lines:
| 
| 20041116 tpd src/clef/edible.c termios -> termio
| 20040730 sxw src/clef/edible.c termio -> termios
| 
| so it appears that on some systems we need termio and
| on others we need termios.

I see.  I can confirm that on GNU/Linux, and generally (recent) glibc
systems, one needs termios.  I also looked on solaris plateforms
(apparently currently not supported by axiom), one needs termios there
too. 
I guess that is something one would need to test for at configure time. 

| Steve believes that this is dead code because at the top
| of the file we see:
| 
| #ifdef unlikely
| ...
| #define logterm
| 
| and the termios code is protected by 
| #ifdef logterm

I can see that the fragment is guarded by 
  
   #ifdef logterm

but for some reasons that code is reached on my system (SuSE-9.0, 
with glibc-2.3.2).

GCC with the option -dM dumps macros that are defined.  I can confirm
that gcc -E -dM edible.c shows a line where logterm is defined.  More
precisely, I have the following

   [....]
   #define _SC_2_PBS_MESSAGE _SC_2_PBS_MESSAGE
   #define _GCC_SIZE_T 
   #define CEOT CEOF
   #define logterm 1  /* <===== here */
   #define __INO64_T_TYPE __UQUAD_TYPE
   #define _SC_AVPHYS_PAGES _SC_AVPHYS_PAGES
   #define _IO_LINKED 0x80
   [....]

so my gut feeling is that that macro gets defined as internal to some
system header files.  

That gut feeling turns out to be wrong, as replacing logterm with
AXIOM_LOGTERM throughout edible.c still leads to the same problem.
So I operated on a second assumption: the macro "unlikely" must have
been defined somewhere else.  Bingo!  With the help of gcc -E -dM, I
could spot

    [...]
    #define __KEY_T_TYPE __S32_TYPE
    #define sigev_notify_function _sigev_un._sigev_thread._function
    #define likely(x) __builtin_expect((x),1)   /* <==== here */
    #define FAPPEND O_APPEND
    #define _XOPEN_ENH_I18N 1
    [...] 
    #define F_ULOCK 0
    #define errno (*__errno_location ())
    #define unlikely(x) __builtin_expect((x),0) /* <=== here too */
    #define EL2NSYNC 45
    #define _IO_off64_t _G_off64_t
    [...]

I can't tell you right now which system header files define those
questionable macros (I know what they mean, but I don't see what they
are doing there).  It seems that some glibc-based systems have taken
the right to hijack those names.  
Maybe Axiom might prefer to spell its macros all in caps, and probably
prefixed with AXIOM_ ...

| still checking....

I hope the above helps.

\start
Date: Wed, 5 Jan 2005 00:10:33 -0500
From: Tim Daly
To: Gabriel Dos Reis
Subject: Re: current CVS tree (axiom 3 beta) fails to build

your tracking is helping a lot. keep up the good work.
i can't track it here because it works here.

\start
Date: Wed, 5 Jan 2005 03:58:16 -0500 
From: Bill Page
To: Tim Daly
Subject: axiom--windows--1--patch-11

As per our discussion offline, I have committed a new patch
for the windows branch that moves the awk script from the
src/Makefile.pamphlet to the src/algebra/Makefile.pamphlet
where it "logically" belongs. This script is now extracted
(by notangle) from src/algebra/Makefile.pamphlet and called
by the revised src/Makefile to explicitly add the pamphlet
rules to the new src/algebra/Makefile. All the other rules
in src/algebra/Makefile are implicit rules. As a result,
the new src/algebra/Makefile is much smaller than it used
to be and I think it is easier to understand.

Extracting the script by notangle rather than embedding
it in the Makefile eliminates most of the hieroglyphic
"line noise" to which you objected. I have also completed
and added the additional detailed documentation that
you partially drafted. A new developer can read the
src/algebra/Makefile.dvi documentation to see exactly
how this works.

I have not yet changed where the databases are built (now
it is in the etc/Makefile in order to make use of a simple
wild-card specification for the prerequisites). As you
pointed out, it could be argued that this also logically
still belongs in the src/algebra/Makefile.pamphlet. This
could be handled in a manner similar to the above with the
etc/Makefile using notangle to extract and execute this
stanza from the src/algebra/Makefile.pamphlet file. Then
at least of this documentation for building the algebra
would be in one .dvi file.

Or alternatively the database stanza could be returned to
the src/algebra/Makefile itself provided that we first
did some substitutions on the ORDER variable to construct
the explicit list of *.NRLIB/code.o dependencies.

Which of these options would you prefer? Or can we leave
this one as it is?

While doing this work, I took the opportunity to review
the Makefile.dvi files for src, src/algebra, src/input and
src/etc. Since these where in rather poor shape due to some
simple LaTeX and noweb coding problems, I presume that no
one has been paying much attention to them. In any case
I think I have corrected most of the problems with these
so that with the additional documentation, they should now
be of more use to developers.

Let me know when you have had a chance to review this
as I would like to make similar changes to axiom--main--1
branch.

My next patches to the axiom--windows--1 branch will be
to add the tm_axiom interface code and the NSIS install
program scripts. (patch-12?)

There are also some outstanding unix compatibility issues
that will require changing 'cat' and 'rm' system calls 
in the BOOTSYS/INTERP code to GCL native code to improve
portability. (patch-13?) Are there any lisp programmers
out there who would like to take this on?

Finally, we need to address the porting of the graphics
and hyperdoc code to Windows. This is a big problem if
our target remains native Windows because of the lack of
the X library under Windows. One possible way around that
might involve using the X environment provided by cygwin
under windows. For windows users this might be considered
a step backward since installing and using X under cygwin
is rather complex and somewhat "unnatural". The alternative
is to find another graphics environment for Axiom graphics
and hyperdoc - hopefully one that is more easily portable
between linux and windows. Are there any developers out
there who have some experience with this?

\start
Date: Wed, 5 Jan 2005 08:19:02 -0500 
From: Bill Page
To: list
Subject: RE: algebra Makefiles with explicit dependencies, bootstrap, fixe d-points etc.

Axiom Developers;

I have decided to try an approach to this subject that
Tim Daly once called "learning in public". In other words
by exposing my ignorance for the benefit of others as I
try to learn of what actually happens during an Axiom
compilation. This way I hope to get some detailed help
from other people who have more knowledge of this than
me and in the process hopefully produce some web pages that
may have some lasting value as documentation.

I have started this process here:

http://page.axiom-developer.org/zope/Plone/Members/billpage/CyclicDependenci
es

I would be very pleased to receive you comments and
suggestions either by email or by your direction
contributions to these pages. By logging in to the
Axiom Portal at

http://page.axiom-developer.org/zope/Plone

You will be able to edit the contents of the pages
and experiment with the example programs.

\start
Date: Thu, 6 Jan 2005 22:08:59 -0500
From: Tim Daly
To: list
Subject: mail outage

My outgoing mail has disappeared into the void for the last two days.
There seems to be a problem at my ISP (idsi.net) but I'm not sure.

If there are lost emails I have no way to know.

I can also be reached as Tim Daly 

Hopefully the problem is fixed.

\start
Date: Fri, 7 Jan 2005 02:58:45 -0500
From: Bill Page
To: Tim Daly
Subject: RE: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

Tim,

I failed in my first simple attempts find any propagation of
dependencies during spad compilation. See for example

http://page.axiom-developer.org/zope/Plone/Members/billpage/CyclicDepende=
nci
es

so I was beginning to think that this did not happen at least,
as you have suggested, not in the case where the signatures
stayed constant. But the Boolean and BasicType dependency case
that I looked at above is quite simple and much more complicated
things are possible in Axiom, so to be really sure I decided to
doing the following test.

1) I built Axiom from the archive in the normal way using 'make'.

2) I copied all of the int/algebra/*.NRLIB/code.lsp files to
   where the bootstrap files are located int/algebra/*.lsp so
   that I can compare any changes in these files later. All of
   these lisp files were generated by the Axiom compiler.

3) Then I deleted all of the int/algebra/*.NRLIB's and touched
   the int/algebra/*.spad files in order to force a full re-
   compilation of all the spad files on the next 'make'.

4) I ran 'make' again to re-build the NRLIB's. The only difference
   with this build is that it is loading the *.o files for the
   bootstrap from the *.o's that were compiled from the spad
   sources, rather than the bootstrap lisp.

5) Finally using diff I compared the old int/algebra/*.lsp files
   to the newly generated int/algebra/*.NRLIB/code.lsp files.

Because of my first experiments, I did not expect to see any
differences, but to my surprize (or was it relief because of
my earlier convictions :) I did find some small but apparently
significant differences in the following files.

--- int/algebra/BINFILE.lsp     Thu Jan  6 22:22:55 2005
+++ int/algebra/BINFILE.NRLIB/code.lsp  Thu Jan  6 23:09:32 2005
--- int/algebra/D01AGNT.lsp     Thu Jan  6 22:22:57 2005
+++ int/algebra/D01AGNT.NRLIB/code.lsp  Fri Jan  7 00:23:04 2005
--- int/algebra/FC.lsp  Thu Jan  6 22:23:00 2005
+++ int/algebra/FC.NRLIB/code.lsp       Thu Jan  6 23:59:50 2005
--- int/algebra/FFCGP.lsp       Thu Jan  6 22:23:01 2005
+++ int/algebra/FFCGP.NRLIB/code.lsp    Thu Jan  6 23:39:00 2005
--- int/algebra/FORTRAN.lsp     Thu Jan  6 22:23:02 2005
+++ int/algebra/FORTRAN.NRLIB/code.lsp  Fri Jan  7 00:00:23 2005
--- int/algebra/INBFF.lsp       Thu Jan  6 22:23:04 2005
+++ int/algebra/INBFF.NRLIB/code.lsp    Fri Jan  7 00:23:21 2005
--- int/algebra/OMENC.lsp       Thu Jan  6 22:23:10 2005
+++ int/algebra/OMENC.NRLIB/code.lsp    Thu Jan  6 22:49:46 2005
--- int/algebra/PATTERN.lsp     Thu Jan  6 22:23:11 2005
+++ int/algebra/PATTERN.NRLIB/code.lsp  Thu Jan  6 23:45:01 2005
--- int/algebra/PRIMELT.lsp     Thu Jan  6 22:23:13 2005
+++ int/algebra/PRIMELT.NRLIB/code.lsp  Thu Jan  6 23:45:25 2005
--- int/algebra/RECLOS.lsp      Thu Jan  6 22:23:14 2005
+++ int/algebra/RECLOS.NRLIB/code.lsp   Thu Jan  6 23:45:39 2005
--- int/algebra/ROIRC.lsp       Thu Jan  6 22:23:14 2005
+++ int/algebra/ROIRC.NRLIB/code.lsp    Thu Jan  6 23:28:06 2005

None of these are bootstrap files.

I am now in the process of re-iterating the above steps to see
if these differences will disappear in the next cycle or if they
will propagate further to other files that depend on these. I
will let you know what happens a little later.

Here are the actual bash scripts that I am running.

----------

$ cat fixedPoint

# fixedPoint:
#
# This script attempts to find a "fixed point" in the Axiom
# algebra that is defined by repeating the build until there
# is no change in the generated lisp code.
#
# Author: Bill Page  6 Jan 2005.

echo "Axiom Fixed Point Build" | tee fixedPoint.log

# The first step is to build Axiom in the usual way starting
# with the bootstrap lisp files in int/algebra/*.lsp that are
# extracted from the *.spad.pamphlet files=20

# linux or windows
export AXIOM=`pwd`/mnt/linux
export PATH=$AXIOM/bin:$PATH
make clean
make

# At each iteration we copy all of the lisp files from
# int/algebra/*.NRLIB/code.lsp to int/algebra/*.lsp and
# then delete the int/algebra/*.NRLIB files and touch
# all of the int/algebra/*.spad files to force a complete
# re-compilation.

level=1

# The initial bootstrap *.lsp files are overwritten

mv2boot
touch int/algebra/*.spad

# The Axiom compiler will load the most recent algebra code
# from the ${MNT}/${SYS}/algebra/*.o files.

make
echo "***Iteration*** $level" | tee -a fixedPoint.log

# Then we compare the new int/algebra/*.NRLIB/code.lsp
# files to the previous versions at int/algebra/*.lsp

while ! cmp2boot>>fixedPoint.log; do

# Differences are written to a log, then we repeat
# the above steps if necessary

  level=$((level+1))
  mv2boot
  touch int/algebra/*.spad
  make
  echo "***Iteration*** $level" | tee -a fixedPoint.log
done

--------

$ cat mv2boot
# mv2boot:
#
# This script copies all of the new lisp files back to
# the bootstrap

for i in int/algebra/*.NRLIB/code.lsp; do
  cp $i ${i/.NRLIB\/code/};
  rm -r ${i/\/code.lsp/}
done

---------

$ cat cmp2boot
# cmp2boot:
#
# This script compares the new lisp files to the old
# bootstrap lisp files. It outputs any differences and
# returns status 1 or 0 if there are no differences.

error=0
for i in int/algebra/*.NRLIB/code.lsp; do
  if ! diff -au ${i/.NRLIB\/code/} $i; then error=1; fi
done
exit $error

----------

Does this test procedure make sense to you. Do you think
I have made any logical errors here?

If you have a machine to spare, I would be very interested
to see if you get the same results.

\start
Date: Fri, 7 Jan 2005 04:01:32 -0500
From: Bill Page
To: Tim Daly
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

On Friday, January 07, 2005 2:59 AM I wrote:
> ... 
> Because of my first experiments, I did not expect to see any
> differences, but to my surprize (or was it relief because of
> my earlier convictions :) I did find some small but apparently
> significant differences in the following files.
> 
> --- int/algebra/BINFILE.lsp     Thu Jan  6 22:22:55 2005
> +++ int/algebra/BINFILE.NRLIB/code.lsp  Thu Jan  6 23:09:32 2005
> --- int/algebra/D01AGNT.lsp     Thu Jan  6 22:22:57 2005
> +++ int/algebra/D01AGNT.NRLIB/code.lsp  Fri Jan  7 00:23:04 2005
> --- int/algebra/FC.lsp  Thu Jan  6 22:23:00 2005
> +++ int/algebra/FC.NRLIB/code.lsp       Thu Jan  6 23:59:50 2005
> --- int/algebra/FFCGP.lsp       Thu Jan  6 22:23:01 2005
> +++ int/algebra/FFCGP.NRLIB/code.lsp    Thu Jan  6 23:39:00 2005
> --- int/algebra/FORTRAN.lsp     Thu Jan  6 22:23:02 2005
> +++ int/algebra/FORTRAN.NRLIB/code.lsp  Fri Jan  7 00:00:23 2005
> --- int/algebra/INBFF.lsp       Thu Jan  6 22:23:04 2005
> +++ int/algebra/INBFF.NRLIB/code.lsp    Fri Jan  7 00:23:21 2005
> --- int/algebra/OMENC.lsp       Thu Jan  6 22:23:10 2005
> +++ int/algebra/OMENC.NRLIB/code.lsp    Thu Jan  6 22:49:46 2005
> --- int/algebra/PATTERN.lsp     Thu Jan  6 22:23:11 2005
> +++ int/algebra/PATTERN.NRLIB/code.lsp  Thu Jan  6 23:45:01 2005
> --- int/algebra/PRIMELT.lsp     Thu Jan  6 22:23:13 2005
> +++ int/algebra/PRIMELT.NRLIB/code.lsp  Thu Jan  6 23:45:25 2005
> --- int/algebra/RECLOS.lsp      Thu Jan  6 22:23:14 2005
> +++ int/algebra/RECLOS.NRLIB/code.lsp   Thu Jan  6 23:45:39 2005
> --- int/algebra/ROIRC.lsp       Thu Jan  6 22:23:14 2005
> +++ int/algebra/ROIRC.NRLIB/code.lsp    Thu Jan  6 23:28:06 2005
> 
> None of these are bootstrap files.
> 
> I am now in the process of re-iterating the above steps to see
> if these differences will disappear in the next cycle or if they
> will propagate further to other files that depend on these. I
> will let you know what happens a little later.
> ...

Ok. The 2nd iteration just finished with no differences found in
the *.lsp files. So the "fixed point" was found after 2 consecutive
builds.

I am beginning to wonder now whether the differences in the first
step is really due to some previously unresolved propagation of
dependencies (as I first suspected)? Or could it be something else
like perhaps the database files beging slightly inconsistent with
the spad sources during the initial build? What do you think?

I have attached the fixedPoint.log.gz file containing the diffs
for iteration 1.

Regards,
Bill Page.

------=_NextPart_000_003A_01C4F46D.95D7D8A0
	name="fixedPoint.log.gz"
	filename="fixedPoint.log.gz"

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

\start
Date: Fri, 7 Jan 2005 09:59:01 -0500
From: Stephen Wilson
To: Bill Page
Subject: re: algebra Makefiles with explicit

My original message was rejected my the mailing list server as being
too large due to the archive file mentioned below. Attached is the
original message for the benefit of the list. Bill, Tim, if you did
not get the archive (and would like a copy :) let me know and I'll
send it out directly (or to any one else who is interested).

[original message]

Bill, Tim,

The discovery of inconsistencies as witnessed by Bill's fixedPoint.log
has me concerned. Im interested in understanding why this is
happening. Looking over fixedPoint.log demonstrates that most (but not
all) of the lisp code differs w.r.t the layout of the domain
vectors (most differences occur in lisp take the form (QREFELT $ N),
where N is an integer). 

To understand this better, I wrote some lisp to extract the functions
from Bills fixedPoint.log and `explode' it into several other,
pprinted files. Running diff on these files gives a more informative
report on what exactly has changed in the lisp. The code which does
this is in extract.lisp. The archive already contains the exploded
lisp files. 

To use extract.lisp, create a new directory and cd there. Fire up
gcl. Then do (with appropriate paths, of course :),

================================================================
>(load "../extract.lisp")

Loading ../extract.lisp
Finished loading ../extract.lisp
T

>(extract "../fixedPoint.log")

T

>(quit)
================================================================

This should produce a directory of files as contained in the attached
archive. Files of the form *1.lisp are the original functions, *2.lisp
contains those functions which seem to have been affected by
`propagation'. 

I have yet to build a version of axiom following Bill's
steps. However, I feel a comparison between the layouts of the domain
vectors from within the affected functions could prove useful. In the
archive is the file spadvec.lisp, which contains a simple lisp
function I use sometimes to print a domain vector from within
axiom. Here is how to use it:

Lets assume we want to print the domain vector from within the
function `|FC;setLabelValue;2Si;1|' as listed
in FC1.lisp. Lets copy this function to the file
'setlabel1.lisp', and add a call at the top to pspadvec. pspadvec takes
the domain vector as argument, and an optional depth argument. The
depth is 0 based, so calling with a depth of 1 will print two levels
deep into the domain vector (by deep I mean the function follows other
vectors). So, `setlabel1.lisp' could read:

================================================================
(DEFUN |FC;setLabelValue;2Si;1| (|u| $) 
       (pspadvec $ 1) 
       (SETELT $ 10 |u|))
================================================================

Sometimes getting the right version of the function to be called by
axiom is tricky. In this case, we can get this new function called as
follows:

================================================================
(1) -> (setq |$DALYMODE| t)

Value = T
(1) -> (load "spadvec.lisp")

Value = T
(1) -> (load "setlabel1.lisp")

Value = T
(1) -> (trace |FC;setLabelValue;2Si;1|)

Value = (|FC;setLabelValue;2Si;1|)
(1) -> setLabelValue(0)$FC

  1> (|FC;setLabelValue;2Si;1| 0 #<vector 08d5b460>)
  <1 (|FC;setLabelValue;2Si;1| 0)

   (1)  0
                                                          Type: SingleInteger
(2) -> (load "setlabel1.lisp")

Value = T
(2) -> setLabelValue(0)$FC

  1> (|FC;setLabelValue;2Si;1| 0 #<vector 08d5b460>)
0: (FortranCode)
1: (#<compiled-function lookupComplete> #<vector 08d5b460> #<vector 08d5b4ec>)
2: NIL
3: 0
4: (#<vector 08d5b444> #<vector 08d5b4b4> . #<vector 08d5b47c>)
5: NIL
6: <vector> :
  ....
  ....
180: (#<compiled-function FC;assign;SE$;78> . #<vector 08d5b460>)
181: (#<compiled-function FC;assign;SE$;79> . #<vector 08d5b460>)
182: (#<compiled-function FC;call;S$;80> . #<vector 08d5b460>)
  <1 (|FC;setLabelValue;2Si;1| 0)

   (2)  0
                                                          Type: SingleInteger
================================================================

Note that the vectors are huge structures; printing them with a depth
greater than 2 will produce an enormous amount of output.

Bill, perhaps you can try examining some of the affected functions as
above and comparing the domain vectors between the two builds? I'd be
very interested in seeing how they differ (I will try building my own
version of axiom as you described later today). 

I hope this will be useful in understanding the problem.


Cheers,
Steve


On Fri, Jan 07, 2005 at 04:01:32AM -0500, Bill Page wrote:
> On Friday, January 07, 2005 2:59 AM I wrote:
> > ... 
> > Because of my first experiments, I did not expect to see any
> > differences, but to my surprize (or was it relief because of
> > my earlier convictions :) I did find some small but apparently
> > significant differences in the following files.
> > 
> > --- int/algebra/BINFILE.lsp     Thu Jan  6 22:22:55 2005
> > +++ int/algebra/BINFILE.NRLIB/code.lsp  Thu Jan  6 23:09:32 2005
> > --- int/algebra/D01AGNT.lsp     Thu Jan  6 22:22:57 2005
> > +++ int/algebra/D01AGNT.NRLIB/code.lsp  Fri Jan  7 00:23:04 2005
> > --- int/algebra/FC.lsp  Thu Jan  6 22:23:00 2005
> > +++ int/algebra/FC.NRLIB/code.lsp       Thu Jan  6 23:59:50 2005
> > --- int/algebra/FFCGP.lsp       Thu Jan  6 22:23:01 2005
> > +++ int/algebra/FFCGP.NRLIB/code.lsp    Thu Jan  6 23:39:00 2005
> > --- int/algebra/FORTRAN.lsp     Thu Jan  6 22:23:02 2005
> > +++ int/algebra/FORTRAN.NRLIB/code.lsp  Fri Jan  7 00:00:23 2005
> > --- int/algebra/INBFF.lsp       Thu Jan  6 22:23:04 2005
> > +++ int/algebra/INBFF.NRLIB/code.lsp    Fri Jan  7 00:23:21 2005
> > --- int/algebra/OMENC.lsp       Thu Jan  6 22:23:10 2005
> > +++ int/algebra/OMENC.NRLIB/code.lsp    Thu Jan  6 22:49:46 2005
> > --- int/algebra/PATTERN.lsp     Thu Jan  6 22:23:11 2005
> > +++ int/algebra/PATTERN.NRLIB/code.lsp  Thu Jan  6 23:45:01 2005
> > --- int/algebra/PRIMELT.lsp     Thu Jan  6 22:23:13 2005
> > +++ int/algebra/PRIMELT.NRLIB/code.lsp  Thu Jan  6 23:45:25 2005
> > --- int/algebra/RECLOS.lsp      Thu Jan  6 22:23:14 2005
> > +++ int/algebra/RECLOS.NRLIB/code.lsp   Thu Jan  6 23:45:39 2005
> > --- int/algebra/ROIRC.lsp       Thu Jan  6 22:23:14 2005
> > +++ int/algebra/ROIRC.NRLIB/code.lsp    Thu Jan  6 23:28:06 2005
> > 
> > None of these are bootstrap files.
> > 
> > I am now in the process of re-iterating the above steps to see
> > if these differences will disappear in the next cycle or if they
> > will propagate further to other files that depend on these. I
> > will let you know what happens a little later.
> > ...
> 
> Ok. The 2nd iteration just finished with no differences found in
> the *.lsp files. So the "fixed point" was found after 2 consecutive
> builds.
> 
> I am beginning to wonder now whether the differences in the first
> step is really due to some previously unresolved propagation of
> dependencies (as I first suspected)? Or could it be something else
> like perhaps the database files beging slightly inconsistent with
> the spad sources during the initial build? What do you think?
> 
> I have attached the fixedPoint.log.gz file containing the diffs
> for iteration 1.

\start
Date: Fri, 7 Jan 2005 10:45:51 -0500
From: Tim Daly
To: Stephen Wilson, Bill Page
Subject: re: algebra Makefiles with explicit

This is very interesting. It may be caused by the fact that the
build occurs with old databases but I can't be sure. If you copy
the new databases into a clean system in place of the old databases
does the problem still occur or does it change?

Unfortunately I'm unable to pursue this effort at the moment as
I'm already pushing several other large problems, some of which
have deadlines of this week and next. Please let me know what you 
find. Keep me in the loop as I may know things that can help.

\start
Date: Fri, 7 Jan 2005 10:53:08 -0500
From: Tim Daly
To: Stephen Wilson, Bill Page
Subject: re: algebra Makefiles with explicit

Note that the original databases are the NAG versions and the actual
algebra code has been improved since that time. Modifying the algebra
will change the domain vectors. These vectors contain hard-coded
indexes. So, for instance, PLEQN is new since NAG's version so the
domains which use it will have different index values. The database
build is done after the algebra is compiled and should reflect the
actual algebra whereas the original databases may not.

\start
Date: Fri, 7 Jan 2005 10:27:21 -0500
From: Bill Page
To: Stephen Wilson
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

Thanks for the quick first steps at analsis of these results.
Obviously it is going to take some time to fully understand
your approach as I learn more about Axiom internals.

I did receive your attachment because you Cc'd the message
directly to me. But as you say, the mailing list put it in
the approval queue because of the size. The message size
limit was set at 40 Kbytes, which I think is pretty small
by today's standards. I have doubled this to 80 Kbytes, so
there should be fewer cases were messages end up waiting for
moderator approval. I think 80 Kbytes is still conservative
but if anyone on the mailing list objects or would prefer a
higher limit, please let me know.

Regards,
Bill Page.

On Friday, January 07, 2005 9:59 AM Stephen Wilson wrote:
> 
> My original message was rejected my the mailing list server as being
> too large due to the archive file mentioned below. Attached is the
> original message for the benefit of the list. Bill, Tim, if you did
> not get the archive (and would like a copy :) let me know and I'll
> send it out directly (or to any one else who is interested).
> 
> [original message]
> 
> Bill, Tim,
> 
> The discovery of inconsistencies as witnessed by Bill's fixedPoint.log
> has me concerned. Im interested in understanding why this is
> happening. Looking over fixedPoint.log demonstrates that most (but not
> all) of the lisp code differs w.r.t the layout of the domain
> vectors (most differences occur in lisp take the form (QREFELT $ N),
> where N is an integer). 
> 
> To understand this better, I wrote some lisp to extract the functions
> from Bills fixedPoint.log and `explode' it into several other,
> pprinted files. Running diff on these files gives a more informative
> report on what exactly has changed in the lisp. The code which does
> this is in extract.lisp. The archive already contains the exploded
> lisp files. 
> ...

\start
Date: Fri, 7 Jan 2005 11:21:51 -0500
From: Tim Daly
To: Stephen Wilson, Bill Page
Subject: re: algebra Makefiles with explicit

Gentle reminder. If you're going to decode the format of the 
code.lsp files it would be helpful to document them. You'll
discover, for instance, that the naming convention within the
files is tied to the number and types of the arguments to the
function. This documentation will be useful as part of the
compiler and as a way to understand the databases.

\start
Date: Fri, 7 Jan 2005 10:47:54 -0500
From: Bill Page
To: Tim Daly, Stephen Wilson
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

This looks like very good circumstantial evidence and a possible
theory about the differences in the 1st iteration .lsp files that
I am observing. So to test this, following the successful completion
of fixedPoint with consistent .lsp after the 2nd iteration, I have
copied the five database files:

  browse.daase, category.daase, compress.daase, interp.daase and
  operation.daase

from the ${MNT}/${SYS}/algebra directory over to the
src/share/algebra directory.

There where differences in 4 of these files (the new files are
a little larger).

Now I am re-running the fixedPoint to see if the differences
disappear. I will let you know in a few hours.

Regards,
Bill Page.

> -----Original Message-----
> 
> Note that the original databases are the NAG versions and the actual
> algebra code has been improved since that time. Modifying the algebra
> will change the domain vectors. These vectors contain hard-coded
> indexes. So, for instance, PLEQN is new since NAG's version so the
> domains which use it will have different index values. The database
> build is done after the algebra is compiled and should reflect the
> actual algebra whereas the original databases may not.

\start
Date: Fri, 7 Jan 2005 11:44:24 -0500
From: Tim Daly
To: Stephen Wilson, Bill Page
Subject: re: algebra Makefiles with explicit

In general I used to "copy back" the database from a successful build
into the seed databases. I haven't implemented that machinery yet. If
this turns out to fix the problem that Bill has found then we need to
modify the makefiles to take this step.

\start
Date: Fri, 7 Jan 2005 12:34:02 -0500
From: Tim Daly
To: Bill Page
Subject: re: algebra Makefiles with explicit

I see you've been busy with the --windows branch. I'm starting to
merge the windows changes into --main so we can get them out as
part of the february release. 

\start
Date: Fri, 7 Jan 2005 12:11:26 -0500
From: Bill Page
To: Tim Daly
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

What is your opinion about the most recent --windows
(patch-11) changes to the src/algebra/Makefile.pamphlet?

I tried to address some of your concerns about the use of the
awk script to generate the explicit pamphlet rules by using the
noweb literate programming concepts to keep logically related
things together. And I also added some more documentation along
the lines that you suggested.

Do you agree that we can use these sort of implicit and
generated stanza's in the axiom--main--1 'make' files?

> -----Original Message-----
> 
> I see you've been busy with the --windows branch. I'm starting to
> merge the windows changes into --main so we can get them out as
> part of the february release. 

\start
Date: Fri, 7 Jan 2005 13:08:35 -0500
From: Tim Daly
To: Bill Page
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

I guess my comments on this were one of the lost emails.

I've reviewed all of the stanzas in the src/input subdir to ensure
they conform to the generic rules without exception. I haven't yet
completed the same review of the algebra stanzas but I will before
I complete the merge.

As to the issue of the algebra/Makefile.pamphlet changes I'm inclined
to trust you on this one as we've both compromised our principles
enough. If we find an issue during testing or a better compromise
surfaces we can always change it again.

I'm more concerned with getting the windows branch changes into main
so we can get them out to the public cvs in the february release. To
do that we need to merge as soon as possible so we can test the
changes and fix things.

\start
Date: Fri, 7 Jan 2005 13:24:54 -0500
From: Tim Daly
To: list
Subject: user feedback

I don't use TeXmacs so I'm not familiar with his issues here but we
need to fix these...

====================================================================


I have had some difficulties with getting the program working properly, 
which may or may not be attributable to me. Here are some issues that I 
encountered. Some reflect my own stupidity, but I think in general the 
information on Open Source software tends to be written with a certain 
user in mind - who is very much not typical of people who use windows as 
their exclusive OS.

To begin:

I downloaded the current windows version of axiom. The one clearly 
highlighted as "recommended." Although TexMacs is mentioned 
prominently,  nowhere does it state that TexMacs is a separate program 
that the user must download independently of axiom.  Why not come out 
and say it, instead of assuming the user will infer that from the 
discussion or be sufficiently knowledgeable of the open source world to 
understand how the pieces interact with each other?

Ok - so now I realize I have to get texMacs. Not a big deal. Being 
intimidated by the installation process for cygwin, I opted for the beta 
version of the native windows release. It seems pretty nice, so I want 
to get started using axiom. I open the tutorial in the axiom package ( 
hard to read on screen using acrobat reader) which tells me that to open 
an Axiom session you click on the "Text" menu in TexMacs, and then 
Session - Axiom.  This is an error. It should be the "Insert" menu. It 
is a little discouraging when you have trouble  getting started.

I tried some of the CAS stuff, and it worked nicely - lovely looking 
output. I'm not sure the strong typing is something that beginning 
students can handle, but that is an educational issue. Continuing with 
the tutorial, I wanted to use the Axiom browser. The tutorial says to 
click on the button in texmacs that says "Axiom Browser", but there 
isn't any such button, nor any item in any menu that seems to address 
that option. Maybe the beta verison of texmacs for windows is deficient 
- any clues?

I then tried to do some simple graphics. I had to look in the Axiom book 
to find the basic commands. The tutorial only discussed graphics in the 
context of plotting solutions of ODEs. I think it could use a brief 
chapter on elementary graphics. The Axiom book was fine in that regard. 
So I tried
draw(x^2, x=-2..2) and draw(sin(x), x=0..6), but after compiling the 
expressions, and reporting that the data was being sent to the viewport 
manager, both the texmacs interface and the native axiom command window 
reported the following error messages:

system error: SOCK-SEND-INT is invalid as a function
protected-symbol- warn called with <NIL>

Can you clarify what's going on and if possible put me back on the road 
to wisdom?. BTW I am using Win-XP, professional, if that is of any 
importance.

\start
Date: Fri, 7 Jan 2005 12:46:32 -0500
From: Bill Page
To: Tim Daly
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

What is your opinion about the most recent --windows
(patch-11) changes to the src/algebra/Makefile.pamphlet?

I tried to address some of your concerns about the use of the
awk script to generate the explicit pamphlet rules by using the
noweb literate programming concepts to keep logically related
things together. And I also added some more documentation along
the lines that you suggested.

Do you agree that we can use these sort of implicit and
generated stanza's in the axiom--main--1 'make' files?

> -----Original Message-----

> I see you've been busy with the --windows branch. I'm starting to
> merge the windows changes into --main so we can get them out as
> part of the february release. 

\start
Date: Fri, 7 Jan 2005 13:50:55 -0500
From: Tim Daly
To: Edward Grossman
Subject: Re: axiom for windows

The axiom version that exists on windows is still in alpha form and
is somewhat behind the linux version. Some of your difficulties are
due to this and some are just things we need to fix and document.
In particular,

> I have had some difficulties with getting the program working properly, 
> which may or may not be attributable to me. Here are some issues that I 
> encountered. Some reflect my own stupidity, but I think in general the 
> information on Open Source software tends to be written with a certain 
> user in mind - who is very much not typical of people who use windows as 
> their exclusive OS.

We're trying to address this issue with documentation. We have split
the book up into 4 volumes (tutorial, programming, reference, developer)
in order to focus the information for the target audience. The new book
volumes are still in development and should address this issue.

Once we get the documentation stable we can publish it. We have found
a "print on demand" website (lulu.com) which will allow people to order
hard copies of the documentation so people do not have to work from the
online versions. Of course, the online versions will still be there.

We're also experimenting with "installer" programs. I'm not sure when
you got the windows version but there have been a couple iterations
at improving the installer scripts so they work smoothly. Any feedback
you have is most helpful.

> 
> To begin:
> 
> I downloaded the current windows version of axiom. The one clearly 
> highlighted as "recommended." Although TexMacs is mentioned 
> prominently,  nowhere does it state that TexMacs is a separate program 
> that the user must download independently of axiom.  Why not come out 
> and say it, instead of assuming the user will infer that from the 
> discussion or be sufficiently knowledgeable of the open source world to 
> understand how the pieces interact with each other?

Ah, well, that's actually been a point of discussion. I'm in favor of
packaging TeXmacs with the install script but the developers are not
all of the same mindset about this. I've forwarded this comment to 
the developers list and we'll address it with documentation and
possibly combining TeXmacs into the install.

> Ok - so now I realize I have to get texMacs. Not a big deal. Being 
> intimidated by the installation process for cygwin, I opted for the beta 
> version of the native windows release. It seems pretty nice, so I want 
> to get started using axiom. I open the tutorial in the axiom package ( 
> hard to read on screen using acrobat reader) which tells me that to open 
> an Axiom session you click on the "Text" menu in TexMacs, and then 
> Session - Axiom.  This is an error. It should be the "Insert" menu. It 
> is a little discouraging when you have trouble  getting started.

This is just a mistake which we'll correct. I understand that it is
discouraging to have trouble getting started but it's very hard to
know where the tripwires are for new users. I'm nearly blind to these
kind of things because I'm too involved in the process to see them.

> I tried some of the CAS stuff, and it worked nicely - lovely looking 
> output. I'm not sure the strong typing is something that beginning 
> students can handle, but that is an educational issue.                
 
Yes, it's certainly a difference between axiom and the other systems
like maple and mathematica. Axiom is much more tailored to the 
computational mathematician. Maple and Mathematica are "engineering"
systems. The downside is that Axiom's type system does make learning
the system harder. The upside is that Axiom is better both in terms
of its mathematical structure and its programming structure. In the
long term Axiom is where all of these system need to go.

In terms of student use Gilbert has defined a project to simplify
the use of Axiom considerably (the so-called "zero learning curve"
interface) which we are just beginning to work on. It is in the
axiom--zlc--1 branch and is nowhere near ready to use. Myself and
two graduate students in CAISS are working on it.
 
>                                                        Continuing with 
> the tutorial, I wanted to use the Axiom browser. The tutorial says to 
> click on the button in texmacs that says "Axiom Browser", but there 
> isn't any such button, nor any item in any menu that seems to address 
> that option. Maybe the beta verison of texmacs for windows is deficient 
> - any clues?
> 
> I then tried to do some simple graphics. I had to look in the Axiom book 
> to find the basic commands. The tutorial only discussed graphics in the 
> context of plotting solutions of ODEs. I think it could use a brief 
> chapter on elementary graphics. The Axiom book was fine in that regard. 
> So I tried
> draw(x^2, x=-2..2) and draw(sin(x), x=0..6), but after compiling the 
> expressions, and reporting that the data was being sent to the viewport 
> manager, both the texmacs interface and the native axiom command window 
> reported the following error messages:
> 
> system error: SOCK-SEND-INT is invalid as a function
> protected-symbol- warn called with <NIL>
> 
> Can you clarify what's going on and if possible put me back on the road 
> to wisdom?. BTW I am using Win-XP, professional, if that is of any 
> importance.

I can clarify what's going on but it isn't on the path to wisdom :-)

The windows branch does not yet have the graphics or the browser ported.
Currently that code uses X11. We're looking at numerous ways to get that
code running in a more portable manner but it hasn't happened yet.

The February 2005 release of Axiom on Linux will have the full graphics
and browser (which just came to life over christmas vacation) available.

Gilbert is looking to develop a linear algebra course that uses the
browser technology with axiom as an experiment. That is also "in
process" and not yet ready to show.

\start
Date: Fri, 7 Jan 2005 13:17:09 -0500
From: Bill Page
To: Tim Daly
Subject: RE: user feedback

Is this anonymous user reading this list? If not, please
forward my comments below to them.

> On Friday, January 07, 2005 1:25 PM Tim Daly wrote:
> 
> I don't use TeXmacs so I'm not familiar with his issues here but
> we need to fix these...
>

Tim, where was this message posted? Was it a private message to
you? I did not receive a copy.
 
> ===============================================================
> 
> 
> I have had some difficulties with getting the program working 
> properly, which may or may not be attributable to me. Here are
> some issues that I encountered. Some reflect my own stupidity,
> but I think in general the information on Open Source software
> tends to be written with a certain user in mind - who is very
> much not typical of people who use windows as their exclusive OS.

I do not think any of the comments below reflect stupidity on
anyone's part! But the comments about Open Source versus windows
users is VERY true. Unfortunately I don't think there is very
much that we can do about that. What happens in Open Source is
open (and almost completely unfunded) by definition this is very
different than the expectations created by the developers of
windows.

> 
> To begin:
> 
> I downloaded the current windows version of axiom. The one
> clearly highlighted as "recommended." Although TexMacs is
> mentioned prominently,  nowhere does it state that TexMacs
> is a separate program that the user must download independently
> of axiom.

TeXmacs is not part of Axiom. Is that not clear on the web
page?

> Why not come out and say it, instead of assuming the user will
> infer that from the discussion or be sufficiently knowledgeable
> of the open source world to understand how the pieces interact
> with each other?

I would be very pleased to receive suggested changes to the text
of the web page. In fact, the web page is fully editable right
now online. This is very Open Software. Anyone in the world who
is inclined to can make whatever improvements to these web pages
they wish. I just wish someone, somewhere (besides Martin, of
course :) would take this seriously!

> 
> Ok - so now I realize I have to get texMacs. Not a big deal.

You do not have to get TeXmacs. You can use Axiom quite
comfortably without TeXmacs at all. TeXmacs just adds the
"mathematical document" front-end in which to write a
document and have Axiom commands executed automatically
with the output appearing nicely formatted in your document.

> Being intimidated by the installation process for cygwin,
> I opted for the beta version of the native windows release.

Good. I think the native windows version of TeXmacs is faster
and more convenient than TeXmacs under cygwin - unless you
already use cygwin for other reasons.

> It seems pretty nice, so I want to get started using axiom.
> I open the tutorial in the axiom package (hard to read on
> screen using acrobat reader)

If you upgrade to Acrobat 6.0 reader I think you will find
it much easier to read. The problem is with the choice of
fonts which were not properly "aliased" in previous versions
of Acrobat.

> which tells me that to open an Axiom session you click on the
> "Text" menu in TexMacs, and then Session - Axiom.  This is an
> error. It should be the "Insert" menu.

Yes. I think that is relevant to an earlier version of TeXmacs.

> It is a little discouraging when you have trouble getting
> started.

You are right. I will try to find some time (real soon now)
to update this tutorial. Anyone else out there interested
in do the job?

> 
> I tried some of the CAS stuff, and it worked nicely - lovely
> looking output.

Great!

> I'm not sure the strong typing is something that beginning 
> students can handle, but that is an educational issue.

I agree. But it is certainly one of the first things that
one sees that makes Axiom different than any other computer
algebra system that a student is likely to see.

> Continuing with the tutorial, I wanted to use the Axiom browser.
> The tutorial says to click on the button in texmacs that says
> "Axiom Browser", but there isn't any such button, nor any item
> in any menu that seems to address that option.

I am sorry that I did not check this. I did the initial work on
the tutorial almost two years ago so my memory is a bit rusty
but I think that this was something that needs to be configured
in Axiom. I will check.

In any case. The full Axiom Browser (hyperdoc) is not yet
available under Windows. So far Tim Daly only have an initial
experimental version of this running under linux. Something
will be done to support something like hyperdoc under Windows
but this is a hard problem with no resolution that we have
decided on yet.

> Maybe the beta version of texmacs for windows is deficient 
> - any clues?
> 

I will have to do some more testing. I will let you know
later.

> I then tried to do some simple graphics. I had to look in the 
> Axiom book to find the basic commands. The tutorial only
> discussed graphics in the context of plotting solutions of
> ODEs. I think it could use a brief chapter on elementary graphics.
> The Axiom book was fine in that regard. 
> So I tried draw(x^2, x=-2..2) and draw(sin(x), x=0..6), but
> after compiling the expressions, and reporting that the data
> was being sent to the viewport manager, both the texmacs
> interface and the native axiom command window reported the
> following error messages:
> 
> system error: SOCK-SEND-INT is invalid as a function
> protected-symbol- warn called with <NIL>
> 
> Can you clarify what's going on and if possible put me back 
> on the road to wisdom?.

Unfortunately graphics is not yet available on the Windows
version of Axiom. Both graphics and hyperdoc depend on some
graphical libraries (X-windows based) that are not available
under windows. Programs like viewport manager will have to
be re-written to interface with a Windows compatible graphics
library. This is a complex job that is going to take some
time.

> BTW I am using Win-XP, professional, if that is of any 
> importance.
> 

So far I have tested the Windows version of Axiom under
Windows 98, Windows 2000, and Windows XP. It seems to
work well on each of these.

Again, I would be very pleased if Axiom windows users would
take the time to provide some direct feedback through the
email lists or via the MathAction website.

http://page.axiom-developer.org

And it would be even better if they were to update the available
online material if/when they gain a better understanding. This
will help other windows users. That is what Open Source is all
about!

\start
Date: Fri, 07 Jan 2005 13:38:53 -0500
From: Eugene Surowitz
To: list
Subject: TeX for TeXmacs for Axiom

The comments about TeXmacs drew my attention.

Somewhere in the on the TeXmacs site or in documentation
I recall seeing something about requiring TeX to be installed.
In an of itself this is not surprising or a problem;
but...

Are all TeX's equal?
I'm currently using PCTeX which is a commercial product.
With release 5.0, PCTeX has adopted Microsoft style activation protocols.
Also the executable has probably been modified to take these into account.

If TeXmacs needs TeX, then it may be that they (TeXmacs) or us (Axiom)
needs to provide user/installers a heads-up for the MS Windows case.

\start
Date: Fri, 7 Jan 2005 14:24:58 -0500
From: Tim Daly
To: Eugene Surowitz
Subject: Re: TeX for TeXmacs for Axiom

I'm unfamiliar with either PCTeX or "style activation protocols".
Perhaps you could write up a couple paragraphs that we could add
to the documentation about this. I'm unable to do it as I don't
have the tools or environment.

\start
Date: Fri, 7 Jan 2005 16:05:19 -0500
From: Bill Page
To: Eugene Surowitz
Subject: RE: TeX for TeXmacs for Axiom

TeX is not required for the TeXmacs for Windows version.
It has many TeX fonts already built-in. But to get a
larger set of fonts, you can optionally also install TeX.
I have not tried PCTeX but I know tha installing MikTeX
works. I think that as long as the TeX fonts are in the
standard location, then TeXmacs will use them.

Regards,
Bill Page.

> -----Original Message-----
> From: 
> axiom-developer-bounces+bill.page1=sympatico.ca@nongnu.org 
> .org] On Behalf Of Eugene Surowitz
> Sent: Friday, January 07, 2005 1:39 PM
> To: list
> Subject: TeX for TeXmacs for Axiom
> 
> 
> The comments about TeXmacs drew my attention.
> 
> Somewhere in the on the TeXmacs site or in documentation
> I recall seeing something about requiring TeX to be installed.
> In an of itself this is not surprising or a problem;
> but...
> 
> Are all TeX's equal?
> I'm currently using PCTeX which is a commercial product.
> With release 5.0, PCTeX has adopted Microsoft style 
> activation protocols.
> Also the executable has probably been modified to take these 
> into account.
> 
> If TeXmacs needs TeX, then it may be that they (TeXmacs)
> or us (Axiom) needs to provide user/installers a heads-up
> for the MS Windows case.

\start
Date: Fri, 7 Jan 2005 16:02:02 -0500
From: Bill Page
To: Tim Daly, Stephen Wilson
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

Well we still have the problem. I have updated the database
files (which probably needed updating anyway), but the
result of the fixedPoint iteration is the same. The same
file differences still appear in the *.lsp files on the
first iteration.

Ideas?

Regards,
Bill Page.

On Friday, January 07, 2005 10:48 AM I wrote:
> ... following the successful completion
> of fixedPoint with consistent .lsp after the 2nd iteration,
> I have copied the five database files:
> 
>   browse.daase, category.daase, compress.daase, interp.daase and
>   operation.daase
> 
> from the ${MNT}/${SYS}/algebra directory over to the
> src/share/algebra directory.
> 
> There where differences in 4 of these files (the new files are
> a little larger).
> 
> Now I am re-running the fixedPoint to see if the differences
> disappear. I will let you know in a few hours.

\start
Date: Fri, 7 Jan 2005 12:26:43 -0800 (PST)
From: Cliff Yapp
To: Tim Daly, Edward Grossman
Subject: re: axiom for windows

--- Tim Daly wrote:

> > To begin:
> > 
> > I downloaded the current windows version of axiom. The one clearly 
> > highlighted as "recommended." Although TexMacs is mentioned 
> > prominently,  nowhere does it state that TexMacs is a separate
> > program  that the user must download independently of axiom.  Why 
> > not come out and say it, instead of assuming the user will infer 
> > that from the discussion or be sufficiently knowledgeable of the 
> > open source world to understand how the pieces interact with each 
> > other?
> 
> Ah, well, that's actually been a point of discussion. I'm in favor of
> packaging TeXmacs with the install script but the developers are not
> all of the same mindset about this. I've forwarded this comment to 
> the developers list and we'll address it with documentation and
> possibly combining TeXmacs into the install.

I'm still not quite sure why we can't have our cake and eat it to on
this - provide a non-TeXmacs installer for people who don't need it,
prefer to install their own TeXmacs, or think it's too big, and provide
a larger "kitchen sink" installer for the more typical user.  If I
understand correctly, the final exe install files can be hosted just on
the savannah servers, correct Tim?  Pounding your server to fine power
is definitely NOT one of the goals ;-).

> > I tried some of the CAS stuff, and it worked nicely - lovely
> > looking output. I'm not sure the strong typing is something that 
> > beginning students can handle, but that is an educational 
> > issue.              
>  
> Yes, it's certainly a difference between axiom and the other systems
> like maple and mathematica. Axiom is much more tailored to the 
> computational mathematician. Maple and Mathematica are "engineering"
> systems. The downside is that Axiom's type system does make learning
> the system harder. The upside is that Axiom is better both in terms
> of its mathematical structure and its programming structure. In the
> long term Axiom is where all of these system need to go.

Or, looking at it another way, Axiom is where users of other systems go
when they need the next level ;-).

If I may suggest this on the Axiom list, for now you might want to
start your students on Maxima or perhaps Yacas if you want a more
gentle introduction to CAS, and then move them to Axiom for more
advanced mathematical topics (maybe in upper level courses).  This has
two advantages (or I seem them as that, anyway). The first and biggest
is that your students don't get locked into one tool.  I've lost count
of the number of times I've seen students freeze up at something as
simple as a Mac interface, if they've never seen it before.  I feel
that any time computer systems are going to be used in an educational
setting, it is important to expose the student (eventually anyway) to
more than one tool and make sure they learn how to learn new programs,
because they'll likely be much better off in the future if they are
flexible about such thinks.  Second, introductory students aren't
scared off right away ;-). 

If you are an educator you doubtless have your own ideas or practical
limitations on such issues, and I'm sure others on the list will have
their ideas too (the zlc project might make this advice moot, except
for the part about exposing students to different tools).  Just thought
I'd add my two cents.

> In terms of student use Gilbert has defined a project to simplify
> the use of Axiom considerably (the so-called "zero learning curve"
> interface) which we are just beginning to work on. It is in the
> axiom--zlc--1 branch and is nowhere near ready to use. Myself and
> two graduate students in CAISS are working on it.

I've been curious about this Tim - I would have said Axiom's most
newbie-intimidating features (like being strongly typed) would be
pretty hard to hide.  Is there a discussion somewhere of how zlc
intends to achieve this?

> I can clarify what's going on but it isn't on the path to wisdom :-)
> 
> The windows branch does not yet have the graphics or the browser
> ported. Currently that code uses X11. We're looking at numerous 
> ways to get that code running in a more portable manner but it 
> hasn't happened yet.

I'm learning not to underestimate Tim, but based on other examples of
this kind of thing it may be a while.  Getting unix programs working on
Windows is always a little like riding a dune buggy - sheer excitement
with lots of hard bumps.  In the case of graphics, there are also a few
sheer walls which need climbing.

As a temporary measure, you might investigate the new Windows release
of gnuplot.  It's not integrated with Axiom, but it can generate decent
graphs from formulas.

> The February 2005 release of Axiom on Linux will have the full
> graphics and browser (which just came to life over christmas 
> cation) available.
> 
> Gilbert is looking to develop a linear algebra course that uses the
> browser technology with axiom as an experiment. That is also "in
> process" and not yet ready to show.

Cool.  An online course or a live one?

\start
Date: Fri, 7 Jan 2005 17:58:39 -0500
From: Tim Daly
To: Bill Page
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

Are any of the "different" files in the bootstrap list?
Perhaps one of the BOOTSTRAP lisp stanzas is outdated?
If this were so then the recompile might propagate changes.

\start
Date: Fri, 7 Jan 2005 16:59:42 -0500
From: Bill Page
To: Tim Daly
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

Although technically it probably doesn't matter, but as
far as I can tell from the email archives, the version
of the databases that we have been using on Savannah was
actually supplied by Jergen Weiss after he was the first
to successfully build the full set of Axiom spad files under
GCL in about August 2003.. The problem with compiling some
of the spad files up until that point was apparently that
the database files from the NAG version that you had been
using were somehow incompatible with GCL. I think Jergen
actually obtained the original database files that he used
to bootstrap GCL from some other version of Axiom (based on
a different lisp, CMCL?). He was then able to build a new
set of databases directly using the GCL version of AXIOM.
In about September 2003 on your request I uploaded these
database files to the Savannah CVS. As far as I know, these
are still the same ones we are using today unless you replaced
them again at some point. The minor differences that I saw
between the most recently built database files and the ones
that Jergen built was probably due to one or two addition
spad files that were missing from Jergen's build.

In any case, this does not seem to be the reason for the
"propagation" of changes in the *.lsp files.

Regards,
Bill Page.

> -----Original Message-----
> 
> Note that the original databases are the NAG versions and the actual
> algebra code has been improved since that time. Modifying the algebra
> will change the domain vectors. These vectors contain hard-coded
> indexes. So, for instance, PLEQN is new since NAG's version so the
> domains which use it will have different index values. The database
> build is done after the algebra is compiled and should reflect the
> actual algebra whereas the original databases may not.

\start
Date: Fri, 7 Jan 2005 17:59:22 -0500
From: Tim Daly
To: Bill Page
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

Please send me a diff of a file that is changed and I'll look at it.
I may flash on what the problem is.

\start
Date: Fri, 7 Jan 2005 14:29:09 -0800
From: Bob McElrath
To: Bill Page
Subject: Re: user feedback

Bill Page [Bill Page] wrote:
> I would be very pleased to receive suggested changes to the text
> of the web page. In fact, the web page is fully editable right
> now online. This is very Open Software. Anyone in the world who
> is inclined to can make whatever improvements to these web pages
> they wish. I just wish someone, somewhere (besides Martin, of
> course :) would take this seriously!

I have been thinking lately to add a note in the header of my wiki which
says something along the lines of "You can edit this web page.  If you
find an error or have something to, please contribute!"

This is a bit tricky on the wiki (oooh a rhyme) but if you want I can
point out how to do this.

I'll make contributions soon enough.  ;)  LatexWiki 0.37 will probably
come out tonight, then I have to merge my newstx work and release that
(probably in 0.38 -- Feb 1), and then, hopefully, I can concentrate on
axiom or adding pamphlet support.

\start
Date: Fri, 7 Jan 2005 23:54:44 -0500
From: Tim Daly
To: Bill Page
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

The lisp code in the BOOTSTRAP files (for the most part)
has been pretty-printed. Since the NRLIB .lsp files are
not normally read by humans they are not pretty-printed.

In some cases the BOOTSTRAP code has been hand-formatted.
The intention was that it would correctly tex and fit on
the page. 

Both of these reasons will keep you from diffing the file.
You'd need to use a lisp routine to (prettyprint (read them
before diffing.

I did receive your email that contained the differences
but since all of my email comes into an emacs RMAIL buffer
it generally looks like:

H4sICF5L3kEAA2ZpeGVkUG9pbnQubG9nAOw9a1fbyJKfN79CY/iAJ8ON3rLC7LlDwBDvEENsk9m7
X+4RtgCfGJsryyScox+/VdUtqVtqCRnIa+IcAnp0V1VXVddLrdb+5+niRjuafg4n2tliOo+1N6vp
bPLi119/7cVhFMTTxRyONePF7u6uBvdfBbOr8CIKXr3p9Y96J91/zJa3/zW6Xmn/E8w1zdVM8zX8
OI5m6rrz4uXLl8pO/cFJ782r8WISlvpbr3X/tWWy/n/8oe0a1m+e9pJ+//HHC+2FtnPYPTrvawkH
....

that is, base64. I have to decode it by hand to see what it is and I failed
to do that.


re: propagation

When you write out a domain in Axiom it contains a large vector which
describes all of the domain. Some of those vector elements are functions
and some are variables in the domain.

When you use a function from domain A in domain B the domain vector for
B will contain an index into the domain vector for A to get at the 
function. So if you inspect the domain vector for B you'll see hard-coded
integers which are indexes into the domain vector for A.

If A changes then the domain vector will be reshaped and the slot index
for functions will get renumbered. If B depends on A then it will get
recompiled and have a new slot number. 

So changes to A don't propagate quite the way I think you mean.
What you will find is that a bunch of magic integers have changed.

\start
Date: Fri, 7 Jan 2005 22:50:43 -0500
From: Bill Page
To: Tim Daly
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

No, NONE of the files with changes in the lisp code on the 1st
iteration are on the bootstrap list. Here's the list:

> --- int/algebra/BINFILE.lsp     Thu Jan  6 22:22:55 2005
> +++ int/algebra/BINFILE.NRLIB/code.lsp  Thu Jan  6 23:09:32 2005
> --- int/algebra/D01AGNT.lsp     Thu Jan  6 22:22:57 2005
> +++ int/algebra/D01AGNT.NRLIB/code.lsp  Fri Jan  7 00:23:04 2005
> --- int/algebra/FC.lsp  Thu Jan  6 22:23:00 2005
> +++ int/algebra/FC.NRLIB/code.lsp       Thu Jan  6 23:59:50 2005
> --- int/algebra/FFCGP.lsp       Thu Jan  6 22:23:01 2005
> +++ int/algebra/FFCGP.NRLIB/code.lsp    Thu Jan  6 23:39:00 2005
> --- int/algebra/FORTRAN.lsp     Thu Jan  6 22:23:02 2005
> +++ int/algebra/FORTRAN.NRLIB/code.lsp  Fri Jan  7 00:00:23 2005
> --- int/algebra/INBFF.lsp       Thu Jan  6 22:23:04 2005
> +++ int/algebra/INBFF.NRLIB/code.lsp    Fri Jan  7 00:23:21 2005
> --- int/algebra/OMENC.lsp       Thu Jan  6 22:23:10 2005
> +++ int/algebra/OMENC.NRLIB/code.lsp    Thu Jan  6 22:49:46 2005
> --- int/algebra/PATTERN.lsp     Thu Jan  6 22:23:11 2005
> +++ int/algebra/PATTERN.NRLIB/code.lsp  Thu Jan  6 23:45:01 2005
> --- int/algebra/PRIMELT.lsp     Thu Jan  6 22:23:13 2005
> +++ int/algebra/PRIMELT.NRLIB/code.lsp  Thu Jan  6 23:45:25 2005
> --- int/algebra/RECLOS.lsp      Thu Jan  6 22:23:14 2005
> +++ int/algebra/RECLOS.NRLIB/code.lsp   Thu Jan  6 23:45:39 2005
> --- int/algebra/ROIRC.lsp       Thu Jan  6 22:23:14 2005
> +++ int/algebra/ROIRC.NRLIB/code.lsp    Thu Jan  6 23:28:06 2005
> 

There are subtle semantic differences (not formatting differences)
in all of the above files.

But yes ALL of the original bootstrap .lsp files from the
pamphlet files *are* outdated in the sense that they appear to
have been produced by a very different version of Axiom (or
maybe even hand-compiled in some cases?). The lisp code produced
by AXIOM from the spad files corresponding to the bootstrap
files (which is done as the last step in the Algebra build) is
formatted very differently than the original bootstrap lisp code.
A diff of the original bootstrap files shows them as entirely
different although a quick inspection shows that the semantic
content is at least VERY SIMILAR to what Axiom produces for
these files.

In my fixedPoint script, I do not bother to show the initial
differences of the bootstrap files after only the first build -
they are all different (different variable names, pretty
printing etc.) Only a hand-analysis could determine how different
they really are. And of course at this first step it is not
possible to compare any of the non-bootstrap files because we
do not have any lisp files other than those for the bootstrap.

What I do show in the fixedPoint.log file is the result AFTER
first replacing the bootstrap lisp files with the newly generated
lisp for ALL of the SPAD files and then running the make a 2nd
time (I called this the 1st iteration). This is where I find
differences in the generated lisp code in the 2nd pass compared
the lisp code from the first pass. None of these differences
are in the original bootstrap files. In this comparison the none
of the original bootstrap code is still present. It had all been
replaced with newly generated code in the previous step and did
not change in the 2nd step. However other files (non-bootstrap
files) did change. This is why I say that the differences in the
original bootstrap files seem to have "propagated along the
dependencies" to some of the files that directly depend on the
bootstrap files. This is what really had me worried.

In spite of the fact that the original bootstrap files are out
of date, I did (more or less) expect from your description of
the process that on the 2nd pass with all newly generated lisp
files, that the next generation of lisp files would not change,
but they do. On the 3rd pass, finally all of the lisp files
match with the lisp files from the 2nd pass. (I called this the
"fixed point" since no further change can take place after that.)

If I were to replace all of the bootstrap lisp code in the
current pamphlet files with the newly generated lisp code then
it seems likely (unless I am missing something rather basic)
that the build should immediately converge to the fixed point
on the first pass. This is, of course what we should do in the
SHORT TERM. But the longer term question for me is: Do changes
in the spad files really propagate like this from one file to
the next in the dependency chain? If the answer is yes, then
this means that every time we make a change in ANY of the
algebra spad files (not just the spad files that have bootstrap
lisp code), then we will have to run the fixedPoint script in
order to make sure that we have new bootstrap lisp code that
is consistent with the spad code (the system of spad and lisp
files must "converge"). We need to do this because the dependencies
are really cyclic - they really do loop back on themselves. So
changes deeper down in the "lattice" (not really a lattice) can
potentially propagate back around to the bootstrap lisp code.

--------

I am sorry that this email had become so long. I am trying
hard to make sure that my reasoning here is clear to everyone.

Regards,
Bill Page.


> -----Original Message-----
> 
> Are any of the "different" files in the bootstrap list?
> Perhaps one of the BOOTSTRAP lisp stanzas is outdated?
> If this were so then the recompile might propagate changes.

\start
Date: Sat, 8 Jan 2005 11:14:30 +0100
From: Martin Rubey
To: list
Subject: February Release

I'd like to apologize, since I promised some things to be ready for February,
but I probably won't make it. Baby II is arriving and its end of term, all at
once :-)

\start
Date: Sat, 8 Jan 2005 12:34:08 +0200
From: Vladimir Bondarenko
To: list
Subject: AXIOM bug list / available resources?

Hello all,

Development of a thrilling, top-quality AXIOM version which the
users will trust to and use extensively with much joy, seems to
be impossible without a solid, well organized bug fixing activity.

At http://savannah.nongnu.org/bugs/?group=axiom one can see bug
reports #4551 ... #11370.

1) What do these numbers mean? An ID of a unconfirmed bug report?
   Anything else?

2) Is it possible to access all such records, not only the few
   selected dozens given at the link above?

3) Even if #4551... #11370 are numbers of unconfirmed bugs,
   is it possible to access all such records?

4) Where to find the most recent copies of AXIOM bug-holding
   files like old fixed.input, r2-0abug.input, test.input,
   r21bugs.input etc?

\start
Date: Sat, 8 Jan 2005 06:52:20 -0500
From: Stephen Wilson
To: Bill Page
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

I have built first-iteration and second-iteration axioms. An identical
fixedPoint.log was produced. I have been examining the domain
vectors, trying to find some clues. 


I failed to spot a difference in two domains; BINFILE in files.spad,
and PRIMELT in primelt.spad. Indeed, for PRIMELT note that:

==============================================================================
(1) -> )lisp (setq |$DALYMODE| t)

Value = T
(1) -> (trace |eval|)

Value = (|eval|)
(1) -> PF   ==> PrimeField 5
                                                                   Type: Void
(2) -> VPF  ==> Vector PF
                                                                   Type: Void
(3) -> vec : VPF := [0, 1, 2, 3, 4]

   (3)  [0,1,2,3,4]
                                                    Type: Vector PrimeField 5
(4) -> inv(vec)$INBFF(PF)    

  1> (|eval| (|InnerNormalBasisFieldFunctions| (|PrimeField| 5)))
  <1 (|eval| #<vector 08df6888>)
  1> (|eval| #<vector 08df6888>)
  <1 (|eval| #<vector 08df6888>)
  1> (|eval| (SPADCALL (QUOTE #<vector 08db9428>) 
       (QUOTE (#<compiled-function |INBFF;inv;2V;1|> . #<vector 08df6888>))))
 
   >> Error detected within library code:
   index out of range

protected-symbol-warn called with (NIL)
==============================================================================

This happens in both builds. Im assuming at the moment the domain
vector is being indexed improperly (as opposed to the `vec'
argument). I'll look into this further. I have not tested BINFILE to
see if a similar problem is occurring there is well. 


I have attached the notes I have made while examining the domain
vectors. They show what commands I used to get the domain vectors,
followed by a snip of the vectors where I noticed a difference.

I have yet to trace FORTRAN, fortran.spad.

Generally, the domain vectors below are changing w.r.t dependencies on
SingleInteger, or Integer. I feel that looking at the build w.r.t
these two domains would be a good direction for future investigations.

Sorry this message is so terse, but I am in a bit of rush at the
moment. I'll be able to reenter this issue later today.


Sincerely,
Steve


[ notes ]


files.spad, BINFILE identical
primelt.spad, PRIMELT identical


-------------------------------------------------------------------
--- First iteration, pattern.spad, PATTERN

(1) -> (pspadvec (|evalDomain| '(|Pattern| (|PrimeField| 5))))
...
30: (Union 56 (QUOTE failed))
31: (#<compiled-function PATTERN;isPlus;$U;10> . #<vector 09089f50>)
32: (SingleInteger)
33: (newGoGet #<vector 09089f50> 14 . coerce)
34: (#<compiled-function PATTERN;isTimes;$U;11> . #<vector 09089f50>)
35: (#<compiled-function PATTERN;isList;$U;12> . #<vector 09089f50>)
...

-------------------------------------------------------------------
--- Second iteration, pattern.spad, PATTERN

(1) -> (pspadvec (|evalDomain| '(|Pattern| (|PrimeField| 5))))
...
30: (Union 54 (QUOTE failed))
31: (#<compiled-function PATTERN;isPlus;$U;10> . #<vector 08fa201c>)
32: (#<compiled-function PATTERN;isTimes;$U;11> . #<vector 08fa201c>)
33: (#<compiled-function PATTERN;isList;$U;12> . #<vector 08fa201c>)
34: (Record (: val $) (: exponent 26))
35: (Union 34 (QUOTE failed))
...



-------------------------------------------------------------------
--- First iteration, d01agents.spad, D01AGNT

(1) -> (pspadvec (|evalDomain| '(|d01AgentsPackage|)))
...
59: (#<compiled-function LIMITPS;limit;FEEU;24> . #<vector 090337a8>)
60: (#<compiled-function ORDCOMP;finite?;$B;3> . #<vector 08f2d6e4>)
61: (SingleInteger)
62: (newGoGet #<vector 08ec2f88> 117 . coerce)
63: (#<compiled-function SEG;hi;$S;4> . #<vector 08e96c78>)
64: (newGoGet #<vector 08ec2f88> 127 . whatInfinity)
...

-------------------------------------------------------------------
--- Second iteration, d01agents.spad, D01AGNT

(1) -> (pspadvec (|evalDomain| '(|d01AgentsPackage|)))
...
59: (#<compiled-function LIMITPS;limit;FEEU;24> . #<vector 09008e00>)
60: (#<compiled-function ORDCOMP;finite?;$B;3> . #<vector 08efb94c>)
61: (#<compiled-function SEG;hi;$S;4> . #<vector 08ca0c40>)
62: (SingleInteger)
63: (newGoGet #<vector 08b85834> 122 . whatInfinity)
64: (#<compiled-function SEG;lo;$S;2> . #<vector 08ca0c40>)



-------------------------------------------------------------------
--- First Iteration, fortran.spad, FC

(1) -> (pspadvec (|evalDomain| '(|FortranCode|)) 1)
...
7: (Integer)
8: <vector> :
   0: (SingleInteger)
   1: (#<compiled-function lookupComplete> #<vector 08d60a80> #<vector 08d60b0c>)
   ...
   ...
9: (#<compiled-function SINT;coerce;I$;51> . #<vector 08d60a80>)
10: 25000
11: (#<compiled-function FC;setLabelValue;2Si;1> . #<vector 08d5ce38>)
12: (Polynomial 7)
13: (newGoGet #<vector 08d5ce38> 5 . One)
...

-------------------------------------------------------------------
--- Second Iteration, fortran.spad, FC

(1) -> (pspadvec (|evalDomain| '(|FortranCode|)))
...
7: 25000
8: (SingleInteger)
9: (#<compiled-function FC;setLabelValue;2Si;1> . #<vector 08ce9ab8>)
10: (Polynomial 13)
11: (newGoGet #<vector 08ce9ab8> 0 . One)
12: (String)
13: (Integer)
...



-------------------------------------------------------------------
--- First iteration, ffnb.spad, INBFF

(1) -> (pspadvec (|evalDomain| '(|InnerNormalBasisFieldFunctions| (|PrimeField| 5))) 1)
...
16: 1
17: (Integer)
18: <vector> :
   0: (SingleInteger)
   1: (#<compiled-function lookupComplete> #<vector 08d60a80> #<vector 08d60b0c>)
19: (#<compiled-function SINT;coerce;I$;51> . #<vector 08d60a80>)
20: (0 10 16 20 23 0 28 30 32 0 35)
21: (NIL (4 12 48 160 480 0) (8 72 432 0) (18 216 0) (32 480 0) NIL (72 0) (98 0) (128 0) NIL (200 0))
22: (Vector 6)
...

-------------------------------------------------------------------
--- Second iteration, ffnb.spad, INBFF

(1) -> (pspadvec (|evalDomain| '(|InnerNormalBasisFieldFunctions| (|PrimeField| 5))) 1)
...
16: 1
17: (0 10 16 20 23 0 28 30 32 0 35)
18: (NIL (4 12 48 160 480 0) (8 72 432 0) (18 216 0) (32 480 0) NIL (72 0) (98 0) (128 0) NIL (200 0))
19: (Integer)
20: <vector> :
   0: (SingleInteger)
   1: (#<compiled-function lookupComplete> #<vector 08ce96ac> #<vector 08ce9c94>)
21: (newGoGet #<vector 08e96b0c> 14 . coerce)
22: (Vector 6)
...



-------------------------------------------------------------------
--- First iteration, omdev.spad, OMENC

(1) -> (pspadvec (|evalDomain| '(|OpenMathEncoding|)))
...
7: (Boolean)
8: (#<compiled-function OMENC;=;2$B;1> . #<vector 08e1a594>)
9: (Integer)
10: (newGoGet #<vector 08e1a594> 0 . coerce)
11: (OutputForm)
12: (#<compiled-function OMENC;coerce;$Of;2> . #<vector 08e1a594>)
...

-------------------------------------------------------------------
--- Second iteration, omdev.spad, OMENC

(1) -> (pspadvec (|evalDomain| '(|OpenMathEncoding|)))
...
7: (Boolean)
8: (#<compiled-function OMENC;=;2$B;1> . #<vector 08e9ca48>)
9: (OutputForm)
10: (#<compiled-function OMENC;coerce;$Of;2> . #<vector 08e9ca48>)
11: (#<compiled-function OMENC;OMencodingUnknown;$;3> . #<vector 08e9ca48>)
12: (#<compiled-function OMENC;OMencodingBinary;$;4> . #<vector 08e9ca48>)
...



-------------------------------------------------------------------
--- First iteration, ffcg.spad, FFCGP
---
--- NOTE: vector element 147

(1) -> (pspadvec (|evalDomain| '(|FiniteFieldCyclicGroupExtensionByPolynomial| 
                                 (|PrimeField| 5) ((1 . 0)))))
...
12: 1
13: (#<compiled-function ZMOD;size;Nni;1> . #<vector 08e1a8f8>)
14: 5
15: (PositiveInteger)
16: (#<compiled-function SGROUP-;**;SPiS;1> . #<vector 08e72f34>)
17: NIL
...
...
144: (#<compiled-function FFCGP;/;$GF$;39> . #<vector 08e72fa4>)
145: (#<compiled-function FFCGP;inv;2$;40> . #<vector 08e72fa4>)
146: (#<compiled-function FFCGP;**;$I$;43> . #<vector 08e72fa4>)
147: (#<compiled-function FFCGP;**;$Pi$;41> . #<vector 08e72fa4>)  
148: (#<compiled-function FFCGP;**;$Nni$;42> . #<vector 08e72fa4>)
149: (Union 71 (QUOTE failed))
150: (Matrix $)
...

-------------------------------------------------------------------
--- Second iteration, ffcg.spad, FFCGP
---
--- NOTE: vector element 147 above is element 16 here.

(1) -> (pspadvec (|evalDomain| '(|FiniteFieldCyclicGroupExtensionByPolynomial| 
                                 (|PrimeField| 5) ((1 . 0)))))
...
12: 1
13: (#<compiled-function ZMOD;size;Nni;1> . #<vector 08e9cdac>)
14: 5
15: (PositiveInteger)
16: (#<compiled-function FFCGP;**;$Pi$;41> . #<vector 08e9c7fc>)
17: (#<compiled-function SGROUP-;**;SPiS;1> . #<vector 08e9c674>)
...
...
144: (newGoGet #<vector 08e9c7fc> 284 . /)
145: (#<compiled-function FFCGP;/;$GF$;39> . #<vector 08e9c7fc>)
146: (#<compiled-function FFCGP;inv;2$;40> . #<vector 08e9c7fc>)
147: (#<compiled-function FFCGP;**;$I$;43> . #<vector 08e9c7fc>)
148: (#<compiled-function FFCGP;**;$Nni$;42> . #<vector 08e9c7fc>)
149: (Union 72 (QUOTE failed))
150: (Matrix $)
...



-------------------------------------------------------------------
--- First iteration, reclos.spad, RECLOS

(1) -> (pspadvec (|evalDomain| '(|RealClosure| (|Fraction| (|Integer|)))))
...
88: (newGoGet #<vector 08e72b44> 184 . *)
89: (newGoGet #<vector 08e72b44> 190 . one?)
90: (Mapping $$ $$)
91: (newGoGet #<vector 08e72b44> 195 . map)
92: (#<compiled-function RECLOS;*;I2$;23> . #<vector 08e72b44>)
93: (newGoGet #<vector 08e72b44> 201 . *)
94: (newGoGet #<vector 08e72b44> 207 . zero?)
95: (newGoGet #<vector 08e72b44> 212 . one?)
...

-------------------------------------------------------------------
--- Second iteration, reclos.spad, RECLOS

(1) -> (pspadvec (|evalDomain| '(|RealClosure| (|Fraction| (|Integer|)))))
...
88: (newGoGet #<vector 08e9c2a0> 184 . *)
89: (Mapping $$ $$)
90: (newGoGet #<vector 08e9c2a0> 190 . map)
91: (#<compiled-function RECLOS;*;I2$;23> . #<vector 08e9c2a0>)
92: (newGoGet #<vector 08e9c2a0> 196 . *)
93: (newGoGet #<vector 08e9c2a0> 202 . zero?)
94: (newGoGet #<vector 08e9c2a0> 207 . one?)
95: (#<compiled-function RECLOS;*;TheField2$;24> . #<vector 08e9c2a0>)
...



-------------------------------------------------------------------
--- First iteration, reclos.spad, ROIRC

(1) -> (pspadvec (|evalDomain| '(|RightOpenIntervalRootCharacterization| 
                  (|PrimeField| 5) (|SparseUnivariatePolynomial| (|PrimeField| 5)))))
...
50: (newGoGet #<vector 08e72770> 140 . boundOfCauchy)
51: (newGoGet #<vector 08e72770> 145 . sturmVariationsOf)
52: (newGoGet #<vector 08e72770> 150 . one?)
53: (List 7)
54: (newGoGet #<vector 08e72770> 155 . sturmSequence)
55: (newGoGet #<vector 08e72770> 160 . unitCanonical)
...

-------------------------------------------------------------------
--- Second iteration, reclos.spad, ROIRC

(1) -> (pspadvec (|evalDomain| '(|RightOpenIntervalRootCharacterization| 
                  (|PrimeField| 5) (|SparseUnivariatePolynomial| (|PrimeField| 5)))))
...
50: (newGoGet #<vector 08e9cfc0> 140 . boundOfCauchy)
51: (newGoGet #<vector 08e9cfc0> 145 . sturmVariationsOf)
52: (List 7)
53: (newGoGet #<vector 08e9cfc0> 150 . sturmSequence)
54: (newGoGet #<vector 08e9cfc0> 155 . unitCanonical)
55: (newGoGet #<vector 08e9cfc0> 160 . numberOfMonomials)
...

\start
Date: Sat, 8 Jan 2005 07:22:27 -0500
From: Stephen Wilson
To: Bill Page
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

Sorry, Im not organized this morn'. The code I listed references
INBFF, in ffnb.spad (the domain vectors do differ in this case, but
the indexing issue still appears for me in both builds).

On Sat, Jan 08, 2005 at 06:52:20AM -0500, Stephen Wilson wrote:
> I failed to spot a difference in two domains; BINFILE in files.spad,
> and PRIMELT in primelt.spad. Indeed, for PRIMELT note that:
> 
> ==============================================================================
> (1) -> )lisp (setq |$DALYMODE| t)
> 
> Value = T
> (1) -> (trace |eval|)
> ...

\start
Date: Sat, 8 Jan 2005 11:11:27 -0500
From: Tim Daly
To: Martin Rubey
Subject: Re: February Release

There are certain things that can reasonably be prioritized above
working on Axiom :-) Congrats. Hope everything works out ok.

\start
Date: Sat, 08 Jan 2005 11:20:05 -0500
To: list
From: Kostas Oikonomou
Subject: Problem with patch 23 and Solaris 9 identified

I just discovered that the problem I reported a few days ago is caused by
the function "get-NAG-chapter" in "util.lisp".

Here is a test file "bug.lisp":

==========================
==========================
========================
(setq ch "c02")
(setq fl
  '("LOADNAG" "|c02aff|" "|c02agf|" "|c05adf|" "|c05nbf|" "|c05pbf|" "|c0=
6eaf|" "|c06ebf|" "|c06ecf|" "|c06ekf|" "|c06fpf|" "|c06fqf|" "|c06frf|" =
"|c06fuf|" "|c06gbf|" "|c06gcf|" "|c06gqf|" "|c06gsf|" "|d01ajf|" "|d01ak=
f|" "|d01alf|" "|d01amf|" "|d01anf|" "|d01apf|" "|d01aqf|" "|d01asf|" "|d=
01bbf|" "|d01fcf|" "|d01gaf|" "|d01gbf|" "|d02bbf|" "|d02bhf|" "|d02cjf|"=
 "|d02ejf|" "|d02gaf|" "|d02gbf|" "|d02kef|" "|d02raf|" "|d03edf|" "|d03e=
ef|" "|d03faf|" "|e01baf|" "|e01bef|" "|e01bff|" "|e01bgf|" "|e01bhf|" "|=
e01daf|" "|e01saf|" "|e01sbf|" "|e01sef|" "|e02adf|" "|e02aef|" "|e02agf|=
" "|e02ahf|" "|e02ajf|" "|e02akf|" "|e02baf|" "|e02bbf|" "|e02bcf|" "|e02=
bdf|" "|e02bef|" "|e02daf|" "|e02dcf|" "|e02ddf|" "|e02def|" "|e02dff|" "=
|e02gaf|" "|e02zaf|" "|e04dgf|" "|e04fdf|" "|e04gcf|" "|e04jaf|" "|e04mbf=
|" "|e04naf|" "|e04ucf|" "|e04ycf|" "|f01brf|" "|f01bsf|" "|f01maf|" "|f0=
1mcf|" "|f01qcf|" "|f01qdf|" "|f01qef|" "|f01rcf|" "|f01rdf|" "|f01ref|" =
"|f02aaf|" "|f02abf|" "|f02adf|" "|f02ae!
f|" 
"|f02aff|" "|f02agf|" "|f02ajf|" "|f02akf|" "|f02awf|" "|f02axf|" "|f02bb=
f|" "|f02bjf|" "|f02fjf|" "|f02wef|" "|f02xef|" "|f04adf|" "|f04arf|" "|f=
04asf|" "|f04atf|" "|f04axf|" "|f04faf|" "|f04jgf|" "|f04maf|" "|f04mbf|"=
 "|f04mcf|" "|f04qaf|" "|f07adf|" "|f07aef|" "|f07fdf|" "|f07fef|" "|s01e=
af|" "|s13aaf|" "|s13acf|" "|s13adf|" "|s14aaf|" "|s14abf|" "|s14baf|" "|=
s15adf|" "|s15aef|" "|s17acf|" "|s17adf|" "|s17aef|" "|s17aff|" "|s17agf|=
" "|s17ahf|" "|s17ajf|" "|s17akf|" "|s17dcf|" "|s17def|" "|s17dgf|" "|s17=
dhf|" "|s17dlf|" "|s18acf|" "|s18adf|" "|s18aef|" "|s18aff|" "|s18dcf|" "=
|s18def|" "|s19aaf|" "|s19abf|" "|s19acf|" "|s19adf|" "|s20acf|" "|s20adf=
|" "|s21baf|" "|s21bbf|" "|s21bcf|" "|s21bdf|")
)

(defun get-NAG-chapter (chapter function-list)
   (apply 'append
   (mapcar
    #'(lambda (f)
      (cond ((equalp chapter (subseq (string f) 0 (length chapter))) (lis=
t f ))))
    function-list)))

(si::use-fast-links nil)
(get-NAG-chapter ch fl)
==========================
==========================
========================


bash-2.05$ /home/build/axiom--main--1--patch-23/obj/sol9gcc/bin/lisp
> (load "bug.lisp")
Loading bug.lisp

Error:  Lisps arglist maximum surpassed
Error signalled by APPLY.
Broken at SYSTEM::BREAK-LEVEL.  Type :H for Help.
>> :q
Top level.
> (quit)
bash-2.05$

\start
Date: Sat, 8 Jan 2005 12:49:44 -0500
From: Tim Daly
To: Camm Maguire, Kostas Oikonomou
Subject: [Kostas Oikonomou: Problem with patch 23 and Solaris 9 identified]

Kostas has found a problem on the solaris 9 platform. The argument list
given has 154 items.

There used to be a similar problem in AKCL. Do you know what the
current arg limits are and whether they can be changed?

Kostas,


Try loading the function interpreted. There are two possible ways to
do this. Either start the image and load the file "util.lisp" (rather
than "util.o"). Or move the function into the file "nocompil.lisp"
which contains functions which are never compiled. 

As I recall, the interpreter can handle very long argument lists but
the compiler cannot.

\start
Date: Sat, 8 Jan 2005 18:28:52 +0100
From: Martin Rubey
To: Vladimir Bondarenko
Subject: Re: AXIOM bug list / available resources?

Vladimir Bondarenko writes:

 > At http://savannah.nongnu.org/bugs/?group=axiom one can see bug
 > reports #4551 ... #11370.
 > 
 > 1) What do these numbers mean? An ID of a unconfirmed bug report?
 >    Anything else?

The ID's are given by savannah. These are confirmed bugs, currently there are
no unconfirmed bugs, as far as I know.

We are testing a different bug reporting system, IssueTracker, on mathaction:

http://page.axiom-developer.org/zope/mathaction/FrontPage/issuetracker

There has not been a decision yet, but I have the feeling that IssueTracker
will make the race.

 > 2) Is it possible to access all such records, not only the few
 >    selected dozens given at the link above?

There are "only the few selected dozens". If you find a bug, please report it,
maybe first to axiom-developer, so that we can find out to what it boils down
to, then to savannah and IssueTracker (If you do report to both, please say so
in a comment: "also reported to IssueTracker".

 > 3) Even if #4551... #11370 are numbers of unconfirmed bugs,
 >    is it possible to access all such records?


Unfortunately

> Currently, Savane, the software that runs the web interface of Savannah, does
> not have the ability to export lists of bugs and patches.

See http://savannah.gnu.org/support/?func=detailitem&item_id=103708
 
 
 > 4) Where to find the most recent copies of AXIOM bug-holding files like old
 >    fixed.input, r2-0abug.input, test.input, r21bugs.input etc?

Hey, that's your job, Vladimir :-)

 > Much thanks for any help or hint in advance.

\start
Date: 08 Jan 2005 12:57:43 -0500
From: Camm Maguire
To: Kostas Oikonomou
Subject: Re: [Gcl-devel] Re: Failure in Solaris 9 build, patch 23

To get a backtrace below, cd into the $(OBJ)/$(SYS)/bin directory and execture from
the shell

./depsys (or path thereto)

>(gbc t)

optionally
>(si::use-fast-links nil) 

> (load "path_to_your_makeint.lisp_file")
Error: Lisp arglist exceeded
>>:bt

Take care,

Kostas Oikonomou writes:

> Hi Camm,
> 
> I am trying to do what you suggested:
> 
> > Barring bfd, the next step is to extract the input being fed to
> > (interpsys?) in the error below, and run it by hand thus:
> >
> > .....interpsys
> > )lisp (si::use-fast-links nil)
> > )lisp (load "input file.lisp")
> >>> :bt  (backtrace)
> 
> I edited src/interp/Makefile as I show below.  Note that I set use-fast-links to nil in the 2nd line.
> Now my question is: what do I put just before
> 
> load "${OUT}/makeint.lisp"
> 
> in the last line to produce the backtrace?
> 
> Thanks.
> 
> 					Kostas
> 
> 
> 	@ echo '${YEARWEEK}' >> ${OUT}/makeint.lisp
> 	@ echo '(si::use-fast-links nil)' >> ${OUT}/makeint.lisp
> 	@ echo '(build-interpsys (append (quote ($(patsubst %, "%", ${OBJS}))) (quote ($(patsubst %, "%", ${ASCOMP}))) (quote ($(patsubst %, "%", ${INOBJS})))) (quote ($(patsubst %, "%", ${OPOBJS}))) (quote ($(patsubst %, "%", ${OCOBJS}))) (quote ($(patsubst %, "%", ${BROBJS}))) (quote ($(patsubst %, "%", ${TRANOBJS}))) (quote ($(patsubst %, "%", ${NAGBROBJS}))) (quote ($(patsubst %, "%", ${ASAUTO})))  "${SPAD}"  "${LSP}" "${SRC}" "${INT}" "${OBJ}" "${MNT}" "${SYS}")' >> ${OUT}/makeint.lisp
> 	@ echo '(in-package "SCRATCHPAD-COMPILER")' >> ${OUT}/makeint.lisp
> #	@ echo '(|shoeInternFile| "${MNT}/${SYS}/doc/msgs/co-eng.msgs")' >> ${OUT}/makeint.lisp
> 	@ echo '(boot::set-restart-hook)' >> ${OUT}/makeint.lisp
> 	@ echo '(in-package "BOOT")' >> ${OUT}/makeint.lisp
> 	@ echo '(load "${INT}/algebra/warm.data")' >> ${OUT}/makeint.lisp
> 	@ echo '(|clearClams|)' >> ${OUT}/makeint.lisp
> 	@ echo '(load "${OUT}/obey")' >> ${OUT}/makeint.lisp
> #	@ echo '#+:akcl (si::multiply-bignum-stack 10)' >> ${OUT}/makeint.lisp
> 	@ echo '#+:akcl (setq compiler::*suppress-compiler-notes* t)' >> ${OUT}/makeint.lisp
> 	@ echo '#+:akcl (si::gbc-time 0)' >> ${OUT}/makeint.lisp
> 	@ echo '#+:akcl (setq si::*system-directory* "${SPAD}/bin/")' >> ${OUT}/makeint.lisp
> 	@ (cd ${OBJ}/${SYS}/bin ; \
> 	  echo '(progn (gbc t) (load "${OUT}/makeint.lisp") (gbc t) (user::spad-save "${SAVESYS}"))' | ${LISPSYS} )

\start
Date: 08 Jan 2005 13:09:53 -0500
From: Camm Maguire
To: Kostas Oikonomou
Subject: Re: [Gcl-devel] Re: Failure in Solaris 9 build, patch 23

Kostas Oikonomou writes:

> Hi Camm,
> 
> Here is the status:
> 
> 1) I built GCL with --disable-statsysbfd --enable-locbfd.
> 
> =================================================================================
> 
> 2) The error remains:
> 
> ...
> Loading /home/build/axiom--main--1--patch-23/obj/sol9gcc/interp/interop.o
> start address -T cbe000 Finished loading /home/build/axiom--main--1--patch-23/obj/sol9gcc/interp/interop.o
> Loading /home/build/axiom--main--1--patch-23/obj/sol9gcc/interp/patches.o
> start address -T 63aaa0 Finished loading /home/build/axiom--main--1--patch-23/obj/sol9gcc/interp/patches.o
> start address -T 539ec8    Using local database /home/build/axiom--main--1--patch-23/src/share/algebra/compress.daase..   Re-reading compress.daase   Using local database /home/build/axiom--main--1--patch-23/src/share/algebra/interp.daase..   Re-reading interp.daase
>     AXIOM initialization: interpreter
> start address -T b45948    AXIOM initialization: database
>     AXIOM initialization: constructors
>     AXIOM initialization: history
>                          AXIOM Computer Algebra System
>                     Version: Axiom 3.0 Beta (January 2005)
>                Timestamp: Wednesday January 5, 2005 at 09:29:42
> -----------------------------------------------------------------------------
>     Issue )copyright to view copyright notices.
>     Issue )summary for a summary of useful system commands.
>     Issue )quit to leave AXIOM and return to shell.
> -----------------------------------------------------------------------------
> 
> 
> Error:  Lisps arglist maximum surpassed
> Fast links are on: do (si::use-fast-links nil) for debugging
> Error signalled by APPLY.
> Broken at APPLY.  Type :H for Help.
> BOOT>>make[3]: *** [/home/build/axiom--main--1--patch-23/obj/sol9gcc/bin/interpsys] Error 255

Good! I think we can be confident in your system bfd setup then.  My
experiences with solaris to the contrary must therefore be a local
situation.

Take care,

> make[3]: Leaving directory `/home/build/axiom--main--1--patch-23/src/interp'
> make[2]: *** [interpdir] Error 2
> make[2]: Leaving directory `/home/build/axiom--main--1--patch-23/src'
> make[1]: *** [srcdir] Error 2
> make[1]: Leaving directory `/home/build/axiom--main--1--patch-23'
> make: *** [all] Error 2
> bash-2.05$
> bash-2.05$
> 
> =================================================================================
> 
> 3)  The foo/bar test you suggested:
> bash-2.05$ obj/sol9gcc/bin/lisp
> 
> > (defun foo (x) (* x x))
> FOO
> > (compile 'foo)
> Compiling gazonk0.lsp.
> End of Pass 1.
> End of Pass 2.
> OPTIMIZE levels: Safety=0 (No runtime error checking), Space=0, Speed=3
> Finished compiling gazonk0.lsp.
> Loading gazonk0.o
> start address -T 7c9f10 Finished loading gazonk0.o
> #<compiled-function FOO>
> > (si::save-system "/tmp/bar")
> bash-2.05$ /tmp/bar
> > (foo 2)
> 4
> > (quit)
> bash-2.05$
> 
> =================================================================================
> 
> 4)  I can't seem to find these problems in the make output.
> But I don't totally know what to look for.
> 
> > Also noticed that your util.lisp is loaded into the interpreter
> > (i.e. non-compiled), the only difference I can see with my last
> > successful build log.  Also, there was a failure to find a package
> > file earlier on, the resolution of which is unclear from the output.

The long sequence of loads before the error shows util.lisp, not
util.o as it does for me.  Matter of fact, this is probably the cause
of the discrepancy between linux and solaris -- GCL's compiler will
inline the apply and circumvent the arglist maximum thereby.


> 
> =================================================================================
> 
> 5) I don't know how to do what you are describing here.
> In obj/sol9gcc/bin I have bootsys,  depsys, and  lisp.  As a matter of
> fact, there is no "interpsys" anywhere, despite this line from make
> 
> 617 the database was updated...remaking interpsys
> 
> which might be taken to mean that there is or was an "interpsys" somewhere.
> 
> > Barring bfd, the next step is to extract the input being fed to
> > (interpsys?) in the error below, and run it by hand thus:
> >
> > .....interpsys
> > )lisp (si::use-fast-links nil)
> > )lisp (load "input file.lisp")
> >>> :bt  (backtrace)

\start
Date: 08 Jan 2005 12:52:53 -0500
From: Camm Maguire
To: Kostas Oikonomou
Subject: Re: Problem with patch 23 and Solaris 9 identified

Greetings!  And thanks for the detective work!

Here's a fix:

(defun get-NAG-chapter (chapter function-list)
   (mapcan
    (lambda (f)
      (cond ((equalp chapter (subseq (string f) 0 (length chapter))) (list f ))))
    function-list)))

or perhaps better

(defun get-NAG-chapter (chapter function-list)
   (let ((l (length chapter)) r)
      (dolist (fl function-list)
        (when (equalp chapter (subseq (string f) 0 l)))
           (push f r))
      (nreverse r)))   

Don't know why this does not occur elsewhere.

Will reply separately regarding your debugging question.

Take care,

Kostas Oikonomou writes:

> I just discovered that the problem I reported a few days ago is caused by
> the function "get-NAG-chapter" in "util.lisp".
> 
> Here is a test file "bug.lisp":
> 
> ==========================================================================
> (setq ch "c02")
> (setq fl
>   '("LOADNAG" "|c02aff|" "|c02agf|" "|c05adf|" "|c05nbf|" "|c05pbf|" "|c06eaf|" "|c06ebf|" "|c06ecf|" "|c06ekf|" "|c06fpf|" "|c06fqf|" "|c06frf|" "|c06fuf|" "|c06gbf|" "|c06gcf|" "|c06gqf|" "|c06gsf|" "|d01ajf|" "|d01akf|" "|d01alf|" "|d01amf|" "|d01anf|" "|d01apf|" "|d01aqf|" "|d01asf|" "|d01bbf|" "|d01fcf|" "|d01gaf|" "|d01gbf|" "|d02bbf|" "|d02bhf|" "|d02cjf|" "|d02ejf|" "|d02gaf|" "|d02gbf|" "|d02kef|" "|d02raf|" "|d03edf|" "|d03eef|" "|d03faf|" "|e01baf|" "|e01bef|" "|e01bff|" "|e01bgf|" "|e01bhf|" "|e01daf|" "|e01saf|" "|e01sbf|" "|e01sef|" "|e02adf|" "|e02aef|" "|e02agf|" "|e02ahf|" "|e02ajf|" "|e02akf|" "|e02baf|" "|e02bbf|" "|e02bcf|" "|e02bdf|" "|e02bef|" "|e02daf|" "|e02dcf|" "|e02ddf|" "|e02def|" "|e02dff|" "|e02gaf|" "|e02zaf|" "|e04dgf|" "|e04fdf|" "|e04gcf|" "|e04jaf|" "|e04mbf|" "|e04naf|" "|e04ucf|" "|e04ycf|" "|f01brf|" "|f01bsf|" "|f01maf|" "|f01mcf|" "|f01qcf|" "|f01qdf|" "|f01qef|" "|f01rcf|" "|f01rdf|" "|f01ref|" "|f02aaf|" "|f02abf|" "|f02adf|" "|f02ae!
> f|"  "|f02aff|" "|f02agf|" "|f02ajf|" "|f02akf|" "|f02awf|" "|f02axf|"
> "|f02bbf|" "|f02bjf|" "|f02fjf|" "|f02wef|" "|f02xef|" "|f04adf|"
> "|f04arf|" "|f04asf|" "|f04atf|" "|f04axf|" "|f04faf|" "|f04jgf|"
> "|f04maf|" "|f04mbf|" "|f04mcf|" "|f04qaf|" "|f07adf|" "|f07aef|"
> "|f07fdf|" "|f07fef|" "|s01eaf|" "|s13aaf|" "|s13acf|" "|s13adf|"
> "|s14aaf|" "|s14abf|" "|s14baf|" "|s15adf|" "|s15aef|" "|s17acf|"
> "|s17adf|" "|s17aef|" "|s17aff|" "|s17agf|" "|s17ahf|" "|s17ajf|"
> "|s17akf|" "|s17dcf|" "|s17def|" "|s17dgf|" "|s17dhf|" "|s17dlf|"
> "|s18acf|" "|s18adf|" "|s18aef|" "|s18aff|" "|s18dcf|" "|s18def|"
> "|s19aaf|" "|s19abf|" "|s19acf|" "|s19adf|" "|s20acf|" "|s20adf|"
> "|s21baf|" "|s21bbf|" "|s21bcf|" "|s21bdf|")
> )
> 
> (defun get-NAG-chapter (chapter function-list)
>    (apply 'append
>    (mapcar
>     #'(lambda (f)
>       (cond ((equalp chapter (subseq (string f) 0 (length chapter))) (list f ))))
>     function-list)))
> 
> (si::use-fast-links nil)
> (get-NAG-chapter ch fl)
> ==========================================================================
> 
> 
> bash-2.05$ /home/build/axiom--main--1--patch-23/obj/sol9gcc/bin/lisp
> > (load "bug.lisp")
> Loading bug.lisp
> 
> Error:  Lisps arglist maximum surpassed
> Error signalled by APPLY.
> Broken at SYSTEM::BREAK-LEVEL.  Type :H for Help.
> >> :q
> Top level.
> > (quit)
> bash-2.05$

\start
Date: Sat, 8 Jan 2005 20:15:04 +0200
From: Vladimir Bondarenko
To: list
Subject: Issue tracker: Language selection

I visited the Tracker

http://page.axiom-developer.org/zope/mathaction/FrontPage/issuetracker

and to much surprise it is displayed in the Russian. I can speak
Russian quite well :) but I hate seeing Russian in testing.

What is the easiest way to enjoy the inscriptions in the English
at the Tracker?

\start
Date: 08 Jan 2005 13:20:29 -0500
From: Camm Maguire
To: Bill Page
Subject: Re: uffi

Greetings!  GCL does have socket support, but not 'uffi' (Universal
Foreign Function Interface), yet.  The latter is a proposal outside
the ANSI standard to uniformize the syntax of accessing any external
code from within lisp.  GCL has a means of doing this too, but it
differs in syntax from this proposal.  

The socket support is known to work in the rudimentary testing I've
done, but I'm sure it could benefit from heavier use and user
feedback.  We've already discussed a number of extensions, e.g. select
multitasking, and an existing project like axiom needing same would be
all I'd need to move it to a higher priority.

Take care,

Bill Page writes:

> I thought GCL already had socket support built-in?
> 
> > -----Original Message-----
> > From: Camm Maguire [mailto:Camm Maguire]
> > Sent: Tuesday, January 04, 2005 12:43 PM
> > To: Tim Daly
> > Cc: list
> > Subject: Re: uffi
> > 
> > 
> > Greetings!
> > 
> > The short answer is 'not yet'.  I'd be happy to assist with any
> > specific C FFI you might need, as GCL's ability, though perhaps not
> > standard, is (IMHO) quite good in this area.
> > 
> > Take care,
> > 
> > Tim Daly writes:
> > 
> > > Camm,
> > > 
> > > I want to lift the socket code from C to lisp in a portable way.
> > > Does GCL support uffi? 
> > > 
> > > Failing that I'll do it specifically for GCL and then port it
> > > to uffi elsewhere. 

\start
Date: Sat, 8 Jan 2005 20:39:08 +0200
From: Vladimir Bondarenko
To: Martin Rubey
Subject: Re[2]: AXIOM bug list / available resources?

Thanks for quick reply!

VB>> 1) What do these numbers mean? An ID of a unconfirmed bug report?
VB>>    Anything else?

MR> The ID's are given by savannah.

Aha... to ALL the projects located at savannah, pell-mell? That is
#4551 is an Axiom's bug, and #4552 is, say, a GrandRabbitsRaces' bug?
Is this the case?

MR> These are confirmed bugs, currently there are no unconfirmed bugs,
MR> as far as I know.

Do you mean that currently it is known less than 100 non-fixed bugs
for AXIOM, those #4551 and so forth?

MR> We are testing a different bug reporting system, IssueTracker, on
MR> mathaction:

MR> http://page.axiom-developer.org/zope/mathaction/FrontPage/issuetracker

MR> There has not been a decision yet, but I have the feeling that
MR> IssueTracker will make the race.

I see.

VB>> 3) Even if #4551... #11370 are numbers of unconfirmed bugs,
VB>>    is it possible to access all such records?

MR> Unfortunately

>> Currently, Savane, the software that runs the web interface of
>> Savannah, does not have the ability to export lists of bugs and
>> patches.

Ah actually, I just meant the ability not export the known AXIOM bugs,
to but to read all them, that will do, - a learning curve, you know.

VB>> 4) Where to find the most recent copies of AXIOM bug-holding
VB>>    files like old fixed.input, r2-0abug.input, test.input,
VB>>    r21bugs.input etc?

MR> Hey, that's your job, Vladimir :-)

;) Yep.  But I'd rather name this "subtle, unexperienced delight" :-)

Now I adore leading a giddy life of pleasure, and a favorite saying of
mine is, One good tester should find 100 times more bugs than all the
developers can fix together.

\start
Date: Sat, 8 Jan 2005 11:01:38 -0800
From: Bob McElrath
To: Vladimir Bondarenko
Subject: Re: Issue tracker: Language selection

Vladimir Bondarenko [Vladimir Bondarenko] wrote:
> Hello,
> 
> I visited the Tracker
> 
> http://page.axiom-developer.org/zope/mathaction/FrontPage/issuetracker
> 
> and to much surprise it is displayed in the Russian. I can speak
> Russian quite well :) but I hate seeing Russian in testing.
> 
> What is the easiest way to enjoy the inscriptions in the English
> at the Tracker?

This is probably because your browser is sending a header indicating
that you prefer Russian.  So, you will have to configure your browser to
ask for english.  I18n work on zwiki is ongoing, and at this point I
think most of the zwiki interface has been translated to 15 or so
languages.  This is in the mozilla/firefox preferences.

\start
Date: Sat, 8 Jan 2005 20:21:26 +0100
To: list
From: Frederic Lehobey
Subject: Re: Issue tracker: Language selection

Happy new (gregorian) year to everybody and congratulations for the
latest achievements.  I have not seen them myself yet but am eager to.

On Sat, Jan 08, 2005 at 08:15:04PM +0200, Vladimir Bondarenko wrote:

> I visited the Tracker
>
> http://page.axiom-developer.org/zope/mathaction/FrontPage/issuetracker
>
> and to much surprise it is displayed in the Russian. I can speak

Actually I see them in French!  The explanation is the web site uses
'content negociation' (which is good stuff).

> What is the easiest way to enjoy the inscriptions in the English
> at the Tracker?

A nice place to understand how to setup content negociation is there:
http://www.debian.org/intro/cn

\start
Date: 08 Jan 2005 14:37:14 -0500
From: Camm Maguire
To: Kostas Oikonomou
Subject: Re: [Gcl-devel] [MAILER-DAEMON@tenkan.org:

Greetings!

Tim Daly writes:

> From: Tim Daly
> Subject: [Kostas Oikonomou: Problem with patch 23 and Solaris 9 identified]
> To: Camm Maguire, Kostas Oikonomou
> Cc: gnu-devel@gnu.org, list
> Date: Sat, 8 Jan 2005 12:49:44 -0500
> Reply-to: Tim Daly
> 
> Camm,
> 
> Kostas has found a problem on the solaris 9 platform. The argument list
> given has 154 items.
> 

Yes, and I believe the reason is that his build loaded the
...NAG..chapter function interpreted, as opposed to compiled
(i.e. util.lisp not util.o) as I noted in a earlier post.
Fortunately, GCL's inliner expanded the apply therein and place all
args on the lisp value stack (as opposed to the limited C stack), thus
circumventing the argument limitation.  I've also posted two versions
which avert the problem at the lisp source level, which is preferable,
as the inliner depends on compilation safety options, etc.  Please let
me know if those functions don't fix the problem.  I still don't know
why Kostas' build loaded util.lisp interpreted.

> There used to be a similar problem in AKCL. Do you know what the
> current arg limits are and whether they can be changed?
> 

63, and yes.  In fact, it can be made to be unlimited via libffi (if
memory serves).  We discussed this before, and it was deemed of lower
priority.  Please let me know if we now feel otherwise.  Expanding the
existing code further, which has a huge switch/case branch on the
argument number, would not seem advisable, though of course could be
done.  We could even generate the switch at configure time and put in
another configure options, but there are already too many of these
IMHO.

> Kostas,
> 
> 
> Try loading the function interpreted. There are two possible ways to
> do this. Either start the image and load the file "util.lisp" (rather
> than "util.o"). Or move the function into the file "nocompil.lisp"
> which contains functions which are never compiled. 
> 

In this case, I believe, the advise should go the other way around.
compiling the function and load it would/should be an immediate
workaround, though this is just fortuitous in this case.

> As I recall, the interpreter can handle very long argument lists but
> the compiler cannot.
> 

Calling apply from the interpreter will be limited, and calling any C
function with more that 63 args will trigger this error too.  As we
see here, this can come from either the interpreter or compiler
depending on the inlining performed.  The best solution is to avoid
the situation at the lisp level, which should be straightforward.
Even that JoinInner in nocompil.lisp could be written to take a single
list as an arg, I think, but we shouldn't fool with this at the
present.

Take care,

> Tim
> 
> 
> - ------- Start of forwarded message -------
> X-Original-To: Tim Daly
> Received-SPF: pass (spamd.bsdwebsolutions.com: domain of nongnu.org designates 199.232.76.165 as permitted sender) client-ip=199.232.76.165; envelope-from=axiom-developer-bounces+daly=idsi.net@nongnu.org; helo=lists.gnu.org;
> To: "Axiom developers" <list>
> Date: Sat, 08 Jan 2005 11:20:05 -0500
> From: Kostas Oikonomou
> Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-1
> User-Agent: Opera M2/7.54 (SunOS, build 751)
> Subject: Problem with patch 23 and Solaris 9 identified
> X-BeenThere: list
> X-Mailman-Version: 2.1.5
> Precedence: list
> List-Id: Axiom Developers <axiom-developer.nongnu.org>
> List-Unsubscribe: <http://lists.nongnu.org/mailman/listinfo/axiom-developer>, 
> List-Archive: <http://lists.gnu.org/pipermail/axiom-developer>
> List-Post: <mailto:list>
> List-Subscribe: <http://lists.nongnu.org/mailman/listinfo/axiom-developer>,
> Sender: axiom-developer-bounces+daly=idsi.net@nongnu.org
> X-BSD-MailFrom: axiom-developer-bounces+daly=idsi.net@nongnu.org
> X-BSD-RcptTo: Tim Daly
> X-MIME-Character-set: iso-8859-1
> X-BSD-AntiVirus: No Virus Found
> X-BSD-MIME-Status: Safe
> X-BSD-Spam-Info: Spam detection software, provided by BSD WebSolutions, Inc.
> X-BSD-Spam-Info: Has scanned this message. If this is believed to be spam
> X-BSD-Spam-Info: A tag has been added to the subject for you own filtering purposes.
> X-BSD-Spam-Info: Please call us at: (845) 485.4818 if you have any questions.
> X-BSD-Spam-Score: 0.5 (/)
> X-BSD-Spam-Report: The following tests were performed:
> 	0.6 J_CHICKENPOX_34        BODY: 3alpha-pock-4alpha
> 	-0.1 AWL                    AWL: From: address is in the auto white-list
> X-MIME-Autoconverted: from quoted-printable to 8bit by localhost.localdomain id j08HS5x02181
> 
> 
> I just discovered that the problem I reported a few days ago is caused by
> the function "get-NAG-chapter" in "util.lisp".
> 
> Here is a test file "bug.lisp":
> 
> ==========================================================================
> (setq ch "c02")
> (setq fl
>   '("LOADNAG" "|c02aff|" "|c02agf|" "|c05adf|" "|c05nbf|" "|c05pbf|" "|c06eaf|" "|c06ebf|" "|c06ecf|" "|c06ekf|" "|c06fpf|" "|c06fqf|" "|c06frf|" "|c06fuf|" "|c06gbf|" "|c06gcf|" "|c06gqf|" "|c06gsf|" "|d01ajf|" "|d01akf|" "|d01alf|" "|d01amf|" "|d01anf|" "|d01apf|" "|d01aqf|" "|d01asf|" "|d01bbf|" "|d01fcf|" "|d01gaf|" "|d01gbf|" "|d02bbf|" "|d02bhf|" "|d02cjf|" "|d02ejf|" "|d02gaf|" "|d02gbf|" "|d02kef|" "|d02raf|" "|d03edf|" "|d03eef|" "|d03faf|" "|e01baf|" "|e01bef|" "|e01bff|" "|e01bgf|" "|e01bhf|" "|e01daf|" "|e01saf|" "|e01sbf|" "|e01sef|" "|e02adf|" "|e02aef|" "|e02agf|" "|e02ahf|" "|e02ajf|" "|e02akf|" "|e02baf|" "|e02bbf|" "|e02bcf|" "|e02bdf|" "|e02bef|" "|e02daf|" "|e02dcf|" "|e02ddf|" "|e02def|" "|e02dff|" "|e02gaf|" "|e02zaf|" "|e04dgf|" "|e04fdf|" "|e04gcf|" "|e04jaf|" "|e04mbf|" "|e04naf|" "|e04ucf|" "|e04ycf|" "|f01brf|" "|f01bsf|" "|f01maf|" "|f01mcf|" "|f01qcf|" "|f01qdf|" "|f01qef|" "|f01rcf|" "|f01rdf|" "|f01ref|" "|f02aaf|" "|f02abf|" "|f02adf|" "|f02ae!
> f|"  
> "|f02aff|" "|f02agf|" "|f02ajf|" "|f02akf|" "|f02awf|" "|f02axf|" "|f02bbf|" "|f02bjf|" "|f02fjf|" "|f02wef|" "|f02xef|" "|f04adf|" "|f04arf|" "|f04asf|" "|f04atf|" "|f04axf|" "|f04faf|" "|f04jgf|" "|f04maf|" "|f04mbf|" "|f04mcf|" "|f04qaf|" "|f07adf|" "|f07aef|" "|f07fdf|" "|f07fef|" "|s01eaf|" "|s13aaf|" "|s13acf|" "|s13adf|" "|s14aaf|" "|s14abf|" "|s14baf|" "|s15adf|" "|s15aef|" "|s17acf|" "|s17adf|" "|s17aef|" "|s17aff|" "|s17agf|" "|s17ahf|" "|s17ajf|" "|s17akf|" "|s17dcf|" "|s17def|" "|s17dgf|" "|s17dhf|" "|s17dlf|" "|s18acf|" "|s18adf|" "|s18aef|" "|s18aff|" "|s18dcf|" "|s18def|" "|s19aaf|" "|s19abf|" "|s19acf|" "|s19adf|" "|s20acf|" "|s20adf|" "|s21baf|" "|s21bbf|" "|s21bcf|" "|s21bdf|")
> )
> 
> (defun get-NAG-chapter (chapter function-list)
>    (apply 'append
>    (mapcar
>     #'(lambda (f)
>       (cond ((equalp chapter (subseq (string f) 0 (length chapter))) (list f ))))
>     function-list)))
> 
> (si::use-fast-links nil)
> (get-NAG-chapter ch fl)
> ==========================================================================
> 
> 
> bash-2.05$ /home/build/axiom--main--1--patch-23/obj/sol9gcc/bin/lisp
> > (load "bug.lisp")
> Loading bug.lisp
> 
> Error:  Lisps arglist maximum surpassed
> Error signalled by APPLY.
> Broken at SYSTEM::BREAK-LEVEL.  Type :H for Help.
> >> :q
> Top level.
> > (quit)
> bash-2.05$

\start
Date: Sat, 08 Jan 2005 15:45:28 -0500
From: Eugene Surowitz
To: list
Subject: Re: TeX for TeXmacs for Axiom

I see that I omitted a dash; my original note should have read 
"Microsoft-style activation";
I don't know who actually invented the pattern of installation but I 
first came across it with
Windows XP; other major products now use some flavor of "activation" now.

The procedure generally runs this way:

1. Obtain product at store or online;
    I say obtain as online sites frequently will provide an "evaluation 
copy" that will be
    executable for some period of time.
2. Upon paying for the product, the purchaser of the license receives an 
"activation code"
    which is entered on demand to keep the product running or to get it 
running in the first place.
    Store bought copies typically come with the activation code 
somewhere in the package.

The PCTeX product that I referred to uses such a protocol.
PCTeX  is  the major product of Personal TeX Inc:  www.pctex.com
They have been in business since about 1985; I've been a user of the 
product nearly as long.
Roughly speaking PCTeX is an environment for writing TeX/LaTeX documents 
which
includes an editor with postscript or dvi output generated by a TeX.

To the best of my knowledge it does not incorporate any mechanism to invoke
an algebraic computation system; I have no idea how that could be done.
Maybe I'll ask them.

Which of course brings me to TeXmacs; I just installed it.

My initial experience was being slightly disconcerted by its suggesting 
that it
might want to build some fonts from scratch since there are TeX font and 
Windows fonts
in abundance.

Bill's comment that implies that TeXmacs only requires TeX's font set to be
in "the standard location" suggests that some how TeXmacs would need to 
be told
where they are; I'm not too fond of putting products in "Program Files" 
on C:

Cheers, Eugene Surowitz

root wrote:

>Eugene,
>
>I'm unfamiliar with either PCTeX or "style activation protocols".
>Perhaps you could write up a couple paragraphs that we could add
>to the documentation about this. I'm unable to do it as I don't
>have the tools or environment.

\start
Date: Sat, 8 Jan 2005 22:59:18 +0200
From: Vladimir Bondarenko
To: Frederic Lehobey
Subject: Re[2]: Issue tracker: Language selection

I suspected that there should be something like browser settings
but the moment I was visiting the tracker I was hunting on bugs
so decided to ask to keep hunting.

Much thanks Bob and Frederic!

I would take the opportunity to tell that I find Axiom developers
a very warm and friendly group, excellent, the only bad point is
that here money are not paid ;)

FL> A nice place to understand how to setup content negociation is
FL> there: http://www.debian.org/intro/cn

A big, joyful sigh of relief! Hurrah! Life is wonderful!

\start
Date: Sat, 8 Jan 2005 17:26:43 -0500
From: Tim Daly
To: Vladimir Bondarenko
Subject: Re: Issue tracker: Language selection
Cc: Frederic Lehobey

> I would take the opportunity to tell that I find Axiom developers
> a very warm and friendly group, excellent, the only bad point is
> that here money are not paid ;)

There is wealth here, not measured by money. 

We are pushing forward the field of computational mathematics and have
the opportunity to do it "in the early years", in the company of clever
and dedicated people who do it for the love of it. It is a rare and
wonderful opportunity for which I am extremely grateful.

\start
Date: Sat, 8 Jan 2005 18:16:03 -0500
From: Tim Daly
To: Gabriel Dos Reis
Subject: Re: current CVS tree (axiom 3 beta) fails to build

Excellent work. We can change anything we'd like but the simple fix 
is probably best at the moment. I'll change the axiom--main--1 branch
to include this fix. It may be a while as my system is heavily lagged
(user 17.5) in the midst of way too many tasks :-)

\start
Date: 08 Jan 2005 23:18:32 +0100
From: Gabriel Dos Reis
To: Tim Daly
Subject: Re: current CVS tree (axiom 3 beta) fails to build

Tim Daly writes:

| your tracking is helping a lot. keep up the good work.
| i can't track it here because it works here.

I finally nailed its origin down to /usr/include/linux/compiler.h
In that file, we have

=====
/* Somewhere in the middle of the GCC 2.96 development cycle, we implemented
   a mechanism by which the user can annotate likely branch directions and
   expect the blocks to be reordered appropriately.  Define __builtin_expect
   to nothing for earlier compilers.  */

#if __GNUC__ == 2 && __GNUC_MINOR__ < 96
#define __builtin_expect(x, expected_value) (x)
#endif

#define likely(x)       __builtin_expect((x),1)
#define unlikely(x)     __builtin_expect((x),0)
=====
  

Notice that those defines are not guarded by __KERNEL__.

I would suggest that, Axiom spells its C MACROS all in CAPS, and
prefix them with AXIOM_.
Is that workable?

\start
Date: Sat, 8 Jan 2005 18:55:27 -0500
From: Tim Daly
To: Camm Maguire
Subject: Re: Problem with patch 23 and Solaris 9 identified
Cc: Kostas Oikonomou

This fix was applied to util.lisp.pamphlet

(defun get-NAG-chapter (chapter function-list)
   (let ((l (length chapter)) r)
      (dolist (f function-list)
        (when (equalp chapter (subseq (string f) 0 l)))
           (push f r))
      (nreverse r)))   

NOTE that I rewrote the line:
      (dolist (fI function-list)
to
      (dolist (f function-list)


This fix will be applied to axiom--main--1 at the next update.
Kostas, if you visit arch.axiom-developer.org you can follow
the instructions for getting write access to the arch archive.
Once you send me a key you can update the axiom--solaris--1
branch. (If you want, I'll apply the same update to the solaris
branch).

\start
Date: Sat, 08 Jan 2005 18:24:36 -0500
From: Kostas Oikonomou
To: Camm Maguire
Subject: Re: Problem with patch 23 and Solaris 9 identified

On 08 Jan 2005 12:52:53 -0500, Camm Maguire wrote:

> or perhaps better
>
> (defun get-NAG-chapter (chapter function-list)
>    (let ((l (length chapter)) r)
>       (dolist (fl function-list)
>         (when (equalp chapter (subseq (string f) 0 l)))
>            (push f r))
>       (nreverse r)))

Thanks very much, that fixed the problem.  (I read what you said about th=
e difference
w.r.t. util.lisp/o between Linux and Solaris, but don't follow everything=
.  Hopefully that
problem will be fixed, whatever it is.)

Now the build progressed quite a bit more.  But I think I may have found =
another problem.
Here's the failure:

==========================
==========================
==========================
=====
4017 making /home/build/axiom--main--1--patch-23/int/algebra/AHYP.NRLIB f=
rom /home/build/axiom--main--1--patch-23/int/algebra/AHYP.spad
                         AXIOM Computer Algebra System
                    Version: Axiom 3.0 Beta (January 2005)
                Timestamp: Sunday January 9, 2005 at 04:41:29
-------------------------------------------------------------------------=
----
    Issue )copyright to view copyright notices.
    Issue )summary for a summary of useful system commands.
    Issue )quit to leave AXIOM and return to shell.
-------------------------------------------------------------------------=
----

    Using local database /home/build/axiom--main--1--patch-23/src/share/a=
lgebra/compress.daase..   Using local database /home/build/axiom--main--1=
--patch-23/src/share/algebra/interp.daase..
    Using local database /home/build/axiom--main--1--patch-23/src/share/a=
lgebra/operation.daase..
    Using local database /home/build/axiom--main--1--patch-23/src/share/a=
lgebra/category.daase..
    Using local database /home/build/axiom--main--1--patch-23/src/share/a=
lgebra/browse.daase..
(1) ->    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autolo=
ad/apply.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/c-d=
oc.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/c-u=
til.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/pro=
file.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/cat=
egory.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/com=
piler.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/def=
ine.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/fun=
ctor.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/inf=
o.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/ite=
rator.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/mod=
emap.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/nru=
ncomp.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/pac=
kage.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/htc=
heck.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/xru=
ncomp.
    Compiling AXIOM source code from file
       /home/build/axiom--main--1--patch-23/int/algebra/AHYP.spad using
       old system compiler.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/par=
sing.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/boo=
tlex.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/def=
.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/fne=
wmeta.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/met=
alex.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/met=
ameta.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/par=
se.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/pos=
tpar.
    Loading /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/pos=
tprop.

    >> System error:
    Cannot open the file /home/build/axiom--main--1--patch-23/mnt/sol9gcc=
/autoload/postprop.

protected-symbol-warn called with (NIL)
(1) -> 4016-0 making /home/build/axiom--main--1--patch-23/mnt/sol9gcc/alg=
ebra/AHYP.o from /home/build/axiom--main--1--patch-23/int/algebra/AHYP.NR=
LIB
cp: cannot access /home/build/axiom--main--1--patch-23/int/algebra/AHYP.N=
RLIB/code.o
make[3]: *** [/home/build/axiom--main--1--patch-23/mnt/sol9gcc/algebra/AH=
YP.o] Error 2
make[3]: Leaving directory `/home/build/axiom--main--1--patch-23/src/alge=
bra'
make[2]: *** [algebradir] Error 2
make[2]: Leaving directory `/home/build/axiom--main--1--patch-23/src'
make[1]: *** [srcdir] Error 2
make[1]: Leaving directory `/home/build/axiom--main--1--patch-23'
make: *** [all] Error 2
bash-2.05$

==========================
==========================
==========================
=====

The problem is that the file mnt/sol9gcc/autoload/postprop.o is not there=
.   What *is* there is
mnt/sol9gcc/autoload/postprop.lisp.  It's the only lisp file in autoload/=
.

I found the following in src/interp/Makefile.pamphlet:

<<environment>>=
# These are autloaded old parser files
OPOBJS=	${AUTO}/parsing.${O}	${AUTO}/bootlex.${O}	\
         ${AUTO}/def.${O}	\
	${AUTO}/fnewmeta.${O}	${AUTO}/metalex.${O}	\
	${AUTO}/metameta.${O}	\
	${AUTO}/parse.${O}	${AUTO}/postpar.${O}	\
	${AUTO}/postprop.${LISP}	${AUTO}/preparse.${O}


Doesn't that seem wrong?

\start
Date: 09 Jan 2005 00:29:10 +0100
From: Gabriel Dos Reis
To: Tim Daly
Subject: Re: current CVS tree (axiom 3 beta) fails to build

Tim Daly writes:

| Gaby,
| 
| Excellent work. We can change anything we'd like but the simple fix 
| is probably best at the moment. I'll change the axiom--main--1 branch
| to include this fix. It may be a while as my system is heavily lagged
| (user 17.5) in the midst of way too many tasks :-)

That is OK -- as far as February Release contains it :-)
Thanks!

\start
Date: Sat, 8 Jan 2005 20:42:09 -0500
From: Tim Daly
To: Kostas Oikonomou
Subject: Re: Problem with patch 23 and Solaris 9 identified
Cc: Camm Maguire

Actually postprop.lsp is correct. The file contains just a couple
of top-level forms. It is used by the compiler to set properties
on certain symbols that get autoloaded.

Change the Makefile.pamphlet file as follows:

find the line that reads:
     @echo 4017 ....
and add an output of ${LISP}:
     @echo 4017 .... LISP=${LISP}

It should output LISP=lsp for GCL which means that it is looking for
the file mnt/sol9gcc/autoload/postprop.lsp

Next check to see that this file exists. I can't imagine why it might not.

Next search your console output for a line reading
102 making /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/postprop.lsp from.....

This is the line that creates the file postprop.lsp. The magic number
102 comes from the fact that each makefile stanza has a unique number
within the subdirectory (there can be many 102 lines but only 1 from
the src/interp/Makefile.

\start
Date: Sat, 8 Jan 2005 20:33:31 -0500
From: Stephen Wilson
To: Bill Page
Subject: re: algebra Makefiles with explicitdependencies,

I have an update. I will try a rebuild tonight with what I think is a
probable fix for most of the affected domains. 

The bootstrap code for SingleInteger does not contain a `one?'
function. On the second iteration the `one?' is compiled, changing
the domain vector for SingleInteger. Propagation is exactly what is
going on here. 

There is an interesting story behind how I tracked this down. I'll
prepare some notes and document some the the lookup functions used
within the compiler runtime.

I'll report back after the build finishes. 

\start
Date: Sat, 08 Jan 2005 21:26:00 -0500
To: Tim Daly
From: Kostas Oikonomou
Subject: Re: Problem with patch 23 and Solaris 9 identified
Cc: Camm Maguire

I'm not sure I follow what you're saying here.  Perhaps I didn't make
myself clear in my last mail?

The postprop.o file *does* exist, it is in obj/sol9gcc/interp/postprop.o.
So rather than messing with any Makefiles, I just copied it to mnt/sol9gc=
c/autoload/.

The result is that the build has been progressing now for quite a while. =
 I have more
than 900 .o files in mnt/sol9gcc/algebra, and it's still going.

Am I missing something?

> Kostas,
>
> Actually postprop.lsp is correct. The file contains just a couple
> of top-level forms. It is used by the compiler to set properties
> on certain symbols that get autoloaded.
>
> Change the Makefile.pamphlet file as follows:
>
> find the line that reads:
>      @echo 4017 ....
> and add an output of ${LISP}:
>      @echo 4017 .... LISP=${LISP}
>
> It should output LISP=lsp for GCL which means that it is looking for
> the file mnt/sol9gcc/autoload/postprop.lsp
>
> Next check to see that this file exists. I can't imagine why it might n=
ot.
>
> Next search your console output for a line reading
> 102 making /home/build/axiom--main--1--patch-23/mnt/sol9gcc/autoload/po=
stprop.lsp from.....
>
> This is the line that creates the file postprop.lsp. The magic number
> 102 comes from the fact that each makefile stanza has a unique number
> within the subdirectory (there can be many 102 lines but only 1 from
> the src/interp/Makefile.

\start
Date: Sat, 8 Jan 2005 22:12:27 -0500
From: Tim Daly
To: list
Subject: BRL/CAD and Axiom
Cc: Gilbert Baumslag

I got your name from brlcad.sourceforge.net.

My name is Tim Daly. I'm the lead developer on the Axiom project

http://savannah.nongnu.org/projects/axiom
http://axiom.axiom-developer.org
http://sourceforge.net/projects/axiom

Axiom is a large, general purpose computer algebra system that was
originally developed at IBM Research and later brought to market by
The Numerical Algorithms Group (NAG). It was a commercial competitor
to Mathematica and Maple.

Several years ago it was released as free and open source software
under the Modified-BSD license.

Axiom has a graphics package that can draw 2D and 3D objects from
their mathematical description. These objects can be rotated, 
translated, and shaded. The next release (February 2005) will have
this ability as part of the standard system.

Axiom does not currently have any CSG software but it is clear that
there is a convergence of interests between computational mathematics
and CSG. There are several conferences focusing on this topic.

My particular interest in BRL/CAD is in the area of engineering.
It seems that one could use a CAD system to design a structure,
such as a bridge, and use a computer algebra system to model the
forces on the bridge members. The combination of a strong computer
algebra system with a strong CAD system has the potential for 
teaching students design as well as computing close-form solutions
for real-world problems. Clearly the same kind of interface could
be used for modeling other areas such as architecture.

The purpose of this note is to bring Axiom to your attention. 
I'd like to know if you would find the connection to a computer
algebra system useful for your work. Axiom can clearly benefit
from a connection to a CSG/CAD system.

Please let me know if you have any interest in working together.

\start
Date: Sat, 8 Jan 2005 21:21:01 -0500
From: Bill Page
To: Tim Daly
Subject: RE: Problem with patch 23 and Solaris 9 identified
Cc: Kostas Oikonomou, Camm Maguire

At http://arch.axiom-developer.org there is a small but significant
typo. 

> ...
> Next you need to register an archive:
>
>  tla register-archive arch@axiom-developer.org--axiom \
>    sftp://arch.axiom-developer.org/home/arch/archive/axiom
>

That should be an @ not a . after sftp://arch, like this:

 tla register-archive arch@axiom-developer.org--axiom \
   sftp://arch@axiom-developer.org/home/arch/archive/axiom

I noticed this a while ago but I never got around to finding
it and fixing it on axiom-developer.org.

Regards,
Bill Page.

On Saturday, January 08, 2005 6:55 PM you wrote:

> Kostas, if you visit arch.axiom-developer.org you can follow
> the instructions for getting write access to the arch archive.
> Once you send me a key you can update the axiom--solaris--1
> branch. (If you want, I'll apply the same update to the solaris
> branch).
> 

\start
Date: Sat, 8 Jan 2005 22:31:34 -0500
From: Tim Daly
To: Bill Page
Subject: Re: Problem with patch 23 and Solaris 9 identified
Cc: Kostas Oikonomou, Camm Maguire, Tim Daly

My tla archives says:

arch@axiom-developer.org--axiom
    sftp://arch.axiom-developer.org/home/arch/archive/axiom

The website used to say '@' but it was corrected to use '.'

\start
Date: Sat, 8 Jan 2005 22:35:59 -0500
From: Tim Daly
To: Kostas Oikonomou
Subject: Re: Problem with patch 23 and Solaris 9 identified
Cc: Camm Maguire

postprop is part of interp, not algebra.

src/interp/postprop.lisp.pamphlet -> obj/linux/postprop.lsp

and

obj/linux/postprop.lsp -> mnt/linux/autoload/postprop.lsp

The file mnt/linux/autoload/postprop.lsp contains a few top level commands
and does not need to be compiled.

It should be created correctly by your src/interp/Makefile

I'll look at this in more detail.

\start
Date: Sat, 8 Jan 2005 21:45:46 -0500
From: Bill Page
To: Stephen Wilson
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

On Saturday, January 08, 2005 8:34 PM you wrote:
>
> The bootstrap code for SingleInteger does not contain a `one?'
> function. On the second iteration the `one?' is compiled,
> changing the domain vector for SingleInteger. Propagation is
> exactly what is going on here.

Fantastic work! I am totally envious of your obvious skill
with lisp and the Axiom compiler code.

This thing about `one?' reminds of something that has worried
me a while in the Axiom library code. In *many* places throughout
the code there are comments like these in  si.spad.pamphlet:

--      not one? c => error "inverse does not exist"
      not (c = 1) => error "inverse does not exist"

--   one?(x)   == ONEP(x)$Lisp
   one?(x)   == x = 1

The documentation contains this terse explanation:

"The definition of {\bf one?} has been rewritten as it relies
on calling {\bf ONEP} which is a function specific to Codemist
Common Lisp but is not defined in Common Lisp."

There is no clearly stated author of this text. (Did you write
that Tim?)

Anyway, my concern about this is exactly about the creation
of circular dependencies. Surely such a basic change must
create many new dependencies? Wouldn't if have been much
better simply to provide a GCL compatible lisp expression?

>
> There is an interesting story behind how I tracked this down.
> I'll prepare some notes and document some the the lookup
> functions used within the compiler runtime.
>
> I'll report back after the build finishes.
>

I look forward to reading this!

Now from looking at the fixedPoint.log diffs, I think that
there must be at least one more similar propagation.

--- int/algebra/BINFILE.lsp     Fri Jan  7 13:13:39 2005
+++ int/algebra/BINFILE.NRLIB/code.lsp  Fri Jan  7 13:39:24 2005
@@ -13,7 +13,7 @@

 (DEFUN |BINFILE;readIfCan!;$U;6| (|f| $) (PROG (|n|) (RETURN (SEQ (COND
((NULL (EQUAL (QVELT |f| 2) "input")) (|error| "File not in read =
state"))
((QUOTE T) (SEQ (BINARY_SELECT_INPUT (QVELT |f| 1)) (LETT |n|
(BINARY_READBYTE) |BINFILE;readIfCan!;$U;6|) (EXIT (COND ((EQL |n| -1) =
(CONS
1 "failed")) ((QUOTE T) (CONS 0 |n|)))))))))))

-(DEFUN |BINFILE;write!;$2Si;7| (|f| |x| $) (SEQ (COND ((NULL (EQUAL =
(QVELT
|f| 2) "output")) (|error| "File not in write state")) ((OR (QSLESSP |x| =
0)
(< 255 |x|)) (|error| "integer cannot be represented as a byte")) =
((QUOTE T)
(SEQ (BINARY_PRINBYTE |x|) (EXIT |x|))))))
+(DEFUN |BINFILE;write!;$2Si;7| (|f| |x| $) (SEQ (COND ((NULL (EQUAL =
(QVELT
|f| 2) "output")) (|error| "File not in write state")) ((OR (QSLESSP |x| =
0)
(QSLESSP 255 |x|)) (|error| "integer cannot be represented as a byte"))
((QUOTE T) (SEQ (BINARY_PRINBYTE |x|) (EXIT |x|))))))

 (DEFUN |BINFILE;position;$Si;8| (|f| $) (COND ((NULL (EQUAL (QVELT |f| =
2)
"input")) (|error| "file must be in read state")) ((QUOTE T) =
(FILE-POSITION
(QVELT |f| 1)))))

---------

Notice how '(< 255 |x|))' becomes '(QSLESSP 255 |x|))' during
this iteration. It is not clear to me that this change can be
related to a change in the domain vector. Or can it?

\start
Date: Sat, 8 Jan 2005 22:31:30 -0500
From: Bill Page
To: Tim Daly
Subject: RE: Problem with patch 23 and Solaris 9 identified
Cc: Kostas Oikonomou, Camm Maguire

On Saturday, January 08, 2005 10:32 PM you wrote:
> 
> My tla archives says:
> 
> arch@axiom-developer.org--axiom
>     sftp://arch.axiom-developer.org/home/arch/archive/axiom
> 
> The website used to say '@' but it was corrected to use '.'
> 

Well that is exceedingly odd. My tla archives says:

Administrator@ASUS ~/axiom--windows--1
$ tla archives
arch@axiom-developer.org--axiom
    sftp://arch@axiom-developer.org/home/arch/archive/axiom

----------

If I try to register a new archive by cut-and-pasting exactly
what is at the website

  tla register-archive arch@axiom-developer.org--axiom
sftp://arch.axiom-developer.org/home/arch/archive/axiom

then I get an error. But replacing the `arch.' by `arch@' works for
me.

Besides that, as far as I know normally sftp expects to a user id.
arch@ specifies that the user id is arch and both the names

  arch.axiom-developer.org

and

  axiom-developer.org

map to the same machine. So I don't see how what is at the web site
could possibly work.

\start
Date: Sat, 8 Jan 2005 23:04:19 -0500
From: Tim Daly
To: Bill Page
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

The ONEP change is mine. ONEP is a CCL function, not a common lisp function.
The question that needs to be answered in order to implement ONEP in
common lisp is what is the representation of '1' in various domains?

Notice that in a domain 'foo = 1' is a spad way of asking the question.
This used to be the way it was done but NAG changed it in the CCL 
implementation (probably for efficiency). 

Since I couldn't decide what the exact semantics of ONEP are I took
the safest route.

\start
Date: Sat, 8 Jan 2005 23:24:37 -0500
From: Tim Daly
To: Bill Page
Subject: Re: Problem with patch 23 and Solaris 9 identified
Cc: Kostas Oikonomou, Camm Maguire

ummm, but it does? :-)

i changed it because a user complained that they were being asked for
arch's password. i have no idea why it works for me but it does.

can the other people with write access type:

tla archives

and tell me which arch line they use:

  sftp://arch.axiom-developer.org/home/arch/archive/axiom

or

  sftp://arch@axiom-developer.org/home/arch/archive/axiom

\start
Date: Sat, 8 Jan 2005 23:30:07 -0500
From: Tim Daly
To: Bill Page
Subject: Re: Problem with patch 23 and Solaris 9 identified
Cc: Kostas Oikonomou, Camm Maguire

As usual, you are correct and I am wrong.

The subtle point is that sftp will use the userid of the shell you
are using. It just so happens that I work as 'arch' when working on
axiom's arch directory (and you thought i was always root :-) ).

I'll fix it.

\start
Date: Sat, 8 Jan 2005 23:09:42 -0500
From: Bill Page
To: Tim Daly
Subject: RE: Problem with patch 23 and Solaris 9 identified

There seems to be an error in the Makefile for the Axiom book.

After doing:

  $ tla get book--main--1 AxiomBook
  $ cd AxiomBook
  $ make

I get the error:

making noweb
tar: noweb/contrib/kostas/Makefile: Cannot create symlink to
`Makefile.make': No such file or directory
tar: Error exit delayed from previous errors
make: *** [noweb] Error 2

--------

Do you know what might be wrong?

\start
Date: Sat, 8 Jan 2005 23:38:19 -0500
From: Bill Page
To: list
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

On Saturday, January 08, 2005 6:20 PM Stephen Wilson wrote:
> ... 
> I'm thinking about two options for extending the axiom compiler.
> We could formalize a `compilation model', where given a file
> which references itself either directly or indirectly, the
> compiler updates all domains/categories implicitly as needed
> ( my intuition tells me this is dangerous. Even if the compiler
> implemented such a model perfectly, bugs could be subtle and
> hard to track down ).

I am not sure I understand what you mean by a `compilation model'
in the case of a language like Axiom. Could you suggest some
relevant references?

> A second alternative is to explicitly support mutually recursive
> structures in the language. I believe haskell and ocaml, for
> example, allow such constructions.

Right on! It seems to me that mutual recursion is exactly what
is going on here (the hard way by iteration! :) And I believe
that haskell and ocaml are excellent examples from which to draw
extension to Axiom (and Aldor).

Here are some references on mutual recursion that seem
quite relevant to me;

http://portal.acm.org/citation.cfm?id=507644

" ... We propose a practical and simple extension of the Modules
language that caters for cyclic dependencies between both types
and terms defined in separate modules...."

http://www-2.cs.cmu.edu/~rwh/courses/modules/papers/russo01/paper.pdf

http://citeseer.ist.psu.edu/context/1748065/439939

"This enables mutual and self recursive structures, commonly
occurring in object-oriented programs, to be readily specified.
In this paper, we provide a fixed point interpretation of such
definitions."

http://www.itee.uq.edu.au/~smith/papers/zb2000.pdf

Of course there are many more good papers on mutual recursion.

\start
Date: Sat, 8 Jan 2005 23:54:52 -0500
From: Tim Daly
To: list
Subject: [MAILER-DAEMON@sbcglobal.net: Returned mail: see

------- Start of forwarded message -------

The sftp line has been fixed.

I also updated the website to point people at the axiom irc channel

server: irc.freenode.net 
channel: #axiom-developer

\start
Date: Sat, 8 Jan 2005 23:32:16 -0500
From: Bill Page
To: Tim Daly
Subject: RE: Problem with patch 23 and Solaris 9 identified

On Saturday, January 08, 2005 11:30 PM you wrote:
> 
> As usual, you are correct and I am wrong.
>

May I frame that quote and post it up on my wall? <grin>

> 
> The subtle point is that sftp will use the userid of
> the shell you are using. It just so happens that I
> work as 'arch' when working on axiom's arch directory
> (and you thought i was always root :-) ).

Aw, that explain all.

> 
> I'll fix it.
>

\start
Date: Sun, 9 Jan 2005 07:36:43 +0200
From: Vladimir Bondarenko
To: Tim Daly
Subject: Re[2]: Issue tracker: Language selection

VB>> I would take the opportunity to tell that I find Axiom developers
VB>> a very warm and friendly group, excellent, the only bad point is
VB>> that here money are not paid ;)

ThD> There is wealth here, not measured by money.

ThD> We are pushing forward the field of computational mathematics and
ThD> have the opportunity to do it "in the early years", in the
ThD> company of clever and dedicated people who do it for the love of
ThD> it. It is a rare and wonderful opportunity for which I am
ThD> extremely grateful.

ThD> Tim

Haven't you seen my ";)" symbol?

:-)

Actually, not all I say should be always taken in earnest. Having read
Axiom Developers' dialogues I see that, just as I expect, you folks
have also nice sense of humor, so I just added my 2 cents to this most
valuable air of freedom and joy, the essences without which the AXIOM
real progress and success are unthinkable.

At any rate, I like very much your remark. Your attitude to
computational math is very close to mine.

I am pushing forward - let me say these words publicly for the first
time - the emerging field of computational quality assurance and have
the honor to be the Father of this new discipline, in the company of a
clever and dedicated person (I myself) who do it for the love of it
and understanding of the needs of society of the XXI century. It is a
unique opportunity for which I am, just like you, grateful beyond
limits. I am lucky to be born just in my time. My behavior is driven
by a grand goal, one of my dreams, a sub-part of this goal, is to help
building really powerful computer algebra systems of new generation,
to make them an influential tool of our cognition, a tool to yoke the
forces of nature, a tool to enjoy intellectual math aerobatics, an
intelligent helper using which a new Ramanujan, in a flight of his
inspiration, will discover novel, divine math transformations and
identities and concepts.

If your words do reflect your idea of my activity as being directed
for money, just like RJF 10 years ago, you maybe do not realize fully
that, unlike you with about 5000 USD a months, I live in the country
where my parents are forced to live at 120 USD a month, together. This
is 30+ times lesser.

Ask himself, how much satisfied would be you at such sum (God forbid!
:)

There were many days over the last 10 years when my daily meal
consisted of 3 glasses of tomato juice of 230 ml, plus 500 grams of
bread.

I personally need money not for myself but to support my programmers,
parents and kids. To support the modern computer algebra, to support,
in particular, your AXIOM.

Via my computational flair, outstanding diligence, and iron will I am
going to transform the current mire of (implementation of) computer
algebra. http://maple.bug-list.org/ with 5,000 Maple bugs - a major
update is coming - is just the very beginning. Fasten your seat belts,
please.


To start with, do you realize that actually AXIOM Computer Algebra
System, Version of Wednesday December 15, 2004 at 00:50:38
has at least thousands distinct bugs?

\start
Date: Sun, 9 Jan 2005 01:22:04 -0500
From: Stephen Wilson
To: Bill Page
Subject: re: algebra Makefiles with explicit

On Sat, Jan 08, 2005 at 10:21:34PM -0500, Bill Page wrote:
> I am not sure I understand what you mean by a `compilation model'
> in the case of a language like Axiom. Could you suggest some
> relevant references?

I dont have any references, unfortunately. The thought I have in mind
is really no more than an axiom specific `make'. In allowing the compiler
do the bookkeeping, we could automagicly resolve dependencies and have
a trusted logic to achieve the `fixed point' state. I used the term
`compilation model' since, however the process proceeds, we need a tight
definition of what actions the compiler will perform, how it finds
source files, etc. We might only need enough logic in the compiler
itself to produce appropriate error messages which could be captured
and parsed by the interpreter or some other process. 

No matter how I think of the problem of dependencies in terms of a
`build' procedure, I'm always compelled to regard it as a language
issue. We are currently defining mutually recursive structures in a
language which, strictly speaking, does not support them!

> Here are some references on mutual recursion that seem
> quite relevant to me;

Thank you very much for pointing these out! I will look them over this
weekend.

I regard axiom as a particular implementation of a general philosophy
on how to do computational math. Trying to work towards a new
compiler/language, I think, has some great benefits. It would be great
fun :) It motivates one to study the existing implementation, which in
turn motivates maintenance and improvement of the existing system. And
of course there is all the benefits to the scientific community
(despite the apparent lack of funding for such work, I dont consider
the area of CAS design a solved problem! :).

\start
Date: Sun, 9 Jan 2005 10:39:03 +0100
From: Martin Rubey
To: Vladimir Bondarenko
Subject: Re: Re[2]: AXIOM bug list / available resources?

Vladimir Bondarenko writes:

 > MR> These are confirmed bugs, currently there are no unconfirmed bugs,
 > MR> as far as I know.
 > 
 > Do you mean that currently it is known less than 100 non-fixed bugs
 > for AXIOM, those #4551 and so forth?

Yes.
 
 > Ah actually, I just meant the ability not export the known AXIOM bugs,
 > to but to read all them, that will do, - a learning curve, you know.

On savannah,

http://savannah.nongnu.org/bugs/?group=axiom

just click on the bug you want to read about???

 > Now I adore leading a giddy life of pleasure, and a favorite saying of mine
 > is, One good tester should find 100 times more bugs than all the developers
 > can fix together.

Go ahead. But PLEASE be as concise as possible, burning down the bug to the
real issue. There is no point in having 1000 nearly identical bugs...

\start
Date: Sun, 09 Jan 2005 09:38:18 -0500
From: Eugene Surowitz
To: list
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

It's probably irrelevant (I think it was fixed) but:
Once upon a time long long ago in the land of Axiom,
I had the experience of trying to invert the identity matrix
and getting something like: "could not coerce to Matrix Rational Integer';
that's no quote :-)

Cheers, Eugene Surowitz

Bill Page wrote:

>Steve
>
>On Saturday, January 08, 2005 8:34 PM you wrote:
>  
>
>>The bootstrap code for SingleInteger does not contain a `one?'
>>function. On the second iteration the `one?' is compiled,
>>changing the domain vector for SingleInteger. Propagation is
>>exactly what is going on here. 
>>    
>>
>
>Fantastic work! I am totally envious of your obvious skill
>with lisp and the Axiom compiler code.
>
>This thing about `one?' reminds of something that has worried
>me a while in the Axiom library code. In *many* places throughout
>the code there are comments like these in  si.spad.pamphlet:
>
>--      not one? c => error "inverse does not exist"
>      not (c = 1) => error "inverse does not exist"
>
>--   one?(x)   == ONEP(x)$Lisp
>   one?(x)   == x = 1
>
>The documentation contains this terse explanation:
>
>"The definition of {\bf one?} has been rewritten as it relies
>on calling {\bf ONEP} which is a function specific to Codemist
>Common Lisp but is not defined in Common Lisp."
>
>There is no clearly stated author of this text. (Did you write
>that Tim?)
>
>Anyway, my concern about this is exactly about the creation
>of circular dependencies. Surely such a basic change must
>create many new dependencies? Wouldn't if have been much
>better simply to provide a GCL compatible lisp expression?
>
>  
>
>>There is an interesting story behind how I tracked this down.
>>I'll prepare some notes and document some the the lookup
>>functions used within the compiler runtime.
>>
>>I'll report back after the build finishes. 
>>
>>    
>>
>
>I look forward to reading this!
>
>Now from looking at the fixedPoint.log diffs, I think that
>there must be at least one more similar propagation.
>
>--- int/algebra/BINFILE.lsp     Fri Jan  7 13:13:39 2005
>+++ int/algebra/BINFILE.NRLIB/code.lsp  Fri Jan  7 13:39:24 2005
>@@ -13,7 +13,7 @@
> 
> (DEFUN |BINFILE;readIfCan!;$U;6| (|f| $) (PROG (|n|) (RETURN (SEQ (COND
>((NULL (EQUAL (QVELT |f| 2) "input")) (|error| "File not in read state"))
>((QUOTE T) (SEQ (BINARY_SELECT_INPUT (QVELT |f| 1)) (LETT |n|
>(BINARY_READBYTE) |BINFILE;readIfCan!;$U;6|) (EXIT (COND ((EQL |n| -1) (CONS
>1 "failed")) ((QUOTE T) (CONS 0 |n|))))))))))) 
> 
>-(DEFUN |BINFILE;write!;$2Si;7| (|f| |x| $) (SEQ (COND ((NULL (EQUAL (QVELT
>|f| 2) "output")) (|error| "File not in write state")) ((OR (QSLESSP |x| 0)
>(< 255 |x|)) (|error| "integer cannot be represented as a byte")) ((QUOTE T)
>(SEQ (BINARY_PRINBYTE |x|) (EXIT |x|)))))) 
>+(DEFUN |BINFILE;write!;$2Si;7| (|f| |x| $) (SEQ (COND ((NULL (EQUAL (QVELT
>|f| 2) "output")) (|error| "File not in write state")) ((OR (QSLESSP |x| 0)
>(QSLESSP 255 |x|)) (|error| "integer cannot be represented as a byte"))
>((QUOTE T) (SEQ (BINARY_PRINBYTE |x|) (EXIT |x|)))))) 
> 
> (DEFUN |BINFILE;position;$Si;8| (|f| $) (COND ((NULL (EQUAL (QVELT |f| 2)
>"input")) (|error| "file must be in read state")) ((QUOTE T) (FILE-POSITION
>(QVELT |f| 1))))) 
>
>---------
>
>Notice how '(< 255 |x|))' becomes '(QSLESSP 255 |x|))' during
>this iteration. It is not clear to me that this change can be
>related to a change in the domain vector. Or can it?

\start
Date: Sun, 9 Jan 2005 10:54:04 -0500
From: Stephen Wilson
To: Tim Daly
Subject: re: algebra Makefiles with explicitdependencies,

I attempted a build overnight with the updated bootstrap code for
single integer. I was trying to keep myself optimistic that this was
all of the bootstrap code which would need to be touched. Alas, a
simple substitution has not worked for me; the compilation choked soon
after I left the keyboard for the night.

It would seem that at least all of the bootstrap which involves SINT
needs to be rebuilt. My current list of such categories/domains is

SINT       BOOLEAN     COMRING	   INT	       
RING	   ISTRING     ABELMON	   PI
RNG	   LIST	       SETCAT      CHAR
ABELGRP	   NNI	       SETCAT-	   SYMBOL
CABMON	   OUTFORM     UFD	   DFLOAT
ABELMON	   PI	       GCDDOM	   ILIST
ABELSG	   PRIMARR     REF         VECTOR

Given that the list is quite long, and yet might still be incomplete,
perhaps we should dump all the bootstrap code and update all pamphlet
files?

If you agree this is a good move, perhaps we can think of the possible
advantage of automating the process. e.g. a make option to update the
related bootstrap pamphlet files with fresh code. I have a feeling,
however, that this is such a central aspect of the build it might
better be left as a `by hand process'. What do you think?

I am willing to do this work today if you like. Tim, would you prefer
to take this on given your expertise? If not, any words of wisdom? ;)

Cheers,
Steve


On Sat, Jan 08, 2005 at 11:04:19PM -0500, root wrote:
> Bill,
> 
> The ONEP change is mine. ONEP is a CCL function, not a common lisp function.
> The question that needs to be answered in order to implement ONEP in
> common lisp is what is the representation of '1' in various domains?
> 
> Notice that in a domain 'foo = 1' is a spad way of asking the question.
> This used to be the way it was done but NAG changed it in the CCL 
> implementation (probably for efficiency). 
> 
> Since I couldn't decide what the exact semantics of ONEP are I took
> the safest route.

\start
Date: Sun, 9 Jan 2005 11:51:13 -0500
From: Tim Daly
To: Vladimir Bondarenko
Subject: Re: Issue tracker: Language selection

Sorry to hear about your living conditions. Perhaps you might look
at the Axiom Foundation information.

There is an effort, called CATS (Computer Algebra Test Suite), which
contains a collection of the test cases from several computer algebra
systems. Current testing methods in this field amount to collecting a
few working examples and running these examples as regression tests to
ensure that nothing breaks.

In numerical math there is a NIST (National Institute of Standards and
Technology) standard classification of the various numerical methods.
No such classification exists for symbolic mathematics.

If we bring these two ideas together then the goal of CATS is to 
develop a classification system for symbolic mathematics. Under
each classification is an explanation of the mathematics and a
suite of test cases for each participating computer algebra system.
CATS uses a literate program to combine the mathematics with the
executable code so the examples can serve as a testing suite.

I have the beginnings of this effort (a collection of the test suites
from various computer algebra systems and a weak attempt at a
classification hierarchy) already in place. It was posted on a
previous arch server. I have not reposted it because no-one but me
has shown interest.

Since you're interested in the issue of testing and quality control
you might find CATS of interest. If I get some time in the near future
I'll try to collect the various parts and post them again. If you're
interested you can follow the instructions on arch.axiom-developer.org
to get write access.

\start
Date: Sun, 9 Jan 2005 15:14:44 -0500
From: Bill Page
To: Stephen Wilson
Subject: re: algebra Makefiles with explicitdependencies,bootstrap, fixed-points etc.

On Sunday, January 09, 2005 10:54 AM you wrote:
> ...
> perhaps we should dump all the bootstrap code and update all
> pamphlet files?

Yes I agree. But see also below.

> 
> If you agree this is a good move, perhaps we can think of
> the possible advantage of automating the process. e.g. a make
> option to update the related bootstrap pamphlet files with
> fresh code. I have a feeling, however, that this is such a
> central aspect of the build it might better be left as a
> `by hand process'. What do you think?

I don't think there would be much point in automating this
separately from the issue of implementing a general "fixed
point" build process. In the current situation in Axiom it
seems that it is possible simply to update the existing set
of bootstrap files with the fixed point lisp code and thereby
guarrantee a fixed point solution in just one pass. But I
do not think that this is possible in general. I believe that
changes in some Axiom modules will eventually necessitate
a different selection of bootstrap files in order to obtain
a one pass build.

I will write a little more about this in reply to your other
message.

> 
> I am willing to do this work today if you like. Tim, would
> you prefer to take this on given your expertise? If not, any
> words of wisdom? ;)
> 

I don't think that replacing the bootstrap lisp code is difficult
or particularly subtle. All you need to do is copy the appropriate
*.NRLIB/code.lsp files back to the <<*.lsp BOOTSTRAP>> chunks in
the src/algebra/*.spad.pamphlet files. I think you should go ahead
and do this and update the axiom--main--1 branch. I can grab your
changes from there and apply them to the axiom--windows--1 branch.

But lets keep in mind that this is not a general solution. It
only solves the build problem and retains the current make process
for now. I think we should continue to pursue the idea of mutual
recursion in Axiom since it is (at least implicitly) such an
essential part of the current Axiom library.

\start
Date: Sun, 9 Jan 2005 16:05:53 -0500
From: Bill Page
To: Stephen Wilson
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

On Sunday, January 09, 2005 1:22 AM you wrote:
> 
> On Sat, Jan 08, 2005 at 10:21:34PM -0500, Bill Page wrote:
> > I am not sure I understand what you mean by a `compilation
> > model' in the case of a language like Axiom. Could you suggest
> > some relevant references?
> 
> I don't have any references, unfortunately. The thought I have
> in mind is really no more than an axiom specific `make'. In
> allowing the compiler do the bookkeeping, we could automagicly
> resolve dependencies and have a trusted logic to achieve the
> `fixed point' state. I used the term `compilation model' since,
> however the process proceeds, we need a tight definition of what
> actions the compiler will perform, how it finds source files,
> etc. We might only need enough logic in the compiler itself to
> produce appropriate error messages which could be captured and
> parsed by the interpreter or some other process. 

When you said "compilation model" what came to my mind is
something analogous to but much more general than, say the
solution of a set of linear equations by an algorithm like
Gaussian elimination. I.e. the compiler would have to recognize
the specific form of the recursion and transform it to an
equivalent problem with an easily computed solution.

I do not know of any such general "automagic" that would apply
to a language as general as Axiom. Dealing with mutual recursion
is much more complicated than just resolving dependencies.

But as a "brute force" method I think that the kind of iteration
that I implemented to find the current problem can also serve
(for now at least) as it's general solution. Thankfully computer
hardware is now so far advanced that compiling Axiom no longer
takes a week and the prospect of having to re-compile the Axiom
algebra two or three times in order to find the fixed point is
not such a heavy prospect. The current fixedPoint script does
this in about 6 hours on my 2.4 GHz. 512Mb. machine.

If have been thinking if it would be worthwhile to try to take
advantage of a complete set of dependencies in order minimize
the work needed during each iteration. Right now I simply blow
away all the generated code at each iteration and rebuild
everything. Strictly this is probably not necessary. Instead
one might attempt to find only the strongly connected components
in the dependency graph and use them to form a conventional
dependency lattice. Iteration is strictly only necessary within
each component.

I haven't done a formal analysis (Does anyone have a suitable
implementation an efficient graph algorithm that could find
the strongly connected components of a graph of about 1,500
nodes and an average degree of about 10 - 15 arcs?) but my
impression is that the Axiom algebra code is already so inter-
connected that this procedure might not yield much advantage.
Furthermore, it is necessary that the dependency graph itself
be determined dynamically. This is possible, but it would
further complicate each iteration.

Therefore as I originally explained to Tim, I think the best
approach would be to provide "bootstrap" lisp code for *all*
of the Axiom spad files. Then during the build, the initial
bootstrap version of Axiom would be built directly from only
the bootstrap lisp files. Since this involves only lisp
compilation, it would considerably faster than compiling the
spad code. Then the first iteration of the build would be to
simply compile all of the spad files as we do now. If all of
the generated lisp code matches the bootstrap lisp code, then
we are done. If not, then we need to update the cached lisp
code and repeat the iteration until convergence is reached.
In this case there is no need to worry about dependencies at
all.

As I have said previously however, I do not think that it would
be easy to prove that this brute force iteration method will
necessarily find a fixed point, let alone a least fixed point.
If the Axiom language contained only functional constructs then
perhaps this might be formally possible. I think it would make
a great programming language research topic. But in practice,
I do not think that the lack of proof of convergence of the
simple iteration procedure is likely to cause any problem.
After all, Axiom has existed as a viable programming environment
for quite some time apparently without even recognizing that
there was a (potential) problem.

> 
> No matter how I think of the problem of dependencies in terms
> of a `build' procedure, I'm always compelled to regard it as
> a language issue. We are currently defining mutually recursive
> structures in a language which, strictly speaking, does not
> support them!

Yes, that is quite interesting isn't it? I wonder if this has
been recognized before by previous Axiom developers? It seems
that Axiom has always been on the leading edge of programming
language development - so much so that sometimes I think the
developers did not even know how advanced they were. Axiom had
the basis of a object-oriented design even before the concept
had a name.

I think it would be a good idea right now to formally recognize
that Axiom's algebra is specified in a mutually recursive manner
and even to encourage it's further use. I think Tim's example
of the coding of `one?' function is a particular good example
as to why this is a good idea from the point of view of the
Axiom language. It does seem quite unsatisfactory to me to be
forced to specify such a basic equality in terms of lisp
primitives.

> 
> > Here are some references on mutual recursion that seem
> > quite relevant to me;
> 
> Thank you very much for pointing these out! I will look them
> over this weekend.
> 
> I regard axiom as a particular implementation of a general
> philosophy on how to do computational math. Trying to work
> towards a new compiler/language, I think, has some great
> benefits. It would be great fun :) It motivates one to study
> the existing implementation, which in turn motivates maintenance
> and improvement of the existing system. And of course there is
> all the benefits to the scientific community (despite the
> apparent lack of funding for such work, I don't consider the
> area of CAS design a solved problem! :).
> 

I agree enthusiastically and I sincerely hope that we can somehow
attract the interest of other CAS developers, the current Aldor,
Haskel and Ocaml developers in this issue.

\start
Date: Sun, 9 Jan 2005 16:18:23 -0500
From: Stephen Wilson
To: Bill Page
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

Bill,

I figured the odds were good that we would agree on updating the
bootstrap code. I have about 37 (out of 85) more files to update. I
have discovered another problem in the bootstrap code so far: EUCDOM
is missing the code for expressIdealMember.

On Sun, Jan 09, 2005 at 03:14:44PM -0500, Bill Page wrote:
> I don't think there would be much point in automating this
> separately from the issue of implementing a general "fixed
> point" build process. 

Given that we may need to work with the current build configuration
for some time, I figured automating the process of writing out fresh
bootstrap code might be a plausible, lightweight, solution for
now. The `by hand' method has the virtue of forcing one to pay
attention, yet is error prone by its nature. It will take some testing
for me to be convinced that the updates I am doing now are not
introducing any new bugs. Conversely, it would take some testing for
me to be confident some custom build tool was doing its job. 

> I think you should go ahead and do this and update the
> axiom--main--1 branch. I can grab your changes from there and apply
> them to the axiom--windows--1 branch.

I would prefer to get the changes written, then package up a set of
patches to distribute to yourself and Tim. You guys have about a
gazillion times more experience testing a freshly built system then I
do ( of course, I will do a build-test cycle as well ). I'll update the
language branch, but until I'm more seasoned I'd prefer to regard
main as `hands off'. 

> But lets keep in mind that this is not a general solution. It
> only solves the build problem and retains the current make process
> for now. I think we should continue to pursue the idea of mutual
> recursion in Axiom since it is (at least implicitly) such an
> essential part of the current Axiom library.

I agree. For myself at least, learning how things are done today can
only help in realizing what we want to achieve down the road. 

\start
Date: Sun, 9 Jan 2005 16:24:14 -0500
From: Bill Page
To: Vladimir Bondarenko,
Subject: RE: Re[2]: Issue tracker: Language selection

On Sunday, January 09, 2005 12:37 AM Vladimir Bondarenko wrote:
> ... 
> Via my computational flair, outstanding diligence, and iron will
> I am going to transform the current mire of (implementation of)
> computer algebra. http://maple.bug-list.org/ with 5,000 Maple bugs -
> a major update is coming - is just the very beginning. Fasten your
> seat belts, please.

Your language encourage one to challenge your claims!

> 
> To start with, do you realize that actually AXIOM Computer
> Algebra System, Version of Wednesday December 15, 2004 at
> 00:50:38 has at least thousands distinct bugs?
> 

It isn't all that relevant how you count bugs as long as you
don't count, for example an error in integer arithmetic as an
uncountable number of errors...

But 5,000+ bugs in Maple is no surprize to me at all and an
even greater number of easily identifiable bugs in Axiom would
also not surprize me. In fact, I think your definition of
mathematics must be quite restricted if your estimated number
of bugs is this small. :) Finding bugs is easy and cheap. Fixing
bugs is an entirely different matter. I hope that you are able
to reserve some of your talent and energy for implementing new
correct algorithms.

I think it is likely that using a computer to do mathematics is
inherently limited in such a way that there are always likely to
be a large number of mathematical "bugs". Therefore I am not that 
optimistic about your overall stated goals for improving computer
algebra systems to such a state that they become an universally
essential tool. But in spite of these limitations, I do already
feel that systems like Maple, Mathematica and Axiom can severe
as significant mental prosthesis, as aids in the application of
advanced mathematics in many different areas where formal
mathematics would otherwise not be used to much advantage.

\start
Date: Sun, 9 Jan 2005 17:08:40 -0500
From: Tim Daly
To: Bill Page
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

Steve, Bill,

I don't think we need to rush ahead with this task as it is much
more important to make sure it is right than it is to do it quickly.

I'd suggest that the "fixed-point" bootstrap be merged into 
axiom--algebra--1 so we can test it first. By test it I mean that
we have to compare, line by line, the output of the current input
files to see if anything breaks. There are also a set of known
broken input files (see src/input/Makefile.pamphlet) and we need
to see if this fixes any known problems there.

I don't believe that the build should modify the src/algebra/*.pamphlet
files automatically. The source directory is generally considered
read-only, hand-generated code. It might be the case that the build
system CHECKS to see if there is a difference between the bootstrap
files and the build files.

It is more important to understand the nature of the difference and
what causes it. These differences could be showing up at higher levels
but not apparent because we have not kept the generated .lsp files
from prior builds.

We certainly do not want to break the february build with such a 
fundamental change. The february build will be the first "real axiom"
version for most people and it is important that it run properly.
There are several hundred people at least looking at axiom (given
the download numbers) so we have a responsibility to make sure that
our changes are correct, complete, and necessary.

\start
Date: Sun, 09 Jan 2005 18:16:35 -0500
From: Kostas Oikonomou
To: list
Subject: Solaris build of patch 23 successful

The Solaris 9 build is (finally!) complete.  Axiom works with TeXmacs.
My thanks to Bill, Camm, and Tim for all their help.

\start
Date: Sun, 9 Jan 2005 21:40:39 -0500
From: Bill Page
To: Tim Daly
Subject: Axiom website statistics for December and January to date

Tim,

On Sunday, January 09, 2005 5:09 PM you wrote:

> ...
> There are several hundred people at least looking at axiom
> (given the download numbers) so we have a responsibility
> to make sure that our changes are correct, complete, and
> necessary.
> 

You are right, but I think your estimate of the number of people
currently looking at Axiom is too small by about a factor of 10.

Axiom for Windows has already been downloaded more that 250 times
so far in January - more than 25 times per day. The Axiom book has
been downloaded about 100 times so far this month - more than 10
times per day.

During the month of December Axiom for Windows was downloaded 850
times. The Axiom book was downloaded 1201 times. There were 22
downloads of the axiom.20040418.tgz linux binary.

The MathAction website does not track the number of times Axiom
was downloaded from CVS or from the arch branches so the number
of linux users who have a running version of open source Axiom
is kind of hard to estimate, but at least 100 users might not be
a bad guess.

At least 2354 different people (different ip addresses) visited
the MathAction website during December. Trying hard not to count
the large number of accesses by web search engines, it appears
that these 2,350 people viewed at least 12,800 pages from the
MathAction site.

\start
Date: Sun, 9 Jan 2005 21:40:39 -0500
From: Bill Page
To: Tim Daly
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

Tim,

On Sunday, January 09, 2005 5:09 PM you wrote:
> 
> I don't think we need to rush ahead with this task as it
> is much more important to make sure it is right than it is
> to do it quickly.

I agree that it is important to make sure that it is right.
In fact that is why I started to look at this. I was worried
that the current build does not (quite) do it right. The
fact that the generated lisp files change after an iteration
of the build proves that, I think. So on the contrary I do
think there is some urgency.

> 
> I'd suggest that the "fixed-point" bootstrap be merged into 
> axiom--algebra--1 so we can test it first.

I am a little confused by the large number of axiom branches.
Can you remind me what is axiom--algebra--1? How does the code
in this branch compare to the current axiom--main--1 and
axiom--windows--1? Steve also mentioned axiom--language--1.
What is that? I see the titles at http://arch.axiom-developer.org
but shouldn't we have a more complete discription somewhere
of the goals of each project, a list of who is working on
them? Someone names as the "owner" etc.?

By "fixed-point bootstrap" do you mean the bash script that
I called fixedPoint which performs the iteration or the actual
bootstrap lisp files that result from this iteration? If it
is the former, then that just involves 3 very simple scripts
that call 'make' - no changes at all to the Axiom code - but
the Axiom algebra spad code must be built at least twice in
order to obtain consistent lisp code that is consistent with
the spad files.

If you mean the the bootstrap lisp files, then we know that
if we replace the 80+ <<*.lsp BOOTSTRAP>> code chunks with
updated lisp code, then the generated lisp code will be
consistent with the spad files on the first build.

> By test it I mean that we have to compare, line by line, the
> output of the current input files to see if anything breaks.
> There are also a set of known broken input files
> (see src/input/Makefile.pamphlet) and we need to see if this
> fixes any known problems there.

That should be pretty easy since we already save the output as
.output files. I think we just need to cache the first version
of these files somewhere and then delete them and re-run 'make'
to create a new set. Then run a diff. I will do this later
tonight with my current axiom--windows--1 build and let you
know the result.

> 
> I don't believe that the build should modify the 
> src/algebra/*.pamphlet files automatically. The source
> directory is generally considered read-only, hand-generated
> code. It might be the case that the build system CHECKS to
> see if there is a difference between the bootstrap files
> and the build files.

I think it is *essential* that the build system CHECKS to see
if there is a difference between the bootstrap files and the
build files. In fact that is *exactly* what the fixedPoint script
does now. We already know that if we do not replace the original
bootstrap files, then there are differences at both the initial
build and the first iteration.

> 
> It is more important to understand the nature of the difference
> and what causes it. These differences could be showing up at
> higher levels but not apparent because we have not kept the
> generated .lsp files from prior builds.

The fixedPoint script keeps the generated .lsp files from the
previous build and compares them to the newly generated .lsp
files. It repeats the build until all of the files are the same.

> 
> We certainly do not want to break the february build with
> such a fundamental change.

My conclusion is that the current build is already subtly broken
and we probably do not want to release a february build *until*
we fix this problem. The simplist way to fix the problem is to
replace the current bootstrap lsp code in the pamphlet files
with the lsp code generated by the fixedPoint iteration.

> The february build will be the first "real axiom" version for
> most people and it is important that it run properly.

I agree. That is the reason why I think it is quite urgent that
we resolve the current problem first.

> There are several hundred people at least looking at axiom
> (given the download numbers) so we have a responsibility to
> make sure that our changes are correct, complete, and necessary.
> 

You are right, but I think your estimate of the number of people
currently looking at Axiom is too small by about a factor of 10.

\start
Date: Sun, 9 Jan 2005 21:48:26 -0500
From: Bill Page
To: Kostas Oikonomou
Subject: RE: Solaris build of patch 23 successful

Kostas,

On Sunday, January 09, 2005 6:17 PM you wrote:
> 
> The Solaris 9 build is (finally!) complete.  Axiom works with
> TeXmacs.

That's great news. So now I guess it is my turn this week to
see if I can repeat your success.

> My thanks to Bill, Camm, and Tim for all their help.
> 

You are welcome... but here comes the request... :) Now that
you are the expert on building Axiom on Solaris, would you be
willing to write a summary of what you had to do in order to
get Axiom to run on this platform? Would it be possible for you
to submit patches to the axiom--solaris--1 archive branch so
that someone could download that branch and reasonably expect
to be able to build Axiom on their Solaris system? Would you
like some help to do this?

\start
Date: Sun, 9 Jan 2005 23:23:18 -0500
From: Bill Page
To: Tim Daly, Stephen Wilson
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

Tim, Steve,

On Sunday, January 09, 2005 9:41 PM I wrote:
>
> On Sunday, January 09, 2005 5:09 PM Tim wrote:
> > 
> > I'd suggest that the "fixed-point" bootstrap be merged into 
> > axiom--algebra--1 so we can test it first.
> > By test it I mean that we have to compare, line by line, the
> > output of the current input files to see if anything breaks.
> > There are also a set of known broken input files
> > (see src/input/Makefile.pamphlet) and we need to see if this
> > fixes any known problems there.
> 
> That should be pretty easy since we already save the output as
> .output files. I think we just need to cache the first version
> of these files somewhere and then delete them and re-run 'make'
> to create a new set. Then run a diff. I will do this later
> tonight with my current axiom--windows--1 build and let you
> know the result.
> 

I created a new directory called `int/output' and I copied all
the files named `int/input/*.output' to int/output and deleted
them from int/input. These files were created when I did the
initial build of Axiom using the bootstrap files.

Then I ran 'make' again to create a new set of `int/input/*.output'
files. These output files are generated using the last *.o algebra
files that were built during the fixedPoint iteration.

Comparing the two sets of files using the command

  $ diff -au  -I 'Version' -I 'Time' -x '*\.input' int/output int/input

there are no differences.

The extra options -I on diff say to ignore any lines containing
the word 'Version' (since the version of Axiom that generated these
files are always different) and also to ignore any lines containing
'Time' since the timing changed slightly between the two different
versions (the fixedPoint version is apparently very slightly faster),
and finally the option -x says to not compare the *.input files
since I didn't copy them to int/output.

So it seems that the fixedPoint iteration did not break anything
that we previously knew about and did not fix anything that we
knew was already broken. Of course this is not such a strong
test because the current set of input files do not really cover
that much of what Axiom can do. But I think that it shows that
we would not be making a big mistake if we decide to update
the bootstrap lisp chunks in the src/algebra/*.spad.pamphlet
files.

Steve, could you also run this sort of test on your linux
version of the fixedPoint solution?

\start
Date: Mon, 10 Jan 2005 01:15:39 -0500
From: Tim Daly
To: Bill Page
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

Bill,

> > I don't think we need to rush ahead with this task as it
> > is much more important to make sure it is right than it is
> > to do it quickly.
> 
> I agree that it is important to make sure that it is right.
> In fact that is why I started to look at this. I was worried
> that the current build does not (quite) do it right. The
> fact that the generated lisp files change after an iteration
> of the build proves that, I think. So on the contrary I do
> think there is some urgency.

If you remember the primary reason why we decided that there should
be monthly releases of Axiom was to undermine this sort of reasoning.
The monthly release cycle is intended to ensure that we have timely
releases of changes. The argument was that a 6 month release cycle
would delay a bug fix for an average of 9 months. A monthly release
cycle reduces that to an average of 1.5 months. 

Yes, I agree that there is an interest in Axiom and, yes, I agree that
this might be an important issue. Then again, the suggested change
might have no effect on the algebra at all. I do not believe that
we have sufficient time to 
(a) understand the nature of the problem
(b) decide if it is a bug
(c) decide that we have the correct fix
(d) document the problem and the fix
(e) decide that we haven't broken anything
(f) correctly merge the changes
(g) do "round-trip" system builds

We have 20 days left before the February 1 release. At the moment 
I understand that we have found a difference between versions of
the BOOTSTRAP code and the later compiled forms. I do not yet
understand (a) above, the nature of the problem. Why are they
different? Even if they are different the build system intentionally
rebuilds all of the BOOTSTRAP files as the last step of the build
in order to guard against some potential problems. So I'm not sure
that (b) it is a bug. After all, if we mass-replace 85 files of
the build there will be one of two cases:
 1) the input files are the same and no bugs are fixed.
      so why change the algebra?
 2) the input files are different and either bugs are fixed or introduced
      so why change the algebra? 

Clearly case 1 will require a massive change to the system with no
apparent gain. If it doesn't fix anything then there is no hurry.
We can study the fixed-point problem at our leisure. I agree that
a change is needed, just not how urgent it is.

Clearly case 2 will require further study to decide what broke and
which version is correct. If the input files break in some way then
we need to clearly understand how the massive change broke or fixed
the system. If it fixes things then we need to think about the best
way to ensure that the problem can't happen again. If it breaks things
then we need to re-evaluate the change. And we need to docoument it.

This is a change to the very heart of the system. It deserves careful
time and attention and much careful checking. And as yet I don't 
believe we fully understand anything but the symptoms of a possible,
but not proven, bug. The changes are not uploaded anywhere, they are
not "round-trip" tested, they are not hand checked, there is no 
documentation of the problem and its fixes, etc. Given all that 
I believe February 1 is too soon.

Lets upload the changes to axiom--algebra--1 where we can all work 
on it.

Quality counts and it takes time.

> > I'd suggest that the "fixed-point" bootstrap be merged into 
> > axiom--algebra--1 so we can test it first.
> 
> I am a little confused by the large number of axiom branches.
> Can you remind me what is axiom--algebra--1? How does the code
> in this branch compare to the current axiom--main--1 and
> axiom--windows--1? Steve also mentioned axiom--language--1.
> What is that? I see the titles at http://arch.axiom-developer.org
> but shouldn't we have a more complete discription somewhere
> of the goals of each project, a list of who is working on
> them? Someone names as the "owner" etc.?

The various projects exist because I've had mail exchanges with
people who want to work on various aspects of Axiom. For example,
Steve Wilson wants to examine deep changes to the language so we
agreed that this task should be broken out into its own branch
axiom--language--1. Steve is listed at the primary contact on
the arch.axiom-developer.org website.

Some of the branches are a "combing out" of the various threads
that I'm currently working on either with others (axiom--zlc--1
for the zero-learning-curve work) or (axiom--algebra--1 for
algebra changes and enhancements that are not ready to ship).
There will be more of these threads as time permits (e.g. soon
to be a CATS thread for the Computer Algebra Test Suite work).
I have about 2 dozen "sub-projects" locally that need to be
branched, some of which will take time to collect, comb out,
clean, and upload. 

The arch server came about because people complained that I took
too long to get things like sman running and since all of the
code resided in my local swamp there was no way to share the
work. So I've been "draining the swamp" and putting the code
up where it can be shared, mostly prioritized by developer 
requests. As for a "complete description"... well, I'm just too
time-limited and lazy to write a "project description" for work
in progress. The people working on a branch generally know why
it is there (e.g. axiom--windows--1) and what state it is in.

If you want a particular branch in order to pursue some new idea
(e.g. getting BRL/CAD to work with Axiom) you can send me a note.
(Actually, you already have write permission to do it yourself)

> > By test it I mean that we have to compare, line by line, the
> > output of the current input files to see if anything breaks.
> > There are also a set of known broken input files
> > (see src/input/Makefile.pamphlet) and we need to see if this
> > fixes any known problems there.
> 
> That should be pretty easy since we already save the output as
> .output files. I think we just need to cache the first version
> of these files somewhere and then delete them and re-run 'make'
> to create a new set. Then run a diff. I will do this later
> tonight with my current axiom--windows--1 build and let you
> know the result.

Ah. The easy part. But you missed the hard part. There are 
input files listed in src/input/Makefile.pamphlet that do not
currently get built. They have various errors which I have not
had time to track yet. If we are going to change the basic
algebra we need to check each of these files to either make
sure they are still broken in the same way or are fixed.

> I think it is *essential* that the build system CHECKS to see
> if there is a difference between the bootstrap files and the
> build files. 

This is reasonable. However the .lsp files contain gensym symbols
which are very sensitive to any changes. So the diff procedure
either needs to be written in lisp or needs a filter to ensure
that gensyms don't cause spurious "failure" reports.

> My conclusion is that the current build is already subtly broken
> and we probably do not want to release a february build *until*
> we fix this problem. 

Different is not the same as broken. Broken means the algebra
gives wrong answers. 

> > The february build will be the first "real axiom" version for
> > most people and it is important that it run properly.
> 
> I agree. That is the reason why I think it is quite urgent that
> we resolve the current problem first.

We disagree on this. There will always be bugs. There will always be
an urgency to fix them. Axiom, as it exists, has many known bugs.  The
previous release system I used would update Axiom with every fix. The
result of the mailing list discussion was that this was unacceptable
and needed a schedule. So far we have had "one release in a row on
schedule".  Unless the algebra is shown to be badly broken,
i.e. giving many NEW wrong answers and that the new BOOTSTRAP change
fixes them I feel we can release a version on February 1 without it.
It will certainly make the March 1 release.

So, basically, there's the bar.... show me "stop the press"
failures that the BOOTSTRAP changes will fix. Or any new failures.

Otherwise there are people waiting on the newly merged graphics and
hyperdoc. One person I'm working with offline is developing hyperdoc
pages for a linear algebra course and needs the working hyperdoc.

\start
Date: Mon, 10 Jan 2005 11:48:14 +0100
From: Martin Rubey
To: Tim Daly
Subject: Re: [Axiom-math] Dynamically constructed return types / Aldor

Dear Tim, *

root writes:
 > I'm sorry but your note suffers from "context depravation", that is,
 > a fancy way of say "what?".

Sorry, I was a bit short. The "proof of concept" I delivered shows that
contrary to the axiom-spad compiler, aldor allows dependent types in function
signatures. I.e., you can define a package or domain FOO that exports a
function whose return type depends on the *function* parameter! In axiom, it
may only depend on domain or package parameters. For example:

FOO: with {f:(n:Integer)->IntegerMod(n) } == 
     add {f(n:Integer):IntegerMod(n) == coerce(10)$IntegerMod(n) }

Marcus Better ran into a situation where this is needed. In the axiom algebra,
the file expr2ups.spad makes heavy use of the Any domain, which could be
avoided if we could use the Aldor compiler.

 > re: Aldor. It should work with Axiom. Aldor has options which allow it to
 > generate Axiom domains which can be loaded. 

No, it does not work anymore. More precisely: You *can* compile a *function*
with the Aldor compiler and use it in Axiom, as shown in

http://lists.nongnu.org/archive/html/axiom-mail/2004-09/msg00035.html

But the examples in

http://www.csd.uwo.ca/~watt/aldor/UserGuide/chap18.html#1

do not work. They should, but they don't. I would be *VERY* grateful, if you
could give me pointers.

\start
Date: Mon, 10 Jan 2005 12:59:52 +0100
From: Martin Rubey
To: Ralf Hemmecke
Subject: Dynamically constructed return types / Aldor

Ralf Hemmecke writes:
 > Hi Martin
 > 
 > As you know, I am also interested in bringing Aldor back to Axiom.
 > Unfortunately, I have no idea about the licencing problem (the Aldor 
 > compiler is not free).

Unfortunately, from the Aldor people nobody seems to care. As far as I
remember, I contacted Manuel Bronstein and Stephen Watt, but I never got any
response. They are probably rather busy.

 > Can you perhaps tell me how to get access to the arch archive and what I 
 > should read to be able to work with it? I only work with CVS usually and 
 > arch seems to be a little different.

You should simply follow the instructions on http://arch.axiom-developer.org/
The link where to download arch from is right at the bottom. 

 > Anyway, I'd like to achieve that just saying
 > 
 > )co "file.as"
 > 
 > should call Aldor, and there should be no need for
 > 
 > )lisp (load ".../runtime.lsp")
 > 
 > etc as in
 > 
 > http://lists.nongnu.org/archive/html/axiom-mail/2004-09/msg00035.html
 > 
 > That should be automatic. 

Well, this is the second step. 

 > But as far as I remember, I could not
 > get aldor working
 > http://lists.nongnu.org/archive/html/axiom-mail/2004-02/msg00022.html
 > http://lists.nongnu.org/archive/html/axiom-mail/2004-02/msg00025.html
 > 
 > Once we have this working, it will be more fun for me to work on Axiom.
 > I don't like spad very much.

On mathaction you can find out how to compile and use a *function* that uses
Axiom domains. If you find out how to compile and use a *domain* or *package*
that uses Axiom domains, you are the champion!

Martin

 > BTW, is there some guideline of 'how to write pamphlet files'?

Yes. But the best way to learn it is to look at existing ones. I'll dig one up.


 > All the best for 2005

likewise,

 > and your Baby I+II and of course the mother.

\start
Date: Mon, 10 Jan 2005 05:56:28 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [AldorForAxiom] (nouveau) 

It is possible to use the Aldor compiler to compile functions which you then can use in Axiom. Unfortunately, I could not get Domains and Packages to work. If anybody knows how to do this, please contribute!

Let's do an example! Let's assume you have Aldor installed. You then have to do a little setup:

1. Grab the file 'axextend.lsp' from your axiom source distribution, it should reside in 'lsp/ccl/src/axbase/compiler/lib'. Rename it into 'axextend.lsp.pamphlet' and run 'document axextend.lsp.pamphlet', to obtain the proper lisp code. 

2. Save the following into a file 'axiom.as' residing in 'aldor/1.0.2/linux/include/' of your aldor (binary) distribution::

  -- Standard include file for using or extending Axiom library via AXIOM-XL

  #library AxiomLib "axiom"
  import from AxiomLib;
  inline from AxiomLib;

  macro {
          rep x == x @ % pretend Rep;
          per r == r @ Rep pretend %;
  }

  --import from Integer, PositiveInteger, NonNegativeInteger, SingleInteger;
  --import from Float, DoubleFloat;

  import { true: %, false: % } from Boolean;
  import {
          string:         Literal -> %;
  } from String;

3. Save the following example into a file fact.as::

  #include "axiom.as"
  
  fact(n: PositiveInteger): PositiveInteger == {
      n <= 1 => 1;
      res: PositiveInteger := 1;
      while n > 1 repeat {
          res := res * n;
          n := n-1;
      }
      res
   }

4. compile the example with::

  aldor -O -Fasy -Fao -Flsp -laxiom -Mno-AXL_W_WillObsolete -DAxiom fact.as

5. start Axiom

6. say -- replacing paths as appropriate::

  )lisp (load "aldor/linux/1.0.2/lib/runtime.lsp")
  )lisp (load "axiom--main--1--patch-24/lsp/ccl/src/axbase/compiler/lib/axextend.lsp")
  )lib fact

  fact(5)

Good luck. If you can get a domain to work, please contact 'list'!

\start
Date: Mon, 10 Jan 2005 13:02:27 +0100
From: Martin Rubey
To: Martin Rubey
Subject: Dynamically constructed return types / Aldor

Sorry, I forgot the link:

Martin Rubey writes:

 > On mathaction you can find out how to compile and use a *function* that uses
 > Axiom domains. If you find out how to compile and use a *domain* or *package*
 > that uses Axiom domains, you are the champion!

http://page.axiom-developer.org/zope/mathaction/AldorForAxiom

\start
Date: Mon, 10 Jan 2005 06:29:35 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [AldorForAxiom] 

It is possible to use the "Aldor":http://www.aldor.org compiler to compile
functions which you then can use in Axiom. Unfortunately, I could not get
domains and packages to work. If anybody knows how to do this, please
contribute!

Having put into a file 'test.as' the following minimal package::

\start
Date: Mon, 10 Jan 2005 06:27:11 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [AldorForAxiom] 

It is possible to use the "Aldor":www.aldor.org compiler to compile functions
which you then can use in Axiom. Unfortunately, I could not get domains and
packages to work. If anybody knows how to do this, please contribute!

Let's do an example! Let's assume you have Aldor installed. You then have to do
a little setup:

1. Grab the file 'axextend.lsp' from your axiom source distribution, it should
   reside in 'lsp/ccl/src/axbase/compiler/lib'. Rename it into
   'axextend.lsp.pamphlet' and run 'document axextend.lsp.pamphlet', to obtain
   the proper lisp code.

2. Save the following into a file 'axiom.as' residing in
   'aldor/1.0.2/linux/include/' of your aldor (binary) distribution::

??changed:
-Good luck. If you can get a domain to work, please contact 'list'!
If you can get a domain to work, please contact 'list'!
Having put the following minimal package into a file 'test.as'::

  #include "axiom.as"
  
  Test: with { fact: PositiveInteger -> PositiveInteger }
     == add  { fact(n: PositiveInteger): PositiveInteger == 
                { n <= 1 => 1;
                  res: PositiveInteger := 1;
                  while n > 1 repeat {
                    res := res * n;
                    n := n-1; }
                  res } }

I compiled it with Aldor as above. But sadly, in axiom I get::

  )lisp (load "/home/rubey/aldor/linux/1.0.2/lib/runtime.lsp")
  )lisp (load "/home/rubey/axiom--main--1--patch-24/lsp/ccl/src/axbase/compiler/lib/axextend.lsp")
  )lib test

   Reading /home/rubey/martin/Axiom/test.asy
   Loading /home/rubey/axiom/mnt/linux/autoload/bc-matrix.
   Loading /home/rubey/axiom/mnt/linux/autoload/bc-misc.
   Loading /home/rubey/axiom/mnt/linux/autoload/bc-solve.
   Loading /home/rubey/axiom/mnt/linux/autoload/bc-util.
   Loading /home/rubey/axiom/mnt/linux/autoload/ht-util.
   Loading /home/rubey/axiom/mnt/linux/autoload/htsetvar.
   Loading /home/rubey/axiom/mnt/linux/autoload/ht-root.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-con.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-data.
   Loading /home/rubey/axiom/mnt/linux/autoload/showimp.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-op1.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-op2.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-search.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-util.
   Loading /home/rubey/axiom/mnt/linux/autoload/topics.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-prof.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-saturn.
 
   >> System error:
   Caught fatal error [memory may be damaged]

  protected-symbol-warn called with (NIL)

\start
Date: Mon, 10 Jan 2005 11:43:49 -0500
From: Bill Page
To: Tim Daly
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

Tim,

On Monday, January 10, 2005 1:16 AM you wrote:
> 
> Bill Page wrote:
> > I agree that it is important to make sure that it is right.
> > In fact that is why I started to look at this. I was worried
> > that the current build does not (quite) do it right. The
> > fact that the generated lisp files change after an iteration
> > of the build proves that, I think. So on the contrary I do
> > think there is some urgency.
> 
> If you remember the primary reason why we decided that there
> should be monthly releases of Axiom was to undermine this sort
> of reasoning. The monthly release cycle is intended to ensure
> that we have timely releases of changes. The argument was that
> a 6 month release cycle would delay a bug fix for an average of
> 9 months. A monthly release cycle reduces that to an average of
> 1.5 months.

Ok, the March release is early enough for me.

> 
> Yes, I agree that there is an interest in Axiom and, yes, I agree
> that this might be an important issue. Then again, the suggested
> change might have no effect on the algebra at all. I do not believe
> that we have sufficient time to 
> (a) understand the nature of the problem
> (b) decide if it is a bug
> (c) decide that we have the correct fix
> (d) document the problem and the fix
> (e) decide that we haven't broken anything
> (f) correctly merge the changes
> (g) do "round-trip" system builds
> 
> We have 20 days left before the February 1 release.

Ok. No problem.

> At the moment I understand that we have found a difference between
> versions of the BOOTSTRAP code and the later compiled forms.

No. That is not correct. We have known for a long time that the
BOOTSTRAP code is not the same as the later compiled forms. I
presume that that is why you included the final step in the
current build that re-builds the BOOTSTRAP *.o files from the
spad files rather than just leaving the original *.o files
compiled from the BOOTSTRAP *.lsp code.

The BIG ISSUE is that *other files* besides the bootstrap files
are affected. The differences in the bootstrap files *propagate*
to other files that depend on them. That is the reason that some
of the non-bootstrap *.lsp files change during the 1st iteration
of the fixedPoint calculation.

> I do not yet understand (a) above, the nature of the problem. Why
> are they different?

The original bootstrap *.lsp files are different because you
copied them from a running Axiom system that is different than
the one that we are compiling now. There are some missing function
definitions and some different function definitions.

> Even if they are different the build system intentionally rebuilds
> all of the BOOTSTRAP files as the last step of the build in order
> to guard against some potential problems.

No, that is not sufficient because the differences in the original
bootstrap *.lsp files have already moved on to the other files.

> So I'm not sure that (b) it is a bug.

Surely you accept that it is a bug that compiling the spad files
twice does not give the same *.lsp code each time? This means
that somewhere in the Axiom system, some calculation will produce
different results if we build the current system once or twice
in succession.

> After all, if we mass-replace 85 files of the build there will
> be one of two cases:
>  1) the input files are the same and no bugs are fixed.
>       so why change the algebra?

You meant the "output files are the same", I think?

The input files are not sufficient to detect the changes that
occur in the non-bootstrap files so the output from these files
does in fact remain the same.

>  2) the input files are different and either bugs are fixed 
> or introduced so why change the algebra? 

The output files do remain the same.

> 
> Clearly case 1 will require a massive change to the system with
> no apparent gain.

The gain is currently invisible because the input file test cases
are not adequate to detect all possible problems (of course they
never can be really adequate for all possible problems).

> If it doesn't fix anything then there is no hurry.

But it does fix something rather serious: in the current build the
*.lsp files are not consistent with the *.spad files.

> We can study the fixed-point problem at our leisure. I agree that
> a change is needed, just not how urgent it is.
> 

Ok. That's a judgement call that I am happy to let you make.

> Clearly case 2 will require further study to decide what broke
> and which version is correct. If the input files break in some way
> then we need to clearly understand how the massive change broke or
> fixed the system. If it fixes things then we need to think about
> the best way to ensure that the problem can't happen again. If it
> breaks things then we need to re-evaluate the change. And we need
> to document it.

Unfortunately Axiom is not being that kind to us. I think what
we should do is design some new input files that are sensitive
to the changes that occur in the *.lsp files. This should be
possible since we know exactly what changes from the during the
1st iteration. I will try to do at least one such input file
today.

> 
> This is a change to the very heart of the system. It deserves
> careful time and attention and much careful checking. And as yet
> I don't believe we fully understand anything but the symptoms of
> a possible, but not proven, bug.

I hope that my long-winded explanations are helping to convince
you. Tim, the main point is that differences in the bootstrap *.lsp
files propagate to non-bootstrap files during the initial build.
To me, this is very clearly a BUG.

> The changes are not uploaded anywhere, they are not "round-trip"
> tested, they are not hand checked, there is no documentation of
> the problem and its fixes, etc. Given all that I believe February 1
> is too soon.

Ok. However I do consider it very significant that Steve has obtained
the same results. Perhaps you will also have time to repeat the tests?

> 
> Lets upload the changes to axiom--algebra--1 where we can all work 
> on it.
> 
> Quality counts and it takes time.

Agreed.

> 
> > > I'd suggest that the "fixed-point" bootstrap be merged into 
> > > axiom--algebra--1 so we can test it first.
> > 

Ok, Steve has said that he is already merging the changes to
the bootstrap files in to his axiom--language--1 branch.

> 
> > > By test it I mean that we have to compare, line by line,
> > > the output of the current input files to see if anything
> > > breaks. There are also a set of known broken input files
> > > (see src/input/Makefile.pamphlet) and we need to see if this
> > > fixes any known problems there.
> > 
> > That should be pretty easy since we already save the output as
> > .output files. I think we just need to cache the first version
> > of these files somewhere and then delete them and re-run 'make'
> > to create a new set. Then run a diff. I will do this later
> > tonight with my current axiom--windows--1 build and let you
> > know the result.
> 
> Ah. The easy part. But you missed the hard part. There are 
> input files listed in src/input/Makefile.pamphlet that do not
> currently get built. They have various errors which I have not
> had time to track yet. If we are going to change the basic
> algebra we need to check each of these files to either make
> sure they are still broken in the same way or are fixed.
>

Ok, great. Is there an easy way to run these in the current
build?
 
> > I think it is *essential* that the build system CHECKS to see
> > if there is a difference between the bootstrap files and the
> > build files. 
> 
> This is reasonable. However the .lsp files contain gensym symbols
> which are very sensitive to any changes. So the diff procedure
> either needs to be written in lisp or needs a filter to ensure
> that gensyms don't cause spurious "failure" reports.

No. The current iteration procedure does not produce random changes
in the gensym symbols. I also worried about this initially, but
it seems that GCL generates the same symbol names in a predictable
manner. None of the changes that occur in the 1st iteration are
due to changing gensym symbols.

> 
> > My conclusion is that the current build is already subtly
> > broken and we probably do not want to release a February build
> > *until* we fix this problem. 
> 
> Different is not the same as broken. Broken means the algebra
> gives wrong answers. 

Yes I think it is clear that in certain cases the algebra will
give wrong answers. I say that because of the nature of the
changes in the *.lsp files. But so far the *.input files are
not sufficient to detect these errors.

> 
> > > The February build will be the first "real axiom" version for
> > > most people and it is important that it run properly.
> > 
> > I agree. That is the reason why I think it is quite urgent that
> > we resolve the current problem first.
> 
> We disagree on this. There will always be bugs. There will always
> be an urgency to fix them. Axiom, as it exists, has many known bugs.
> The previous release system I used would update Axiom with every
> fix. The result of the mailing list discussion was that this was
> unacceptable and needed a schedule. So far we have had "one release
> in a row on schedule".  Unless the algebra is shown to be badly
> broken, i.e. giving many NEW wrong answers and that the new BOOTSTRAP
> change fixes them I feel we can release a version on February 1
> without it. It will certainly make the March 1 release.

I don't think the (known) algebra is badly broken, instead there are
some hidden traps somewhere that could result in broken algebra. But
you are right that there are always likely to be many such bugs. So
March 1 release is soon enough for me.

> 
> So, basically, there's the bar.... show me "stop the press"
> failures that the BOOTSTRAP changes will fix. Or any new failures.
> 
> Otherwise there are people waiting on the newly merged graphics and
> hyperdoc. One person I'm working with offline is developing hyperdoc
> pages for a linear algebra course and needs the working hyperdoc.
> 

I understand that. Thanks for discussing it in detail.

\start
Date: Mon, 10 Jan 2005 16:43:13 -0500
From: Stephen Wilson
To: Tim Daly
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

Tim, Bill,

An update on the bootstrap issue. 

I built a fresh system with updated bootstrap code. This is the code
generated by the fixed point build.

The fixedPoint script identifies RECLOS and ROIRC among the domains
which change after the second iteration of the fixed point
build. These are the _only_ domains which achieve the second iteration
form with the updated bootstrap code (after a single pass). All other
domains are built in exactly the same way. Tonight, I will run a
second iteration build to see if the previous `fixed point' which we
arrived at has changed.

With the fixedPoint script, I noticed that the old database
directories, DEPENDENTS.DAASE and USERS.DAASE, under int/algebra, are
not removed in preparation for the second iteration. Am I mistaken in
thinking that this will influence the subsequent compilation? It is
the only thing I can think of which might explain why the build with
the new bootstrap code is so dissimilar to the second-iteration
fixedPoint build.

I have not had much time, but I did briefly look at a few domain
vectors which are now generated under this new build. Here I see
differences which were not present in the other two builds. Things
have changed in a subtle way. I hope to find the time over the next
few days to examine these changes more throughly.


Let me summarize what I've noticed as being problematic in the old
bootstrap code:

  SINT is missing a definition for `one?'.

  EUCDOM- is missing a definition for `expressIdealMember'.

  TSETCAT- is missing entirely.

I would be pleasantly surprised if this list is complete.

I'll try an pull more information together to help better understand
what is happening, and why.

\start
Date: Mon, 10 Jan 2005 17:37:27 -0500
From: Bill Page
To: Stephen Wilson
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

Steve, tim,

On Monday, January 10, 2005 4:43 PM you wrote:
> ...
> I built a fresh system with updated bootstrap code. This is the
> code generated by the fixed point build.
> 
> The fixedPoint script identifies RECLOS and ROIRC among the
> domains which change after the second iteration of the fixed
> point build. These are the _only_ domains which achieve the
> second iteration form with the updated bootstrap code (after a
> single pass). All other domains are built in exactly the same
> way.

You mean the others are built in the same way, with errors? This
might mean that even with corrected bootstrap files, the Axiom
spad code needs two iterations to achieve a fixed point. If so
this would imply that mutual recursion is already an essential
part of the build. I think that this is plausible and quite
fascinating ...

The list of dependencies for RECLOS is

RECLOS.o:RECLOS.spad RCFIELD.o CHARZ.o RING.o RNG.o ABELGRP.o
  CABMON.o ABELMON.o ABELSG.o SETCAT.o BASTYPE.o KOERCE.o SGROUP.o
  MONOID.o LMODULE.o ORDRING.o OAGROUP.o OCAMON.o OAMON.o OASGP.o
  ORDSET.o COMRING.o BMODULE.o RMODULE.o FIELD.o EUCDOM.o PID.o
  GCDDOM.o INTDOM.o ALGEBRA.o MODULE.o ENTIRER.o UFD.o DIVRING.o
  FRETRCT.o RETRACT.o RADCAT.o REAL.o KONVERT.o PI.o NNI.o INT.o
  SYMBOL.o REF.o ALIST.o LIST.o STRING.o CHAR.o SINT.o OUTFORM.o
  PRIMARR.o A1AGG.o ISTRING.o SRAGG.o FLAGG.o LNAGG.o INS.o OINTDOM.o
  DIFRING.o LINEXP.o PATMAB.o CFCAT.o STEP.o ILIST.o LSAGG.o STAGG.o
  ELAGG.o URAGG.o RCAGG.o IXAGG.o CLAGG.o HOAGG.o ORDSET.o AGG.o
  ELTAGG.o SETCAT.o BASTYPE.o LSAGG.o STAGG.o URAGG.o RCAGG.o HOAGG.o
  AGG.o TYPE.o EVALAB.o IEVALAB.o LNAGG.o IXAGG.o ELTAGG.o ELTAB.o
  CLAGG.o FLAGG.o ELAGG.o OM.o INS.o EUCDOM.o UFD.o GCDDOM.o INTDOM.o
  ALGEBRA.o DIFRING.o ORDRING.o MODULE.o RING.o ABELGRP.o ABELMON.o
  MONOID.o BOOLEAN.o QFCAT.o FEVALAB.o DIFEXT.o PDRING.o FLINEXP.o
  PATAB.o FPATMAB.o CHARNZ.o PFECAT.o

It clearly depends on many of the bootstrap files. And ROIRC needs

ROIRC.o: ROIRC.spad RRCC.o SETCAT.o BASTYPE.o KOERCE.o ORDRING.o
   OAGROUP.o OCAMON.o OAMON.o OASGP.o ORDSET.o ABELMON.o ABELSG.o
   CABMON.o ABELGRP.o RING.o RNG.o SGROUP.o MONOID.o LMODULE.o
   FIELD.o EUCDOM.o PID.o GCDDOM.o INTDOM.o COMRING.o BMODULE.o
   RMODULE.o ALGEBRA.o MODULE.o ENTIRER.o UFD.o DIVRING.o UPOLYC.o
   POLYCAT.o PDRING.o FAMR.o AMR.o CHARZ.o CHARNZ.o FRETRCT.o RETRACT.o
   EVALAB.o IEVALAB.o FLINEXP.o LINEXP.o KONVERT.o PATMAB.o PFECAT.o
   ELTAB.o DIFRING.o DIFEXT.o STEP.o NNI.o INT.o LIST.o LSAGG.o
   STAGG.o URAGG.o RCAGG.o HOAGG.o AGG.o TYPE.o LNAGG.o IXAGG.o
   ELTAGG.o CLAGG.o FLAGG.o ELAGG.o OM.o ILIST.o MONOID.o PI.o
   BOOLEAN.o INS.o OINTDOM.o CFCAT.o REAL.o

It similarly depends directly on many bootstrap files. Note that
they both depend on EUCDOM.o that you mention below as missing
from the bootstrap.

But for example another file that shows up in the fixedPoint list
as changing, D01AGNT, does not depend on EUCDOM.o and on fewer of
the bootstrap files

D01AGNT.o: D01AGNT.spad INT.o LIST.o ILIST.o LSAGG.o STAGG.o
  URAGG.o RCAGG.o HOAGG.o AGG.o TYPE.o SETCAT.o BASTYPE.o KOERCE.o
  EVALAB.o IEVALAB.o LNAGG.o IXAGG.o ELTAGG.o ELTAB.o CLAGG.o
  KONVERT.o FLAGG.o ORDSET.o ELAGG.o OM.o NNI.o STRING.o CHAR.o
  SINT.o OUTFORM.o PRIMARR.o A1AGG.o ISTRING.o LSAGG.o STAGG.o
  FPS.o RNS.o FIELD.o EUCDOM.o PID.o GCDDOM.o INTDOM.o COMRING.o
  RING.o RNG.o ABELGRP.o CABMON.o ABELMON.o ABELSG.o SGROUP.o
  MONOID.o LMODULE.o BMODULE.o RMODULE.o ALGEBRA.o MODULE.o
  ENTIRER.o UFD.o DIVRING.o ORDRING.o OAGROUP.o OCAMON.o OAMON.o
  OASGP.o REAL.o RETRACT.o RADCAT.o PATMAB.o CHARZ.o DFLOAT.o
  DIFRING.o TRANFUN.o TRIGCAT.o ATRIG.o HYPCAT.o AHYP.o ELEMFUN.o
  ELAGG.o FLAGG.o FS.o ES.o PATAB.o FPATMAB.o FRETRCT.o GROUP.o
  PDRING.o FLINEXP.o LINEXP.o CHARNZ.o INS.o OINTDOM.o CFCAT.o
  STEP.o QFCAT.o FEVALAB.o DIFEXT.o PFECAT.o BOOLEAN.o 

If the bootstrap files and the database files have been updated
but D01AGNT still changes then it must be from some other cyclic
dependency.

> Tonight, I will run a second iteration build to see if the
> previous `fixed point' which we arrived at has changed.
> 
> With the fixedPoint script, I noticed that the old database
> directories, DEPENDENTS.DAASE and USERS.DAASE, under int/algebra,
> are not removed in preparation for the second iteration. Am
> I mistaken in thinking that this will influence the subsequent
> compilation?

You are correct. The src/algebra/Makefile.pamphlet that I am using
on the axiom--windows--1 branch has been updated to properly rebuild
the databases if any of the *.NRLIBS/code.o files change. In the
linux branches (e.g. axiom--main--1) the database build is still
done via a kludge that requires you to delete the file called
`dbcomplete' in order to force a rebuild. Alternately you could
also delete the int/*.spad files which will force them to be
re-extracted from the pamphlet files and also trigger deletion of
the dbcomplete file.

> It is the only thing I can think of which might explain why the
> build with the new bootstrap code is so dissimilar to the second-
> iteration fixedPoint build.

The databases that are used for the initial build are definitely
out of date and differ from the newly generated database by a few
bytes (more or less). For the fixedPoint interation the five new
database files should be copied back to the src/share/algebra
directory in preparation for the next iteration.

> 
> I have not had much time, but I did briefly look at a few
> domain vectors which are now generated under this new build.
> Here I see differences which were not present in the other two
> builds. Things have changed in a subtle way. I hope to find
> the time over the next few days to examine these changes more
> throughly.
> 
> 
> Let me summarize what I've noticed as being problematic in
> the old bootstrap code:
> 
>   SINT is missing a definition for `one?'.
>   EUCDOM- is missing a definition for `expressIdealMember'.
>   TSETCAT- is missing entirely.
> 
> I would be pleasantly surprised if this list is complete.

It is not so clear to me why the build appears to succeed
even though these definitions are missing. In other languages
I would presume that this situation would be easily caught
as a missing file during `linking'. But here we have this
"domain vector" thing. Is there not some why that the
compilation could be made more robust by verifying the
domain vector at compile time?

This question probably displays my ignorance of exactly how the
Axiom compile works. If either you or Tim could explain to me
why this error is not detected I would be most appreciative.

> 
> I'll try an pull more information together to help better
> understand what is happening, and why.
> 

\start
Date: Mon, 10 Jan 2005 19:07:40 -0500
From: Stephen Wilson
To: Bill Page
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

Bill,

On Mon, Jan 10, 2005 at 05:37:27PM -0500, Bill Page wrote:
> You mean the others are built in the same way, with errors? 

Yes. All code is identical to what one obtains after a `make clean &&
make', save for RECLOS and ROIRC. 

> The list of dependencies for RECLOS is

Thanks for the lists! They will come in handy!

> But for example another file that shows up in the fixedPoint list
> as changing, D01AGNT, does not depend on EUCDOM.o and on fewer of
> the bootstrap files
>
> ...
>
> If the bootstrap files and the database files have been updated
> but D01AGNT still changes then it must be from some other cyclic
> dependency.

But the domain vector for D01AGNT does change in a subtle way after
the new bootstrap build. Even though its code is no different, how the
domain is being instantiated has changed. More below.
 
> You are correct. The src/algebra/Makefile.pamphlet that I am using
> on the axiom--windows--1 branch has been updated to properly rebuild
> the databases if any of the *.NRLIBS/code.o files change. In the
> linux branches (e.g. axiom--main--1) the database build is still
> done via a kludge that requires you to delete the file called
> `dbcomplete' in order to force a rebuild. Alternately you could
> also delete the int/*.spad files which will force them to be
> re-extracted from the pamphlet files and also trigger deletion of
> the dbcomplete file.

Thanks for explaining this! So many details! :)

> It is not so clear to me why the build appears to succeed
> even though these definitions are missing. In other languages
> I would presume that this situation would be easily caught
> as a missing file during `linking'. But here we have this
> "domain vector" thing. Is there not some why that the
> compilation could be made more robust by verifying the
> domain vector at compile time?

EUCDOM is missing just the single function `expressIdealMember'. The
bootstrap code appears to have been generated from a spad file which
includes its definition. The generated code just wasnt included. A
quick grep of the algebra tells me that this function is not called
anywhere. As for TSETCAT-, I have not had the chance to determine what
its dependencies are (Im surprised such a high level category is part
of the bootstrap). 

SINT's missing `one?' is more interesting. I need to confirm this, but
I believe that dependent domains are resolving Monoids default
definition for `one?'. This might explain why other domains, such as
D01AGNT, are being instantiated differently under the new bootstrap
build. I need to look into this further.

As far as verification of the domain vectors goes, we already do have
a fair check when comparing the generated code. For each domain there
is a MAKEPROP form, at the end of which is something like:

  (|makeByteWordVec2| 20 (QUOTE (2 6 0 0 .... 0 7 20)))

This is intimately linked to the layout of the domain vectors. It
provides indexes into the domain vector, the arity of function calls,
and probably other things which I dont understand yet :).

However, it is only a map into the vectors layout. The subtle changes
which I have noticed in the bootstrap build do not involve the `shape'
of the vectors. For example, where a certain slot was filled with a
hard reference to a compiled function, now we have a call to the
runtime dispatch mechanism. 

Some of the notes that I promised deal with how byte vectors and
the runtime dispatch mechanisms work. I hope to get around to writing
it down soon ;)

\start
Date: Mon, 10 Jan 2005 19:32:02 -0500
From: Bill Page
To: Stephen Wilson
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

Steve and Tim,

I have attached for your reference a file containing the
complete set of dependencies in the spad files as harvested
from the `Loading' messages during the compiles. It is possible
that some dependencies might be missing if any domains are
being "pre-loaded". I haven't considered yet what affect pre-
loading might have on the fixedPoint iteration. I have to
check where/if this occurs in the current build.

Regards,
Bill Page.

------=_NextPart_000_0009_01C4F74B.124583D0
	name="algebra-depends.gz"
	filename="algebra-depends.gz"

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
+dWccVgi9VOyBff/AbKyelYwOQYA

\start
Date: Mon, 10 Jan 2005 21:31:08 -0500
From: Tim Daly
To: Stephen Wilson
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

Steve,

> The fixedPoint script identifies RECLOS and ROIRC among the domains

Note that RECLOS (and possibly ROIRC) is new post-NAG algebra. 

\start
Date: Mon, 10 Jan 2005 21:45:04 -0500
From: Tim Daly
To: Stephen Wilson
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

Steve,

>   TSETCAT- is missing entirely.

I don't understand this. The TSETCAT- BOOTSTRAP is in triset.spad.pamphlet.
The TSETCAT-.o is in the bootstrap list. The TSETCAT-.o file is generated.

Why do you think it is missing?

\start
Date: Mon, 10 Jan 2005 21:50:58 -0500
From: Tim Daly
To: Stephen Wilson
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

Steve,

> > With the fixedPoint script, I noticed that the old database
> > directories, DEPENDENTS.DAASE and USERS.DAASE, under int/algebra,
> > are not removed in preparation for the second iteration. Am
> > I mistaken in thinking that this will influence the subsequent
> > compilation?
> 
> You are correct. The src/algebra/Makefile.pamphlet that I am using
> on the axiom--windows--1 branch has been updated to properly rebuild
> the databases if any of the *.NRLIBS/code.o files change. In the
> linux branches (e.g. axiom--main--1) the database build is still
> done via a kludge that requires you to delete the file called
> `dbcomplete' in order to force a rebuild. Alternately you could
> also delete the int/*.spad files which will force them to be
> re-extracted from the pamphlet files and also trigger deletion of
> the dbcomplete file.

The database files were intended to be copied back into the source
tree (by hand) as algebra was added to the standard build.

\start
Date: Mon, 10 Jan 2005 21:47:36 -0500
From: Tim Daly
To: Stephen Wilson
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

Steve,

>    SINT is missing a definition for `one?'.

The code was changed. It used to read:

  one?(x) == ONEP(x)$Lisp

It now reads:

  one?(x) == x = 1

\start
Date: Mon, 10 Jan 2005 21:28:07 -0500
From: Tim Daly
To: Bill Page
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

> > Ah. The easy part. But you missed the hard part. There are 
> > input files listed in src/input/Makefile.pamphlet that do not
> > currently get built. They have various errors which I have not
> > had time to track yet. If we are going to change the basic
> > algebra we need to check each of these files to either make
> > sure they are still broken in the same way or are fixed.
> >
> 
> Ok, great. Is there an easy way to run these in the current
> build?

Bill, in order to run these you can either do it by modifying the
makefile to require the targets or, the easier path is to just
run the document command on the pamphlet, e.g.

given test.input.pamphlet you would type:

document test.input

and then you can start axiom and try to run the input file.
One of the "todo" tasks is to run the graphics input files in
the latest version because they should generate correct graphs now.

I'd be overjoyed to find that some of the problems have been solved.
Some of those bugs are from the original scratchpad system.

\start
Date: Mon, 10 Jan 2005 21:18:44 -0500
From: Stephen Wilson
To: Tim Daly
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

On Mon, Jan 10, 2005 at 09:39:22PM -0500, root wrote:
> It appears that expressIdealMember is not mentioned in the signature
> list for EuclideanDomain() and was not used locally so the compiler
> did not generate code for it.

I noticed this too but Im not confident that this is the case. The
catdef.spad.pamphlet has a stanza `<<EUCDOM-.lsp BOOTSTRAP>>=' which
includes the (nonexistent) chunk `<<EUCDOM-;expressIdealMember;LSU;10>>'. 
The bootstrap code for EUCDOM mentions this function explicitly, as
does bootstrap code in INT and SINT. Moreover, the code for this
function is generated at the end of a normal build. I really think
this a missing chunk (or, perhaps, I'm missing one :).

\start
Date: Mon, 10 Jan 2005 21:23:03 -0500
From: Stephen Wilson
To: Tim Daly
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

On Mon, Jan 10, 2005 at 09:45:04PM -0500, root wrote:
> I don't understand this. The TSETCAT- BOOTSTRAP is in triset.spad.pamphlet.
> The TSETCAT-.o is in the bootstrap list. The TSETCAT-.o file is generated.

I think this because the bootstrap code in TSETCAT-.o reads,
literally:

<<TSETCAT-.lsp BOOTSTRAP>>=
@

Perhaps the .o file is being generated only on the second pass?

\start
Date: Mon, 10 Jan 2005 21:39:22 -0500
From: Tim Daly
To: Stephen Wilson
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

>   EUCDOM- is missing a definition for `expressIdealMember'.

It appears that expressIdealMember is not mentioned in the signature
list for EuclideanDomain() and was not used locally so the compiler
did not generate code for it.

The definition is in catdef.spad.pamphlet in EuclideanDomain().
This code is the same as the original NAG definition.

\start
Date: Mon, 10 Jan 2005 21:31:45 -0500
From: Stephen Wilson
To: Tim Daly
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

On Mon, Jan 10, 2005 at 09:47:36PM -0500, root wrote:
> The code was changed. It used to read:
> 
>   one?(x) == ONEP(x)$Lisp
> 
> It now reads:
> 
>   one?(x) == x = 1


True, but the bootstrap code does not contain any definition. We have:

(DEFUN |SINT;zero?;$B;38| (|x| $) (QSZEROP |x|)) 

(DEFUN |SINT;max;3$;39| (|x| |y| $) (QSMAX |x| |y|)) 


The last number in the function names gives the order of the function
in definition in the domain. The definition of `one?' follows
`zero?'. With fresh code we have:

(DEFUN |SINT;zero?;$B;38| (|x| $) (QSZEROP |x|)) 

(DEFUN |SINT;one?;$B;39| (|x| $) (EQL |x| 1)) 

(DEFUN |SINT;max;3$;40| (|x| |y| $) (QSMAX |x| |y|)) 


It was precisely this change in sequence that allowed me to spot this
missing function by looking at the domain vectors. All domains which
relied of functions defined in SINT with `sequence number' > 38
shifted by one in the second pass of the fixed-point build.

\start
Date: Mon, 10 Jan 2005 22:55:18 -0500
From: Tim Daly
To: Stephen Wilson
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

> It is not so clear to me why the build appears to succeed
> even though these definitions are missing. In other languages
> I would presume that this situation would be easily caught
> as a missing file during `linking'. But here we have this
> "domain vector" thing. Is there not some why that the
> compilation could be made more robust by verifying the
> domain vector at compile time?

Bill, there is no "linking" step in any sense of the word.
This needs to be documented somewhere.

If we look at one of the random BOOTSTRAP files, say, CHAR we see:

Character: OrderedFinite() with
	ord: % -> Integer
	    ++ ord(c) provides an integral code corresponding to the
	    ++ character c.  It is always true that \spad{char ord c = c}.
	char: Integer  -> %
	    ++ char(i) provides a character corresponding to the integer
	    ++ code i.	It is always true that \spad{ord char i = i}.
	char: String   -> %
	    ++ char(s) provides a character from a string s of length one.
	space:	() -> %
	    ++ space() provides the blank character.
	quote:	() -> %
	    ++ quote() provides the string quote character, \spad{"}.
	escape: () -> %
	    ++ escape() provides the escape character, \spad{_}, which
	    ++ is used to allow quotes and other characters {\em within}
	    ++ strings.
	upperCase: % -> %
	    ++ upperCase(c) converts a lower case letter to the corresponding
	    ++ upper case letter.  If c is not a lower case letter, then
	    ++ it is returned unchanged.
	lowerCase: % -> %
	    ++ lowerCase(c) converts an upper case letter to the corresponding
	    ++ lower case letter.  If c is not an upper case letter, then
	    ++ it is returned unchanged.
	digit?: % -> Boolean
	    ++ digit?(c) tests if c is a digit character,
	    ++ i.e. one of 0..9.
	hexDigit?: % -> Boolean
	    ++ hexDigit?(c) tests if c is a hexadecimal numeral,
	    ++ i.e. one of 0..9, a..f or A..F.
	alphabetic?: % -> Boolean
	    ++ alphabetic?(c) tests if c is a letter,
	    ++ i.e. one of a..z or A..Z.
	upperCase?: % -> Boolean
	    ++ upperCase?(c) tests if c is an upper case letter,
	    ++ i.e. one of A..Z.
	lowerCase?: % -> Boolean
	    ++ lowerCase?(c) tests if c is an lower case letter,
	    ++ i.e. one of a..z.
	alphanumeric?: % -> Boolean
	    ++ alphanumeric?(c) tests if c is either a letter or number,
	    ++ i.e. one of 0..9, a..z or A..Z.

    == add
	Rep := SingleInteger	  -- 0..255

	CC ==> CharacterClass()
	import CC

	--cl: Record(dig:CC,hex:CC,upp:CC,low:CC,alpha:CC,alnum:CC) :=
	--    [ digit(), hexDigit(),
	--	upperCase(), lowerCase(), alphabetic(), alphanumeric() ]

	OutChars:PrimitiveArray(OutputForm) :=
	   construct [NUM2CHAR(i)$Lisp for i in 0..255]

	minChar := minIndex OutChars

	a = b		       == a =$Rep b
	a < b		       == a <$Rep b
	size()		       == 256
	index n		       == char((n - 1)::Integer)
	lookup c	       == (1 + ord c)::PositiveInteger
	char(n:Integer)	       == n::%
	ord c		       == convert(c)$Rep
	random()	       == char(random()$Integer rem size())
	space		       == QENUM("   ", 0$Lisp)$Lisp
	quote		       == QENUM("_" ", 0$Lisp)$Lisp
	escape		       == QENUM("__ ", 0$Lisp)$Lisp
	coerce(c:%):OutputForm == OutChars(minChar + ord c)
	digit? c	       == member?(c pretend Character, digit())
	hexDigit? c	       == member?(c pretend Character, hexDigit())
	upperCase? c	       == member?(c pretend Character, upperCase())
	lowerCase? c	       == member?(c pretend Character, lowerCase())
	alphabetic? c	       == member?(c pretend Character, alphabetic())
	alphanumeric? c	       == member?(c pretend Character, alphanumeric())

	latex c ==
	    concat("\mbox{`", concat(new(1,c pretend Character)$String, "'}")$String)$String

	char(s:String) ==
--	  one?(#s) => s(minIndex s) pretend %
	  (#s) = 1 => s(minIndex s) pretend %
	  error "String is not a single character"

	upperCase c ==
	  QENUM(PNAME(UPCASE(NUM2CHAR(ord c)$Lisp)$Lisp)$Lisp,
		0$Lisp)$Lisp

	lowerCase c ==
	  QENUM(PNAME(DOWNCASE(NUM2CHAR(ord c)$Lisp)$Lisp)$Lisp,
		0$Lisp)$Lisp



The BOOTSTRAP code, annotated, looks like:


=====================================================================
The VERSIONCHECK variable came about when we were writing the Aldor
compiler. We had completely reimplemented the algebra so that it was
incompatible with previous versions. This is checked on loading.

(|/VERSIONCHECK| 2) 

=====================================================================
This implements the 
	a = b		       == a =$Rep b
function. Note that the function name |CHAR;=;2$B;1| is constructed
from the domain abbreviation; the function name; the number of arguments
and their types; and a unique number

Also note that the compiler claims that it knows that the '='
function can be replaced with lisp 'EQL' in compiled code so
this function is never run. It uses a property list marker
'|SPADreplace|' on the function symbol to implement the replacement
during compiles.

(PUT (QUOTE |CHAR;=;2$B;1|) (QUOTE |SPADreplace|) (QUOTE EQL)) 

(DEFUN |CHAR;=;2$B;1| (|a| |b| |$|) (EQL |a| |b|)) 

=====================================================================
This implements the 
	a < b		       == a <$Rep b
function. Again note that the compiler knows that calls to this 
function can be replaced by the lisp QSLESSP function. The 'QS' 
prefix is a VMLisp idiom. 'Q' == quick (no type check) 'S'=singleinteger
which, at least in VMLisp turns into a single instruction. QSLESSP
(uppercased here because spad is case-sensitive and lisp is not)
is defined in src/interp/vmlisp.lisp.pamphlet as a macro with
embedded type information.

(PUT (QUOTE |CHAR;<;2$B;2|) (QUOTE |SPADreplace|) (QUOTE QSLESSP)) 

(DEFUN |CHAR;<;2$B;2| (|a| |b| |$|) (QSLESSP |a| |b|)) 

=====================================================================
This implements 
	size()		       == 256
and just returns a "boxed integer" (XLAM is a marker for boxing).

(PUT (QUOTE |CHAR;size;Nni;3|) (QUOTE |SPADreplace|) (QUOTE (XLAM NIL 256))) 

(DEFUN |CHAR;size;Nni;3| (|$|) 256) 

=====================================================================
This implements the
	index n		       == char((n - 1)::Integer)
function. Notice that this does a 'QREFELT'. This is another VMLisp
idiom 'Q' is quick, 'REFELT' is a vector lookup function. This is
also implmented as a macro in src/interp/vmlisp.lisp.pamphlet where
it does a 'svref', simple vector reference into the current domain
(that's what '|$|' means) and calls the 18th element from this domain.

The domain is represented by a vector (the domain vector) which you'll
find at the bottom of this file. The domain vector for a domain is
kept on the property list of the domain name symbol, in this case it
is "Character". So we see the code:

(MAKEPROP (QUOTE |Character|) (QUOTE |infovec|) (LIST (QUOTE #(NIL NIL ...

The |infovec|, the information vector, contains a lot of domain specific
information which is looked up at runtime. In this case we are doing a
(QVREFELT |$| 18). If you count 18 elements into the |infovec| you'll
find |CHAR;char;I$;6|. If you examine the symbol name carefully you
can decode that it is a function from the domain "CHAR" (this domain)
called "char" that takes one argument of type "I" (integer), and is
the 6th function in this domain, which happens to be 
	char(n:Integer)	       == n::%

So this function does what it says, it subtracts 1 from its argument,
treats it as an integer and returns the integer. The reason this works
is that "Characters" have a representation of SingleInteger:
	Rep := SingleInteger	  -- 0..255

(DEFUN |CHAR;index;Pi$;4| (|n| |$|) (SPADCALL (|-| |n| 1) (QREFELT |$| 18))) 

.....[snip]....

=====================================================================
This is the function that gets executed when "Character" gets instantiated.
This function has the effect, if memory serves, of putting the function
"Character;" into the |$ConstructorCache|. The |$ConstructorCache| is a
hash table used for fast lookup and function dispatch. The call to 
|Character| will call |Character;| (see below).

(DEFUN |Character| NIL 
  (PROG NIL 
    (RETURN 
      (PROG (#1=#:G90941) 
        (RETURN 
          (COND 
            ((LETT #1# (HGET |$ConstructorCache| (QUOTE |Character|)) 
                 |Character|)
               (|CDRwithIncrement| (CDAR #1#)))
            ((QUOTE T) 
              (|UNWIND-PROTECT| 
                (PROG1 
                  (CDDAR 
                    (HPUT |$ConstructorCache| 
                      (QUOTE |Character|) 
                      (LIST 
                        (CONS NIL (CONS 1 (|Character;|))))))
                  (LETT #1# T |Character|)) 
                (COND 
                  ((NOT #1#) 
                    (HREM |$ConstructorCache| (QUOTE |Character|)))))))))))) 

=====================================================================
This function initializes the |infovec| data structure. Notice the calls
to QSETREFV, another VMLisp-ism, which does a "(setf (svref ...", that
is, it sets an element of a simple vector (|infovec|). Notice the call
to |SingleInteger|. This will cause the domain SingleInteger to be loaded,
initialized, and put in the constructor cache. This domain needs the
SingleInteger domain for its representation.

(DEFUN |Character;| NIL 
  (PROG (|dv$| |$| |pv$| #1=#:G90939 |i|) 
    (RETURN 
      (SEQ 
        (PROGN 
          (LETT |dv$| (QUOTE (|Character|)) . #2=(|Character|)) 
          (LETT |$| (GETREFV 53) . #2#) 
          (QSETREFV |$| 0 |dv$|) 
          (QSETREFV |$| 3 (LETT |pv$| (|buildPredVector| 0 0 NIL) . #2#)) 
          (|haddProp| |$ConstructorCache| (QUOTE |Character|) NIL (CONS 1 |$|))
          (|stuffDomainSlots| |$|) 
          (QSETREFV |$| 6 (|SingleInteger|)) 
          (QSETREFV |$| 10 
           (SPADCALL 
             (PROGN 
               (LETT #1# NIL . #2#) 
               (SEQ 
                 (LETT |i| 0 . #2#) 
                 G190 
                 (COND 
                   ((QSGREATERP |i| 255) (GO G191))) 
                 (SEQ 
                   (EXIT 
                     (LETT #1# (CONS (NUM2CHAR |i|) #1#) . #2#))) 
                 (LETT |i| (QSADD1 |i|) . #2#) 
                 (GO G190) 
                 G191 
                 (EXIT (NREVERSE0 #1#))))
             (QREFELT |$| 9)))
          (QSETREFV |$| 11 0) |$|))))) 

=====================================================================
This is the actual representation of the Character domain. The main
point of the compiler is to construct the |infovec|. I'm not up to
explaining the details of this at this moment.

(MAKEPROP 
 (QUOTE |Character|) 
 (QUOTE |infovec|) 
 (LIST 
  (QUOTE 
   #(NIL NIL NIL NIL NIL NIL (QUOTE |Rep|) (|List| 28) (|PrimitiveArray| 28) 
     (0 . |construct|) (QUOTE |OutChars|) (QUOTE |minChar|) (|Boolean|)
     |CHAR;=;2$B;1| |CHAR;<;2$B;2| (|NonNegativeInteger|) |CHAR;size;Nni;3| 
     (|Integer|) |CHAR;char;I$;6| (|PositiveInteger|) |CHAR;index;Pi$;4| 
     |CHAR;ord;$I;7| |CHAR;lookup;$Pi;5| (5 . |coerce|) |CHAR;random;$;8| 
     |CHAR;space;$;9| |CHAR;quote;$;10| |CHAR;escape;$;11| (|OutputForm|) 
     |CHAR;coerce;$Of;12| (|CharacterClass|) (10 . |digit|) (|Character|) 
     (14 . |member?|) |CHAR;digit?;$B;13| (20 . |hexDigit|) 
     |CHAR;hexDigit?;$B;14| (24 . |upperCase|) |CHAR;upperCase?;$B;15| 
     (28 . |lowerCase|) |CHAR;lowerCase?;$B;16| (32 . |alphabetic|) 
     |CHAR;alphabetic?;$B;17| (36 . |alphanumeric|) |CHAR;alphanumeric?;$B;18|
     (|String|) |CHAR;latex;$S;19| (40 . |minIndex|) (45 . |elt|) 
     |CHAR;char;S$;20| |CHAR;upperCase;2$;21| |CHAR;lowerCase;2$;22| 
     (|SingleInteger|))) (QUOTE #(|~=| 51 |upperCase?| 57 |upperCase| 62 
     |space| 67 |size| 71 |random| 75 |quote| 79 |ord| 83 |min| 88 |max| 94 
     |lowerCase?| 100 |lowerCase| 105 |lookup| 110 |latex| 115 |index| 120 
     |hexDigit?| 125 |hash| 130 |escape| 135 |digit?| 139 |coerce| 144 |char| 
     149 |alphanumeric?| 159 |alphabetic?| 164 |>=| 169 |>| 175 |=| 181 |<=| 
     187 |<| 193)) (QUOTE NIL) 
     (CONS (|makeByteWordVec2| 1 
       (QUOTE (0 0 0 0 0 0))) 
       (CONS 
         (QUOTE #(NIL |OrderedSet&| NIL |SetCategory&| |BasicType&| NIL))
         (CONS 
           (QUOTE #((|OrderedFinite|) (|OrderedSet|) (|Finite|) 
                    (|SetCategory|) (|BasicType|) (|CoercibleTo| 28)))
           (|makeByteWordVec2| 52 
             (QUOTE 
               (1 8 0 7 9 1 6 0 17 23 0 30 0 31 2 30 12 32 0 33 0 30 0 35 0 
                30 0 37 0 30 0 39 0 30 0 41 0 30 0 43 1 45 17 0 47 2 45 32 0 
                17 48 2 0 12 0 0 1 1 0 12 0 38 1 0 0 0 50 0 0 0 25 0 0 15 16 
                0 0 0 24 0 0 0 26 1 0 17 0 21 2 0 0 0 0 1 2 0 0 0 0 1 1 0 12 
                0 40 1 0 0 0 51 1 0 19 0 22 1 0 45 0 46 1 0 0 19 20 1 0 12 0 
                36 1 0 52 0 1 0 0 0 27 1 0 12 0 34 1 0 28 0 29 1 0 0 45 49 1 
                0 0 17 18 1 0 12 0 44 1 0 12 0 42 2 0 12 0 0 1 2 0 12 0 0 1 2 
                0 12 0 0 13 2 0 12 0 0 1 2 0 12 0 0 14))))))
     (QUOTE |lookupComplete|))) 

(MAKEPROP (QUOTE |Character|) (QUOTE NILADIC) T) 

\start
Date: Mon, 10 Jan 2005 23:21:06 -0500
From: Tim Daly
To: Bill Page, Stephen Wilson
Subject: Re: Returned mail: see transcript for details

Bill, Steve,

I mis-typed...

=====================================================================
This is the function that gets executed when "Character" gets instantiated.
This function has the effect, if memory serves, of PUTTING THE FUNCTION
                                                   ^^^^^^^^^^^^^^^^^^^^
                                                   wrong, wrong, wrong

"Character;" into the |$ConstructorCache|. The |$ConstructorCache| is a
hash table used for fast lookup and function dispatch. The call to 
|Character| will call |Character;| (see below).

(DEFUN |Character| NIL 
=====================================================================



is slightly wrong. It does NOT put the function |Character;| in the
|$ConstructorCache|, it puts the RESULT of calling (|Character;|)
in the cache, which is a fully initialized |infovec| object. 


You'll also find the function call

          (|stuffDomainSlots| |$|) 

in |Character;| interesting. The function is actually defined in
src/interp/nrunopt.boot.pamphlet. From that function you can
reverse-engineer the contents of the initial slots (which are just
  #(NIL NIL NIL NIL NIL NIL ....
at compile time.

Clearly documenting stuffDomainSlots would help as would documenting
all of the rest of it.

Also, for your amusement, try the following:

axiom
(1)-> )lisp (setq $DALYMODE t)
(1)-> )set message autoload on
(1)-> (maphash #'(lambda (key val) (format t "key=~a val=~a~%~%" key val)) |$ConstructorCache|)
(1)-> 1
(1)-> (maphash #'(lambda (key val) (format t "key=~a val=~a~%~%" key val)) |$ConstructorCache|)

The first maphash returns NIL

The second maphash returns the loaded domains. The messages that get
printed (from loadlib in src/interp/lisplib.boot.pamphlet) turn out 
to be the same domains you'll see in the constructor cache. Loading
the domain causes it to be "instantiated" which means that the 
infovec for the domain gets filled in and stuck in the constructorcache.

If a domain is already in the constructor cache it will not be loaded.
Thus domain loading occurs on demand and only once.

\start
Date: Tue, 11 Jan 2005 09:17:41 +0000
From: Peter Broadbery
To: list
Subject: Axiom/Aldor

I've been playing with the aldor/axiom stuff a little, and the following
patch may help get things going(I used to work on it, and thought it'd
be fun to get it going again).

There are further problems:
- aldor "extend" does not work - it ought to, I think
- The algebra defined in libaxiom.al is not current, and for it to be
rebuilt various .as files need to be available to the build process
(axextend.as and friends) - any reason why they're left out of the
distribution?
- exported attributes from aldor domains are explicitly killed off by
this patch (it's probably easy to fix, just no time atm).
- Only tested the most trivial domains I could find.  

Peter.

-- 
Peter Broadbery

--=-lFHcwdg4XTXFNJLytyGQ

PyBNYWtlZmlsZQ0KPyBNYWtlZmlsZS5kdmkNCkluZGV4OiBhcy5ib290LnBhbXBobGV0DQo9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09DQpSQ1MgZmlsZTogL2N2c3Jvb3QvYXhpb20vYXhpb20vc3JjL2ludGVycC9hcy5ib290
LnBhbXBobGV0LHYNCnJldHJpZXZpbmcgcmV2aXNpb24gMS4zDQpkaWZmIC11IC1yMS4zIGFzLmJv
b3QucGFtcGhsZXQNCi0tLSBhcy5ib290LnBhbXBobGV0CTI0IE1heSAyMDA0IDIyOjUzOjQ5IC0w
MDAwCTEuMw0KKysrIGFzLmJvb3QucGFtcGhsZXQJOCBKYW4gMjAwNSAxOTowMToyMyAtMDAwMA0K
QEAgLTM4OSw3ICszODksOCBAQA0KICAgICBIUFVUKGh0LGlkLFtlbnRyeSw6SEdFVChodCxpZCld
KQ0KICAgb3BhbGlzdCA6PSBbW29wLDpSRU1EVVAgSEdFVChodCxvcCldIGZvciBvcCBpbiBIS0VZ
UyBodF0NCiAgIC0tSFBVVCgkb3BIYXNoLGNvbixbYW5jZXN0b3JBbGlzdCxhdHRyaWJ1dGVBbGlz
dCw6b3BhbGlzdF0pDQotICBIUFVUKCRvcEhhc2gsY29uLFthbmNlc3RvckFsaXN0LGF0dHJpYnV0
ZUFsaXN0LDpvcGFsaXN0XSkNCisgIC0tSFBVVCgkb3BIYXNoLGNvbixbYW5jZXN0b3JBbGlzdCxh
dHRyaWJ1dGVBbGlzdCw6b3BhbGlzdF0pDQorICBIUFVUKCRvcEhhc2gsY29uLFthbmNlc3RvckFs
aXN0LG5pbCw6b3BhbGlzdF0pDQogDQogaGFja1RvUmVtb3ZlQW5kIHAgPT0NCiAtLS1yZW1vdmUg
dGhpcyBhcyBzb29uIGFzIC5hc3kgZmlsZXMgZG8gbm90IGNvbnRhaW4gZm9ybXMgKEFuZCBwcmVk
KSBmb3Jtcw0KSW5kZXg6IGF4LmJvb3QucGFtcGhsZXQNCj09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NClJDUyBmaWxlOiAv
Y3Zzcm9vdC9heGlvbS9heGlvbS9zcmMvaW50ZXJwL2F4LmJvb3QucGFtcGhsZXQsdg0KcmV0cmll
dmluZyByZXZpc2lvbiAxLjMNCmRpZmYgLXUgLXIxLjMgYXguYm9vdC5wYW1waGxldA0KLS0tIGF4
LmJvb3QucGFtcGhsZXQJMjQgTWF5IDIwMDQgMjI6NTM6NDkgLTAwMDAJMS4zDQorKysgYXguYm9v
dC5wYW1waGxldAk4IEphbiAyMDA1IDE5OjAxOjI2IC0wMDAwDQpAQCAtODAsMTEgKzgwLDI5IEBA
DQogICAgICBheEZvcm1zIDo9DQogICAgICAgICBbWydGb3JlaWduLCBbJ0RlY2xhcmUsICdkdW1t
eURlZmF1bHQsICdFeGl0XSwgJ0xpc3BdLCA6YXhGb3Jtc10NCiAgIGF4Rm9ybXMgOj0gQVBQRU5E
KGF4RG9MaXRlcmFscygpLCBheEZvcm1zKQ0KLSAgYXhGb3JtIDo9IFsnU2VxdWVuY2UsIFsnSW1w
b3J0LCBbXSwgJ0F4aW9tTGliXSwgOmF4Rm9ybXNdDQorICBheEZvcm0gOj0gWydTZXF1ZW5jZSwg
WydJbXBvcnQsIFtdLCAnQXhpb21MaWJdLCBbJ0ltcG9ydCwgW10sICdCb29sZWFuXSwgOmF4Rm9y
bXNdDQogICBzdCA6PSBNQUtFXy1PVVRTVFJFQU0oZmlsZW5hbWUpDQogICBQUFJJTlQoYXhGb3Jt
LHN0KQ0KICAgQ0xPU0Ugc3QNCiANCittYWtlQXhFeHBvcnRGb3JtKGZpbGVuYW1lLCBjb25zdHJ1
Y3RvcnMpID09DQorICAkZGVmYXVsdEZsYWcgOiBsb2NhbCA6PSBmYWxzZQ0KKyAgJGxpdGVyYWxz
IDo9IFtdDQorICBheEZvcm1zIDo9DQorICAgICBbbW9kZW1hcFRvQXgobW9kZW1hcCkgZm9yIGNu
YW1lIGluIGNvbnN0cnVjdG9ycyB8DQorICAgICAgICAgICAgKG1vZGVtYXA6PUdFVERBVEFCQVNF
KGNuYW1lLCdDT05TVFJVQ1RPUk1PREVNQVApKSBhbmQNCisgICAgICAgICAgICAgIChub3QgY25h
bWUgaW4gJyhUdXBsZSBFeGl0IFR5cGUpKSBhbmQNCisgICAgICAgICAgICAgICAgbm90IGlzRGVm
YXVsdFBhY2thZ2VOYW1lIGNuYW1lXQ0KKyAgaWYgJGJhc2VGb3JtcyB0aGVuDQorICAgICBheEZv
cm1zIDo9IFs6JGJhc2VGb3JtcywgOmF4Rm9ybXNdDQorICBpZiAkZGVmYXVsdEZsYWcgdGhlbg0K
KyAgICAgYXhGb3JtcyA6PQ0KKyAgICAgICAgW1snRm9yZWlnbiwgWydEZWNsYXJlLCAnZHVtbXlE
ZWZhdWx0LCAnRXhpdF0sICdMaXNwXSwgOmF4Rm9ybXNdDQorICBheEZvcm1zIDo9IEFQUEVORChh
eERvTGl0ZXJhbHMoKSwgYXhGb3JtcykNCisgIGF4Rm9ybSA6PSBbJ1NlcXVlbmNlLCBbJ0ltcG9y
dCwgW10sICdBeGlvbUxpYl0sIFsnSW1wb3J0LCBbXSwgJ0Jvb2xlYW5dLCA6YXhGb3Jtc10NCisg
IGF4Rm9ybQ0KKw0KKw0KIHN0cmlwVHlwZSB0eXBlID09DQogICAkc3RyaXBUeXBlcyA9Pg0KICAg
ICAgY2F0ZWdvcnlGb3JtPyB0eXBlID0+ICdUeXBlDQpJbmRleDogaS1zeXNjbWQuYm9vdC5wYW1w
aGxldA0KPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PQ0KUkNTIGZpbGU6IC9jdnNyb290L2F4aW9tL2F4aW9tL3NyYy9pbnRl
cnAvaS1zeXNjbWQuYm9vdC5wYW1waGxldCx2DQpyZXRyaWV2aW5nIHJldmlzaW9uIDEuNA0KZGlm
ZiAtdSAtcjEuNCBpLXN5c2NtZC5ib290LnBhbXBobGV0DQotLS0gaS1zeXNjbWQuYm9vdC5wYW1w
aGxldAkyOCBEZWMgMjAwNCAwNzo0Mjo0NSAtMDAwMAkxLjQNCisrKyBpLXN5c2NtZC5ib290LnBh
bXBobGV0CTggSmFuIDIwMDUgMTk6MDE6MzYgLTAwMDANCkBAIC02NDIsNyArNjQyLDcgQEANCiAg
ICAgaWYgXmJlUXVpZXQgdGhlbiBzYXlLZXllZE1zZygiUzJJWjAwMzhBIixbbmFtZXN0cmluZyBh
cmdzLCBhc2hhcnBBcmdzXSkNCiANCiAgICAgY29tbWFuZCA6PQ0KLSAgICAgU1RSQ09OQyhUUlVF
TkFNRShTVFJDT05DKEdFVEVOVignIkFYSU9NIiksJyIvY29tcGlsZXIvYmluLyIpKSwiYXhpb214
bCAiLCBhc2hhcnBBcmdzLCAnIiAiLCBuYW1lc3RyaW5nIGFyZ3MpDQorICAgICBTVFJDT05DKFNU
UkNPTkMoR0VURU5WKCciQVhJT00iKSwnIi9jb21waWxlci9iaW4vIiksImF4aW9teGwgIiwgYXNo
YXJwQXJncywgJyIgIiwgbmFtZXN0cmluZyBhcmdzKQ0KICAgICByYyA6PSBPQkVZIGNvbW1hbmQN
CiANCiAgICAgaWYgKHJjID0gMCkgYW5kIGRvQ29tcGlsZUxpc3AgdGhlbg0K


\start
Date: Tue, 11 Jan 2005 14:30:25 +0100
From: Martin Rubey
To: Peter Broadbery
Subject: Re: Axiom/Aldor

Dear Peter,

this is just great stuff -- nearly... I had to try it out right away, but I
experienced two problems.

the minor one is, that )co inside axiom still does not work:

                        AXIOM Computer Algebra System 
                   Version: Axiom 3.0 Beta (February 2005)
              Timestamp: Tuesday January 11, 2005 at 14:02:04 
-----------------------------------------------------------------------------
   Issue )copyright to view copyright notices.
   Issue )summary for a summary of useful system commands.
   Issue )quit to leave AXIOM and return to shell.
-----------------------------------------------------------------------------
 
   Re-reading compress.daase   Re-reading interp.daase
   Re-reading operation.daase
   Re-reading category.daase
   Re-reading browse.daase
(1) -> 
(1) -> )co test.as
   Compiling AXIOM source code from file 
      /home/rubey/martin/Axiom/test.as using AXIOM-XL compiler and 
      options 
-O -Fasy -Fao -Flsp -laxiom -Mno-AXL_W_WillObsolete -DAxiom -Y $AXIOM/algebra
      Use the system command )set compiler args to change these 
      options.
 
   >> System error:
   NIL is not of type STRING.

protected-symbol-warn called with (NIL)
(1) -> )co test
   Compiling AXIOM source code from file 
      /home/rubey/martin/Axiom/test.as using AXIOM-XL compiler and 
      options 
-O -Fasy -Fao -Flsp -laxiom -Mno-AXL_W_WillObsolete -DAxiom -Y $AXIOM/algebra
      Use the system command )set compiler args to change these 
      options.
 
   >> System error:
   NIL is not of type STRING.

protected-symbol-warn called with (NIL)
(1) -> 

Never mind.

Unfortunately, there is a more severe issue. I put the following simple domain
in a file "test.as" and compiled it using 

aldor -O -Fasy -Fao -Flsp -laxiom -Mno-AXL_W_WillObsolete -DAxiom test.as

without any problem. There is only the warning

#1 (Warning) Deprecated message prefix: use `ALDOR_' instead of `_AXL'

but I suspect that this is of no importance.


-------------------------------------------------------------------------------
#include "axiom.as"

Test: with { fact: PositiveInteger -> PositiveInteger }
   == add  { fact(n: PositiveInteger): PositiveInteger == 
              { n <= 1 => 1;
                res: PositiveInteger := 1;
                while n > 1 repeat {
                  res := res * n;
                  n := n-1; }
                res } }
-------------------------------------------------------------------------------

After this I start axiom and load runtime and axextend. By the way axextend
*is* in the distribution, it's only a little hidden... There is even more
obscure stuff in theis directory, maybe it's of use to you!

                        AXIOM Computer Algebra System 
                   Version: Axiom 3.0 Beta (February 2005)
              Timestamp: Tuesday January 11, 2005 at 14:02:04 
-----------------------------------------------------------------------------
   Issue )copyright to view copyright notices.
   Issue )summary for a summary of useful system commands.
   Issue )quit to leave AXIOM and return to shell.
-----------------------------------------------------------------------------
 
   Re-reading compress.daase   Re-reading interp.daase
   Re-reading operation.daase
   Re-reading category.daase
   Re-reading browse.daase
(1) -> 
(1) -> )lisp (load "/home/rubey/aldor/linux/1.0.2/lib/runtime.lsp")

Value = T
(1) -> )lisp (load "/home/rubey/axiom--main--1--patch-24/lsp/ccl/src/axbase/compiler/lib/axextend.lsp")

Value = T
(1) -> )lib test
   Reading /home/rubey/martin/Axiom/test.asy
   Loading /home/rubey/axiom/mnt/linux/autoload/bc-matrix.
   Loading /home/rubey/axiom/mnt/linux/autoload/bc-misc.
   Loading /home/rubey/axiom/mnt/linux/autoload/bc-solve.
   Loading /home/rubey/axiom/mnt/linux/autoload/bc-util.
   Loading /home/rubey/axiom/mnt/linux/autoload/ht-util.
   Loading /home/rubey/axiom/mnt/linux/autoload/htsetvar.
   Loading /home/rubey/axiom/mnt/linux/autoload/ht-root.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-con.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-data.
   Loading /home/rubey/axiom/mnt/linux/autoload/showimp.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-op1.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-op2.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-search.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-util.
   Loading /home/rubey/axiom/mnt/linux/autoload/topics.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-prof.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-saturn.
   Test is now explicitly exposed in frame frame0 
   Test will be automatically loaded when needed from 
      /home/rubey/martin/Axiom/test
(1) -> )sh Test
 Test  is a domain constructor
 Abbreviation for Test is TEST 
 This constructor is exposed in this frame.
 Issue )edit test.as to see algebra source code for TEST 

------------------------------- Operations --------------------------------
 fact : PositiveInteger -> PositiveInteger

(1) -> fact(5)$Test

   (1)  120
                                                        Type: PositiveInteger
(2) -> fact(4)$Test
 
   >> System error:
   #<vector 08cf4150> is not of type LIST.

protected-symbol-warn called with (NIL)


:-(

I am already very very happy, but another patch and/or explanation would
greatly improve this...

By the way, could you explain what your patches are doing? It's just a mystery
to me! I suspect that one needs some knowledge of Aldor internals?

\start
Date: Tue, 11 Jan 2005 09:16:41 -0500
From: Kostas Oikonomou
To: list
Subject: Graphics in patch 23

I noticed that graphics (sman) do not work in my Solaris build.
Are graphics supposed to work with patch 23?

If not, how do I update (to patch 24, I guess) so that I don't have to
rebuild everything?  I really don't know anything about arch, so I need
some help :-)

			Kostas

P.S. There seems to be something wrong with my email, so this may get
posted more than once.

\start
Date: Tue, 11 Jan 2005 15:43:53 +0100
From: Martin Rubey
To: Peter Broadbery
Subject: Re: Axiom/Aldor

Dear Peter,

I just tried another example, which is in fact the reason why I would love to
have Aldor working. I did not expect it to work, and it does not, but it works
*almost*. The code is as follows:

#include "axiom"

Test: with { f: (n: PositiveInteger) -> PrimeField(n) } 
   == add { f(n: PositiveInteger): PrimeField(n) == 
              10::Integer::PrimeField(n) }

Note that such a construction -- the resulting domain depending on the function
parameter -- is currently illegal in Axiom. In Aldor it is fine.

I compiled it with Aldor as usual, and then loaded it into Axiom. As signature
I got the slightly unusual

(1) -> )di op f

There is one unexposed function called f :
   [1] PositiveInteger -> PrimeField n from Test

and trying it out I obtained

(1) -> f(5)$Test
   Loading /home/rubey/axiom/mnt/linux/algebra/PF.o for domain 
      PrimeField 
   Loading /home/rubey/axiom/mnt/linux/algebra/IPF.o for domain 
      InnerPrimeField 
   Loading /home/rubey/axiom/mnt/linux/algebra/TABLE.o for domain Table
      
   Loading /home/rubey/axiom/mnt/linux/algebra/HASHTBL.o for domain 
      HashTable 
   Loading /home/rubey/axiom/mnt/linux/algebra/INTABL.o for domain 
      InnerTable 
   Loading /home/rubey/axiom/mnt/linux/algebra/ZMOD.o for domain 
      IntegerMod 

 
   >> System error:
   |n| is not of type NUMBER.

protected-symbol-warn called with (NIL)

which is roughly what I expected. However, to my great surprise, if you turn on
the debugger (beforehand. You always have to start a fresh axiom because of the
error I told you about in my previous message) with

)lisp (setq |$monitorNewWorld| t)

and thus trace

(1) -> f(1783)$Test

the final bit reads

protected-symbol-warn called with (NIL)..IntegerMod 1783 wants
   positiveRemainder : (%,%) -> % from  Integer
---->Integer----> searching op table for:
   positiveRemainder : (%,%) -> % from  Integer
<----#<compiled-function |INT;positiveRemainder;3$;28|> Integer
goget stuffing slot 47 of IntegerMod 1783
<------#<compiled-function |INT;positiveRemainder;3$;28|> Integer

PrimeField n activating lazy slot 8: Integer
PrimeField n activating lazy slot 9: IntegerPrimesPackage Integer

..PrimeField n wants
   prime? : Integer -> Boolean from  IntegerPrimesPackage Integer
---->IntegerPrimesPackage Integer----> searching op table for:
   prime? : Integer -> Boolean from  IntegerPrimesPackage Integer
<----#<compiled-function |PRIMES;prime?;IB;4|>(IntegerPrimesPackage,Integer)
goget stuffing slot 10 of PrimeField n
<------#<compiled-function |PRIMES;prime?;IB;4|>(IntegerPrimesPackage,Integer)
 

which clearly tells you, that the calculation is done alright, only the
signature interferes with success.

\start
Date: Tue, 11 Jan 2005 09:01:25 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [AldorForAxiom] 

functions which you then can use in Axiom. Unfortunately, support for domains
and packages is still buggy, but it's nearly working - thanks to Peter!

6. say - replacing paths as appropriate::

Getting domains to work is a little more of an effort currently, since you have
to patch Axiom a little. Modify the files in 'src/interp' of your axiom
(source-) distribution as follows - the patches are due to Peter Broadbery::

  Index: as.boot.pamphlet
  ===================================================================
  RCS file: /cvsroot/axiom/axiom/src/interp/as.boot.pamphlet,v
  retrieving revision 1.3
  diff -u -r1.3 as.boot.pamphlet
  --- as.boot.pamphlet	24 May 2004 22:53:49 -0000	1.3
  +++ as.boot.pamphlet	8 Jan 2005 19:01:23 -0000
  @@ -389,7 +389,8 @@
       HPUT(ht,id,[entry,:HGET(ht,id)])
     opalist := [[op,:REMDUP HGET(ht,op)] for op in HKEYS ht]
     --HPUT($opHash,con,[ancestorAlist,attributeAlist,:opalist])
  -  HPUT($opHash,con,[ancestorAlist,attributeAlist,:opalist])
  +  --HPUT($opHash,con,[ancestorAlist,attributeAlist,:opalist])
  +  HPUT($opHash,con,[ancestorAlist,nil,:opalist])
   
   hackToRemoveAnd p ==
   ---remove this as soon as .asy files do not contain forms (And pred) forms
  Index: ax.boot.pamphlet
  ===================================================================
  RCS file: /cvsroot/axiom/axiom/src/interp/ax.boot.pamphlet,v
  retrieving revision 1.3
  diff -u -r1.3 ax.boot.pamphlet
  --- ax.boot.pamphlet	24 May 2004 22:53:49 -0000	1.3
  +++ ax.boot.pamphlet	8 Jan 2005 19:01:26 -0000
  @@ -80,11 +80,29 @@
        axForms :=
           [['Foreign, ['Declare, 'dummyDefault, 'Exit], 'Lisp], :axForms]
     axForms := APPEND(axDoLiterals(), axForms)
  -  axForm := ['Sequence, ['Import, [], 'AxiomLib], :axForms]
  +  axForm := ['Sequence, ['Import, [], 'AxiomLib], ['Import, [], 'Boolean], :axForms]
     st := MAKE_-OUTSTREAM(filename)
     PPRINT(axForm,st)
     CLOSE st
   
  +makeAxExportForm(filename, constructors) ==
  +  $defaultFlag : local := false
  +  $literals := []
  +  axForms :=
  +     [modemapToAx(modemap) for cname in constructors |
  +            (modemap:=GETDATABASE(cname,'CONSTRUCTORMODEMAP)) and
  +              (not cname in '(Tuple Exit Type)) and
  +                not isDefaultPackageName cname]
  +  if $baseForms then
  +     axForms := [:$baseForms, :axForms]
  +  if $defaultFlag then
  +     axForms :=
  +        [['Foreign, ['Declare, 'dummyDefault, 'Exit], 'Lisp], :axForms]
  +  axForms := APPEND(axDoLiterals(), axForms)
  +  axForm := ['Sequence, ['Import, [], 'AxiomLib], ['Import, [], 'Boolean], :axForms]
  +  axForm
  +
  +
   stripType type ==
     $stripTypes =>
        categoryForm? type => 'Type
  Index: i-syscmd.boot.pamphlet
  ===================================================================
  RCS file: /cvsroot/axiom/axiom/src/interp/i-syscmd.boot.pamphlet,v
  retrieving revision 1.4
  diff -u -r1.4 i-syscmd.boot.pamphlet
  --- i-syscmd.boot.pamphlet	28 Dec 2004 07:42:45 -0000	1.4
  +++ i-syscmd.boot.pamphlet	8 Jan 2005 19:01:36 -0000
  @@ -642,7 +642,7 @@
       if ^beQuiet then sayKeyedMsg("S2IZ0038A",[namestring args, asharpArgs])
   
       command :=
  -     STRCONC(TRUENAME(STRCONC(GETENV('"AXIOM"),'"/compiler/bin/")),"axiomxl ", asharpArgs, '" ", namestring args)
  +     STRCONC(STRCONC(GETENV('"AXIOM"),'"/compiler/bin/"),"axiomxl ", asharpArgs, '" ", namestring args)
       rc := OBEY command
   
       if (rc = 0) and doCompileLisp then
  
Then, having put the following simple domain in a file 'test.as' ::

??changed:
-I compiled it with Aldor as above. But sadly, in axiom I get::
I compiled it with Aldor as above. In axiom you should get::

??changed:
-   Reading /home/rubey/martin/Axiom/test.asy
-   Loading /home/rubey/axiom/mnt/linux/autoload/bc-matrix.
-   Loading /home/rubey/axiom/mnt/linux/autoload/bc-misc.
-   Loading /home/rubey/axiom/mnt/linux/autoload/bc-solve.
-   Loading /home/rubey/axiom/mnt/linux/autoload/bc-util.
-   Loading /home/rubey/axiom/mnt/linux/autoload/ht-util.
-   Loading /home/rubey/axiom/mnt/linux/autoload/htsetvar.
-   Loading /home/rubey/axiom/mnt/linux/autoload/ht-root.
-   Loading /home/rubey/axiom/mnt/linux/autoload/br-con.
-   Loading /home/rubey/axiom/mnt/linux/autoload/br-data.
-   Loading /home/rubey/axiom/mnt/linux/autoload/showimp.
-   Loading /home/rubey/axiom/mnt/linux/autoload/br-op1.
-   Loading /home/rubey/axiom/mnt/linux/autoload/br-op2.
-   Loading /home/rubey/axiom/mnt/linux/autoload/br-search.
-   Loading /home/rubey/axiom/mnt/linux/autoload/br-util.
-   Loading /home/rubey/axiom/mnt/linux/autoload/topics.
-   Loading /home/rubey/axiom/mnt/linux/autoload/br-prof.
-   Loading /home/rubey/axiom/mnt/linux/autoload/br-saturn.
- 
-[4 more lines...]
  (1) -> )sh Test
    Test  is a domain constructor
    Abbreviation for Test is TEST 
    This constructor is exposed in this frame.
    Issue )edit test.as to see algebra source code for TEST 
   
   ------------------------------- Operations --------------------------------
    fact : PositiveInteger -> PositiveInteger
   
   (1) -> fact(5)$Test
   
      (1)  120
                                                           Type: PositiveInteger
   (2) -> fact(4)$Test
    
      >> System error:
      #<vector 08cf4150> is not of type LIST.
   
As you can see, starting with the second application of a function in the
domain, Axiom fails. Maybe you can fix this?

Peter also pointed out that

 - aldor "extend" does not work - it ought to, I think

 - The algebra defined in libaxiom.al is not current, and for it to be rebuilt
   various .as files need to be available to the build process (axextend.as and
   friends) - any reason why they're left out of the distribution?

 - exported attributes from aldor domains are explicitly killed off by this
   patch (it's probably easy to fix, just no time atm).  

 - Only tested the most trivial domains I could find.

Indeed, the following Aldor construct does not yet work in Axiom::

  #include "axiom"
  
  Test: with { f: (n: PositiveInteger) -> PrimeField(n) } 
     == add { f(n: PositiveInteger): PrimeField(n) == 
                10::Integer::PrimeField(n) }

It nearly works, as one can see from a trace done with 
')lisp (setq |$monitorNewWorld| t)', but not quite...

\start
Date: Tue, 11 Jan 2005 11:12:20 -0500
From: Bill Page
To: Stephen Wilson, Tim Daly
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

Steve,

On Monday, January 10, 2005 9:19 PM you wrote:
> 
> On Mon, Jan 10, 2005 at 09:39:22PM -0500, root wrote:
> > It appears that expressIdealMember is not mentioned in the
> > signature list for EuclideanDomain() and was not used locally
> > so the compiler did not generate code for it.
> 
> I noticed this too but Im not confident that this is the case.
> The catdef.spad.pamphlet has a stanza `<<EUCDOM-.lsp BOOTSTRAP>>='
> which includes the (nonexistent) chunk
> `<<EUCDOM-;expressIdealMember;LSU;10>>'. 
> The bootstrap code for EUCDOM mentions this function explicitly,
> as does bootstrap code in INT and SINT. Moreover, the code for
> this function is generated at the end of a normal build. I really
> think this a missing chunk (or, perhaps, I'm missing one :).
> 

Maybe it is the latter case :) ...

When I check catdef.spad.pamphlet on my system I do see a chunk
with this name at line 1866:

<<EUCDOM-;expressIdealMember;LSU;10>>=
(DEFUN |EUCDOM-;expressIdealMember;LSU;10| (|l| |z| |$|) 
  (PROG (#1=#:G83681 #2=#:G83682 |pid| |q| #3=#:G83679 |v| #4=#:G83680) 
    (RETURN 
      (SEQ 
        (COND 
          ((SPADCALL |z| (|spadConstant| |$| 26) (QREFELT |$| 44))

...

And the function definition also occurs in int/EUCDOM-.lsp
So the code is not missing in at least the axiom--windows--1
branch.

\start
Date: Tue, 11 Jan 2005 11:27:10 -0500
From: Stephen Wilson
To: Bill Page
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

Bill,

On Tue, Jan 11, 2005 at 11:12:20AM -0500, Page, Bill wrote:
> Maybe it is the latter case :) ...

It is! I guess that between referencing a `prestine' source tree and
three other hacked trees my original copy of catdef.spad was
modified. Regardless of the excuse, it is my mistake. Thank you for
pointing this out!

\start
Date: Tue, 11 Jan 2005 10:51:17 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [AldorForAxiom] 

1. Grab the file 'axextend.lsp' from your Axiom source distribution,
it should to patch Axiom a little, the patches being due to Peter
Broadbery. You can put each of them into a seperate file, and then
call 'patch origfile patchfile' in the 'src/interp' directory of your
axiom (source-) distribution for every one of the
three. Alternatively, you can make the changes by hand, of course.

A patch for 'as.boot.pamphlet' ::

  +  HPUT(\$opHash,con,[ancestorAlist,nil,:opalist])

A patch for 'ax.boot.pamphlet' ::


  +  \$defaultFlag : local := false
  +  \$literals := []

  +  if \$baseForms then
  +     axForms := [:\$baseForms, :axForms]
  +  if \$defaultFlag then

     \$stripTypes =>

??changed:
-  Index: i-syscmd.boot.pamphlet
-  ===================================================================
-  RCS file: /cvsroot/axiom/axiom/src/interp/i-syscmd.boot.pamphlet,v
-  retrieving revision 1.4
-  diff -u -r1.4 i-syscmd.boot.pamphlet

And finally a patch for 'i-syscmd.boot.pamphlet' ::


++added:
Of course, after having done this, you need to go to the root directory of your
axiom source, type './configure' and follow the instructions. The make should
finish after a few minutes.

\start
Date: Tue, 11 Jan 2005 19:58:23 +0000
From: Peter Broadbery
To: Martin Rubey
Subject: Axiom/Aldor

Sorry - missed a file in the patch - this one should help some runtime
problems.  

Load the attached file before trying stuff - It corrects a CCLism in the
aldor runtime. Though someone with more time ought to figure out why it
got there in the first place.

Peter


-- 
Peter Broadbery

--=-/9cFBF8d+DKfj/dtzfD/

OyBDb3B5cmlnaHQgKGMpIDE5OTEtMjAwMiwgVGhlIE51bWVyaWNhbCBBTGdvcml0aG1zIEdyb3Vw
IEx0ZC4NCjsgQWxsIHJpZ2h0cyByZXNlcnZlZC4NCjsNCjsgUmVkaXN0cmlidXRpb24gYW5kIHVz
ZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0DQo7IG1vZGlmaWNh
dGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9u
cyBhcmUNCjsgbWV0Og0KOw0KOyAgICAgLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUg
bXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodA0KOyAgICAgICBub3RpY2UsIHRoaXMgbGlz
dCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuDQo7DQo7ICAgICAt
IFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUg
Y29weXJpZ2h0DQo7ICAgICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRo
ZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbg0KOyAgICAgICB0aGUgZG9jdW1lbnRhdGlvbiBhbmQv
b3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlDQo7ICAgICAgIGRpc3RyaWJ1dGlv
bi4NCjsNCjsgICAgIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBUaGUgTnVtZXJpY2FsIEFMZ29yaXRo
bXMgR3JvdXAgTHRkLiBub3IgdGhlDQo7ICAgICAgIG5hbWVzIG9mIGl0cyBjb250cmlidXRvcnMg
bWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzDQo7ICAgICAgIGRlcml2
ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJt
aXNzaW9uLg0KOw0KOyBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQg
SE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTICJBUw0KOyBJUyIgQU5EIEFOWSBFWFBSRVNTIE9SIElN
UExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQNCjsgVE8sIFRIRSBJ
TVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBDQo7
IFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhF
IENPUFlSSUdIVCBPV05FUg0KOyBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElS
RUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwNCjsgRVhFTVBMQVJZLCBPUiBDT05T
RVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLA0KOyBQUk9D
VVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFU
QSwgT1INCjsgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNF
RCBBTkQgT04gQU5ZIFRIRU9SWSBPRg0KOyBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1Qs
IFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORw0KOyBORUdMSUdFTkNFIE9SIE9U
SEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMNCjsgU09G
VFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0Uu
DQoNCg0KOzs7DQo7OzsgRk9BTSBPcGVyYXRpb25zIGZvciBDb21tb24gTGlzcA0KOzs7DQoNCjs7
DQo7OyBDbGllbnQgZmlsZXMgc2hvdWxkIGJlZ2luIHdpdGgNCjs7ICAgKGluLXBhY2thZ2UgIkZP
QU0tVVNFUiIgOnVzZSAnKCJGT0FNIiAiTElTUCIpKQ0KOzsNCjs7DQo7OyBUbyBEbzoNCjs7ICAg
IFRlc3QgY2FzZXMuDQo7OyAgICBTY2FuIGFuZCBmb3JtYXQgZnVuY3Rpb25zIG5lZWQgdG8gYmUg
cmV3cml0dGVuIHRvIGhhbmRsZSBjb21wbGV0ZSBzeW50YXguDQo7OyAgICBEZWZ0eXBlcyBmb3Ig
ZWFjaCBGb2FtIHR5cGU/DQo7Ow0KDQooaW4tcGFja2FnZSAiRk9BTSIgOnVzZSAnKCJMSVNQIikp
DQoNCihleHBvcnQgJygNCiBjb21waWxlLWFzLWZpbGUgY2FzZXMNCg0KIHxDbG9zfCB8Q2hhcnwg
fEJvb2x8IHxCeXRlfCB8SEludHwgfFNJbnR8IHxCSW50fCB8U0Zsb3wgfERGbG98IHxQdHJ8IA0K
IHxXb3JkfCB8QXJifCB8RW52fCB8TGV2ZWx8IHxBcnJ8IHxSZWNvcmR8DQoNCiB8Q2xvc0luaXR8
IHxDaGFySW5pdHwgfEJvb2xJbml0fCB8Qnl0ZUluaXR8IHxISW50SW5pdHwgfFNJbnRJbml0fCAN
CiB8QkludEluaXR8IHxTRmxvSW5pdHwgfERGbG9Jbml0fCB8UHRySW5pdHwgfFdvcmRJbml0fCB8
QXJiSW5pdHwgfEVudkluaXR8DQogfEFyckluaXR8IHxSZWNvcmRJbml0fCB8TGV2ZWxJbml0fCAN
Cg0KIHxCb29sRmFsc2V8IHxCb29sVHJ1ZXwgfEJvb2xOb3R8IHxCb29sQW5kfCB8Qm9vbE9yfCB8
Qm9vbEVRfCB8Qm9vbE5FfA0KDQogfENoYXJTcGFjZXwgfENoYXJOZXdsaW5lfCB8Q2hhck1pbnwg
fENoYXJNYXh8IHxDaGFySXNEaWdpdHwNCiB8Q2hhcklzTGV0dGVyfCB8Q2hhckVRfCB8Q2hhck5F
fCB8Q2hhckxUfCB8Q2hhckxFfA0KIHxDaGFyTG93ZXJ8IHxDaGFyVXBwZXJ8IHxDaGFyT3JkfCB8
Q2hhck51bXwgfENoYXJDb2RlMHwNCg0KIHxTRmxvMHwgfFNGbG8xfCB8U0Zsb01pbnwgfFNGbG9N
YXh8IHxTRmxvRXBzaWxvbnwgfFNGbG9Jc1plcm98DQogfFNGbG9Jc05lZ3wgfFNGbG9Jc1Bvc3wg
fFNGbG9FUXwgfFNGbG9ORXwgfFNGbG9MVHwNCiB8U0Zsb0xFfCB8U0Zsb05lZ2F0ZXwgfFNGbG9Q
cmV2fCB8U0Zsb05leHR8IHxTRmxvUGx1c3wNCiB8U0Zsb01pbnVzfCB8U0Zsb1RpbWVzfCB8U0Zs
b1RpbWVzUGx1c3wgfFNGbG9EaXZpZGV8DQogfFNGbG9SUGx1c3wgfFNGbG9STWludXN8IHxTRmxv
UlRpbWVzfCB8U0Zsb1JUaW1lc1BsdXN8DQogfFNGbG9SRGl2aWRlfCB8U0Zsb0Rpc3NlbWJsZXwg
fFNGbG9Bc3NlbWJsZXwNCg0KIHxERmxvMHwgfERGbG8xfCB8REZsb01pbnwgfERGbG9NYXh8IHxE
RmxvRXBzaWxvbnwNCiB8REZsb0lzWmVyb3wgfERGbG9Jc05lZ3wgfERGbG9Jc1Bvc3wgfERGbG9F
UXwgfERGbG9ORXwNCiB8REZsb0xUfCB8REZsb0xFfCB8REZsb05lZ2F0ZXwgfERGbG9QcmV2fCB8
REZsb05leHR8DQogfERGbG9QbHVzfCB8REZsb01pbnVzfCB8REZsb1RpbWVzfCB8REZsb1RpbWVz
UGx1c3wNCiB8REZsb0RpdmlkZXwgfERGbG9SUGx1c3wgfERGbG9STWludXN8IHxERmxvUlRpbWVz
fA0KIHxERmxvUlRpbWVzUGx1c3wgfERGbG9SRGl2aWRlfCB8REZsb0Rpc3NlbWJsZXwNCiB8REZs
b0Fzc2VtYmxlfCB8Qnl0ZTB8IHxCeXRlMXwgfEJ5dGVNaW58IHxCeXRlTWF4fA0KDQogfEhJbnQw
fCB8SEludDF8IHxISW50TWlufCB8SEludE1heHwNCg0KIHxTSW50MHwgfFNJbnQxfCB8U0ludE1p
bnwgfFNJbnRNYXh8IHxTSW50SXNaZXJvfCB8U0ludElzTmVnfA0KIHxTSW50SXNQb3N8IHxTSW50
SXNFdmVufCB8U0ludElzT2RkfCB8U0ludEVRfCB8U0ludE5FfA0KIHxTSW50TFR8IHxTSW50TEV8
IHxTSW50TmVnYXRlfCB8U0ludFByZXZ8IHxTSW50TmV4dHwNCiB8U0ludFBsdXN8IHxTSW50TWlu
dXN8IHxTSW50VGltZXN8IHxTSW50VGltZXNQbHVzfA0KIHxTSW50TW9kfCB8U0ludFF1b3wgfFNJ
bnRSZW18IHxTSW50RGl2aWRlfCB8U0ludEdjZHwNCiB8U0ludFBsdXNNb2R8IHxTSW50TWludXNN
b2R8IHxTSW50VGltZXNNb2R8DQogfFNJbnRUaW1lc01vZEludnwgfFNJbnRMZW5ndGh8IHxTSW50
U2hpZnRVcHwNCiB8U0ludFNoaWZ0RG58IHxTSW50Qml0fCB8U0ludE5vdHwgfFNJbnRBbmR8IHxT
SW50T3J8DQoNCiB8V29yZFRpbWVzRG91YmxlfCB8V29yZERpdmlkZURvdWJsZXwgfFdvcmRQbHVz
U3RlcHwgfFdvcmRUaW1lc1N0ZXB8DQoNCiB8QkludDB8IHxCSW50MXwgfEJJbnRJc1plcm98IHxC
SW50SXNOZWd8IHxCSW50SXNQb3N8IHxCSW50SXNFdmVufA0KIHxCSW50SXNPZGR8IHxCSW50SXNT
aW5nbGV8IHxCSW50RVF8IHxCSW50TkV8IHxCSW50TFR8DQogfEJJbnRMRXwgfEJJbnROZWdhdGV8
IHxCSW50UHJldnwgfEJJbnROZXh0fCB8QkludFBsdXN8DQogfEJJbnRNaW51c3wgfEJJbnRUaW1l
c3wgfEJJbnRUaW1lc1BsdXN8IHxCSW50TW9kfA0KIHxCSW50UXVvfCB8QkludFJlbXwgfEJJbnRE
aXZpZGV8IHxCSW50R2NkfA0KIHxCSW50U0lQb3dlcnwgfEJJbnRCSVBvd2VyfCB8QkludExlbmd0
aHwgfEJJbnRTaGlmdFVwfA0KIHxCSW50U2hpZnREbnwgfEJJbnRCaXR8DQoNCiB8UHRyTmlsfCB8
UHRySXNOaWx8IHxQdHJNYWdpY0VRfCB8UHRyRVF8IHxQdHJORXwNCg0KIHxGb3JtYXRTRmxvfCB8
Rm9ybWF0REZsb3wgfEZvcm1hdFNJbnR8IHxGb3JtYXRCSW50fA0KIHxmZ2V0c3N8IHxmcHV0c3N8
DQoNCiB8U2NhblNGbG98IHxTY2FuREZsb3wgfFNjYW5TSW50fCB8U2NhbkJJbnR8DQoNCiB8U0Zs
b1RvREZsb3wgfERGbG9Ub1NGbG98IHxCeXRlVG9TSW50fCB8U0ludFRvQnl0ZXwgfEhJbnRUb1NJ
bnR8DQogfFNJbnRUb0hJbnR8IHxTSW50VG9CSW50fCB8QkludFRvU0ludHwgfFNJbnRUb1NGbG98
DQogfFNJbnRUb0RGbG98IHxCSW50VG9TRmxvfCB8QkludFRvREZsb3wgfFB0clRvU0ludHwNCiB8
U0ludFRvUHRyfCB8Qm9vbFRvU0ludHwNCg0KIHxBcnJUb1NGbG98IHxBcnJUb0RGbG98IHxBcnJU
b1NJbnR8IHxBcnJUb0JJbnR8DQoNCiB8UGxhdGZvcm1SVEV8IHxQbGF0Zm9ybU9TfCB8SGFsdHwN
Cg0KIHxDbG9zfCB8Q0NhbGx8IHxDbG9zRW52fCB8Q2xvc0Z1bnwgfFNldENsb3NFbnZ8IHxTZXRD
bG9zRnVufA0KIHxERGVjbHwgfFJOZXd8IHxBTmV3fCB8UkVsdHwgfEVFbHR8IHxBRWx0fCB8TGV4
fA0KIHxTZXRMZXh8IHxTZXRSRWx0fCB8U2V0QUVsdHwgfFNldEVFbHR8DQogfEZvYW1GcmVlfA0K
DQogZGVjbGFyZS1wcm9nIGRlY2xhcmUtdHlwZQ0KIGRlZnByb2cgaWdub3JlLXZhciBibG9jay1y
ZXR1cm4NCiBkZWZzcGVjaWFscyBmaWxlLWV4cG9ydHMgZmlsZS1pbXBvcnRzDQogdHlwZWQtbGV0
IGZvYW1mbiB8Rm9hbVByb2d8IHxhbGxvYy1wcm9nLWluZm98DQoNCiB8TWFrZUVudnwgfEVudkxl
dmVsfCB8RW52TmV4dHwgfEVudkluZm98IHxTZXRFbnZJbmZvfCB8Rm9hbUVudkVuc3VyZXwNCiB8
TWFrZUxpdHwgfE1ha2VMZXZlbHwNCiB8cHJpbnROZXdMaW5lfCB8cHJpbnRDaGFyfCB8cHJpbnRT
dHJpbmd8IHxwcmludFNJbnR8IHxwcmludEJJbnR8IHxwcmludFNGbG9hdHwNCiB8cHJpbnRERmxv
YXR8IA0KIHxzdHJMZW5ndGh8IHxmb3JtYXRTSW50fCB8Zm9ybWF0QkludHwgfGZvcm1hdFNGbG9h
dHwgfGZvcm1hdERGbG9hdHwNCiANCiB8UHJvZ0hhc2hDb2RlfCB8U2V0UHJvZ0hhc2hDb2RlfCB8
UHJvZ0Z1bnwNCiB8Ry1tYWluQXJnY3wgfEctbWFpbkFyZ3Z8DQogfHN0ZGluRmlsZXwgfHN0ZG91
dEZpbGV8IHxzdGRlcnJGaWxlfA0KIHxmcHV0Y3wgfGZwdXRzfCB8Zm9hbWZ1bnwNCg0KDQogOzsg
dHJhbmNlbmRlbnRhbCBmdW5jdGlvbnMNCiB8c3FydHwgfHBvd3wgfGxvZ3wgfGV4cHwgfHNpbnwg
fGNvc3wgfHRhbnwgfHNpbmh8IHxjb3NofCB8dGFuaHwgDQogfGFzaW58IHxhY29zfCB8YXRhbnwg
fGF0YW4yfA0KDQogOzsgZGVidWdpbmcNCiB8ZmlTZXREZWJ1Z1ZhcnwgfGZpR2V0RGVidWdWYXJ8
IHxmaVNldERlYnVnZ2VyfCB8ZmlHZXREZWJ1Z2dlcnwNCiA7OyBCbGF0ZW50IGhhY2tzLi4NCiB8
Ry1zdGRvdXRWYXJ8IHxHLXN0ZGluVmFyfCB8Ry1zdGRlcnJWYXJ8DQogfGZpU3RySGFzaHwNCg0K
IGF4aW9teGwtZmlsZS1pbml0LW5hbWUNCiBheGlvbXhsLWdsb2JhbC1uYW1lDQopKQ0KDQoNCjs7
IHR5cGUgZGVmcyBmb3IgRm9hbSB0eXBlcw0KKGRlZnR5cGUgfENoYXJ8ICgpICdzdHJpbmctY2hh
cikNCihkZWZ0eXBlIHxDbG9zfCAoKSAnbGlzdCkNCihkZWZ0eXBlIHxCb29sfCAoKSAnKG1lbWJl
ciB0IG5pbCkpDQooZGVmdHlwZSB8Qnl0ZXwgKCkgJ3Vuc2lnbmVkLWJ5dGUpDQooZGVmdHlwZSB8
SEludHwgKCkgJyhpbnRlZ2VyICMuKC0gKGV4cHQgMiAxNSkpICMuKDEtIChleHB0IDIgMTUpKSkp
DQooZGVmdHlwZSB8U0ludHwgKCkgJ2ZpeG51bSkNCg0KIys6QUtDTA0KKGRlZnR5cGUgfEJJbnR8
ICgpIHQpDQojLTpBS0NMDQooZGVmdHlwZSB8QkludHwgKCkgJ2ludGVnZXIpDQoNCihkZWZ0eXBl
IHxTRmxvfCAoKSAnc2hvcnQtZmxvYXQpDQoNCiMrOkFLQ0wNCihkZWZ0eXBlIHxERmxvfCAoKSB0
KQ0KIy06QUtDTA0KKGRlZnR5cGUgfERGbG98ICgpICdsb25nLWZsb2F0KQ0KDQooZGVmdHlwZSB8
TGV2ZWx8ICgpIHQpIDs7IHN0cnVjdHVyZT8/DQoNCihkZWZ0eXBlIHxOaWx8ICAoKSB0KQ0KKGRl
ZnR5cGUgfFB0cnwgICgpIHQpDQooZGVmdHlwZSB8V29yZHwgKCkgdCkNCihkZWZ0eXBlIHxBcnJ8
ICAoKSB0KQ0KKGRlZnR5cGUgfFJlY29yZHwgKCkgdCkNCihkZWZ0eXBlIHxBcmJ8ICAoKSB0KQ0K
KGRlZnR5cGUgfEVudnwgICgpIHQpICA7IChvciBjb25zIG5pbCkNCg0KOzsgZGVmYXVsdCB2YWx1
ZXMgZm9yIHR5cGVzLiAgVXNlZCBhcyBpbml0aWFsaXplcnMgaW4gbGV0cy4NCihkZWZjb25zdGFu
dCB8Q2hhckluaXR8ICh0aGUgfENoYXJ8ICcjXFNwYWNlKSkNCihkZWZjb25zdGFudCB8Q2xvc0lu
aXR8ICh0aGUgfENsb3N8IG5pbCkpDQooZGVmY29uc3RhbnQgfEJvb2xJbml0fCAodGhlIHxCb29s
fCBuaWwpKQ0KKGRlZmNvbnN0YW50IHxCeXRlSW5pdHwgKHRoZSB8Qnl0ZXwgMCkpDQooZGVmY29u
c3RhbnQgfEhJbnRJbml0fCAodGhlIHxISW50fCAwKSkNCihkZWZjb25zdGFudCB8U0ludEluaXR8
ICh0aGUgfFNJbnR8IDApKQ0KKGRlZmNvbnN0YW50IHxCSW50SW5pdHwgKHRoZSB8QkludHwgIDAp
KQ0KKGRlZmNvbnN0YW50IHxTRmxvSW5pdHwgKHRoZSB8U0Zsb3wgMC4wczApKQ0KKGRlZmNvbnN0
YW50IHxERmxvSW5pdHwgKHRoZSB8REZsb3wgMC4wZDApKQ0KKGRlZmNvbnN0YW50IHxQdHJJbml0
fCAgKHRoZSB8UHRyfCAgbmlsKSkNCihkZWZjb25zdGFudCB8QXJySW5pdHwgICh0aGUgfEFycnwg
IG5pbCkpDQooZGVmY29uc3RhbnQgfFJlY29yZEluaXR8ICAodGhlIHxSZWNvcmR8ICBuaWwpKQ0K
KGRlZmNvbnN0YW50IHxXb3JkSW5pdHwgKHRoZSB8V29yZHwgbmlsKSkNCihkZWZjb25zdGFudCB8
QXJiSW5pdHwgICh0aGUgfEFyYnwgIG5pbCkpDQooZGVmY29uc3RhbnQgfEVudkluaXR8ICAodGhl
IHxFbnZ8ICBuaWwpKQ0KKGRlZmNvbnN0YW50IHxMZXZlbEluaXR8ICAodGhlIHxMZXZlbHwgIG5p
bCkpDQoNCjs7IEJvb2wgdmFsdWVzIGFyZSBhc3N1bWVkIHRvIGJlIGVpdGhlciAnVCBvciBOSUwu
DQo7OyBUaHVzIG5vbi1uaWwgdmFsdWVzIGFyZSBjYW5vbmljYWxseSByZXByZXNlbnRlZC4NCihk
ZWZtYWNybyB8Qm9vbEZhbHNlfCAgICAgKCkgTklMKQ0KKGRlZm1hY3JvIHxCb29sVHJ1ZXwgICAg
ICAoKSAnVCkNCihkZWZtYWNybyB8Qm9vbE5vdHwgICAgICAoeCkgYChOT1QgLHgpKQ0KKGRlZm1h
Y3JvIHxCb29sQW5kfCAgICAoeCB5KQ0KICBgKGxldCAoKHh4ICx4KSAoeXkgLHkpKSAoQU5EIHh4
IHl5KSkpIDs7IGZvcmNlIGV2YWx1YXRpb24gb2YgYm90aCBhcmdzDQooZGVmbWFjcm8gfEJvb2xP
cnwgICAgICh4IHkpDQogIGAobGV0ICgoeHggLHgpICh5eSAseSkpIChPUiAgeHggeXkpKSkgOzsg
Zm9yY2UgZXZhbHVhdGlvbiBvZiBib3RoIGFyZ3MNCihkZWZtYWNybyB8Qm9vbEVRfCAgICAgKHgg
eSkgYChFUSAseCAseSkpDQooZGVmbWFjcm8gfEJvb2xORXwgICAgICh4IHkpIGAoTk9UICh8Qm9v
bEVRfCAseCAseSkpKQ0KDQooZGVmY29uc3RhbnQgfENoYXJDb2RlMHwgKGNvZGUtY2hhciAwKSkN
Cg0KKGRlZm1hY3JvIHxDaGFyU3BhY2V8ICAgICgpICcjXFNwYWNlKQ0KKGRlZm1hY3JvIHxDaGFy
TmV3bGluZXwgICgpICcjXE5ld2xpbmUpDQooZGVmbWFjcm8gfENoYXJNaW58ICAgICAgKCkgIHxD
aGFyQ29kZTB8KQ0KKGRlZm1hY3JvIHxDaGFyTWF4fCAgICAgICgpICAjLihjb2RlLWNoYXIgKDEt
IGNoYXItY29kZS1saW1pdCkpKQ0KKGRlZm1hY3JvIHxDaGFySXNEaWdpdHwgKHgpIGAoaWYgKERJ
R0lULUNIQVItUCAodGhlIHxDaGFyfCAseCkpICd0IG5pbCkpDQooZGVmbWFjcm8gfENoYXJJc0xl
dHRlcnwoeCkgYChBTFBIQS1DSEFSLVAgKHRoZSB8Q2hhcnwgLHgpKSkNCihkZWZtYWNybyB8Q2hh
ckxUfCAgICAoeCB5KSBgKENIQVI8ICh0aGUgfENoYXJ8ICx4KSAodGhlIHxDaGFyfCAseSkpKQ0K
KGRlZm1hY3JvIHxDaGFyTEV8ICAgICh4IHkpIGAoQ0hBUjw9ICh0aGUgfENoYXJ8ICx4KSAodGhl
IHxDaGFyfCAseSkpKQ0KKGRlZm1hY3JvIHxDaGFyRVF8ICAgICh4IHkpIGAoQ0hBUj0gKHRoZSB8
Q2hhcnwgLHgpICh0aGUgfENoYXJ8ICx5KSkpDQooZGVmbWFjcm8gfENoYXJORXwgICAgKHggeSkg
YChDSEFSLz0gKHRoZSB8Q2hhcnwgLHgpICh0aGUgfENoYXJ8ICx5KSkpDQooZGVmbWFjcm8gfENo
YXJMb3dlcnwgICAoeCkgYCh0aGUgfENoYXJ8IChDSEFSLURPV05DQVNFICh0aGUgfENoYXJ8ICx4
KSkpKQ0KKGRlZm1hY3JvIHxDaGFyVXBwZXJ8ICAgKHgpIGAodGhlIHxDaGFyfCAoQ0hBUi1VUENB
U0UgKHRoZSB8Q2hhcnwgLHgpKSkpDQooZGVmbWFjcm8gfENoYXJPcmR8ICAgICAoeCkgYChDSEFS
LUlOVCAodGhlIHxDaGFyfCAseCkpKQ0KKGRlZm1hY3JvIHxDaGFyTnVtfCAgICAgKHgpIGAoSU5U
LUNIQVIgKHRoZSB8U0ludHwgLHgpKSkNCg0KKGRlZm1hY3JvIHxTRmxvMHwgICAgICAgICgpIDAu
MHMwKQ0KKGRlZm1hY3JvIHxTRmxvMXwgICAgICAgICgpIDEuMHMwKQ0KKGRlZm1hY3JvIHxTRmxv
TWlufCAgICAgICgpIG1vc3QtbmVnYXRpdmUtc2hvcnQtZmxvYXQpDQooZGVmbWFjcm8gfFNGbG9N
YXh8ICAgICAgKCkgbW9zdC1wb3NpdGl2ZS1zaG9ydC1mbG9hdCkNCihkZWZtYWNybyB8U0Zsb0Vw
c2lsb258ICAoKSBzaG9ydC1mbG9hdC1lcHNpbG9uKQ0KKGRlZm1hY3JvIHxTRmxvSXNaZXJvfCAg
KHgpIGAoemVyb3AgKHRoZSB8U0Zsb3wgLHgpKSkNCihkZWZtYWNybyB8U0Zsb0lzTmVnfCAgICh4
KSBgKG1pbnVzcCAodGhlIHxTRmxvfCAseCkpKQ0KKGRlZm1hY3JvIHxTRmxvSXNQb3N8ICAgKHgp
IGAocGx1c3AgKHRoZSB8U0Zsb3wgLHgpKSkNCihkZWZtYWNybyB8U0Zsb0xUfCAgICAoeCB5KSBg
KDwgKHRoZSB8U0Zsb3wgLHgpICh0aGUgfFNGbG98ICx5KSkpDQooZGVmbWFjcm8gfFNGbG9MRXwg
ICAgKHggeSkgYCg8PSAodGhlIHxTRmxvfCAseCkgKHRoZSB8U0Zsb3wgLHkpKSkNCihkZWZtYWNy
byB8U0Zsb0VRfCAgICAoeCB5KSBgKD0gKHRoZSB8U0Zsb3wgLHgpICh0aGUgfFNGbG98ICx5KSkp
DQooZGVmbWFjcm8gfFNGbG9ORXwgICAgKHggeSkgYCgvPSAodGhlIHxTRmxvfCAseCkgKHRoZSB8
U0Zsb3wgLHkpKSkNCihkZWZtYWNybyB8U0Zsb05lZ2F0ZXwgICh4KSBgKHRoZSB8U0Zsb3wgKC0g
KHRoZSB8U0Zsb3wgLHgpKSkpDQooZGVmbWFjcm8gfFNGbG9OZXh0fAkoeCkgYCh0aGUgfFNGbG98
ICgrICh0aGUgfFNGbG98ICx4KSAxLjBzMCkpKQ0KKGRlZm1hY3JvIHxTRmxvUHJldnwJKHgpIGAo
dGhlIHxTRmxvfCAoLSAodGhlIHxTRmxvfCAseCkgMS4wczApKSkNCihkZWZtYWNybyB8U0Zsb01p
bnVzfCAoeCB5KSBgKHRoZSB8U0Zsb3wgKC0gKHRoZSB8U0Zsb3wgLHgpICh0aGUgfFNGbG98ICx5
KSkpKQ0KKGRlZm1hY3JvIHxTRmxvVGltZXN8ICh4IHkpIGAodGhlIHxTRmxvfCAoKiAodGhlIHxT
RmxvfCAseCkgKHRoZSB8U0Zsb3wgLHkpKSkpDQooZGVmbWFjcm8gfFNGbG9UaW1lc1BsdXN8ICh4
IHkgeikNCiAgYCh0aGUgfFNGbG98ICgrICgqICh0aGUgfFNGbG98ICx4KSAodGhlIHxTRmxvfCAs
eSkpICh0aGUgfFNGbG98ICx6KSkpKQ0KKGRlZm1hY3JvIHxTRmxvRGl2aWRlfAkoeCB5KSBgKHRo
ZSB8U0Zsb3wgKC8gKHRoZSB8U0Zsb3wgLHgpICh0aGUgfFNGbG98ICx5KSkpKQ0KKGRlZm1hY3Jv
IHxTRmxvUlBsdXN8ICAoeCB5IHIpIGAoZXJyb3IgInVuaW1wbGVtZW50ZWQgb3BlcmF0aW9uIC0t
IFNGbG9SUGx1cyIpKQ0KKGRlZm1hY3JvIHxTRmxvUk1pbnVzfCAoeCB5IHIpIGAoZXJyb3IgInVu
aW1wbGVtZW50ZWQgb3BlcmF0aW9uIC0tIFNGbG9SVGltZXMiKSkNCihkZWZtYWNybyB8U0Zsb1JU
aW1lc3wgKHggeSByKSBgKGVycm9yICJ1bmltcGxlbWVudGVkIG9wZXJhdGlvbiAtLSBTRmxvUlRp
bWVzIikpDQooZGVmbWFjcm8gfFNGbG9SVGltZXNQbHVzfCAoeCB5IHogcikgYChlcnJvciAidW5p
bXBsZW1lbnRlZCBvcGVyYXRpb24gLS0gU0Zsb1RpbWVzUGx1cyIpKQ0KKGRlZm1hY3JvIHxTRmxv
UkRpdmlkZXwoeCB5IHIpIGAoZXJyb3IgInVuaW1wbGVtZW50ZWQgb3BlcmF0aW9uIC0tIFNGbG9E
aXZpZGUiKSkNCihkZWZtYWNybyB8U0Zsb0Rpc3NlbWJsZXwgKHgpIGAoZXJyb3IgInVuaW1wbGVt
ZW50ZWQgb3BlcmF0aW9uIC0tIFNGbG9EaXNzZW1ibGUiKSkNCihkZWZtYWNybyB8U0Zsb0Fzc2Vt
YmxlfCAodyB4IHkpIGAoZXJyb3IgInVuaW1wbGVtZW50ZWQgb3BlcmF0aW9uIC0tIFNGbG9Bc3Nl
bWJsZSIpKQ0KDQo7OyBUaGVzZSBhcmUgbm8gbG9uZ2VyIGZvYW0gYnVpbHRpbnMNCjs7KGRlZm1h
Y3JvIHxTRmxvUm91bmR8ICAgICh4KSBgKHRoZSB8QkludHwgKHJvdW5kICh0aGUgfFNGbG98ICx4
KSkpKQ0KOzsoZGVmbWFjcm8gfFNGbG9UcnVuY2F0ZXwgKHgpIGAodGhlIHxCSW50fCAodHJ1bmNh
dGUgKHRoZSB8U0Zsb3wgLHgpKSkpDQo7OyhkZWZtYWNybyB8U0Zsb0Zsb29yfCAgICAoeCkgYCh0
aGUgfEJJbnR8IChmbG9vciAodGhlIHxTRmxvfCAseCkpKSkNCjs7KGRlZm1hY3JvIHxTRmxvQ2Vp
bGluZ3wgICh4KSBgKHRoZSB8QkludHwgKGNlaWxpbmcgKHRoZSB8U0Zsb3wgLHgpKSkpDQoNCihk
ZWZtYWNybyB8REZsbzB8ICAgICAgICAgKCkgMC4wZDApDQooZGVmbWFjcm8gfERGbG8xfCAgICAg
ICAgICgpIDEuMGQwKQ0KKGRlZm1hY3JvIHxERmxvTWlufCAgICAgICAoKSBtb3N0LW5lZ2F0aXZl
LWxvbmctZmxvYXQpDQooZGVmbWFjcm8gfERGbG9NYXh8ICAgICAgICgpIG1vc3QtcG9zaXRpdmUt
bG9uZy1mbG9hdCkNCihkZWZtYWNybyB8REZsb0Vwc2lsb258ICAgKCkgbG9uZy1mbG9hdC1lcHNp
bG9uKQ0KKGRlZm1hY3JvIHxERmxvSXNaZXJvfCAgICh4KSBgKHplcm9wICh0aGUgfERGbG98ICx4
KSkpDQooZGVmbWFjcm8gfERGbG9Jc05lZ3wgICAgKHgpIGAobWludXNwICh0aGUgfERGbG98ICx4
KSkpDQooZGVmbWFjcm8gfERGbG9Jc1Bvc3wgICAgKHgpIGAocGx1c3AgKHRoZSB8REZsb3wgLHgp
KSkNCihkZWZtYWNybyB8REZsb0xFfCAgICAgKHggeSkgYCg8PSAodGhlIHxERmxvfCAseCkgKHRo
ZSB8REZsb3wgLHkpKSkNCihkZWZtYWNybyB8REZsb0VRfCAgICAgKHggeSkgYCg9ICh0aGUgfERG
bG98ICx4KSAodGhlIHxERmxvfCAseSkpKQ0KKGRlZm1hY3JvIHxERmxvTFR8ICAgICAoeCB5KSBg
KDwgKHRoZSB8REZsb3wgLHgpICh0aGUgfERGbG98ICx5KSkpDQooZGVmbWFjcm8gfERGbG9ORXwg
ICAgICh4IHkpIGAoLz0gKHRoZSB8REZsb3wgLHgpICh0aGUgfERGbG98ICx5KSkpDQooZGVmbWFj
cm8gfERGbG9OZWdhdGV8ICAgKHgpIGAodGhlIHxERmxvfCAoLSAodGhlIHxERmxvfCAseCkpKSkN
CihkZWZtYWNybyB8REZsb05leHR8IAkgKHgpIGAodGhlIHxERmxvfCAoKyAodGhlIHxERmxvfCAs
eCkgMS4wZDApKSkNCihkZWZtYWNybyB8REZsb1ByZXZ8CSAoeCkgYCh0aGUgfERGbG98ICgtICh0
aGUgfERGbG98ICx4KSAxLjBkMCkpKQ0KKGRlZm1hY3JvIHxERmxvUGx1c3wgICAoeCB5KSBgKHRo
ZSB8REZsb3wgKCsgKHRoZSB8REZsb3wgLHgpICh0aGUgfERGbG98ICx5KSkpKQ0KKGRlZm1hY3Jv
IHxERmxvTWludXN8ICAoeCB5KSBgKHRoZSB8REZsb3wgKC0gKHRoZSB8REZsb3wgLHgpICh0aGUg
fERGbG98ICx5KSkpKQ0KKGRlZm1hY3JvIHxERmxvVGltZXN8ICAoeCB5KSBgKHRoZSB8REZsb3wg
KCogKHRoZSB8REZsb3wgLHgpICh0aGUgfERGbG98ICx5KSkpKQ0KKGRlZm1hY3JvIHxERmxvRGl2
aWRlfCAoeCB5KSBgKHRoZSB8REZsb3wgKC8gKHRoZSB8REZsb3wgLHgpICh0aGUgfERGbG98ICx5
KSkpKQ0KKGRlZm1hY3JvIHxERmxvVGltZXNQbHVzfCAoeCB5IHopDQogIGAodGhlIHxERmxvfCAo
KyAoKiAodGhlIHxERmxvfCAseCkgKHRoZSB8REZsb3wgLHkpKSAodGhlIHxERmxvfCAseikpKSkN
Cg0KKGRlZm1hY3JvIHxERmxvUlBsdXN8ICAoeCB5IHIpIGAoZXJyb3IgInVuaW1wbGVtZW50ZWQg
b3BlcmF0aW9uIC0tIERGbG9SUGx1cyIpKQ0KKGRlZm1hY3JvIHxERmxvUk1pbnVzfCAoeCB5IHIp
IGAoZXJyb3IgInVuaW1wbGVtZW50ZWQgb3BlcmF0aW9uIC0tIERGbG9SVGltZXMiKSkNCihkZWZt
YWNybyB8REZsb1JUaW1lc3wgKHggeSByKSBgKGVycm9yICJ1bmltcGxlbWVudGVkIG9wZXJhdGlv
biAtLSBERmxvUlRpbWVzIikpDQooZGVmbWFjcm8gfERGbG9SVGltZXNQbHVzfCAoeCB5IHogcikg
YChlcnJvciAidW5pbXBsZW1lbnRlZCBvcGVyYXRpb24gLS0gREZsb1RpbWVzUGx1cyIpKQ0KKGRl
Zm1hY3JvIHxERmxvUkRpdmlkZXwoeCB5IHIpIGAoZXJyb3IgInVuaW1wbGVtZW50ZWQgb3BlcmF0
aW9uIC0tIERGbG9EaXZpZGUiKSkNCg0KKGRlZm1hY3JvIHxERmxvRGlzc2VtYmxlfCAoeCkgYChl
cnJvciAidW5pbXBsZW1lbnRlZCBvcGVyYXRpb24gLS0gREZsb0Rpc3NlbWJsZSIpKQ0KKGRlZm1h
Y3JvIHxERmxvQXNzZW1ibGV8ICh3IHggeSB6KSBgKGVycm9yICJ1bmltcGxlbWVudGVkIG9wZXJh
dGlvbiAtLSBERmxvQXNzZW1ibGUiKSkNCg0KOzsgTm90IGJ1aWx0aW5zIGFueW1vcmUNCjs7KGRl
Zm1hY3JvIHxERmxvUm91bmR8ICAgICh4KSBgKHRoZSB8QkludHwgKHJvdW5kICh0aGUgfERGbG98
ICx4KSkpKQ0KOzsoZGVmbWFjcm8gfERGbG9UcnVuY2F0ZXwgKHgpIGAodGhlIHxCSW50fCAodHJ1
bmNhdGUgKHRoZSB8REZsb3wgLHgpKSkpDQo7OyhkZWZtYWNybyB8REZsb0Zsb29yfCAgICAoeCkg
YCh0aGUgfEJJbnR8IChmbG9vciAodGhlIHxERmxvfCAseCkpKSkNCjs7KGRlZm1hY3JvIHxERmxv
Q2VpbGluZ3wgICh4KSBgKHRoZSB8QkludHwgKGNlaWxpbmcgKHRoZSB8REZsb3wgLHgpKSkpDQoN
CihkZWZtYWNybyB8Qnl0ZTB8ICAgICAgICAgKCkgMCkNCihkZWZtYWNybyB8Qnl0ZTF8ICAgICAg
ICAgKCkgMSkNCihkZWZtYWNybyB8Qnl0ZU1pbnwgICAgICAgKCkgMCkNCihkZWZtYWNybyB8Qnl0
ZU1heHwgICAgICAgKCkgMjU1KQ0KDQooZGVmbWFjcm8gfEhJbnQwfCAgICAgICAgICgpIDApDQoo
ZGVmbWFjcm8gfEhJbnQxfCAgICAgICAgICgpIDEpDQooZGVmbWFjcm8gfEhJbnRNaW58ICAgICAg
ICgpICMuKC0gKGV4cHQgMiAxNSkpKQ0KKGRlZm1hY3JvIHxISW50TWF4fCAgICAgICAoKSAjLigx
LSAoZXhwdCAyIDE1KSkpDQoNCihkZWZtYWNybyB8U0ludDB8ICAgICAgICAgKCkgMCkNCihkZWZt
YWNybyB8U0ludDF8ICAgICAgICAgKCkgMSkNCihkZWZtYWNybyB8U0ludE1pbnwgICAgICAgKCkg
YCh0aGUgfFNJbnR8IG1vc3QtbmVnYXRpdmUtZml4bnVtKSkNCihkZWZtYWNybyB8U0ludE1heHwg
ICAgICAgKCkgYCh0aGUgfFNJbnR8IG1vc3QtcG9zaXRpdmUtZml4bnVtKSkNCihkZWZtYWNybyB8
U0ludElzWmVyb3wgICAoeCkgYCh6ZXJvcCAodGhlIHxTSW50fCAseCkpKQ0KKGRlZm1hY3JvIHxT
SW50SXNOZWd8ICAgICh4KSBgKG1pbnVzcCAodGhlIHxTSW50fCAseCkpKQ0KKGRlZm1hY3JvIHxT
SW50SXNQb3N8ICAgICh4KSBgKHBsdXNwICh0aGUgfFNJbnR8ICx4KSkpDQooZGVmbWFjcm8gfFNJ
bnRJc0V2ZW58ICAgKHgpIGAoZXZlbnAgKHRoZSB8U0ludHwgLHgpKSkNCihkZWZtYWNybyB8U0lu
dElzT2RkfCAgICAoeCkgYChvZGRwICh0aGUgfFNJbnR8ICx4KSkpDQooZGVmbWFjcm8gfFNJbnRM
RXwgICAgICh4IHkpIGAoPD0gKHRoZSB8U0ludHwgLHgpICh0aGUgfFNJbnR8ICx5KSkpDQooZGVm
bWFjcm8gfFNJbnRFUXwgICAgICh4IHkpIGAoPSAodGhlIHxTSW50fCAseCkgKHRoZSB8U0ludHwg
LHkpKSkNCihkZWZtYWNybyB8U0ludExUfCAgICAgKHggeSkgYCg8ICh0aGUgfFNJbnR8ICx4KSAo
dGhlIHxTSW50fCAseSkpKQ0KKGRlZm1hY3JvIHxTSW50TkV8ICAgICAoeCB5KSBgKC89ICh0aGUg
fFNJbnR8ICx4KSAodGhlIHxTSW50fCAseSkpKQ0KKGRlZm1hY3JvIHxTSW50TmVnYXRlfCAgICh4
KSBgKHRoZSB8U0ludHwgKC0gKHRoZSB8U0ludHwgLHgpKSkpDQooZGVmbWFjcm8gfFNJbnRQcmV2
fCAgICAgICh4KSBgKHRoZSB8U0ludHwgKDEtICh0aGUgfFNJbnR8ICx4KSkpKQ0KKGRlZm1hY3Jv
IHxTSW50TmV4dHwgICAgICAoeCkgYCh0aGUgfFNJbnR8ICgxKyAodGhlIHxTSW50fCAseCkpKSkN
CihkZWZtYWNybyB8U0ludFBsdXN8ICAgKHggeSkgYCh0aGUgfFNJbnR8ICgrICh0aGUgfFNJbnR8
ICx4KSAodGhlIHxTSW50fCAseSkpKSkNCihkZWZtYWNybyB8U0ludE1pbnVzfCAgKHggeSkgYCh0
aGUgfFNJbnR8ICgtICh0aGUgfFNJbnR8ICx4KSAodGhlIHxTSW50fCAseSkpKSkNCihkZWZtYWNy
byB8U0ludFRpbWVzfCAgKHggeSkgYCh0aGUgfFNJbnR8ICgqICh0aGUgfFNJbnR8ICx4KSAodGhl
IHxTSW50fCAseSkpKSkNCihkZWZtYWNybyB8U0ludFRpbWVzUGx1c3wgKHggeSB6KQ0KICBgKHRo
ZSB8U0ludHwgKCsgKCogKHRoZSB8U0ludHwgLHgpICh0aGUgfFNJbnR8ICx5KSkgKHRoZSB8U0lu
dHwgLHopKSkpDQooZGVmbWFjcm8gfFNJbnRNb2R8ICAgICh4IHkpIGAodGhlIHxTSW50fCAobW9k
KHRoZSB8U0ludHwgLHgpKHRoZSB8U0ludHwgLHkpKSkpDQooZGVmbWFjcm8gfFNJbnRRdW98ICAg
ICh4IHkpDQogIGAodGhlIHxTSW50fCAodmFsdWVzICh0cnVuY2F0ZSAodGhlIHxTSW50fCAseCkg
KHRoZSB8U0ludHwgLHkpKSkpKQ0KKGRlZm1hY3JvIHxTSW50UmVtfCAgICAoeCB5KSBgKHRoZSB8
U0ludHwgKHJlbSh0aGUgfFNJbnR8ICx4KSh0aGUgfFNJbnR8ICx5KSkpKQ0KOzshIGRlY2xhcmUg
YWxsIGxldCB2YXJpYWJsZXMNCihkZWZtYWNybyB8U0ludERpdmlkZXwgKHggeSkgYCh0cnVuY2F0
ZSAodGhlIHxTSW50fCAseCkgKHRoZSB8U0ludHwgLHkpKSkNCihkZWZtYWNybyB8U0ludEdjZHwg
ICh4IHkpIGAodGhlIHxTSW50fCAoZ2NkICh0aGUgfFNJbnR8ICx4KSAodGhlIHxTSW50fCAseSkp
KSkNCg0KKGRlZm1hY3JvIHxTSW50UGx1c01vZHwgIChhIGIgYykNCiAgYCh0aGUgfFNJbnR8ICht
b2QgKCsgKHRoZSB8U0ludHwgLGEpICh0aGUgfFNJbnR8ICxiKSkgKHRoZSB8U0ludHwgLGMpKSkp
DQooZGVmbWFjcm8gfFNJbnRNaW51c01vZHwgKGEgYiBjKQ0KICBgKHRoZSB8U0ludHwgKG1vZCAo
LSAodGhlIHxTSW50fCAsYSkgKHRoZSB8U0ludHwgLGIpKSAodGhlIHxTSW50fCAsYykpKSkNCihk
ZWZtYWNybyB8U0ludFRpbWVzTW9kfCAoYSBiIGMpDQogIGAodGhlIHxTSW50fCAobW9kICgqICh0
aGUgfFNJbnR8ICxhKSAodGhlIHxTSW50fCAsYikpICh0aGUgfFNJbnR8ICxjKSkpKQ0KOzsgfFNJ
bnRUaW1lc01vZEludnwNCihkZWZtYWNybyB8U0ludExlbmd0aHwgICh4KSBgKHRoZSB8U0ludHwg
KGludGVnZXItbGVuZ3RoICh0aGUgfFNJbnR8ICx4KSkpKQ0KKGRlZm1hY3JvIHxTSW50U2hpZnRV
cHwgKHggeSkgYCh0aGUgfFNJbnR8IChhc2ggKHRoZSB8U0ludHwgLHgpICh0aGUgfFNJbnR8ICx5
KSkpKQ0KKGRlZm1hY3JvIHxTSW50U2hpZnREbnwgKHggeSkgYCh0aGUgfFNJbnR8IChhc2ggKHRo
ZSB8U0ludHwgLHgpICh0aGUgfFNJbnR8ICgtICh0aGUgfFNJbnR8ICx5KSkpKSkpDQoNCihkZWZt
YWNybyB8U0ludEJpdHwgICAoeCBpKQ0KICBgKGxldCAoKHh4ICx4KSAoaWkgLGkpKSAoZGVjbGFy
ZSAodHlwZSB8U0ludHwgeHggaWkpKSAobG9nYml0cCBpaSB4eCkpKQ0KKGRlZm1hY3JvIHxTSW50
Tm90fCAgICAgKGEpIGAodGhlIHxTSW50fCAobG9nbm90ICh0aGUgfFNJbnR8ICxhKSkpKQ0KKGRl
Zm1hY3JvIHxTSW50QW5kfCAgIChhIGIpDQogIGAodGhlIHxTSW50fCAobG9nYW5kICh0aGUgfFNJ
bnR8ICxhKSAodGhlIHxTSW50fCAsYikpKSkNCihkZWZtYWNybyB8U0ludE9yfCAgICAoYSBiKQ0K
ICBgKHRoZSB8U0ludHwgKGxvZ2lvciAodGhlIHxTSW50fCAsYSkgKHRoZSB8U0ludHwgLGIpKSkp
DQoNCjs7IFdvcmRUaW1lc0RvdWJsZQ0KOzsgV29yZERpdmlkZURvdWJsZQ0KOzsgV29yZFBsdXNT
dGVwDQo7OyBXb3JkVGltZXNTdGVwDQoNCihkZWZtYWNybyB8U0ludFNJUG93ZXJ8ICh4IHkpDQog
IGAobGV0ICgoeHggLHgpICh5eSAseSkpDQogICAgIChkZWNsYXJlICh0eXBlIHxTSW50fCB4eCB5
eSkpDQogICAgIChpZiAobWludXNwIHl5KSAoZXJyb3IgImNhbm5vdCByYWlzZSBpbnRlZ2VycyB0
byBuZWdhdGl2ZSBwb3dlcnMiKQ0KICAgICAgICh0aGUgfFNJbnR8IChleHB0IHh4IHl5KSkpKSkN
CihkZWZtYWNybyB8U0ludEJJUG93ZXJ8ICh4IHkpDQogIGAobGV0ICgoeHggLHgpICh5eSAseSkp
DQogICAgIChkZWNsYXJlICh0eXBlIHxTSW50fCB4eCkpDQogICAgIChkZWNsYXJlICh0eXBlIHxC
SW50fCB5eSkpDQogICAgIChpZiAobWludXNwIHl5KSAoZXJyb3IgImNhbm5vdCByYWlzZSBpbnRl
Z2VycyB0byBuZWdhdGl2ZSBwb3dlcnMiKQ0KICAgICAgICh0aGUgfFNJbnR8IChleHB0IHh4IHl5
KSkpKSkNCg0KKGRlZm1hY3JvIHxCSW50MHwgICAgICAgICgpIDApDQooZGVmbWFjcm8gfEJJbnQx
fCAgICAgICAgKCkgMSkNCihkZWZtYWNybyB8QkludElzWmVyb3wgICh4KSBgKHplcm9wICh0aGUg
fEJJbnR8ICx4KSkpDQooZGVmbWFjcm8gfEJJbnRJc05lZ3wgICAoeCkgYChtaW51c3AodGhlIHxC
SW50fCAseCkpKQ0KKGRlZm1hY3JvIHxCSW50SXNQb3N8ICAgKHgpIGAocGx1c3AgKHRoZSB8Qklu
dHwgLHgpKSkNCihkZWZtYWNybyB8QkludElzRXZlbnwgICh4KSBgKGV2ZW5wICh0aGUgfEJJbnR8
ICx4KSkpDQooZGVmbWFjcm8gfEJJbnRJc09kZHwgICAoeCkgYChvZGRwICAodGhlIHxCSW50fCAs
eCkpKQ0KKGRlZm1hY3JvIHxCSW50SXNTaW5nbGV8ICh4KSBgKHR5cGVwICx4ICd8U0ludHwpKQ0K
KGRlZm1hY3JvIHxCSW50TEV8ICAgICh4IHkpIGAoPD0gKHRoZSB8QkludHwgLHgpICh0aGUgfEJJ
bnR8ICx5KSkpDQooZGVmbWFjcm8gfEJJbnRFUXwgICAgKHggeSkgYCg9ICAodGhlIHxCSW50fCAs
eCkgKHRoZSB8QkludHwgLHkpKSkNCihkZWZtYWNybyB8QkludExUfCAgICAoeCB5KSBgKDwgICh0
aGUgfEJJbnR8ICx4KSAodGhlIHxCSW50fCAseSkpKQ0KKGRlZm1hY3JvIHxCSW50TkV8ICAgICh4
IHkpIGAoLz0gKHRoZSB8QkludHwgLHgpICh0aGUgfEJJbnR8ICx5KSkpDQooZGVmbWFjcm8gfEJJ
bnROZWdhdGV8ICAoeCkgYCh0aGUgfEJJbnR8ICgtICAgKHRoZSB8QkludHwgLHgpKSkpDQooZGVm
bWFjcm8gfEJJbnRQcmV2fCAgICAgKHgpIGAodGhlIHxCSW50fCAoMS0gICh0aGUgfEJJbnR8ICx4
KSkpKQ0KKGRlZm1hY3JvIHxCSW50TmV4dHwgICAgICh4KSBgKHRoZSB8QkludHwgKDErICAodGhl
IHxCSW50fCAseCkpKSkNCihkZWZtYWNybyB8QkludFBsdXN8ICAoeCB5KSBgKHRoZSB8QkludHwg
KCsgKHRoZSB8QkludHwgLHgpICh0aGUgfEJJbnR8ICx5KSkpKQ0KKGRlZm1hY3JvIHxCSW50TWlu
dXN8ICh4IHkpIGAodGhlIHxCSW50fCAoLSAodGhlIHxCSW50fCAseCkgKHRoZSB8QkludHwgLHkp
KSkpDQooZGVmbWFjcm8gfEJJbnRUaW1lc3wgKHggeSkgYCh0aGUgfEJJbnR8ICgqICh0aGUgfEJJ
bnR8ICx4KSAodGhlIHxCSW50fCAseSkpKSkNCihkZWZtYWNybyB8QkludFRpbWVzUGx1c3wgKHgg
eSB6KQ0KICBgKHRoZSB8QkludHwgKCsgKCogKHRoZSB8QkludHwgLHgpICh0aGUgfEJJbnR8ICx5
KSkgKHRoZSB8QkludHwgLHopKSkpDQooZGVmbWFjcm8gfEJJbnRNb2R8ICAgKHggeSkgYCh0aGUg
fEJJbnR8IChtb2QodGhlIHxCSW50fCAseCkodGhlIHxCSW50fCAseSkpKSkNCihkZWZtYWNybyB8
QkludFF1b3wgICAoeCB5KQ0KICBgKHRoZSB8QkludHwgKHZhbHVlcyAodHJ1bmNhdGUgKHRoZSB8
QkludHwgLHgpICh0aGUgfEJJbnR8ICx5KSkpKSkNCihkZWZtYWNybyB8QkludFJlbXwgICAoeCB5
KQ0KICBgKHRoZSB8QkludHwgKHJlbSAodGhlIHxCSW50fCAseCkgKHRoZSB8QkludHwgLHkpKSkp
DQooZGVmbWFjcm8gfEJJbnREaXZpZGV8ICh4IHkpIGAodHJ1bmNhdGUgKHRoZSB8QkludHwgLHgp
ICh0aGUgfEJJbnR8ICx5KSkpDQooZGVmbWFjcm8gfEJJbnRHY2R8ICAgKHggeSkNCiAgYCh0aGUg
fEJJbnR8IChnY2QgKHRoZSB8QkludHwgLHgpICh0aGUgfEJJbnR8ICx5KSkpKQ0KKGRlZm1hY3Jv
IHxCSW50U0lQb3dlcnwgKHggeSkNCiAgYChsZXQgKCh4eCAseCkgKHl5ICx5KSkNCiAgICAgKGRl
Y2xhcmUgKHR5cGUgfEJJbnR8IHh4KSkNCiAgICAgKGRlY2xhcmUgKHR5cGUgfFNJbnR8IHl5KSkN
CiAgICAgKGlmIChtaW51c3AgeXkpIChlcnJvciAiY2Fubm90IHJhaXNlIGludGVnZXJzIHRvIG5l
Z2F0aXZlIHBvd2VycyIpDQogICAgICAgKHRoZSB8QkludHwgKGV4cHQgeHggeXkpKSkpKQ0KKGRl
Zm1hY3JvIHxCSW50QklQb3dlcnwgKHggeSkNCiAgYChsZXQgKCh4eCAseCkgKHl5ICx5KSkNCiAg
ICAgKGRlY2xhcmUgKHR5cGUgfEJJbnR8IHh4KSkNCiAgICAgKGRlY2xhcmUgKHR5cGUgfEJJbnR8
IHl5KSkNCiAgICAgKGlmIChtaW51c3AgeXkpIChlcnJvciAiY2Fubm90IHJhaXNlIGludGVnZXJz
IHRvIG5lZ2F0aXZlIHBvd2VycyIpDQogICAgICAgKHRoZSB8QkludHwgKGV4cHQgeHggeXkpKSkp
KQ0KKGRlZm1hY3JvIHxCSW50TGVuZ3RofCAgKHgpIGAodGhlIHxTSW50fCAoaW50ZWdlci1sZW5n
dGggKHRoZSB8QkludHwgLHgpKSkpDQooZGVmbWFjcm8gfEJJbnRTaGlmdFVwfCAoeCB5KSBgKHRo
ZSB8QkludHwgKGFzaCAodGhlIHxCSW50fCAseCkodGhlIHxTSW50fCAseSkpKSkNCihkZWZtYWNy
byB8QkludFNoaWZ0RG58ICh4IHkpIGAodGhlIHxCSW50fCAoYXNoICh0aGUgfEJJbnR8ICx4KSAo
dGhlIHxTSW50fCAoLSAodGhlIHxTSW50fCAseSkpKSkpKQ0KDQooZGVmbWFjcm8gfEJJbnRCaXR8
ICAgKHggaSkNCiAgYChsZXQgKCh4eCAseCkgKGlpICxpKSkgKGRlY2xhcmUgKHR5cGUgfEJJbnR8
IHh4KSAodHlwZSB8U0ludHwgaWkpKQ0KCShsb2diaXRwIGlpIHh4KSkpDQo7OyhkZWZtYWNybyB8
QkludEFic3wgICAgICh4KSBgKHRoZSB8QkludHwgKGFicyAodGhlIHxCSW50fCAseCkpKSkNCg0K
KGRlZm1hY3JvIHxQdHJOaWx8ICAgICAgKCkgKCkpDQooZGVmbWFjcm8gfFB0cklzTmlsfCAgICh4
KSBgKE5VTEwgLHgpKQ0KKGRlZm1hY3JvIHxQdHJFUXwgICAgKHggeSkgYChlcSAseCAseSkpDQoo
ZGVmbWFjcm8gfFB0ck5FfCAgICAoeCB5KSBgKG5vdCAoZXEgLHggLHkpKSkNCg0KOzsgfFdvcmRU
aW1lc0RvdWJsZXwgfFdvcmREaXZpZGVEb3VibGV8IHxXb3JkUGx1c1N0ZXB8IHxXb3JkVGltZXNT
dGVwfA0KDQoNCjs7KGRlZnZhciB8Rm9hbU91dHB1dFN0cmluZ3wNCjs7ICAobWFrZS1hcnJheSA4
MCA6ZWxlbWVudC10eXBlICdzdHJpbmctY2hhciA6YWRqdXN0YWJsZSB0IDpmaWxsLXBvaW50ZXIg
MCkpDQooZGVmdW4gfEZvcm1hdE51bWJlcnwgKGMgYXJyIGkpDQogIChzZXRxIHN0ciAoZm9ybWF0
IG5pbCAifmEiIGMpKQ0KICAocmVwbGFjZSBhcnIgc3RyIDpzdGFydDEgaSkNCjs7ICAoaW5jZiBp
IChmaWxsLXBvaW50ZXIgfEZvYW1PdXRwdXRTdHJpbmd8KSkNCjs7ICAoaWYgKD4gaSAobGVuZ3Ro
IGFycikpIChlcnJvciAibm90IGVub3VnaCBzcGFjZSIpKQ0KOzsgIChzZXRmIChmaWxsLXBvaW50
ZXIgfEZvYW1PdXRwdXRTdHJpbmd8KSAwKQ0KICAoKyBpIChsZW5ndGggc3RyKSkpDQoNCihkZWZt
YWNybyB8Rm9ybWF0U0Zsb3wgKGMgYXJyIGkpIGAofEZvcm1hdE51bWJlcnwgLGMgLGFyciAsaSkp
DQooZGVmbWFjcm8gfEZvcm1hdERGbG98IChjIGFyciBpKSBgKHxGb3JtYXROdW1iZXJ8ICxjICxh
cnIgLGkpKQ0KKGRlZm1hY3JvIHxGb3JtYXRTSW50fCAoYyBhcnIgaSkgYCh8Rm9ybWF0TnVtYmVy
fCAsYyAsYXJyICxpKSkNCihkZWZtYWNybyB8Rm9ybWF0QkludHwgKGMgYXJyIGkpIGAofEZvcm1h
dE51bWJlcnwgLGMgLGFyciAsaSkpDQoNCihzZXQtc3ludGF4LWZyb20tY2hhciAoY29kZS1jaGFy
IDApICNcc3BhY2UpIDs7bWFrZXMgbnVsbCBjaGFyIGFjdCBsaWtlIHdoaXRlIHNwYWNlDQoNCihk
ZWZtYWNybyB8U2NhblNGbG98IChhcnIgaSkNCiAgYChyZWFkLWZyb20tc3RyaW5nICxhcnIgbmls
ICh8U0ZsbzB8KQ0KCQkgICAgIDpzdGFydCAsaSA6cHJlc2VydmUtd2hpdGVzcGFjZSB0KSkNCihk
ZWZtYWNybyB8U2NhbkRGbG98IChhcnIgaSkNCiAgYChyZWFkLWZyb20tc3RyaW5nICxhcnIgbmls
ICh8REZsbzB8KQ0KCQkgICAgIDpzdGFydCAsaSA6cHJlc2VydmUtd2hpdGVzcGFjZSB0KSkNCihk
ZWZtYWNybyB8U2NhblNJbnR8IChhcnIgaSkNCiAgYChwYXJzZS1pbnRlZ2VyICxhcnIgOnN0YXJ0
ICxpIDpqdW5rLWFsbG93ZWQgdCkpDQooZGVmbWFjcm8gfFNjYW5CSW50fCAoYXJyIGkpDQogIGAo
cGFyc2UtaW50ZWdlciAsYXJyIDpzdGFydCAsaSA6anVuay1hbGxvd2VkIHQpKQ0KDQo7OyAxOC84
LzkzOiBFdmlsIGJ1ZyBpbiBnZW5mb2FtLS0tbmlsIGdlbmVyYXRlZC4NCihkZWZtYWNybyBoYWNr
ZWQtdGhlICh0eXBlIHgpDQogIChpZiB4IGAodGhlICx0eXBlICx4KSBgKHRoZSAsdHlwZSAwKSkp
DQoNCihkZWZtYWNybyB8Qnl0ZVRvU0ludHwgKHgpIGAoY29lcmNlIChoYWNrZWQtdGhlIHxCeXRl
fCAseCkgJ3xTSW50fCkpDQooZGVmbWFjcm8gfEJvb2xUb1NJbnR8ICAoeCkgYChpZiAseCAxIDAp
KQ0KKGRlZm1hY3JvIHxCSW50VG9TSW50fCAoeCkgYChoYWNrZWQtdGhlIHxTSW50fCAseCkpDQoo
ZGVmbWFjcm8gfFNJbnRUb0JJbnR8ICh4KSBgKGhhY2tlZC10aGUgfEJJbnR8ICx4KSkNCihkZWZt
YWNybyB8U0ludFRvU0Zsb3wgKHgpIGAoY29lcmNlIChoYWNrZWQtdGhlIHxTSW50fCAseCkgJ3xT
RmxvfCkpDQooZGVmbWFjcm8gfFNJbnRUb0J5dGV8ICh4KSBgKGNvZXJjZSAoaGFja2VkLXRoZSB8
U0ludHwgLHgpICd8Qnl0ZXwpKQ0KKGRlZm1hY3JvIHxTSW50VG9ISW50fCAoeCkgYChjb2VyY2Ug
KGhhY2tlZC10aGUgfFNJbnR8ICx4KSAnfEhJbnR8KSkNCihkZWZtYWNybyB8U0ludFRvREZsb3wg
KHgpIGAoY29lcmNlIChoYWNrZWQtdGhlIHxTSW50fCAseCkgJ3xERmxvfCkpDQooZGVmbWFjcm8g
fEJJbnRUb1NGbG98ICh4KSBgKGNvZXJjZSAoaGFja2VkLXRoZSB8QkludHwgLHgpICd8U0Zsb3wp
KQ0KKGRlZm1hY3JvIHxCSW50VG9ERmxvfCAoeCkgYChjb2VyY2UgKGhhY2tlZC10aGUgfEJJbnR8
ICx4KSAnfERGbG98KSkNCihkZWZtYWNybyB8QXJyVG9TRmxvfCAgKHgpIGAocmVhZC1mcm9tLXN0
cmluZyAseCBuaWwgKHxTRmxvMHwpKSkNCihkZWZtYWNybyB8QXJyVG9ERmxvfCAgKHgpIGAocmVh
ZC1mcm9tLXN0cmluZyAseCBuaWwgKHxERmxvMHwpKSkNCihkZWZtYWNybyB8QXJyVG9TSW50fCAg
KHgpIGAocmVhZC1mcm9tLXN0cmluZyAseCBuaWwgKHxTSW50MHwpKSkNCihkZWZtYWNybyB8QXJy
VG9CSW50fCAgKHgpIGAocmVhZC1mcm9tLXN0cmluZyAseCBuaWwgKHxCSW50MHwpKSkNCg0KKGRl
Zm1hY3JvIHxDbG9zfCAoeCB5KSBgKGxldCAoKHh4ICx4KSAoeXkgIycseSkpIChjb25zIHl5IHh4
KSkpDQooZGVmbWFjcm8gfENsb3NGdW58ICh4KSBgKGNhciAseCkpDQooZGVmbWFjcm8gfENsb3NF
bnZ8ICh4KSBgKGNkciAseCkpDQooZGVmbWFjcm8gfFNldENsb3NGdW58ICh4IHkpIGAocnBsYWNh
ICx4ICx5KSkNCihkZWZtYWNybyB8U2V0Q2xvc0VudnwgKHggeSkgYChycGxhY2QgLHggLHkpKQ0K
DQooZGVmbWFjcm8gfE1ha2VFbnZ8IAkoeCB5KSANCiAgYChsZXQgKCh4eCAseCkgKHl5ICx5KSkg
KGNvbnMgeXkgKGNvbnMgeHggbmlsKSkpKQ0KDQooZGVmbWFjcm8gfEVudkxldmVsfAkoeCkgICBg
KGNhciAseCkpDQooZGVmbWFjcm8gfEVudk5leHR8CSh4KSAgIGAoY2FkciAseCkpDQooZGVmbWFj
cm8gfEVudkluZm98CSh4KSAgIGAoaWYgKGFuZCAoY29uc3AgLHgpIChjb25zcCAoY2RyICx4KSkp
DQoJCQkJICAgKGNkZHIgLHgpIG5pbCkpDQooZGVmbWFjcm8gfFNldEVudkluZm98CSh4IHZhbCkg
ICBgKHJwbGFjZCAoY2RyICAseCkgLHZhbCkpDQoNCiMrOkNDTA0KKGRlZm1hY3JvIHxGb2FtRW52
RW5zdXJlfCAoZSkgDQogIGAobGV0ICgoZWluZiAofEVudkluZm98ICxlKSkpDQogICAgIChpZiBl
aW5mICh8Q0NhbGx8IGVpbmYpIG5pbCkpKQ0KIy06Q0NMDQooZGVmbWFjcm8gfEZvYW1FbnZFbnN1
cmV8IChlKSANCiAgYChpZiAofEVudkluZm98ICxlKSAofENDYWxsfCAofEVudkluZm98ICxlKSkg
bmlsKSkNCg0KKGRlZmNvbnN0YW50IG51bGwtY2hhci1zdHJpbmcgKHN0cmluZyAoY29kZS1jaGFy
IDApKSkNCihkZWZtYWNybyB8TWFrZUxpdHwgKHMpIGAoY29uY2F0ZW5hdGUgJ3N0cmluZyAscyBu
dWxsLWNoYXItc3RyaW5nKSkNCg0KOzsgZnVuY3Rpb25zIGFyZSByZXByZXNlbnRlZCBieSBzeW1i
b2xzLCB3aXRoIHRoZSBzeW1ib2wtdmFsdWUgYmVpbmcgc29tZQ0KOzsgaW5mb3JtYXRpb24sIGFu
ZCB0aGUgc3ltYm9sLWZ1bmN0aW9uIGlzIHRoZSBmdW5jdGlvbiBpdHNlbGYuDQo7OyAxLXZhbHVl
ZCBsaXNwIHNob3VsZCByZXByZXNlbnQgcHJvZ3MgYXMgZWl0aGVyIGEgcGFpciBvciBkZWZzdHJ1
Y3QuDQoNCihkZWZtYWNybyB8RnVuUHJvZ3wgKHgpIHgpDQoNCihkZWZzdHJ1Y3QgRm9hbVByb2dJ
bmZvU3RydWN0DQogIChmdW5jYWxsIG5pbCA6dHlwZSBmdW5jdGlvbikNCiAgKGhhc2h2YWwgMCAg
IDp0eXBlIHxTSW50fCkpDQoNCihkZWZ1biB8UHJvZ0hhc2hDb2RlfCAoeCkNCiAgKGxldCAoKGFh
IChmb2FtLWZ1bmN0aW9uLWluZm8geCkpKQ0KICAgIChpZiAobnVsbCBhYSkgMA0KICAgICAgKEZv
YW1Qcm9nSW5mb1N0cnVjdC1oYXNodmFsIGFhKSkpKQ0KDQooZGVmdW4gfFNldFByb2dIYXNoQ29k
ZXwgKHggeSkNCiAgKGxldCAoKGFhIChmb2FtLWZ1bmN0aW9uLWluZm8geCkpKQ0KICAgIChpZiAo
bnVsbCBhYSkgMA0KICAgICAgKHNldGYgKEZvYW1Qcm9nSW5mb1N0cnVjdC1oYXNodmFsIGFhKSB5
KSkpKQ0KDQo7OyBJbiBhIGh1cnJ5IC0+IE8obikgbG9va3VwLi4NCihkZWZ2YXIgZm9hbS1mdW5j
dGlvbi1saXN0ICgpKQ0KDQooZGVmdW4gYWxsb2MtcHJvZy1pbmZvIChmdW4gdmFsKQ0KICAoc2V0
cSBmb2FtLWZ1bmN0aW9uLWxpc3QgKGNvbnMgKGNvbnMgZnVuIHZhbCkgZm9hbS1mdW5jdGlvbi1s
aXN0KSkpDQoNCihkZWZ1biBmb2FtLWZ1bmN0aW9uLWluZm8gKGZ1bikNCiAgKGxldCAoKHh4IChh
c3NvYyBmdW4gZm9hbS1mdW5jdGlvbi1saXN0KSkpDQogICAgKGlmIChudWxsIHh4KSBuaWwNCiAg
ICAgIChjZHIgeHgpKSkpDQoNCjs7IEFjY2Vzc29ycyBhbmQgY29uc3RydWN0b3JzDQooZGVmbWFj
cm8gfEREZWNsfCAobmFtZSAmcmVzdCBhcmdzKQ0KICAoc2V0ZiAoZ2V0IG5hbWUgJ3N0cnVjdC1h
cmdzKSBhcmdzKQ0KICBgKGRlZnN0cnVjdCAsbmFtZSAsQChpbnNlcnQtdHlwZXMgYXJncykpKQ0K
DQooZGVmdW4gaW5zZXJ0LXR5cGVzIChzbG90cykNCiAgKG1hcGNhciAjJyhsYW1iZGEgKHNsb3Qp
DQoJICAgICAgYCgsKGNhciBzbG90KSAsKHR5cGUyaW5pdCAoY2FkciBzbG90KSkNCgkJOnR5cGUg
LChjYWRyIHNsb3QpKSkNCgkgIHNsb3RzKSkNCg0KKGRlZm1hY3JvIHxSTmV3fCAobmFtZSkNCiAg
KGxldCogKChzdHJ1Y3QtYXJncyAoZ2V0IG5hbWUgJ3N0cnVjdC1hcmdzKSkNCgkgKGluaXQtYXJn
cyAobWFwY2FyICMnKGxhbWJkYSAoeCkgKHR5cGUyaW5pdCAoY2FkciB4KSkpDQoJCQkgICAgc3Ry
dWN0LWFyZ3MpKQ0KCSAoY291bnQgKGxlbmd0aCBzdHJ1Y3QtYXJncykpKQ0KICAgIChjb25kICgo
PiBjb3VudCAyKSBgKHZlY3RvciAsQGluaXQtYXJncykpDQoJICAoKD0gY291bnQgMikgYChjb25z
ICxAaW5pdC1hcmdzKSkNCgkgICh0IGAobGlzdCAsQGluaXQtYXJncykpKSkpDQoNCihkZWZtYWNy
byB8UkVsdHwgKG5hbWUgZmllbGQgaW5kZXggcmVjKQ0KICAobGV0ICgoY291bnQgKGxlbmd0aCAo
Z2V0IG5hbWUgJ3N0cnVjdC1hcmdzKSkpKQ0KICAgIChjb25kICgoPiBjb3VudCAyKSBgKHN2cmVm
ICxyZWMgLGluZGV4KSkNCgkgICgoPSBjb3VudCAyKQ0KCSAgIChpZiAoemVyb3AgaW5kZXgpIGAo
Y2FyICxyZWMpIGAoY2RyICxyZWMpKSkNCgkgICh0IGAoY2FyICxyZWMpKSkpKQ0KDQooZGVmbWFj
cm8gfFNldFJFbHR8IChuYW1lIGZpZWxkIGluZGV4IHJlYyB2YWwpDQogIChsZXQgKChjb3VudCAo
bGVuZ3RoIChnZXQgbmFtZSAnc3RydWN0LWFyZ3MpKSkpDQogICAgKGNvbmQgKCg+IGNvdW50IDIp
IGAoc2V0ZiAoc3ZyZWYgLHJlYyAsaW5kZXgpICx2YWwpKQ0KCSAgKCg9IGNvdW50IDIpDQoJICAg
KGlmICh6ZXJvcCBpbmRleCkgYChycGxhY2EgLHJlYyAsdmFsKSBgKHJwbGFjZCAscmVjICx2YWwp
KSkNCgkgICh0IGAocnBsYWNhICxyZWMgLHZhbCkpKSkpDQoNCihkZWZtYWNybyB8QUVsdHwgKG5h
bWUgaW5kZXgpDQogIGAoYXJlZiAsbmFtZSAsaW5kZXgpKQ0KDQooZGVmbWFjcm8gfFNldEFFbHR8
IChuYW1lIGluZGV4IHZhbCkNCiAgYChzZXRmIChhcmVmICxuYW1lICxpbmRleCkgLHZhbCkpDQoN
CihkZWZtYWNybyB8TWFrZUxldmVsfCAoYnVpbGRlciBzdHJ1Y3QpDQogIChpZiAoZ2V0IHN0cnVj
dCAnc3RydWN0LWFyZ3MpDQogICAgICBgKCxidWlsZGVyKQ0KICAgICduaWwpKQ0KDQoNCihkZWZt
YWNybyB8RUVsdHwgKGFjY2Vzc29yIG4gdmFyKQ0KICBgKCxhY2Nlc3NvciAsdmFyKSkNCg0KKGRl
Zm1hY3JvIHxTZXRFRWx0fCAoYWNjZXNzb3IgbiB2YXIgdmFsKQ0KICBgKHNldGYgKCxhY2Nlc3Nv
ciAsdmFyKSAsdmFsKSkNCg0KKGRlZm1hY3JvIHxMZXh8IChhY2Nlc3NvciBuIHZhcikNCiAgYCgs
YWNjZXNzb3IgLHZhcikpDQoNCihkZWZtYWNybyB8U2V0TGV4fCAoYWNjZXNzb3IgbiB2YXIgdmFs
KQ0KICBgKHByb2duIDs7IChwcmludCAnLGFjY2Vzc29yKQ0KCSAgKHNldGYgKCxhY2Nlc3NvciAs
dmFyKSAsdmFsKSkpDQoNCjs7IEF0b21pYyBhcmd1bWVudHMgZm9yIGZ1biBkb24ndCBuZWVkIGEg
bGV0IHRvIGhvbGQgdGhlIGZ1bi4NCjs7IENDYWxsJ3Mgd2l0aCBhcmd1bWVudHMgbmVlZCBhIGxl
dCB0byBob2xkIHRoZSBwcm9nIGFuZCB0aGUgZW52Lg0KKGRlZm1hY3JvIHxDQ2FsbHwgKGZ1biAm
cmVzdCBhcmdzKQ0KICAoY29uZCAoKGFuZCAoYXRvbSBmdW4pIChudWxsIGFyZ3MpKQ0KCSBgKGZ1
bmNhbGwgKHxGdW5Qcm9nfCAofENsb3NGdW58ICxmdW4pKSAofENsb3NFbnZ8ICxmdW4pKSkNCgko
KG51bGwgYXJncykNCgkgYChsZXQgKChjICxmdW4pKQ0KCSAgICAoZnVuY2FsbCAofEZ1blByb2d8
ICh8Q2xvc0Z1bnwgYykpICh8Q2xvc0VudnwgYykpKSkNCgkoKGF0b20gZnVuKQ0KCSBgKGxldCAo
KGZ1biAofEZ1blByb2d8ICh8Q2xvc0Z1bnwgLGZ1bikpKQ0KCQkoZW52ICh8Q2xvc0VudnwgLGZ1
bikpKQ0KCSAgICAoZnVuY2FsbCBmdW4gLEBhcmdzIGVudikpKQ0KCSh0DQoJIGAobGV0ICgoYyAs
ZnVuKSkNCgkgICAgKGxldCAoKGZ1biAofEZ1blByb2d8ICh8Q2xvc0Z1bnwgYykpKQ0KCQkgIChl
bnYgKHxDbG9zRW52fCBjKSkpDQoJICAgICAgKGZ1bmNhbGwgZnVuICxAYXJncyBlbnYpKSkpKSkN
Cg0KKGRlZm1hY3JvIHxGb2FtRnJlZXwgKG8pICcoKSkNCg0KOzsgbWFjcm9zIGZvciBkZWZpbmlu
ZyB0aGluZ3MNCg0KKGRlZm1hY3JvIGRlY2xhcmUtcHJvZyAobmFtZS1yZXN1bHQgcGFyYW1zKQ0K
ICBgKHByb2NsYWltICcoZnVuY3Rpb24gLChjYXIgbmFtZS1yZXN1bHQpICxwYXJhbXMgLEAoY2Ry
IG5hbWUtcmVzdWx0KSkpKQ0KDQooZGVmbWFjcm8gZGVjbGFyZS10eXBlIChuYW1lIHR5cGUpDQog
IGAocHJvY2xhaW0gJyh0eXBlICxuYW1lICx0eXBlKSkpDQoNCihkZWZtYWNybyBkZWZwcm9nICh0
eXBlIHRlbXBzICZyZXN0IGJvZHkpDQogIGAocHJvZ24gKGRlZnVuICwoY2FhciB0eXBlKSAsKG1h
cGNhciAjJ2NhciAoY2FkciB0eXBlKSkNCgkgICAgKHR5cGVkLWxldCAsdGVtcHMgLEBib2R5KSkN
CgkgIChhbGxvYy1wcm9nLWluZm8gIycsKGNhYXIgdHlwZSkgKG1ha2UtRm9hbVByb2dJbmZvU3Ry
dWN0KSkpKQ0KDQooZGVmbWFjcm8gZGVmc3BlY2lhbHMgKCZyZXN0IGxzdCkNCiAgYChwcm9jbGFp
bSAnKHNwZWNpYWwgLEBsc3QpKSkNCg0KKGRlZm1hY3JvIHRvcC1sZXZlbC1kZWZpbmUgKCZyZXN0
IGp1bmspDQogIGAoc2V0cSAsQGp1bmspKQ0KDQo7OyBSdW50aW1lIG1hY3Jvcw0KDQo7OyBjb250
cm9sIHRyYW5zZmVyDQooZGVmbWFjcm8gYmxvY2stcmV0dXJuIChvYmogdmFsKQ0KICBgKHJldHVy
bi1mcm9tICxvYmogLHZhbCkpDQoNCiMtOkNDTA0KKGRlZm1hY3JvIHR5cGVkLWxldCAobGV0dmFy
cyAmcmVzdCBmb3JtcykNCiAgYChsZXQgLChtYXBjYXIgIycobGFtYmRhICh2YXIpDQoJCSAgICAg
KGxpc3QgKGNhciB2YXIpICh0eXBlMmluaXQgKGNhZHIgdmFyKSkpKQ0KCQkgbGV0dmFycyApDQog
ICAgIChkZWNsYXJlICxAKG1hcGNhciAjJyhsYW1iZGEgKHZhcikNCgkJCSAgICAobGlzdCAndHlw
ZSAoY2FkciB2YXIpIChjYXIgdmFyKSkpDQoJCQlsZXR2YXJzKSkNCiAgICAgLEBmb3JtcykpDQoN
CiMrOkNDTA0KKGRlZm1hY3JvIHR5cGVkLWxldCAobGV0dmFycyAmcmVzdCBmb3JtcykNCiAgYChs
ZXQgLChtYXBjYXIgIycobGFtYmRhICh2YXIpIChjYXIgdmFyKSkNCgkJIGxldHZhcnMgKQ0KICAg
ICAsQGZvcm1zKSkNCg0KKGRlZm1hY3JvIGNhc2VzICgmcmVzdCBqdW5rKQ0KICBgKGNhc2UgLEBq
dW5rKSkNCg0KDQo7OzsgQm9vdCBtYWNyb3MNCihkZWZtYWNybyBmaWxlLWV4cG9ydHMgKGxzdCkN
CiAgYChldmFsLXdoZW4gKGxvYWQgZXZhbCkNCgkgICAgICAod2hlbiAoZmJvdW5kcCAncHJvY2Vz
cy1leHBvcnQtZW50cnkpDQoJCSAgICAobWFwY2FyICMncHJvY2Vzcy1leHBvcnQtZW50cnkgLGxz
dCkpDQoJbmlsKSkNCg0KKGRlZm1hY3JvIGZpbGUtaW1wb3J0cyAobHN0KQ0KICBgKGV2YWwtd2hl
biAobG9hZCBldmFsKQ0KCSAgICAgICh3aGVuIChmYm91bmRwICdwcm9jZXNzLWltcG9ydC1lbnRy
eSkNCgkJICAgIChtYXBjYXIgIydwcm9jZXNzLWltcG9ydC1lbnRyeSAsbHN0KSkNCgluaWwpKQ0K
DQooZGVmbWFjcm8gaWdub3JlLXZhciAodmFyKQ0KICBgKGRlY2xhcmUgKGlnbm9yZSAsdmFyKSkp
DQoNCihkZWZtYWNybyB8QU5ld3wgKHR5cGUgc2l6ZSkNCiAgKGlmIChlcSB0eXBlICd8Q2hhcnwp
DQogICAgICBgKG1ha2Utc3RyaW5nICxzaXplKQ0KICAgICAgYChtYWtlLWFycmF5ICxzaXplDQoJ
ICAgICAgIDplbGVtZW50LXR5cGUgJyx0eXBlDQoJICAgICAgIDppbml0aWFsLWVsZW1lbnQgLCh0
eXBlMmluaXQgdHlwZSkpKSkNCg0KIy06Q0NMDQooZGVmdW4gdHlwZTJpbml0ICh4KQ0KICAoY29u
ZA0KICAgKChlcSB4ICd8Q2hhcnwpICd8Q2hhckluaXR8KQ0KICAgKChlcSB4ICd8Q2xvc3wpICd8
Q2xvc0luaXR8KQ0KICAgKChlcSB4ICd8Qm9vbHwpICd8Qm9vbEluaXR8KQ0KICAgKChlcSB4ICd8
Qnl0ZXwpICd8Qnl0ZUluaXR8KQ0KICAgKChlcSB4ICd8SEludHwpICd8SEludEluaXR8KQ0KICAg
KChlcSB4ICd8U0ludHwpICd8U0ludEluaXR8KQ0KICAgKChlcSB4ICd8QkludHwpICd8QkludElu
aXR8KQ0KICAgKChlcSB4ICd8U0Zsb3wpICd8U0Zsb0luaXR8KQ0KICAgKChlcSB4ICd8REZsb3wp
ICd8REZsb0luaXR8KQ0KICAgKChlcSB4ICd8UHRyfCkgJ3xQdHJJbml0fCkNCiAgICgoZXEgeCAn
fFdvcmR8KSAnfFdvcmRJbml0fCkNCiAgICgoZXEgeCAnfEFycnwpICd8QXJySW5pdHwpDQogICAo
KGVxIHggJ3xSZWNvcmR8KSAnfFJlY29yZEluaXR8KQ0KICAgKChlcSB4ICd8QXJifCkgJ3xBcmJJ
bml0fCkNCiAgICgoZXEgeCAnfEVudnwpICd8RW52SW5pdHwpDQogICAoKGVxIHggJ3xMZXZlbHwp
ICd8TGV2ZWxJbml0fCkNCiAgICgoZXEgeCAnfE5pbHwpIG5pbCkNCiAgICh0IG5pbCkpKQ0KDQoj
KzpDQ0wNCihkZWZ1biB0eXBlMmluaXQgKHgpIG5pbCkNCg0KOzsgb3BzeXMgaW50ZXJmYWNlDQoo
ZGVmdmFyIHxHLW1haW5BcmdjfCAwKQ0KKGRlZnZhciB8Ry1tYWluQXJndnwgKHZlY3RvcikpDQoo
ZGVmbWFjcm8gfHN0ZGluRmlsZXwgKCkgJypzdGFuZGFyZC1pbnB1dCopDQooZGVmbWFjcm8gfHN0
ZG91dEZpbGV8ICgpICcqc3RhbmRhcmQtb3V0cHV0KikNCihkZWZtYWNybyB8c3RkZXJyRmlsZXwg
KCkgJyplcnJvci1vdXRwdXQqKQ0KDQo7OyBGb3JtYXQgZnVuY3Rpb25zDQo7bmVlZHMgdG8gc3Rv
cCB3aGVuIGl0IGdldHMgYSBudWxsIGNoYXJhY3Rlcg0KKGRlZnVuIHxzdHJMZW5ndGh8IChzKQ0K
ICAoZG90aW1lcyAoaSAobGVuZ3RoIHMpKQ0KCSAgIChsZXQgKChjIChzY2hhciBzIGkpKSkNCgkg
ICAgIChpZiAoY2hhcj0gYyB8Q2hhckNvZGUwfCkNCgkJIChyZXR1cm4gaSkpKSkNCiAgKGxlbmd0
aCBzKSkNCg0KKGRlZnVuIHxmb3JtYXRTSW50fCAobikgKGZvcm1hdCBuaWwgIn5EIiBuKSkNCihk
ZWZ1biB8Zm9ybWF0QkludHwgKG4pIChmb3JtYXQgbmlsICJ+RCIgbikpDQooZGVmdW4gfGZvcm1h
dFNGbG9hdHwgKHgpIChmb3JtYXQgbmlsICJ+RyIgeCkpDQooZGVmdW4gfGZvcm1hdERGbG9hdHwg
KHgpIChmb3JtYXQgbmlsICJ+RyIgeCkpDQoNCg0KOzsgUHJpbnRpbmcgZnVuY3Rpb25zDQooZGVm
dW4gfHByaW50TmV3TGluZXwgKGNzKSAodGVycHJpIGNzKSkNCihkZWZ1biB8cHJpbnRDaGFyfCAg
KGNzIGMpIChwcmluYyBjIGNzKSkNCg0KO25lZWRzIHRvIHN0b3Agd2hlbiBpdCBnZXRzIGEgbnVs
bCBjaGFyYWN0ZXINCihkZWZ1biB8cHJpbnRTdHJpbmd8IChjcyBzKQ0KICAoZG90aW1lcyAoaSAo
bGVuZ3RoIHMpKQ0KCSAgIChsZXQgKChjIChzY2hhciBzIGkpKSkNCgkgICAgIChpZiAoY2hhcj0g
YyB8Q2hhckNvZGUwfCkNCgkJIChyZXR1cm4gaSkNCgkgICAgICAgKHByaW5jIGMgY3MpKSkpKQ0K
DQooZGVmdW4gfHByaW50U0ludHwgKGNzIG4pIChmb3JtYXQgY3MgIn5EIiBuKSkNCihkZWZ1biB8
cHJpbnRCSW50fCAoY3MgbikgKGZvcm1hdCBjcyAifkQiIG4pKQ0KKGRlZnVuIHxwcmludFNGbG9h
dHwgKGNzIHgpIChmb3JtYXQgY3MgIn5HIiB4KSkNCihkZWZ1biB8cHJpbnRERmxvYXR8IChjcyB4
KSAoZm9ybWF0IGNzICJ+RyIgeCkpDQoNCihkZWZ1biB8ZnB1dGN8IChzaSBjcykNCiAgKHxwcmlu
dENoYXJ8IGNzIChjb2RlLWNoYXIgc2kpKQ0KICBzaSkNCg0KKGRlZnVuIHxmcHV0c3wgKHMgY3Mp
DQogICh8cHJpbnRTdHJpbmd8IGNzIHMpKQ0KDQo7OyByZWFkIGEgc3RyaW5nIGludG8gcyBzdGFy
dGluZyBhdCBwb3MgaTEsIGVuZGluZyBhdCBpMg0KOzsgd2Ugc2hvdWxkIHByb2JhYmx5IG1hY3Jv
LW91dCBjYXNlcyB3aGVyZSBhcmdzIGFyZSBjb25zdGFudA0KDQo7OyBmaWxsIHNbaTEuLmkyXSB3
aXRoIGEgbnVsbCB0ZXJtaW5hdGVkIHN0cmluZyByZWFkIGZyb20NCjs7IHRoZSBnaXZlbiBpbnB1
dCBzdHJlYW0NCihkZWZ1biB8ZmdldHNzfCAocyBpMSBpMiBmKQ0KICAobGFiZWxzICgoYXV4IChu
KQ0KCQkoaWYgKD0gbiBpMikNCgkJICAgIChwcm9nbiAoc2V0ZiAoc2NoYXIgcyBuKSAoY29kZS1j
aGFyIDApKQ0KCQkJICAgKC0gbiBpMSkpDQoJCSAgKGxldCAoKGMgKHJlYWQtY2hhciBmKSkpDQoJ
CSAgICAoc2V0ZiAoc2NoYXIgcyBuKSBjKQ0KCQkgICAgKGlmIChlcXVhbCBjICNcbmV3bGluZSkN
CgkJCShwcm9nbiAoc2V0ZiAoY2hhciBzICgrIG4gMSkpIChjb2RlLWNoYXIgMCkpDQoJCQkgICAg
ICAgKC0gbiBpMSkpDQoJCSAgICAgIChhdXggKCsgbiAxKSkpKSkpKQ0KCSAgKGF1eCBpMSkpKQ0K
CQkNCjs7IHdyaXRlIHNbaTEuLmkyKSB0byB0aGUgb3V0cHV0IHN0cmVhbSBmDQo7OyBzdG9wIG9u
IGFueSBudWxsIGNoYXJhY3RlcnMNCg0KKGRlZnVuIHxmcHV0c3N8IChzIGkxIGkyIGYpDQogIChs
YWJlbHMgKChhdXggKG4pDQoJCShpZiAoPSBuIGkyKSAoLSBuIGkxKQ0KCQkgIChsZXQgKChjIChz
Y2hhciBzIG4pKSkNCgkJICAgIChpZiAgKGVxdWFsIChjb2RlLWNoYXIgMCkgYykNCgkJCSAoLSBu
IGkxKQ0KCQkgICAgICAocHJvZ24gKHByaW5jIGMgZikJDQoJCQkgICAgIChhdXggKCsgbiAxKSkp
KSkpKSkNCgkgIChzZXRxIGkyIChpZiAobWludXNwIGkyKSAofHN0ckxlbmd0aHwgcykNCgkJICAg
ICAobWluIGkyICh8c3RyTGVuZ3RofCBzKSkpKQ0KCSAgKGF1eCBpMSkpKQ0KDQo7OyBmdW5jdGlv
biBmb3IgY29tcGlsaW5nIGFuZCBsb2FkaW5nIGZyb20gbGlzcA0KDQooZGVmdW4gY29tcGlsZS1h
cy1maWxlIChmaWxlICZvcHRpb25hbCAob3B0cyBuaWwpKQ0KICAobGV0KiAoKHBhdGggKHBhdGhu
YW1lIGZpbGUpKQ0KCSAobmFtZSAocGF0aG5hbWUtbmFtZSBwYXRoKSkNCgkgKGRpciAocGF0aG5h
bWUtZGlyZWN0b3J5IHBhdGgpKQ0KCSAodHlwZSAocGF0aG5hbWUtdHlwZSBwYXRoKSkNCgkgKGxw
YXRoIChtYWtlLXBhdGhuYW1lIDpuYW1lIG5hbWUgOnR5cGUgImwiKSkNCgkgKGNwYXRoIChtYWtl
LXBhdGhuYW1lIDpuYW1lIG5hbWUgOnR5cGUgIm8iKSkpDQogICAgKGlmIChudWxsIHR5cGUpDQoJ
KHNldHEgcGF0aCAobWFrZS1wYXRobmFtZSA6ZGlyZWN0b3J5IGRpciA6bmFtZSBuYW1lIDp0eXBl
ICJhcyIpKSkNCiAgICAoaWYgb3B0cw0KCShzeXN0ZW0gKGZvcm1hdCBuaWwgImF4aW9teGwgfkEg
LUZsc3AgfkEiIG9wdHMgKG5hbWVzdHJpbmcgcGF0aCkpKQ0KCShzeXN0ZW0gKGZvcm1hdCBuaWwg
ImF4aW9teGwgLUZsc3AgfkEiIChuYW1lc3RyaW5nIHBhdGgpKSkpDQogICAgKGNvbXBpbGUtZmls
ZSAobmFtZXN0cmluZyBscGF0aCkpDQogICAgKGxvYWQgKG5hbWVzdHJpbmcgY3BhdGgpKSkpDQoN
Cg0KOzsgZ2l2ZW4gdGhlIG5hbWUgb2YgYSBmaWxlIChhIHN0cmluZyksIHJldHVybiB0aGUgbmFt
ZSBvZiB0aGUgQVhJT00tWEwgZnVuY3Rpb24NCjs7IHRoYXQgaW5pdGlhbGlzZXMgdGhlIGZpbGUu
DQooZGVmdW4gYXhpb214bC1maWxlLWluaXQtbmFtZSAoZmlsZW5hbWUpDQogIChpbnRlcm4gKGZv
cm1hdCBuaWwgIkctfmEiIChzdHJpbmctZG93bmNhc2UgZmlsZW5hbWUpKSAnZm9hbS11c2VyKSkN
Cg0KOzsgZ2l2ZW4gdGhlIG5hbWUgb2YgdGhlIGZpbGUsIGlkIG5hbWUsIGFuZCBoYXNoY29kZSwg
cmV0dXJuIHRoZQ0KOzsgQVhJT00tWEwgaWRlbnRpZmllciBmb3IgdGhhdCBvYmplY3QNCg0KKGRl
ZnVuIGF4aW9teGwtZ2xvYmFsLW5hbWUgKGZpbGUgaWQgaGFzaGNvZGUpDQogIChpbnRlcm4gKGZv
cm1hdCBuaWwgIkctfmFffmFffjksJzBkIiAoc3RyaW5nLWRvd25jYXNlIGZpbGUpIGlkIGhhc2hj
b2RlKSAnZm9hbS11c2VyKSkNCg0KOzsgZG91YmxlIGZsb2F0IGVsZW1lbnRhcnkgZnVuY3Rpb25z
DQooZGVmbWFjcm8gfHNxcnR8ICh4KSBgKHNxcnQgLHgpKQ0KKGRlZm1hY3JvIHxwb3d8IChhIGIp
IGAoZXhwdCAsYSAsYikpDQooZGVmbWFjcm8gfGxvZ3wgKGEpICBgKGxvZyAsYSkpDQooZGVmbWFj
cm8gfGV4cHwgKGEpIGAoZXhwICxhKSkNCg0KKGRlZm1hY3JvIHxzaW58IChhKSBgKHNpbiAsYSkp
DQooZGVmbWFjcm8gfGNvc3wgKGEpIGAoY29zICxhKSkNCihkZWZtYWNybyB8dGFufCAoYSkgYCh0
YW4gLGEpKQ0KDQooZGVmbWFjcm8gfHNpbmh8IChhKSBgKHNpbmggLGEpKQ0KKGRlZm1hY3JvIHxj
b3NofCAoYSkgYChjb3NoICxhKSkNCihkZWZtYWNybyB8dGFuaHwgKGEpIGAodGFuaCAsYSkpDQoN
CihkZWZtYWNybyB8YXNpbnwgKGEpIGAoYXNpbiAsYSkpDQooZGVmbWFjcm8gfGFjb3N8IChhKSBg
KGFjb3MgLGEpKQ0KKGRlZm1hY3JvIHxhdGFufCAoYSkgYChhdGFuICxhKSkNCihkZWZtYWNybyB8
YXRhbjJ8IChhIGIpIGAoYXRhbiAsYSAsYikpDQoNCihkZWZ1biB8SGFsdHwgKG4pIA0KICAoZXJy
b3IgKGNvbmQgKCg9IG4gMTAxKSAiU3lzdGVtIEVycm9yOiBVbmZvcnR1bmF0ZSB1c2Ugb2YgZGVw
ZW5kYW50IHR5cGUiKQ0KCSAgICAgICAoKD0gbiAxMDIpICJVc2VyIGVycm9yOiBSZWFjaGVkIGEg
J25ldmVyJyIpDQoJICAgICAgICgoPSBuIDEwMykgIlVzZXIgZXJyb3I6IEJhZCB1bmlvbiBicmFu
Y2giKQ0KCSAgICAgICAoKD0gbiAxMDQpICJVc2VyIGVycm9yOiBBc3NlcnRpb24gZmFpbGVkIikN
CgkgICAgICAgKHQgKGZvcm1hdCBuaWwgIlVua25vd24gaGFsdCBjb25kaXRpb24gfmEiIG4pKSkp
KQ0KOzsgZGVidWdpbmcNCihkZWZ2YXIgKmZvYW0tZGVidWctdmFyKiBuaWwpDQooZGVmdW4gfGZp
R2V0RGVidWdWYXJ8ICgpICpmb2FtLWRlYnVnLXZhciopDQoNCihkZWZ1biB8ZmlTZXREZWJ1Z1Zh
cnwgKHgpIChzZXRxICpmb2FtLWRlYnVnLXZhciogeCkpDQooZGVmdW4gfGZpU2V0RGVidWdnZXJ8
ICh4IHkpICgpKQ0KKGRlZnVuIHxmaUdldERlYnVnZ2VyfCAoeCkgKCkpDQoNCjs7IE91dHB1dCBw
b3J0cw0KKHNldHEgfEctc3Rkb3V0VmFyfCB0KQ0KKHNldHEgfEctc3RkaW5WYXJ8IHQpDQooc2V0
cSB8Ry1zdGRlcnJWYXJ8IHQpDQoNCjs7ICEhIE5vdCBwb3J0YWJsZSAhIQ0KKGRlZnVuIGZvYW06
OnxmaVN0ckhhc2h8ICh4KSAoYm9vdDo6fGhhc2hTdHJpbmd8IChzdWJzZXEgeCAwICgtIChsZW5n
dGggeCkgMSkpKSkNCg0KOzsgVGhlc2UgdGhyZWUgZnVuY3Rpb25zIGNoZWNrIHRoYXQgdHdvIGNv
bnMncyBjb250YWluIGlkZW50aWNhbCBlbnRyaWVzLg0KOzsgV2UgdXNlIEVRTCB0byB0ZXN0IG51
bWJlcnMgYW5kIEVRIGV2ZXJ5d2hlcmUgZWxzZS4gIElmIHRoZSBzdHJ1Y3R1cmUgDQo7OyBvZiB0
aGUgdHdvIGl0ZW1zIGlzIGRpZmZlcmVudCwgb3IgYW55IGVsZW1lbnRzIGFyZSBkaWZmZXJlbnQs
IHdlDQo7OyByZXR1cm4gZmFsc2UuDQooZGVmbWFjcm8gfHBvbGl0aWNhbGx5U291bmR8ICh1IHYp
IA0KIGAob3IgKGVxbCAsdSAsdikgKGVxICx1ICx2KSkpDQoNCihkZWZ1biB8UHRyTWFnaWNFUXwg
KHUgdikgDQo7OyBJIGZpbmQgKGFzLWVnNCkgdGhhdCB0aGVzZSBidWdnZXJzIGNhbiBiZSBudW1i
ZXJzIA0KIChjb25kICggKG9yIChOVUxMIHUpIChOVUxMIHYpKSBuaWwpDQogICAgICAgKCAoYW5k
IChBVE9NIHUpIChBVE9NIHYpKSAoZXFsIHUgdikpDQogICAgICAgKCAob3IgKEFUT00gdSkgKEFU
T00gdikpIG5pbCkNCjs7ICAgICAgICggKGVxdWFsIChsZW5ndGggdSkgKGxlbmd0aCB2KSkgKHxt
YWdpY0VxMXwgdSB2KSkgDQogICAgICAgKHQgKGVxIHUgdikpKSkNCg0KKGRlZnVuIHxtYWdpY0Vx
MXwgKHUgdikNCiAoY29uZCAoIChhbmQgKGF0b20gdSkgKGF0b20gdikpICh8cG9saXRpY2FsbHlT
b3VuZHwgdSB2KSkNCiAgICAgICAoIChvciAoYXRvbSB1KSAoYXRvbSB2KSkgbmlsKQ0KICAgICAg
ICggKHxwb2xpdGljYWxseVNvdW5kfCAoY2FyIHUpIChjYXIgdikpICh8bWFnaWNFcTF8IChjZHIg
dSkgKGNkciB2KSkpDQogICAgICAgbmlsICkpDQoNCn==

\start
Date: Tue, 11 Jan 2005 20:15:58 +0000
From: Peter Broadbery
To: Martin Rubey
Subject: Re: Axiom/Aldor

On Tue, 2005-01-11 at 15:43 +0100, Martin Rubey wrote:
> Dear Peter,
> 
> I just tried another example, which is in fact the reason why I would love to
> have Aldor working. I did not expect it to work, and it does not, but it works
> *almost*. The code is as follows:
> 
> #include "axiom"
> 
> Test: with { f: (n: PositiveInteger) -> PrimeField(n) } 
>    == add { f(n: PositiveInteger): PrimeField(n) == 
>               10::Integer::PrimeField(n) }
> 
> Note that such a construction -- the resulting domain depending on the function
> parameter -- is currently illegal in Axiom. In Aldor it is fine.
> 
> ... 
> 
> which clearly tells you, that the calculation is done alright, only the
> signature interferes with success.
> 
> Any ideas?
> 

As long as you don't use the sig. from the interpreter, you will be ok
(which misses the point,, I know).
As far as fixing the error, not really, I don't know the axiom
interpreter that well. Finding how & where the type is substituted would
be a good start [There must be someone who does...]

\start
Date: Tue, 11 Jan 2005 20:40:36 +0000
From: Peter Broadbery
To: Martin Rubey
Subject: Re: Axiom/Aldor

On Tue, 2005-01-11 at 14:30 +0100, Martin Rubey wrote:
> Dear Peter,
> 
> this is just great stuff -- nearly... I had to try it out right away, but I
> experienced two problems.
> 
> the minor one is, that )co inside axiom still does not work:
> 
> (1) -> 
> (1) -> )co test.as
>    Compiling AXIOM source code from file 
>       /home/rubey/martin/Axiom/test.as using AXIOM-XL compiler and 
>       options 
> -O -Fasy -Fao -Flsp -laxiom -Mno-AXL_W_WillObsolete -DAxiom -Y $AXIOM/algebra
>       Use the system command )set compiler args to change these 
>       options.
>  
>    >> System error:
>    NIL is not of type STRING.


ln -s $ALDORROOT $AXIOM/compiler may help here.  fixing i-syscmd.boot to
produce a nice error would be nice, I guess.


> (1) -> 
> 
> Never mind.
> 
> Unfortunately, there is a more severe issue. I put the following simple domain
> in a file "test.as" and compiled it using 
> 
> aldor -O -Fasy -Fao -Flsp -laxiom -Mno-AXL_W_WillObsolete -DAxiom test.as
> 
> without any problem. There is only the warning
> 
> #1 (Warning) Deprecated message prefix: use `ALDOR_' instead of `_AXL'
> 
> but I suspect that this is of no importance.

Yep.



> 
> 
> -------------------------------------------------------------------------------
> #include "axiom.as"
> 
> Test: with { fact: PositiveInteger -> PositiveInteger }
>    == add  { fact(n: PositiveInteger): PositiveInteger == 
>               { n <= 1 => 1;
>                 res: PositiveInteger := 1;
>                 while n > 1 repeat {
>                   res := res * n;
>                   n := n-1; }
>                 res } }
> -------------------------------------------------------------------------------
> 
> After this I start axiom and load runtime and axextend. By the way axextend
> *is* in the distribution, it's only a little hidden... There is even more
> obscure stuff in theis directory, maybe it's of use to you!
> 

The .as file isn't in CVS (the file is compiled - don't be fooled by the
readable coding style)

> (1) -> )sh Test
>  Test  is a domain constructor
>  Abbreviation for Test is TEST 
>  This constructor is exposed in this frame.
>  Issue )edit test.as to see algebra source code for TEST 
> 
> ------------------------------- Operations --------------------------------
>  fact : PositiveInteger -> PositiveInteger
> 
> (1) -> fact(5)$Test
> 
>    (1)  120
>                                                         Type: PositiveInteger
> (2) -> fact(4)$Test
>  
>    >> System error:
>    #<vector 08cf4150> is not of type LIST.
> 

Fixed by the patch I send earlier (I hope)...


> By the way, could you explain what your patches are doing? It's just a mystery
> to me! I suspect that one needs some knowledge of Aldor internals?

The significant bit is removing an unbound variable from as.boot, the
rest is to fix the )co command (obviously not bullet proof), and the .ap
file generation.  

In terms of aldor internal knowledge, you don't need that much, the hard
work is on the axiom side. The trick is to load all the aldor runtime
env interpreted and see what breaks (this includes daase.lisp, as.clisp
& interop.clisp, plus the aldor .lsp files).  This stuff used to vaguely
work, so putting it back in shape can't be too bad.  

\start
Date: Tue, 11 Jan 2005 20:00:54 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [TouchGraph] touchgraph implementation, how?

> I am curious how you implemented touchgraph into your wiki.

I followed the excellent recipe described here:

http://zeck.floop.org.uk/mathis/WikiLiver/InstallingZWikiNavigator

with only a few minor tweeks.

> Hypergraph

No. Where can I find it?

> is your site a wiki?

Well, yes of course!

> how to include touchgraph into it as a sub frame

All is explained at the above link.

> are pages added automatically to touchgraph when you add a page to your wiki

Yes, it is entirely dynamic.

\start
Date: Tue, 11 Jan 2005 19:40:49 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [TouchGraph] touchgraph implementation, how?

> From: jerry [mailto:crytox@sbcglobal.net]

> Sent: Tuesday, January 11, 2005 8:31 PM

> To: Bill Page

 
http://page.axiom-developer.org/zope/mathaction/TouchGraph/withNavigator

I am curious how you implemented touchgraph into your
wiki. I have been looking to do this myself. I would
like to have the touchgraph updated automatically
while I add pages to the wiki. It seems very nice what
you did.

Have you taken a look at Hypergraph. It is also an
interesting way of displaying link graphically on your
wiki.

My questions is, is your site a wiki? And if so, how
you managed to include touchgraph into it as a sub
frame?

I would like to be able to do this myself with my own
personal wiki. I was thinking of using the touchgraph
link browser to manually add the URLs to my wiki and
navigate the wiki from the touchgraph link browser.
But after seeing that you were able to integrate
touchgraph into your website, your method seems much
nicer.

I am curious if the pages are added automatically to
touchgraph when you add a page t your wiki, or do you
have add each page manually?

Sincerely Jariell a. Perlman

\start
Date: Tue, 11 Jan 2005 20:33:46 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [TouchGraph] Hypergraph

I found it here:

http://hypergraph.sourceforge.net/index.html

Yes it does look neat and quite relevant to what we are
doing in MathAction.

\start
Date: Tue, 11 Jan 2005 23:15:07 -0500
From: Tim Daly
To: list
Subject: ISSAC 2005

FYI.....


Bill,

Notice that there is a Satelite Workshop on 
"Internet Accessible Mathematical Computation"
which sounds an awful lot like MathAction.


Tim

------- Start of forwarded message -------
Date: Wed, 12 Jan 2005 10:20:23 +0800
From: ISSAC 2005 <issac2005@mmrc.iss.ac.cn>
Subject: ISSAC2005CFP

                     ISSAC2005 Call for Papers
                       Third Announcement

   International Symposium on Symbolic and Algebraic Computation
               July 24-27, 2005,  Beijing, China.
               http://www.mmrc.iss.ac.cn/issac2005/

*********************************************************************
The deadline for submission of papers to ISSAC 2005 has been extended to
January 21, 2005 (Midnight [24:00 EST]).

Paper Submission Webpage: https://issac2005.risc.uni-linz.ac.at/
*********************************************************************
ISSAC2005 program consists of

Contributed Talks
Poster Presentations
Software Exhibitions
Invited Talks
  Bruno Buchberger, RISC-Linz, Austria
  Bruno Salvy, INRIA, France
  Wen-Tsun Wu, Chinese Academy of Sciences, China
Tutorials
  Evelyne Hubert INRIA, Sophia Antipolis, France
  Arnaud Tisserand INRIA, Lyon, France
  Jan Verschelde University of Chicago, USA
Satellite Workshops
  Algebraic Methods in Cryptography
  Internet Accessible Mathematical Computation
  Symbolic-Numeric Computation

Distinguished Paper Award and Distinguished Student Author Award
will be selected.

\start
Date: Tue, 11 Jan 2005 22:21:22 -0500
From: Bill Page
To: Kostas Oikonomou
Subject: RE: Graphics in patch 23

Kostas,

On Tuesday, January 11, 2005 9:17 AM you asked:
> 
> I noticed that graphics (sman) do not work in my Solaris
> build. Are graphics supposed to work with patch 23?

You should check the CHANGLOG file in the root directory
of your axiom build. Near the top it should say something
about graphics. If not, then it is per graphics.

> 
> If not, how do I update (to patch 24, I guess) so that
> I don't have to rebuild everything?  I really don't know
> anything about arch, so I need some help :-)

Assuming that you got the source originally from
axiom--main--1 then you can do the following:

 $ cd root-of-axiom
 $ tla update

will pull all of the new changes from the archive.
I suggest making a backup copy of the entire directory
first to be safe, but I have not yet had any problem with
tla that required this.

tla update will attempt to keep all of your local change
and merge in other changes from your archive. It will
let you know if there are conflicts (unlikely).

After you update the source as above, theny you just
need to run

 $ configure
 $ make

'make' will normally only rebuild the minimum that is
required.

Let me know if anything I have assumed doesn't make
sense to you. I know that Tim has created another
branch of the archive named axiom--solaris--1. I assume
that this is *not* the branch from which I got the
original source. If you get a good compile of Axiom
for Solaris after you do the tla update and graphics
(and now hyperdoc, too) are working, then I am sure that
Tim will want to merge your changes back to the new
branch that he created.
 
\start
Date: Wed, 12 Jan 2005 08:49:44 +0200
From: Vladimir Bondarenko
To: list
Subject: AXIOM target groups description ?

Hello,

Before proceeding with AXIOM bug manifestations, it
would be great to hear a piece of clarification.

In AXIOM, The 30 Year Horizon we read

TD> With that in mind I=92ve introduced the theme of the
TD> =9330 year horizon=94. We must invent the tools that
TD> support the Computational Mathematician working
TD> 30 years from now.

Who are supposed to be the consumers of AXIOM now and
in the planned 30 years span? Is it possible to give
a more specific description of the AXIOM user target
group(s)?

\start
Date: Wed, 12 Jan 2005 09:45:39 +0100 (CET)
From: Bertfried Fauser
To: Vladimir Bondarenko
Subject: Re: AXIOM target groups description ?

On Wed, 12 Jan 2005, Vladimir Bondarenko wrote:

> Who are supposed to be the consumers of AXIOM now and
> in the planned 30 years span? Is it possible to give
> a more specific description of the AXIOM user target
> group(s)?

Dear Vladimir,

	this is a Hen and Egg proble somehow, and might be a problem of TV
sations in western countries. If you go only for the basic wishes of
customers, you will most likely be fed with popcorn and big macs.....

	Of course, the typing system of AXIOM requires a profound
knowledge of mathematics and hence the potential users have to do quite a
bit of work here which diminishes their number but increses the abilities
of those who mastered it.

	The big deal is to have a tool which can do things which are hard
if not even imposible to do in other CAS systems. Secondly AXIOM is free
so it has in my eyes several advantages over nonfree (closed source) CAS
systems. For me AXIOMS goods contain:

* Transparency of code
* "provability" of correctness (one can in principle check what is going
  on in computations down to the last bit)
* Literate programing and documentation of algorithms
* Typed language
* ....
[the last could be realized in closed source too...]

This amounts to the hope that AXIOM will belong to the tools used in the
far future (in terms of computer busines time scale).

However, the new and developing branch of symbolic (experimental)
mathematics needs further tools to cope with the complexity of the task,
like knowlegde databases, documentation systems which adapt for the users
needs and ability (crystal), a sort of coursework to introduce newcommers
to the mathematics (including algorithms) of the field, online cooperative
development and computing facilities (like MathAction) etc...

Last but not least, could you have guessed the present political landscape
of Europe 30 years ago? The same is true for the 30 year horizon of AXIOM
in the future, hopefully lots of unexpected things to come.

\start
Date: Wed, 12 Jan 2005 10:12:44 +0100
From: Martin Rubey
To: Vladimir Bondarenko
Subject: Re: AXIOM target groups description ?

Vladimir Bondarenko writes:

 > Who are supposed to be the consumers of AXIOM now and in the planned 30
 > years span? Is it possible to give a more specific description of the AXIOM
 > user target group(s)?

Well, I suppose it is mainly researchers, and some people who want to do
calculations in domains that are usually not available in other CAS.

Although I find the strong typing to be a very useful feedback, I guess that a
great many people will be served better by CAS like Maxima, Maple and
Mathematica. Another - different reason for this is certainly that there are a
great many packages currently not available in Axiom, although they ought to
be, you can look at the WishList on

http://page.axiom-developer.org/zope/mathaction/WishList

for that matter. I myself find especially the Expression domain rather
weak. 

MuPad is very similar to Axiom -- even in the Algebra hierarchy, just look at
the axioms... However, expressions in Mupad are far ahead of expressions in
Axiom currently. 

In summary, those people who want to work with a CAS on a day to day basis are
probably better off with Axiom or MuPad in the long run. Furthermore, I'd
advise students to look at Axiom since this might make a lot of things a lot
clearer -- only, they should wait a little, until we really have a
release. Otherwise it will be just frustrating, I guess.

Another reason to use Axiom is certainly that it is free, as in free beer. And
still another reason to use Axiom is that it is free, as in freedom of
speech. Found a bug? Fix it, tell the others, then go ahead!

\start
Date: Wed, 12 Jan 2005 03:59:41 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [AldorForAxiom] 

   'axextend.lsp.pamphlet' and edit its second line, such that it reads 
   '\usepackage{axiom}' instead of 
   '\usepackage{../../../../../src/scripts/tex/axiom}'. Then run 
   'document axextend.lsp.pamphlet', to obtain the proper lisp code. Do the same 
   for the file 'foam_l.lsp', in the same directory.

appropriate directory of your axiom (source-) distribution for every one of

A patch for 'src/interp/as.boot.pamphlet' ::

A patch for 'src/interp/ax.boot.pamphlet' ::

A patch for '/src/interp/i-syscmd.boot.pamphlet' ::

++added:

And finally a patch for 'lsp/ccl/src/axbase/compiler/lib/foam_l.lsp' ::

  --- foam_l.lsp  2005-01-12 10:40:43.000000000 +0100
  +++ foam_l.lsp  2005-01-12 10:20:44.000000000 +0100
  @@ -869,8 +869,8 @@
    (cond ( (or (NULL u) (NULL v)) nil)
          ( (and (ATOM u) (ATOM v)) (eql u v))
          ( (or (ATOM u) (ATOM v)) nil)
  -       ( (equal (length u) (length v)) (|magicEq1| u v))
  -       nil ))
  +;;       ( (equal (length u) (length v)) (|magicEq1| u v))
  +       (t (eq u v))))

   (defun |magicEq1| (u v)
    (cond ( (and (atom u) (atom v)) (|politicallySound| u v))

??changed:
-I compiled it with Aldor as above. In axiom you should get::
-
I compiled it with Aldor as above. In Axiom you should do::

  )lisp (load "/home/rubey/axiom--main--1--patch-24/lsp/ccl/src/axbase/compiler/lib/foam_l.lsp")
  )lisp (load "/home/rubey/axiom--main--1--patch-24/lsp/ccl/src/axbase/compiler/lib/axextend.lsp")

--removed:
-  )lisp (load "/home/rubey/axiom--main--1--patch-24/lsp/ccl/src/axbase/compiler/lib/axextend.lsp")

??changed:
-   (2) -> fact(4)\$Test
-    
-      >> System error:
-      #<vector 08cf4150> is not of type LIST.
-
-As you can see, starting with the second application of a function in the
-domain, Axiom fails. Maybe you can fix this? Concerning his patch, Peter also
-pointed out that

Concerning his patches, Peter also pointed out 
that

??changed:
-')lisp (setq |$monitorNewWorld| t)', but not quite...
')lisp (setq |$monitorNewWorld| t)', but not quite... Peter said, that it's on the 
interpreter side. You can read the whole thread on 
http://lists.gnu.org/archive/html/axiom-developer/2005-01/msg00154.html

\start
Date: Wed, 12 Jan 2005 11:40:16 +0100
From: Martin Rubey
To: Peter Broadbery
Subject: Re: Axiom/Aldor

Dear Peter, Tim,

Peter Broadbery writes:
 > On Tue, 2005-01-11 at 14:30 +0100, Martin Rubey wrote:
 > > Dear Peter,
 > > 
 > > this is just great stuff -- nearly... I had to try it out right away, but I
 > > experienced two problems.
 > > 
 > > the minor one is, that )co inside axiom still does not work:
 > > 
 > > (1) -> 
 > > (1) -> )co test.as
 > >    Compiling AXIOM source code from file 
 > >       /home/rubey/martin/Axiom/test.as using AXIOM-XL compiler and 
 > >       options 
 > > -O -Fasy -Fao -Flsp -laxiom -Mno-AXL_W_WillObsolete -DAxiom -Y $AXIOM/algebra
 > >       Use the system command )set compiler args to change these 
 > >       options.
 > >  
 > >    >> System error:
 > >    NIL is not of type STRING.
 > 
 > 
 > ln -s $ALDORROOT $AXIOM/compiler may help here.  fixing i-syscmd.boot to
 > produce a nice error would be nice, I guess.

I tried that, but it won't work. Tim, is there a way to trace what's happening?

Note that both $ALDORROOT and $AXIOM were set correctly. In other words, the
link above produced a directory "compiler" in "axiom/mnt/linux", containing the
following directories of Aldor: bin/ doc/ include/ lib/ src/ tests/

 > The .as file isn't in CVS (the file is compiled - don't be fooled by the
 > readable coding style)

Sorry, my mistake. Only lsp files. By the way, there i *lots* of stuff in the
directories under /lsp/ccl/src, some look like they could be really useful...

Tim: could you rename them to .pamphlet and correct the \usepackage line in
each one of them? Thanks!

 > > (1) -> fact(5)$Test
 > > 
 > >    (1)  120
 > >                                                         Type: PositiveInteger
 > > (2) -> fact(4)$Test
 > >  
 > >    >> System error:
 > >    #<vector 08cf4150> is not of type LIST.
 > > 
 > 
 > Fixed by the patch I send earlier (I hope)...

Yes indeed! (I found that there was only one line you had to comment out?)

 > The significant bit is removing an unbound variable from as.boot, the
 > rest is to fix the )co command (obviously not bullet proof), and the .ap
 > file generation.  
 > 
 > In terms of aldor internal knowledge, you don't need that much, the hard
 > work is on the axiom side. The trick is to load all the aldor runtime
 > env interpreted and see what breaks (this includes daase.lisp, as.clisp
 > & interop.clisp, plus the aldor .lsp files).  This stuff used to vaguely
 > work, so putting it back in shape can't be too bad.  

In another mail, you wrote:

 > As long as you don't use the sig. from the interpreter, you will be ok
 > (which misses the point,, I know).  As far as fixing the error, not really,
 > I don't know the axiom interpreter that well. Finding how & where the type
 > is substituted would be a good start [There must be someone who does...]

Who could this be? It would be just wonderful to get this working!

Thanks a million times,

\start
Date: Wed, 12 Jan 2005 08:08:17 -0500
From: Bill Page
To: Martin Rubey
Subject: Axiom domains and Aldor return types

Martin,

I have been thinking about your example code.

On Tuesday, January 11, 2005 9:44 AM you wrote:
> ... 
> I just tried another example, which is in fact the reason
> why I would love to have Aldor working. I did not expect
> it to work, and it does not, but it works *almost*. The
> code is as follows:
> 
> #include "axiom"
> 
> Test: with { f: (n: PositiveInteger) -> PrimeField(n) } 
>    == add { f(n: PositiveInteger): PrimeField(n) == 
>               10::Integer::PrimeField(n) }
> 
> Note that such a construction -- the resulting domain 
> depending on the function parameter -- is currently
> illegal in Axiom. In Aldor it is fine.

I don't really understand when the use of parameterized
return types on functions would be useful. What information
is being returned as part of the type of the result that
is not already known because of it's value?

As I see it the concept does considerable damage to the
notion of the 'domain' of a function. How should we interpret
the expressioin `PrimeField(n)' when n is unknown? Does it
represent the Union over all values n? We can no longer
write the signature of a function in the simple form:

  f: PositiveInteger -> PrimeField

Can you explain again why you don't find the usual Axiom
solution to this situation acceptible? I.e. the use of
the `Any' domain:

 f:PositiveInteger->Any
 f(n) == n::PrimeField(n)

Perhaps in some cases the use of a Union might even be
better:

 f:PositiveInteger->Union(PrimeField(2),PrimeField(3),
   PrimeField(5), ...)
 f(n) == n::PrimeField(n)

The union allows a 'case' construction like this:

  f(3) case PrimeField(3)

In fact this sort of thing works in Axiom:

(1) -> f:PositiveInteger->Union(PrimeField(2),PrimeField(3), _
  PrimeField(5),PrimeField(7),"Failed")
  f(n) ==  ( prime? n and n<=7 => n::PrimeField(n); "Failed")

   Function declaration f : PositiveInteger -> Union(PrimeField 2,
      PrimeField 3,PrimeField 5,PrimeField 7,Failed) has been added to
      workspace.
                                                      Type: Void
(2) -> f(2)
   Cannot compile conversion for types involving local variables. In
      particular, could not compile the expression involving ::
      PrimeField #1
   AXIOM will attempt to step through and interpret the code.
   Compiling function f with type PositiveInteger -> Union(PrimeField 2
      ,PrimeField 3,PrimeField 5,PrimeField 7,Failed)

   (2)  0
                                    Type: Union(PrimeField 2,...)
(3) -> f(3)

   (3)  0
                                     Type: Union(PrimeField 3,...)
(4) -> f(4)

   (4)  Failed
                                           Type: Union(Failed,...)
(5) -> f(5)

   (5)  0
                                     Type: Union(PrimeField 5,...)

(6) -> x:=f(5)

   (6)  0
                                     Type: Union(PrimeField 5,...)

(7) -> x case PrimeField(5)

   (7)  true
                                                    Type: Boolean
(8) -> x case PrimeField(3)

   (8)  false
                                                    Type: Boolean
etc.

\start
Date: Wed, 12 Jan 2005 14:30:21 +0100
From: Martin Rubey
To: Bill Page
Subject: Re: Axiom domains and Aldor return types

Dear Bill,

Page, Bill writes:

 > > #include "axiom"
 > > 
 > > Test: with { f: (n: PositiveInteger) -> PrimeField(n) } 
 > >    == add { f(n: PositiveInteger): PrimeField(n) == 
 > >               10::Integer::PrimeField(n) }              
 > > 
 > > Note that such a construction -- the resulting domain depending on the
 > > function parameter -- is currently illegal in Axiom. In Aldor it is fine.
 > 
 > I don't really understand when the use of parameterized return types on
 > functions would be useful. What information is being returned as part of the
 > type of the result that is not already known because of it's value?

The above is an example. Perhaps, more convincing:

Foo: with { g: (n: PositiveInteger, k: PositiveInteger) -> PrimeField(n) } 
   == add { g(n: PositiveInteger, k: PositiveInteger ): PrimeField(n) ==     
              k::Integer::PrimeField(n) }              
 
Another example is Marcus Better's problem, more examples are in
expr2ups.spad, where Any is used a lot. The type tells you in what domain to
interpret the value. But sometimes, the type will have to depend on a parameter
of the function, as above.

 > As I see it the concept does considerable damage to the notion of the
 > 'domain' of a function. How should we interpret the expressioin
 > `PrimeField(n)' when n is unknown? Does it represent the Union over all
 > values n? We can no longer write the signature of a function in the simple
 > form:
 > 
 >   f: PositiveInteger -> PrimeField

Yes you can: Aldor does it. The signature is

   f: (n: PositiveInteger) -> PrimeField n

 > Can you explain again why you don't find the usual Axiom solution to this
 > situation acceptible? I.e. the use of the `Any' domain:
 > 
 >  f:PositiveInteger->Any
 >  f(n) == n::PrimeField(n)

Because you cannot use it in compiled code and because you are using all of the
type information, which is the main point of Axiom. Of course, the example you
just gave doesn't make any sense, the result is always zero, but given the
function

Bar: with { h: (n: PositiveInteger, k: PositiveInteger) -> Any } 
   == add { g(n: PositiveInteger, k: PositiveInteger ): Any ==     
              k::Any }

you cannot use this function in compiled code anymore. The interpreter can deal
with it, not the compiler.

Look at Marcus code for a really convincing example: He wants to construct
recursively an algebraic extension of a ring, adding elements one at the
time. At the end of the process he wants to return an element of the final
ring. It is tricky to do this in Axiom currently.

Note, for example, if you have a signature

  f: Integer -> Any

but really, f returns a SimpleAlgebraicExtension of some ring, you cannot do
any calculations with the result in compiled code anymore, unless you know
*exactly* the defining polynomial of the ring.

So one way out -- in this specific case -- would be to return a record
containing the result of type Any and the defining polynomial. I hope you admit
that this is ugly.

\start
Date: Wed, 12 Jan 2005 09:56:48 -0500
From: Tim Daly
To: list
Subject: bug tracking religion

Joal Spolsky wrote an article on Painless Bug Tracking
which makes a very important point. Recommended reading.

http://www.joelonsoftware.com/articles/fog0000000029.html

\start
Date: Wed, 12 Jan 2005 09:14:13 -0500
From: Kostas Oikonomou
To: Bill Page
Subject: Re: Graphics in patch 23

On Tue, 11 Jan 2005 22:21:22 -0500, Page, Bill <Bill Page=
> wrote:

> You should check the CHANGLOG file in the root directory
> of your axiom build. Near the top it should say something
> about graphics. If not, then it is per graphics.

This is what's in the CHANGELOG:

20041208 tpd src/input/Makefile enable graphics input file testing

Does it mean that graphics are supposed to work?

If the build tested graphics and they didn't work, I assume it would have=
 stopped,
but it didn't.  I am asking because when I do "sman -debug -noclef -nonag=
 -noht"
I get a core dump, whether as root or not.


> Let me know if anything I have assumed doesn't make
> sense to you. I know that Tim has created another
> branch of the archive named axiom--solaris--1. I assume
> that this is *not* the branch from which I got the
> original source.

Bill, what do you mean by "*I* got"?

\start
Date: Wed, 12 Jan 2005 09:31:50 -0500
From: Bill Page
To: Kostas Oikonomou
Subject: RE: Graphics in patch 23

Kostas,

On Wednesday, January 12, 2005 9:14 AM you wrote:
> 
> This is what's in the CHANGELOG:
> 
> 20041208 tpd src/input/Makefile enable graphics input file
> testing
> 
> Does it mean that graphics are supposed to work?
> 

Yes.

> If the build tested graphics and they didn't work,
> I assume it would have stopped, but it didn't.

No it doesn't stop if graphics is missing. The draw function
in Axiom attempts to send data to a separate graphics display
process but no error is returned if the display process is
not present. Probably there should be better checking.

> I am asking because when I do "sman -debug 
> -noclef -nonag -noht"
> I get a core dump, whether as root or not.
>

If sman is present (even if it doesn't work) then the
build has definitely attempted to build the graphics.
A core dump is a good (but difficult) place to start the
debugging ...

Solaris has a somewhat different set of libraries for
remote session support, rpc and X-windows etc. even though
linux was based largely the Sun architecture. BTW what
Anyway I guess it isn't such a big surprize that it doesn't
work right out-of-the-box. It doesn't work (yet) on
Windows either.

> 
> > Let me know if anything I have assumed doesn't make
> > sense to you. I know that Tim has created another
> > branch of the archive named axiom--solaris--1. I assume
> > that this is *not* the branch from which I got the
> > original source.
> 
> Bill, what do you mean by "*I* got"?
> 

I meant "*you* got". (Ever notice how as the email
spellcheckers get better, one's grammar and semantics
deteriorates in order to maintain the same overall
level of errors? :)

Sorry I can't be of much help with Solaris yet.

\start

Date: Wed, 12 Jan 2005 10:19:14 -0500
From: Tim Daly
To: Martin Rubey
Subject: Re: Axiom/Aldor

Martin, Peter,

I tried to build aldor last night. I succeeded in building the compiler
but not the libraries. I have a CVS checkout from May 16.

I've been reading the Makefiles but they all seem to dissolve into
home-grown tools (makeon, docc, etc) which undermines my ability to
figure out what is happening. It's been years since I built aldor.

Peter, could you provide the required steps to build a working
compiler? e.g.

edit Makefile.globals to change....
make aldorcompiler
....

\start
Date: Wed, 12 Jan 2005 10:37:10 -0500
From: Bill Page
To: Martin Rubey
Subject: RE: Axiom domains and Aldor return types

Martin,

On Wednesday, January 12, 2005 8:30 AM you wrote:
> Bill Page wrote:
> > 
> > I don't really understand when the use of parameterized 
> > return types on functions would be useful. What information
> > is being returned as part of the type of the result that is
> > not already known because of it's value?
> 
> The above is an example. Perhaps, more convincing:
> 
> Foo: with { g: (n: PositiveInteger, k: PositiveInteger) -> 
> PrimeField(n) } == add {
> g(n: PositiveInteger, k: PositiveInteger ): PrimeField(n) ==
>  k::Integer::PrimeField(n) }              
>

Ok, I will work with this example. Yes, it is better.
  
> Another example is Marcus Better's problem, more examples
> are in expr2ups.spad, where Any is used a lot.

Ok.

> The type tells you in what domain to interpret the value.
> But sometimes, the type will have to depend on a parameter
> of the function, as above.

That is still now clear to me, at least when it is possible
to use a Union.

> 
> > As I see it the concept does considerable damage to the 
> > notion of the 'domain' of a function. How should we
> > interpret the expressioin `PrimeField(n)' when n is
> > unknown? Does it represent the Union over all values n?
> > We can no longer write the signature of a function in
> > the simple form:
> > 
> >   f: PositiveInteger -> PrimeField
> 
> Yes you can: Aldor does it. The signature is
> 
>  f: (n: PositiveInteger) -> PrimeField n
>

That does not look like a *signature* to me. What is the
value of n? If you can't tell me, then how can I interpret
`PrimeField n'? A signature should specify the domains of
the function, but `PrimeField n' is not a domain until `n'
is replaced with some PositiveInteger. The only interpretation
of `PrimeField n' as a domain that I can think of would be
to claim that it represents some kind of Union over the
primes.

  Union(PrimeField n for n=1.. | prime? n)

But of course we can't write it quite this nicely right now
in Axiom...

This is similar to Axiom's insistence that

  A:Integer

can not be used in the expression

  A+1

until A is assigned a value. I this case I think it should
be ok to say that if A has no assigned value then it
represents the domain

  {+/-n for n=0..}
 
> > Can you explain again why you don't find the usual
> > Axiom solution to this situation acceptible? I.e. the
> > use of the `Any' domain:
> > 
> >  f:PositiveInteger->Any
> >  f(n) == n::PrimeField(n)
> 
> Because you cannot use it in compiled code and because you 
> are using all of the type information, which is the main
> point of Axiom.

But as you said, `Any' is used extensively in expr2ups.spad.

> Of course, the example you just gave doesn't
> make any sense, the result is always zero, but given the
> function
> 
> Bar: with { h: (n: PositiveInteger, k: PositiveInteger) -> Any } 
>    == add { g(n: PositiveInteger, k: PositiveInteger ): Any ==     
>               k::Any }
> 
> you cannot use this function in compiled code anymore. The 
> interpreter can deal with it, not the compiler.

I would write it something like this:

(2) -> h:(PositiveInteger,PositiveInteger)->Union( _
PrimeField(2),PrimeField(3),PrimeField(5),PrimeField(7))
                                                 Type: Void
(3) -> h(n,k)==k::PrimeField(n)
                                                 Type: Void
(4) -> x:=h(7,2)

   (4)  2
                                  Type: Union(PrimeField 7,...)
(5) -> trace x

   (5)  2
                                             Type: PrimeField 7
> 
> Look at Marcus code for a really convincing example: He wants 
> to construct recursively an algebraic extension of a ring,
> adding elements one at the time. At the end of the process
> he wants to return an element of the final ring. It is tricky
> to do this in Axiom currently.

I will take a closer look at the emails from Marcus.

> 
> Note, for example, if you have a signature
> 
>   f: Integer -> Any
> 
> but really, f returns a SimpleAlgebraicExtension of some 
> ring, you cannot do any calculations with the result in
> compiled code anymore, unless you know *exactly* the defining
> polynomial of the ring.

I agree that Any throws away too much information, except
in the interpreter where it tries to do a better job. But
I think even there Any is (usually) not a good choice for
the domain.

> 
> So one way out -- in this specific case -- would be to
> return a record containing the result of type Any and
> the defining polynomial. I hope you admit that this is
> ugly.

I agree that that is ugly. Using an explicit "streaming Union"
(iterator) domain would be my (future) choice. Unfortunately
for now:

(6) -> Union(PrimeField(i) for i in 1..10)
   Local variable or parameter used in type
   We will attempt to interpret the code.

   Category, domain or package constructor COLLECT is not available.
(6) -> Union(PrimeField(i) for i in 1..)
   Loading C:/Program Files/axiom/mnt/windows/algebra/UNISEG.o for
      domain UniversalSegment
   Loading C:/Program Files/axiom/mnt/windows/algebra/INCRMAPS.o for
      package IncrementingMaps
   Loading C:/Program Files/axiom/mnt/windows/algebra/ITUPLE.o for
      domain InfiniteTuple
   Loading C:/Program Files/axiom/mnt/windows/algebra/STREAM.o for
      domain Stream
   Local variable or parameter used in type
   We will attempt to interpret the code.

   Interpret-Code mode is not supported for stream bodies.
(6) ->

\start
Date: Wed, 12 Jan 2005 17:03:27 +0100
From: Ralf Hemmecke
To: Bill Page
Subject: Re: [Aldor-l] RE: Axiom domains and Aldor return types

Hi Bill,

>>Foo: with { g: (n: PositiveInteger, k: PositiveInteger) -> 
>>PrimeField(n) } == add {
>>g(n: PositiveInteger, k: PositiveInteger ): PrimeField(n) ==
>> k::Integer::PrimeField(n) }              

> Ok, I will work with this example. Yes, it is better.

Well, I haven't checked whether it should really work, but
shouldn't be

Foo: with {
   g: (n: PositiveInteger, k: PositiveInteger) ->
      (P: PrimeFieldCategory, x: P)
} == add {
   g(n: PositiveInteger, k: PositiveInteger ):
    (P: PrimeFieldCategory, x:P) == {
    (PrimeField(n), k::Integer::PrimeField(n)
   }
}

be even better? The above code will not compile in Aldor, since it does 
not have PositiveInteger. And maybe it will even not compile with 
appropriate substitutions since the compiler cannot handle such a 
construction. I am, however, very much against the Any type. It is like 
building a strongly typed language and than trying to forget about 
types. For the interpreter it maybe OK, but not for the compiler.

Programming in Axiom should mean writing programs for the compiler. I 
would say that programming in the interpreter is just writing short 
scripts but not real programs.

See also
http://www.aldor.org/docs/HTML/chap23.html#10

\start
Date: Wed, 12 Jan 2005 12:00:00 -0500
From: William Sit
To: Ralf Hemmecke
Subject: re: [Aldor-l] RE: Axiom domains and Aldor returntypes

Ralf Hemmecke wrote:
> 
> Hi Bill,
> 
> >>Foo: with { g: (n: PositiveInteger, k: PositiveInteger) ->
> >>PrimeField(n) } == add {
> >>g(n: PositiveInteger, k: PositiveInteger ): PrimeField(n) ==
> >> k::Integer::PrimeField(n) }
> 
> > Ok, I will work with this example. Yes, it is better.
> 
> Well, I haven't checked whether it should really work, but
> shouldn't be
> 
> Foo: with {
>    g: (n: PositiveInteger, k: PositiveInteger) ->
>       (P: PrimeFieldCategory, x: P)
> } == add {
>    g(n: PositiveInteger, k: PositiveInteger ):
>     (P: PrimeFieldCategory, x:P) == {
>     (PrimeField(n), k::Integer::PrimeField(n)
>    }
> }
> 
> be even better? 

In fact you just pointed a way to solve the problem! Notice that you are in
effect constructing a domain! So first create this domain (call this anything
else you like):

--%PointedPrimeField
)abbrev domain PPF PointedPrimeField
PointedPrimeField(n:PositiveInteger):Cat==Dog where
  Cat == FiniteFieldCategory with
    foo:PositiveInteger->PrimeField(n)
  Dog == PrimeField(n) add
    foo(k)==k::Integer::PrimeField(n)

After compiling, define in the interpreter

g(n,k)==foo(k)$PPF(n)

and it works (in Axiom)! (Do not declare the types for g because n is not
defined).

But I have trouble with path in windows:
   Processing PointedPrimeField for Browser database:
--->-->PointedPrimeField((foo ((PrimeField n) (PositiveInteger)))): Not document
ed!!!!
--->-->PointedPrimeField(constructor): Not documented!!!!
--->-->PointedPrimeField(): Missing Description
h:/dostools/rm.exe: j:/program: No such file or directory
h:/dostools/rm.exe: j:/progra~1/axiom/mnt/windows/lib/files/axiom/mnt/windows/li
b/ppf.nrlib: No such file or directory

   >> System error:
   Cannot rename the file #P"j:/Program Files/axiom/mnt/windows/lib/PPF.erlib" t
o #P"j:/Program Files/axiom/mnt/windows/lib/PPF.NRLIB".

protected-symbol-warn called with (NIL)

But that is just because "Program Files" need be in quotes?

\start
Date: Wed, 12 Jan 2005 19:44:43 +0100
From: Ralf Hemmecke
To: Tim Daly
Subject: Re: [Aldor-l] Re: Axiom/Aldor

Hi Tim,

I don't know about the Aldor compiler, since I have no access. (I assume 
you speak of the one from cvs.aldor.org.)

If you mean cvs.aldor.org, then it might be that May 16 2004 is a bit 
late. The libraries have changed since then.

You could however download the latest precompiled version 1.0.2 from

http://www.aldor.org/downl.html

If you really want to compile the libraries yourself, ask me again. I 
think the newest cvs-version should compile, but if they don't ... There 
has been some work on the Makefiles since May 16.

Ralf

root wrote:
> Martin, Peter,
> 
> I tried to build aldor last night. I succeeded in building the compiler
> but not the libraries. I have a CVS checkout from May 16.
> 
> I've been reading the Makefiles but they all seem to dissolve into
> home-grown tools (makeon, docc, etc) which undermines my ability to
> figure out what is happening. It's been years since I built aldor.
> 
> Peter, could you provide the required steps to build a working
> compiler? e.g.
> 
> edit Makefile.globals to change....
> make aldorcompiler
> ....

\start
Date: Wed, 12 Jan 2005 13:30:11 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [AxiomProblems] 

- DynamicFunctionDomains

\start
Date: Wed, 12 Jan 2005 15:04:53 -0500
From: Bill Page
To: Ralf Hemmecke
Subject: RE: [Aldor-l] RE: Axiom domains and Aldor return types

On Wednesday, January 12, 2005 11:03 AM Ralf Hemmecke wrote: 

> ...
> I am, however, very much against the Any type. It is like 
> building a strongly typed language and than trying to forget
> about types.
>

Well that is more or less what I naively thought as well but
from the ANY.spad file I read that:

)abbrev domain ANY Any
++ Author: Robert S. Sutor
++ Basic Functions: any, domainOf, objectOf, dom, obj,
++   showTypeInOutput
++ Related Constructors: AnyFunctions1
++ Description:
++   \spadtype{Any} implements a type that packages up objects and
++   their types in objects of \spadtype{Any}. Roughly speaking
++   that means that if \spad{s : S} then when converted to
++   \spadtype{Any}, the new object will include both the original
++   object and its type. This is a way of converting arbitrary
++   objects into a single type **without losing any** of the
++   original information. Any object can be converted to one of
++   \spadtype{Any}.

and in the related file ANY1.spad

)abbrev package ANY1 AnyFunctions1
++ Basic Functions:  coerce, retractIfCan, retractable?, retract
++ Description:
++   \spadtype{AnyFunctions1} implements several utility functions
++   for working with \spadtype{Any}. These functions are used to
++   go back and forth between objects of \spadtype{Any} and objects
++   of other types.

So the situation is not quiet so simple. Apparently Any does not
mean Any in the sense of throwing away essential information.

\start
Date: Wed, 12 Jan 2005 15:01:51 -0500
From: Bill Page
To: William Sit
Subject: re: [Aldor-l] RE: Axiom domains and Aldor returntypes
Cc: Ralf Hemmecke

William,

On Wednesday, January 12, 2005 12:00 PM you wrote:
> Ralf Hemmecke wrote:
> > 
> > Well, I haven't checked whether it should really work, but
> > shouldn't be
> > 
> > Foo: with {
> >    g: (n: PositiveInteger, k: PositiveInteger) ->
> >       (P: PrimeFieldCategory, x: P)
> > } == add {
> >    g(n: PositiveInteger, k: PositiveInteger ):
> >     (P: PrimeFieldCategory, x:P) == {
> >     (PrimeField(n), k::Integer::PrimeField(n)
> >    }
> > }
> > 
> > be even better? 
> 
> In fact you just pointed a way to solve the problem! Notice 
> that you are in effect constructing a domain! So first create
> this domain (call this anything else you like):
> 
> --%PointedPrimeField
> )abbrev domain PPF PointedPrimeField
> PointedPrimeField(n:PositiveInteger):Cat==Dog where
>   Cat == FiniteFieldCategory with
>     foo:PositiveInteger->PrimeField(n)
>   Dog == PrimeField(n) add
>     foo(k)==k::Integer::PrimeField(n)
> 
> After compiling, define in the interpreter
> 
> g(n,k)==foo(k)$PPF(n)
> 
> and it works (in Axiom)! (Do not declare the types for g 
> because n is not defined).
>

Very Neat!
 
> But I have trouble with path in windows:
>    Processing PointedPrimeField for Browser database:
> --->-->PointedPrimeField((foo ((PrimeField n) 
> (PositiveInteger)))): Not documented!!!!
> --->-->PointedPrimeField(constructor): Not documented!!!!
> --->-->PointedPrimeField(): Missing Description
> h:/dostools/rm.exe: j:/program: No such file or directory
> h:/dostools/rm.exe: 
> j:/progra~1/axiom/mnt/windows/lib/files/axiom/mnt/windows/li
> b/ppf.nrlib: No such file or directory
> 
>    >> System error:
>    Cannot rename the file #P"j:/Program 
> Files/axiom/mnt/windows/lib/PPF.erlib" t
> o #P"j:/Program Files/axiom/mnt/windows/lib/PPF.NRLIB".
> 
> protected-symbol-warn called with (NIL)
> 
> But that is just because "Program Files" need be in quotes?
> 

Yes, this is a bug in the Windows version of Axiom caused
by the fact that the Axiom code expects to be able to run
unix system commands like `rm' (which means delete file).
In this case it is calling a program called rm.exe that
was previously installed on your system in a directory
called `dostools'. This is non-standard for Windows -
usually there is no rm.exe file anywhere unless you have
installed some other package that contains it. Like you
said, this would be ok if the location of Axiom was in
a Path that did not contain any spaces.

I will be updating the Axiom for Windows distribute soon to
eliminate this and a few other similar problems by recoding
everything in lisp. Right now the only work-around is to
re-install Axiom for Windows in a location that does not
have any spaces in the Path.

\start
Date: Wed, 12 Jan 2005 14:00:26 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [DynamicFunctionDomains] (new) 

On Wednesday, January 12, 2005 12:00 PM you wrote:
Ralf Hemmecke wrote:
 
Well, I haven't checked whether it should really work, but
shouldn't be::
 
 Foo: with {
    g: (n: PositiveInteger, k: PositiveInteger) ->
       (P: PrimeFieldCategory, x: P)
 } == add {
    g(n: PositiveInteger, k: PositiveInteger ):
     (P: PrimeFieldCategory, x:P) == {
     (PrimeField(n), k::Integer::PrimeField(n)
    }
 }

be even better? 

Later William Sit wrote:
 
In fact you just pointed a way to solve the problem! Notice 
that you are in effect constructing a domain! So first create
this domain (call this anything else you like)

\begin{axiom}
)abbrev domain PPF PointedPrimeField
--%PointedPrimeField
PointedPrimeField(n:PositiveInteger):Cat==Dog where
  Cat == FiniteFieldCategory with
    foo:PositiveInteger->PrimeField(n)
  Dog == PrimeField(n) add
    foo(k)==k::Integer::PrimeField(n)
\end{axiom}

After compiling, define in the interpreter

\begin{axiom} 
g(n,k)==foo(k)$PPF(n)
g(7,4)
\end{axiom}
 
and it works (in Axiom)! (Do not declare the types
for g because n is not defined).

\start
Date: Wed, 12 Jan 2005 15:48:00 -0500
From: Tim Daly
To: list
Subject: documenting changes

*,

I'm in the process of trying to merge the axiom--windows--1 branch
with the axiom--main--1 branch.

There are dozens of files with changes and no documentation.
It is painfully obvious that the message isn't getting out.

The point of the free and open source Axiom is documented code.
This project differs from all other projects in one main feature;
every file in the system is a tex document. There are no C, lisp,
boot, spad, Makefile, include files, etc. EVERYTHING is (or will be)
a DOCUMENT. You're not writing C code, you're writing a document.

The reason that Axiom is all documents is because *I* wrote portions
of Axiom many years ago and commented nothing. Now I'm looking at my
own code and, even though I tried to write dirt-simple, perfectly 
clear code, I no longer understand the "why" of it. The end result
is that Axiom is very hard to maintain and modify. As time permits
I'm going back and writing the documentation for the existing code.

If Axiom is going to be a living project we MUST change the way 
Axiom developers write and modify code. How else is someone, 30
years from now, supposed to understand and update your code?

So if you make a change to the source DOCUMENT you really do need to
write a paragraph that explains the need for the change and what was
changed.

If you don't write a paragraph to explain the change then I have to
reverse-engineer your change, write the documentation, and hand-merge
the results.

As a result the axiom--windows--1 merge is going VERY slowly. There
are undocumented changes to the algebra, to the interpreter, and to
the library code.

If you made changes to the axiom--windows--1 branch please revisit
the changes and send me patches that contain documentation; not just
comments, real words about why the change was needed. Write for the
future maintainers.

Believe me, I know that it is painful to have to write documentation.
But without it Axiom will surely die. Please take the time.

\start
Date: Wed, 12 Jan 2005 15:23:16 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] 

\begin{axiom}
i: Integer := 1
a: Any := i::Any
dom a
obj a
\end{axiom}

\start
Date: Wed, 12 Jan 2005 22:41:12 +0100
From: Ralf Hemmecke
To: list
Subject: Re: [Aldor-l] RE: Axiom domains and Aldor return types

Oops, sorry that I have not read the documentation of Any.
I had a look at Any now. Well, from that I just got the feeling that a 
programmer should never use Any if there are better types around (and 
often there are). Any seems to be connected to the interpreter. Since 
everything must have a type and the interpreter cannot figure out 
something reasonable, it falls back to Any.

I'd rather be happy if the interpreter is clearly separated from the 
compiler.

The interpreter is for working with Axiom, so it could help the (lazy) 
user and find/guesss appropriate types for him/her. However there should 
be NO guessing when it comes to writing new library code.

Looking at the code of Any reminds me much of the things I have 
suggested here

http://page.axiom-developer.org/zope/mathaction/DynamicFunctionDomains#msg20050112140012-0600@page.axiom-developer.org
The code is in cvs.aldor.org/aldor/aldorug/samples/object*.as.

The problem I still have with any is that it says

      Rep := Record(dm: SExpression, ob: None)
      dom x      == x.dm

which looks very near to some LISP thing.
So I can ask for the domain a: Any by calling dom(a). Then I will get an 
SExpression which makes me feel lost.

Unfortunately, I have no runnig Axiom at the moment :-(
And I cannot compile axim--main--1 (bfd.h is missing and I have no idea 
what to install).

So I tested on

http://page.axiom-developer.org/zope/mathaction/AxiomInterface

i: Integer := 1
   Type: Integer

a: Any := i::Any
   Type: Integer  <----- very interesting!!!

dom a
    Type: SExpression
obj a
   Type: None

j: Integer := a :: Integer
   Type: Integer

It seems the interpreter is quite smart.




s: String := "I am a string"
   Type: String

b: Any := s::Any
   Type: String

dom b
   Type: SExpression?

obj b
   Type: None

k: Integer := b :: Integer
    Cannot convert from type Any to Integer for value
    "I am a string"


This Error is OK. And I think for manually working with Axiom, one just 
needs to type dom(...) and then coerce to the now known type.
But how to use Any in a program is totally unclear to me. I have no idea 
to get the domain back from the SExpression.

\start
Date: Wed, 12 Jan 2005 16:41:45 -0500
From: Bill Page
To: Tim Daly
Subject: RE: [Aldor-l] Re: Axiom/Aldor

Tim,

I installed "Aldor version 1.0.2 for LINUX(glibc2.3)" on
axiom-developer.org several months ago. The date on the
aldor tarball in /home/page is May 19  2004. Aldor should
be accessible to you when you log in at axiom-developer.
Just add

  export ALDORROOT=/usr/local/aldor/linux/1.0.2
  export PATH=$ALDORROOT/bin:$PATH

to your .bashrc, do

  . .bashrc

and your should be able to type

  aldor ...

You should find the libaries in the standard locations.

There is apparently a fairly up to date windows binary
version as well, but I haven't had much time to play
with this yet.

At the time I was planning to implement a MathAction-
Aldor web interface that would look something like this

\begin{aldor}
... aldor code ...
\end{aldor}

and which could be intermixed with Axiom code on the
MathAction website. I got distracted by other things
and so have not yet completed the integration with
MathAction but there is not a lot more to do. Recent
discussions here about getting Axiom and Aldor working
together again suggest that it might be time for me
to raise the priority to make this possible.

Ralf Hemmecke wrote:
> 
> If you mean cvs.aldor.org, then it might be that May 16 2004
> is a bit late. The libraries have changed since then.
> 
> You could however download the latest precompiled version
> 1.0.2 from
> 
> http://www.aldor.org/downl.html
>
 
> If you really want to compile the libraries yourself, ask
> me again. I think the newest cvs-version should compile,
> but if they  don't ... There has been some work on the
> Makefiles since May 16.
> 
> Ralf
> 
> root wrote:
> > Martin, Peter,
> > 
> > I tried to build aldor last night. I succeeded in building 
> > the compiler but not the libraries. I have a CVS checkout
> > from May 16.
> > 
> > I've been reading the Makefiles but they all seem to dissolve
> > into home-grown tools (makeon, docc, etc) which undermines my
> > ability to figure out what is happening. It's been years since
> > I built aldor.
> > 
> > Peter, could you provide the required steps to build a working
> > compiler? e.g.
> > 
> > edit Makefile.globals to change.... make aldorcompiler
> > ....
> > 

\start
Date: Wed, 12 Jan 2005 15:41:29 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] 

++added:
j: Integer := a :: Integer
s: String := "I am a string"
b: Any := s::Any
dom b
obj b
k: Integer := b :: Integer

\start
Date: Wed, 12 Jan 2005 17:26:30 -0500
From: Bill Page
To: Mike Thomas
Subject: Axiom on Windows GCL problems

Mike,

I presume that you have been extraordinarily busy (as usual)
but with other things since I haven't seen your email lately
on the Axiom list. I hope you had a pleasant holiday season
in spite of the work. :)

You are probably reading the axiom mailing lists anyway, so
you know that things are progressing at a good pace - thanks
in part to your breaking of the GCL barrier for Axiom on
Windows!

Speaking of which ...

I noticed today that there is a significant problem with
compiling spad code under windows relating to the use of
default paths that include spaces. I think (but I am not
absolutely sure) that this problem actually exists at the
GCL level.

In Axiom on windows, when run from a desktop icon (significant
because Axiom behaves much better when run from inside the
MSYS development environment that simulates some unix tools
functionality), I get the following result in response to a
compile command, e.g.

  )compile PPF.spad

...
  Axiom compiler messages: (omitted)
...
  GCL lisp compile messages (I think):

Compiling C:/Documents and Settings/bpage/My Documents/PPF.NRLIB/code.lsp.
End of Pass 1.
End of Pass 2.
gcc: C:/Documents: No such file or directory
gcc: and: No such file or directory
gcc: Settings/bpage/My: No such file or directory
gcc: Documents/PPF.NRLIB/code.c: No such file or directory
gcc: and: No such file or directory
gcc: Settings/bpage/My: No such file or directory
gcc: Documents/PPF.NRLIB/code.o: No such file or directory
gcc: no input files

   >> System error:
   (SYSTEM "gcc -c -g -Wall -DVOL=volatile -fsigned-char -pipe
-fno-zero-initialized-in-bss -mms-bitfields -g -mcpu=i386
-march=i386  -IC:/msys/1.0/home/bpage/axiom-build/mnt/windows/bin/../h
-c -w C:/Documents and Settings/bpage/My Documents/PPF.NRLIB/code.c
-o C:/Documents and Settings/bpage/My Documents/PPF.NRLIB/code.o")
returned a non-zero value 1.

-------

notice how the command line arguments to gcc are mangled
because they contain spaces and are not properly escaped. If
I copy the gcc command and insert delimiters as follows:

gcc -c -g -Wall -DVOL=volatile -fsigned-char -pipe
-fno-zero-initialized-in-bss -mms-bitfields -g -mcpu=i386
-march=i386  -IC:/msys/1.0/home/bpage/axiom-build/mnt/windows/bin/../h
-c -w "C:/Documents and Settings/bpage/My Documents/PPF.NRLIB/code.c"
-o "C:/Documents and Settings/bpage/My Documents/PPF.NRLIB/code.o"

and then paste it into a command window, gcc runs and produces
a object file normally. So I know everything else is ok. And of
course this also works if Axiom and GCL are installed in
directories so that the paths do not contain spaces.

--------

So, I was wondering if you might be able to quickly point
me in the right direction to fix this problem. I know that
at some point GCL is going to convert so-called path
expressions like #P"c:xxxx yyy zzz" into actual command line
arguments. I think that what is happening is that this
conversion is removing the "quotes" but that these should
remain especially on the windows platform - but maybe under
linux as well even though users much less frequently employ
paths with spaces under linux.

\start
Date: Wed, 12 Jan 2005 18:36:12 -0500
From: Tim Daly
To: Charles Miller
Subject: [Charles Miller: magnus and axiom questions]

Has anyone gotten GCL to run on Fedora Core 3?

Tim

------- Start of forwarded message -------
Subject: magnus and axiom questions
From: Charles Miller
To: axiom@tenkan.org
Date: Thu, 13 Jan 2005 08:27:37 +1100

Hi Tim,

I have acquired PC laptop (dell latitude d600) running dual boot
with Windows XP Pro (rarely) and Fedora Core 3 (most of the time).
My general intention is to help you bring magnus into a useable
atate since I think there is some useful stuff there that shouldn't
be lost.

.....[snip].....

I also tried to compile axiom - and gcl of course - but the gcl
part fails as follows (both 2.6.2 and 2.6.5):

gcc -c -Wall -DVOL=volatile -fsigned-char -pipe -O3 -fomit-frame-pointer
- -I/home/cfm/axiom-dev/axiom/lsp/gcl-2.6.5/o -I../h -I../gcl-tk sfasl.c
In file included from sfasl.c:40:
sfaslbfd.c: In function `fasload':
sfaslbfd.c:266: error: structure has no member named `_raw_size'
sfaslbfd.c:291: error: structure has no member named `_raw_size'
sfaslbfd.c:356: error: structure has no member named `_raw_size'
make[4]: *** [sfasl.o] Error 1
make[4]: Leaving directory `/home/cfm/axiom-dev/axiom/lsp/gcl-2.6.5/o'

I get the same error when I try to compile gcl separately.
The "_raw_size" should be "rawsize" according to the header files
but when I try to make this change to sfaslbfd.c and continue,
the original sfaslbfd.c gets restored by the tyrannical make process.

So I am mystified as to how one can get gcl and axiom to compile.

All help and suggestions welcome.

\start
Date: Wed, 12 Jan 2005 16:59:39 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [PrimeField] (new) 

http://mathworld.wolfram.com/FiniteField.html

$GF(p)$ is called the prime field of order $p$, and is the field of
residue classes modulo $p$, where the $p$ elements are denoted 0, 1,
..., . $a = b$ in $GF(p)$ means the same as $a \equiv b\ ({\bf mod}\
p)$. Note, however, that $2\times 2 \equiv 0\ ({\bf mod}\ 4)$ in the
ring of residues modulo 4, so 2 has no reciprocal, and the ring of
residues modulo 4 is distinct from the finite field with four
elements. Finite fields are therefore denoted $GF(p^n)$, instead of
$GF(k)$, where $k=p^n$, for clarity.

\start
Date: Wed, 12 Jan 2005 18:50:51 -0500
From: Tim Daly
To: Kostas Oikonomou
Subject: [Kostas Oikonomou: Re: Graphics in patch 23]

Actually this problem should be fixed in main--patch-24.

The segfault is caused by an attempt to close a closed file in hypertex.
Steve Wilson and Bob McElrath cornered the problem and fixed it.

You should be able to 

cd axiom--main--1--patch-23
tla update
export AXIOM=`pwd`/mnt/solaris9
export PATH=$AXIOM/bin:$PATH
make

and it should not need to rebuild the world. Of course, it never hurts
to build cleanly.

Let me know if you get it to work.

t

------- Start of forwarded message -------
Date: Wed, 12 Jan 2005 17:26:23 -0500
To: Tim Daly, Bill Page
Subject: Re: Graphics in patch 23
From: Kostas Oikonomou

On Wed, 12 Jan 2005 17:56:26 -0500, Tim Daly wrote:

> Kostas,
>
> main--patch-24 contains the graphics and browser integrated into
> the whole system. the upside is that, if it works, you'll find
> graphics "just works". the downside will be that it might not
> compile due to the include files.

Hmm, it seems to me that my patch 23 *did* compile, as I wrote to Bill.
But this is what happens with sman:

$ sman -debug -noclef -nonag -noht
sman:main entered
sman:process_options entered
sman:set_up_defaults entered
sman:set_up_defaults exit
sman:process_arguments entered
   sman -noclef -gr -nonag -noht -noiw -ihere -ihere -ws '$AXIOM/bin/AXIOMsys' -grprog '$AXIOM/lib/viewman' -nagprog '$AXIOM/lib/nagman' -htprog '$AXIOM/bin/hypertex -s' -clefprog '' -sessionprog '$AXIOM/lib/session' -clientprog '$AXIOM/lib/spadclient' -rm Segmentation Fault (core dumped)

Do you see any clues in this output?

I'm trying to decide how to go about getting graphics to work.
Are you saying there are changes in patch 24 that might make
graphics not compile at all?

\start
Date: Wed, 12 Jan 2005 22:55:12 -0500
From: Tim Daly
To: Ralf Hemmecke
Subject: Re: Axiom/Aldor

> > bft.h? or bfd?
> > 
> > what system are you running on?
> 
> fat_string.c:17:17: bfd.h: No such file or directory
> fat_string.c:18:21: bfdlink.h: No such file or directory
> fat_string.c:229: error: parse error before "bfd_combined_table_update"
> fat_string.c:229: error: parse error before "PTR"
> 
> uname -a
> Linux rose 2.4.25-1-386 #2 Wed Apr 14 19:38:08 EST 2004 i686 GNU/Linux
> It's Debian Sarge.

I'd have expected GCL to build on Debian with no problem since
that's Cammm's development environment.

try this:

make clean
edit lsp/Makefile.pamphlet
find the ./configure line and change the options to:

--enable-vssize=65536*2 --enable-locbfd --disable-dynsysbfd --disable-statsysbfd --enable-maxpage=128*1024

and see if that cures it.

\start
Date: Wed, 12 Jan 2005 22:37:31 -0500
From: Bill Page
To: Tim Daly, Stephen Wilson
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

Tim, Steve,

On Monday, January 10, 2005 9:48 PM Tim wrote:

> Steve wrote:
> >    SINT is missing a definition for `one?'.
> 
> The code was changed. It used to read:
> 
>   one?(x) == ONEP(x)$Lisp
> 
> It now reads:
> 
>   one?(x) == x = 1
> 

Tim, could you tell me how the domain vector for SINT
changes because of this change from a function that
is defined in terms of a $Lisp expression versus
one that is defined in the usual Axiom spad way? For
example, does a Lisp definition create and entry in
the domain vector at all? Or if it does, how does it
differ from a native spad function?

Steve's analysis seems clear to me that this change
in SINT is the origin of all (almost all?) the changes
that occur during the fixedPoint iteration.

It is likely, I think, that the <<SINT.lsp BOOTSTRAP>>=
code was generated by an Axiom system (from NAG) that
produced a different domain vector due to NAG's coding
of one?. When you change the spad code, Tim, you probably
did not (hand) change the old NAG lisp code.

If the change in the function definition does produce a
change in the domain vector, than it would appear that
this change propagates to files like BINFILE in the
initial build. (A comparison operator in BINFILE is
initially `<' but changes to `QSLESSP' during the
first iteration. The explanation would be that initially
the index into the domain vector from SINT that was
consulted during the initial compile of BINFILE, must
have been pointing at the wrong function. After the
SINT.spad file is compiled in the last step of the build,
this error is corrected. But in the mean time a change
has occurred in the code for BINFILE. It takes one more
iteration for the error to be corrected in BINFILE.

Does this make sense to you Tim? Does the domain
vector from a dependent object file cause the
generated lisp code to change in this way?

\start
Date: Wed, 12 Jan 2005 22:53:05 -0500
From: Kostas Oikonomou
To: Tim Daly
Subject: re: Graphics in patch 23]

On Wed, 12 Jan 2005 18:50:51 -0500, Tim Daly wrote:

> Actually this problem should be fixed in main--patch-24.
>
> The segfault is caused by an attempt to close a closed file in hypertex=
.
> Steve Wilson and Bob McElrath cornered the problem and fixed it.
>
> You should be able to
>
> cd axiom--main--1--patch-23
> tla update
> export AXIOM=`pwd`/mnt/solaris9
> export PATH=$AXIOM/bin:$PATH
> make
>
> and it should not need to rebuild the world. Of course, it never hurts
> to build cleanly.
>
> Let me know if you get it to work.

Ok, I updated and rebuilt (only what needed to be rebuilt).

The result is that I have hypertex, which appears to work.  At least I ca=
n run the "hypertex"
command, and I can browse, and the graphics work. (The mouse seems to be
over-accelerated, but that's a detail.)

However,

(1) I can't get hypertex to connect to the Axiom server.  I get:

(HyperDoc) Warning: Not connected to AXIOM Server!

I have AXIOM and PATH set correctly.

(2) If I run "axiom -ht -go" I get (I've done "set -x" at the top of the =
axiom script)
...
+ exec /home/build/axiom--main--1--patch-23/mnt/sol9gcc/bin/sman -ht -ws =
/home/build/axiom--main--1--patch-23/mnt/sol9gcc/bin/AXIOMsys
fork_Axiom: Failed to reopen server: No such file or directory
clef trying to get the initial terminal settings: Invalid argument

(3) The command "sman -debug -noclef -nonag -noht" still dumps core:

bash-2.05$ sman -debug -noclef -nonag -noht
   sman -noclef -gr -nonag -noht -noiw -ihere -ihere -ws '$AXIOM/bin/AXIO=
Msys' -grprog '$AXIOM/lib/viewman' -nagprog '$AXIOM/lib/nagman' -htprog '=
$AXIOM/bin/hypertex -s' -clefprog '' -sessionprog '$AXIOM/lib/session' -c=
lientprog '$AXIOM/lib/spadclient' -rm Segmentation Fault (core dumped)
bash-2.05$

\start
Date: Thu, 13 Jan 2005 00:08:32 -0500
From: Tim Daly
To: Kostas Oikonomou
Subject: Re: Graphics in patch 23]

Kostas,

Try the -noclef option. Methinks clef isn't working for you.

\start
Date: Thu, 13 Jan 2005 00:22:00 -0500
From: Tim Daly
To: Bill Page
Subject: re: algebra Makefiles with explicitdependencies, bootstrap, fixed-points etc.

Bill,

I think you hit upon a problem with SINT.
The way it propagates is that in order to compile a domain 
you need to load the domains it uses. You can see this when
you watch the loading messages during a compile.

In order to test one? from SINT the compiler will look at the
infovec for SINT and find the operation index. This will get
coded into the domain being compiled. The compiler will also
look on the property list for the operation to see if there
are any replacement items.

So SINT used to call ONEP from lisp in the bootstrap code which
is coded into the infovec as:
        (CONS IDENTITY (FUNCALL (|dispatchFunction| |SINT;One;$;11|) $))

I'll have to look deeper into this issue. Methinks you are 
on to something.

\start
Date: Thu, 13 Jan 2005 15:05:52 +1000
From: Mike Thomas
To: Bill Page
Subject: RE: [Gcl-devel] Axiom on Windows GCL problems

Hi Bill.

| I presume that you have been extraordinarily busy (as usual)
| but with other things since I haven't seen your email lately
| on the Axiom list. I hope you had a pleasant holiday season
| in spite of the work. :)

Thanks for the wishes and also to yourself!  I suspect I'm going to be a
distant cousin for a while longer I'm afraid.

| You are probably reading the axiom mailing lists anyway, so
| you know that things are progressing at a good pace

Yes.  At some stage (not this fortnight) I am going to have to compare
detailed setup notes with you as I failed miserably in setting up arch last
time.

...

| notice how the command line arguments to gcc are mangled
| because they contain spaces and are not properly escaped. If
| I copy the gcc command and insert delimiters as follows:
|
| gcc -c -g -Wall -DVOL=volatile -fsigned-char -pipe
| -fno-zero-initialized-in-bss -mms-bitfields -g -mcpu=i386
| -march=i386  -IC:/msys/1.0/home/bpage/axiom-build/mnt/windows/bin/../h
| -c -w "C:/Documents and Settings/bpage/My Documents/PPF.NRLIB/code.c"
| -o "C:/Documents and Settings/bpage/My Documents/PPF.NRLIB/code.o"
|
| and then paste it into a command window, gcc runs and produces
| a object file normally. So I know everything else is ok. And of
| course this also works if Axiom and GCL are installed in
| directories so that the paths do not contain spaces.
|
| --------
|
| So, I was wondering if you might be able to quickly point
| me in the right direction to fix this problem. I know that
| at some point GCL is going to convert so-called path
| expressions like #P"c:xxxx yyy zzz" into actual command line
| arguments. I think that what is happening is that this
| conversion is removing the "quotes" but that these should
| remain especially on the windows platform - but maybe under
| linux as well even though users much less frequently employ
| paths with spaces under linux.

It sounds like you have a more clear idea of what the Lisp code will be
doing than I, but here is where I believe that it all happens in GCL:

   1.  The starting point seems to be the call out to gcc in
"cmpnew/gcl_cmpmain.lsp" at the function "compiler-cc" which in turn calls
"compiler-command", at which point the command line is constructed.

   2.  That command line is executed by the function "safe-system" in the
same file.

   3.  If you need to look at the underlying C code used on Windows you may
need to look at "fix_filename()" in "o/mingfile.c" and other stuff in
"o/unixfsys.c".

   4.  The "system" function resides in "o/unixsys.c" and unfortunately I
believe it is a major trap regarding cross-Windows-version compatibility
specifically regarding quotation rules - not to mention Unix.  I've attached
an email from Simon Marlow to one of the GHC mailing lists which includes a
link on the topic.

I wish you well!

Mike Thomas.

------=_NextPart_000_0046_01C4F981.5FBBD820

From: Simon Marlow
To: Claus Reinke,
	Simon Peyton-Jones,
	<glasgow-haskell-users@haskell.org>
Subject: RE: Problem with ghc on Windows ME
Date: Fri, 30 Jan 2004 00:53:21 +1000
	charset="us-ascii"
	<mailto:glasgow-haskell-users-request@haskell.org?subject=unsubscribe>
	<mailto:glasgow-haskell-users-request@haskell.org?subject=subscribe>
	(UTC)FILETIME=[A22498F0:01C3E677]
	id i0TEn8NA015868

After Googling around a bit, I found this description of exactly how
Windows interprets command lines in the C runtime:

http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vccelng
/htm/progs_12.asp

As you can see, the rules are indeed very strange, but they are
invertible.  I think this code should do the trick:

translate :: String -> String
translate str = '"' : snd (foldr escape (True,"\"") str)
  where escape '"'  (_,     str) = (True,  '\\' : '"'  : str)
        escape '\\' (True,  str) = (True,  '\\' : '\\' : str)
        escape '\\' (False, str) = (False, '\\' : str)
        escape c    (_,     str) = (False, c : str)

Cheers,
	Simon

> -----Original Message-----
> From: glasgow-haskell-users-bounces@haskell.org 
> [mailto:glasgow-haskell-users-bounces@haskell.org] On Behalf 
> Of Simon Marlow
> Sent: 29 January 2004 11:31
> To: Claus Reinke; Simon Peyton-Jones; 
> glasgow-haskell-users@haskell.org
> Subject: RE: Problem with ghc on Windows ME
> 
>  
> > So does that mean functionality has been lost in the move from
> > ghc-6.0.1?
> 
> No, the behaviour is improved in 6.2 because we're now 
> careful to escape
> quotes before passing the command-line to the operating system.
> 
> I think confusion has arisen because Simon pointed out that there's no
> way, on Windows, to pass this sequence of characters as an 
> argument to a
> command:
>   
>    \"
> 
> This is not entirely true, I just discovered that the 
> sequence \\\" will
> turn into \".  But in general, the sequence \\ does not turn into \.
> Windows' command-line quoting rules are highly mysterious, to say the
> least.
> 
> So the patch I posted is not complete.  It looks like rawSystem should
> additionally translate \" as \\\".
> 
> > Because that (on win98) happily accepts such useful
> > contraptions as
> > 
> >     System.Cmd.rawSystem "\"c:\\silly 
> > space\\Vim\\vim62\\gvim.exe\" --servername GVIM --remote-send
> > \":echo \\\"hi \\\\\\\" there\\\"<cr>\"" >>= print
> 
> The idea is that you should pass to rawSystem *exactly* the 
> command and
> arguments you want to run, with no quoting except that required by the
> Haskell lexical syntax.  You'll notice that rawSystem now takes the
> command and list of arguments separately in 6.2.  The 
> implementation of
> rawSystem will attempt to compensate for the internal translation that
> Windows does on the command-line; on Unix no translation is necessary.
> So clients of rawSystem should be more portable, because they 
> don't have
> to know about quoting that happens under the hood.
> 
> Your example will probably work once it's reformulated for 
> 6.2's version
> of rawSystem, and once we fix rawSystem in light of the \\\" hack I
> discovered above.
> 
\start
Date: Thu, 13 Jan 2005 02:56:25 -0500
From: William Sit
To: Ralf Hemmecke,
Subject: re: [Aldor-l] RE: Axiom domains and Aldorreturntypes

William Sit wrote:

> --%PointedPrimeField
> )abbrev domain PPF PointedPrimeField
> PointedPrimeField(n:PositiveInteger):Cat==Dog where
>   Cat == FiniteFieldCategory with
>     foo:PositiveInteger->PrimeField(n)
>   Dog == PrimeField(n) add
>     foo(k)==k::Integer::PrimeField(n)
>
> After compiling, define in the interpreter
>
> g(n,k)==foo(k)$PPF(n)
>
> and it works (in Axiom)! (Do not declare the types for g because n is not
> defined).

I meant in the interpreter. Compiling g is still a problem in Axiom due to
signature limitation. At least this way, inlining a complicated function is
almost like a function call.


The idea is: Since in creating domains, we are in effect creating a function(the
domain constructor PPF is a function of sort, or functor) and the compiler can
take dependent types in its signature, structurally:
  PPF(n:PositiveInteger)==PrimeField(n) with foo
so it should be able to compile something like g by lifting it to the package
level.

So here is another way using package.

--%Foo
)abbrev package FOO Foo
Foo(n:PositiveInteger, k:PositiveInteger):T==C where
  T == with
       point:()->PrimeField(n)
  C == add
       point()==k::Integer::PrimeField(n)

After compiling, we can use

  point()$Foo(n,k)

in any computation in compiler code (and in interpreter). Still can't call this
g(n,k) unless you use a macro expansion:

g(n,k)==>point()$Foo(n,k)

\start
Date: Thu, 13 Jan 2005 10:22:22 +0100 (CET)
From: Fabio Stumbo
To: list
Subject: Minor bug during installation

Hi all.

First of all, let me thank everybody for the work you are doing.

I downloaded the latest version of axiom (but the following problem was 
there also with the previous version).
I compiled it correctly, even if with some "warning" every now and then.
When installing, I get:

---
[root@em243:/home/stumbo/tmp/axiom]# make install
78 installing Axiom in /usr/local/axiom
/bin/sh: line 1: /usr/local/axiom/mnt//bin/axiom: No such file or 
directory
make: *** [install] Error 1
---

If I create the directory:

---
[root@em243:/home/stumbo/tmp/axiom]# mkdir -p /usr/local/axiom/mnt/bin
---

then everything works fine:

---
[root@em243:/home/stumbo/tmp/axiom]# make install
78 installing Axiom in /usr/local/axiom
79 Axiom installation finished.

Please add /usr/local/axiom/mnt//bin to your PATH variable
Start Axiom with the command axiom
---

Nevertheless, the correct path to be added to PATH is
/usr/local/axiom/mnt/linux/bin

I end with a shell script axiom in the directory /usr/local/axiom/mnt/bin
which is useless (it seems to me).

I guess that this script should go in /usr/local/bin, and maybe it could 
be modified in such a way that it takes care of modifying the PATH upon 
its launching, so that there will not be any longer the need of a 
system-wide modification.

Anyway, the programm works!

Of course, I am talking about a linux installation. My distribution is a 
Mandrake 9.0 with kernel 2.4.26.

Best regards

Fabio Stumbo

PS: I am also wondering if there exists a syntax hilight file for vim to 
be used with *.input files.

\start
Date: Thu, 13 Jan 2005 11:30:28 +0200
From: Vladimir Bondarenko
To: list
Subject: Comments are wanted on for i in 1..1 repeat print(sin(i) :: Complex Float)

Hello all,

Is it possible to hear any comments on this stuff?

-> for i in 1..1 repeat print(i :: Complex Float)
   1.0

-> for i in 1..1 repeat print(1/i :: Complex Float)
   1.0

-> sin(1) :: Complex Float
   0.8414709848 0789650665

-> print(sin(1) :: Complex Float)
   0.8414709848 0789650665

   
-- Shouldn't one expect here the floats?


-> for i in 1..1 repeat print(sin(i) :: Complex Float)
   sin(1)

The same behavior with many other functions.

for i in 1..1 repeat print(sqrt(i) :: Complex Float)
for i in 1..1 repeat print(exp(i) :: Complex Float)
for i in 1..1 repeat print(log(i) :: Complex Float)
for i in 1..1 repeat print(atan(i) :: Complex Float)

While I cannot boast sweating over the docs too much,
even with my minimal Axiom expertise level, I'd still
rate this as a bug. If I am not right, why?

Much thanks for any help/hints in advance.
   
\start
Date: Thu, 13 Jan 2005 04:30:35 -0500
From: William Sit
To: Ralf Hemmecke,
Subject: re: [Aldor-l] RE: Axiom domains and Aldor return types

William Sit wrote:
> 
> --%Foo
> )abbrev package FOO Foo
> Foo(n:PositiveInteger, k:PositiveInteger):T==C where
>   T == with
>        point:()->PrimeField(n)
>   C == add
>        point()==k::Integer::PrimeField(n)
> 
> After compiling, we can use
> 
>   point()$Foo(n,k)
> 
> in any computation in compiler code (and in interpreter). Still can't call this
> g(n,k) unless you use a macro expansion:
> 
> g(n,k)==>point()$Foo(n,k)
> 

A better macro expansion is (not tested):

  bar ==> point()$Foo

Then you can actually pretend bar (or point()$Foo ) is a function! 

  bar(n+1, 7*k+5)

is expanded (by compiler) to

  point()$Foo(n+1, 7*k+5)

Can someone give an example where the *signature* of bar

  bar: (n: PositiveInteger, k: PositiveInteger) -> PrimeField(n)

is actually needed?

Bill: Thanks for putting up the DynamicFunctionDomains on mathaction. However, I
was not able to edit it (rather, when I preview or save, it says "cannot find
server" after some wait).

\start
Date: Thu, 13 Jan 2005 12:14:41 +0100
From: Martin Rubey
To: list, Tim Daly
Subject: hyperdoc

Dear Tim, *

quite some time I built axiom--main--1--patch-24, to enjoy hyperdoc. To my
great surprise, however, when clicking on browse, I cannot enter anything,
except with the middle button of my mouse (pasting).

I vaguely remember that this was not always the case, but I cannot be
certain. Any hint?

\start
Date: Thu, 13 Jan 2005 12:27:58 +0100
From: Martin Rubey
To: Vladimir Bondarenko
Subject: Re: Comments are wanted on for i in 1..1 repeat print(sin(i) :: Complex Float)

Dear Vladimir,

Vladimir Bondarenko writes:

 > -> for i in 1..1 repeat print(sin(i) :: Complex Float)
 >    sin(1)
 >
 > The same behavior with many other functions.
 > 
 > for i in 1..1 repeat print(sqrt(i) :: Complex Float)
 > for i in 1..1 repeat print(exp(i) :: Complex Float)
 > for i in 1..1 repeat print(log(i) :: Complex Float)
 > for i in 1..1 repeat print(atan(i) :: Complex Float)

I'd say that it's a bug. A workaround (not a fix...) is to say

for i in 1..1 repeat print(sqrt(i) @ Complex Float)

It is quite clear that Axioms behaviour will be the same for all operators
(defined in op.spad).

Tracing the call with

)set message bottom on

yields

for i in 1..3 repeat print((sin(i))::Complex Float)

 Function Selection for sin
      Arguments: PI 
   -> no appropriate sin found in PositiveInteger 
   -> no appropriate sin found in Integer 
   -> no appropriate sin found in PositiveInteger 
   -> no appropriate sin found in Integer 

 Modemaps from Associated Packages 
   no modemaps

 Remaining General Modemaps 
   [1] D -> D from D if D has TRIGCAT
   [2] FortranExpression(D1,D2,D3) -> FortranExpression(D1,D2,D3)
            from FortranExpression(D1,D2,D3)
            if D1: LIST SYMBOL and D2: LIST SYMBOL and D3 has FMTC
 
 [1]  signature:   EXPR INT -> EXPR INT
      implemented: slot $$ from EXPR INT
 
 Function Selection for print
      Arguments: COMPLEX FLOAT 
   -> no appropriate print found in Complex Float 
   -> no appropriate print found in Complex Float 

 Modemaps from Associated Packages 
   no modemaps

 Remaining General Modemaps 
   [1] OutputForm -> Void from PrintPackage
 
 [1]  signature:   OUTFORM -> VOID
      implemented: slot (Void)(OutputForm) from PRINT
 

   sin(1)
   sin(2)
   sin(3)
                                                                   Type: Void

which looks quite strange: Axiom is looking for a function print with argument
of type Complex Float, but the thing it prints is not of this type...

Martin

Please go ahead and send a report to IssueTracker and Savannah.

\start
Date: Thu, 13 Jan 2005 08:44:35 -0500
From: Kostas Oikonomou
To: Tim Daly
Subject: Re: Graphics in patch 23]

On Thu, 13 Jan 2005 00:08:32 -0500, Tim Daly wrote:

> Kostas,
>
> Try the -noclef option. Methinks clef isn't working for you.
>

I tried "axiom -ht -noclef -go", if that's what you meant, and got

fork_Axiom: Failed to reopen server: No such file or directory

\start
Date: Thu, 13 Jan 2005 09:34:41 -0500
From: William Sit
To: Vladimir Bondarenko, Martin Rubey, Tim Daly
Subject: Re: Comments are wanted on for i in 1..1repeatprint(sin(i) :: Complex Float)

Here print.out (sorry)

William
--------------75C524AE1059A89A6CB3DC03
 name="print.out"
 filename="print.out"


Starts dribbling to print.out (2005/1/14, 0:24:8).
(1) -> )comp print.spad
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/apply.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/c-doc.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/c-util.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/profile.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/category.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/compiler.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/define.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/functor.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/info.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/iterator.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/modemap.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/nruncomp.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/package.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/htcheck.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/xruncomp.
   Compiling AXIOM source code from file 
      j:/OpenAxiom/axiom/mnt/windows/lib/print.spad using old system 
      compiler.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/parsing.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/bootlex.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/def.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/fnewmeta.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/metalex.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/metameta.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/parse.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/postpar.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/postprop.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/preparse.
   PRINTEST abbreviates package Printest 
   processing macro definition EXPR ==> Expression 
   processing macro definition INT ==> Integer 
   processing macro definition CF ==> Complex Float 
------------------------------------------------------------------------
   initializing NRLIB PRINTEST for Printest 
   compiling into NRLIB PRINTEST 
   importing Expression Integer
   compiling exported foo : PositiveInteger -> Void
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FPS.o for category 
      FloatingPointSystem 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/RNS.o for category 
      RealNumberSystem 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FIELD.o for category 
      Field 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/EUCDOM.o for category
      EuclideanDomain 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/PID.o for category 
      PrincipalIdealDomain 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/GCDDOM.o for category
      GcdDomain 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/INTDOM.o for category
      IntegralDomain 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/COMRING.o for 
      category CommutativeRing 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/RING.o for category 
      Ring 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/RNG.o for category 
      Rng 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/ABELGRP.o for 
      category AbelianGroup 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/CABMON.o for category
      CancellationAbelianMonoid 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/ABELMON.o for 
      category AbelianMonoid 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/ABELSG.o for category
      AbelianSemiGroup 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/SETCAT.o for category
      SetCategory 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/BASTYPE.o for 
      category BasicType 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/KOERCE.o for category
      CoercibleTo 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/SGROUP.o for category
      SemiGroup 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/MONOID.o for category
      Monoid 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/LMODULE.o for 
      category LeftModule 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/BMODULE.o for 
      category BiModule 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/RMODULE.o for 
      category RightModule 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/ALGEBRA.o for 
      category Algebra 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/MODULE.o for category
      Module 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/ENTIRER.o for 
      category EntireRing 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/UFD.o for category 
      UniqueFactorizationDomain 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/DIVRING.o for 
      category DivisionRing 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/ORDRING.o for 
      category OrderedRing 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/OAGROUP.o for 
      category OrderedAbelianGroup 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/OCAMON.o for category
      OrderedCancellationAbelianMonoid 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/OAMON.o for category 
      OrderedAbelianMonoid 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/OASGP.o for category 
      OrderedAbelianSemiGroup 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/ORDSET.o for category
      OrderedSet 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/REAL.o for category 
      RealConstant 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/KONVERT.o for 
      category ConvertibleTo 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/RETRACT.o for 
      category RetractableTo 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/RADCAT.o for category
      RadicalCategory 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/PATMAB.o for category
      PatternMatchable 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/CHARZ.o for category 
      CharacteristicZero 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/COMPCAT.o for 
      category ComplexCategory 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/MONOGEN.o for 
      category MonogenicAlgebra 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FRAMALG.o for 
      category FramedAlgebra 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FINRALG.o for 
      category FiniteRankAlgebra 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/CHARNZ.o for category
      CharacteristicNonZero 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FRETRCT.o for 
      category FullyRetractableTo 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FLINEXP.o for 
      category FullyLinearlyExplicitRingOver 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/LINEXP.o for category
      LinearlyExplicitRingOver 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FINITE.o for category
      Finite 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/DIFEXT.o for category
      DifferentialExtension 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/DIFRING.o for 
      category DifferentialRing 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/PDRING.o for category
      PartialDifferentialRing 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FFIELDC.o for 
      category FiniteFieldCategory 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FPC.o for category 
      FieldOfPrimeCharacteristic 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/STEP.o for category 
      StepThrough 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FEVALAB.o for 
      category FullyEvalableOver 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/ELTAB.o for category 
      Eltable 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/EVALAB.o for category
      Evalable 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/IEVALAB.o for 
      category InnerEvalable 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FPATMAB.o for 
      category FullyPatternMatchable 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/TYPE.o for category 
      Type 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/PATAB.o for category 
      Patternable 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/TRANFUN.o for 
      category TranscendentalFunctionCategory 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/TRIGCAT.o for 
      category TrigonometricFunctionCategory 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/ATRIG.o for category 
      ArcTrigonometricFunctionCategory 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/HYPCAT.o for category
      HyperbolicFunctionCategory 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/AHYP.o for category 
      ArcHyperbolicFunctionCategory 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/ELEMFUN.o for 
      category ElementaryFunctionCategory 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/PFECAT.o for category
      PolynomialFactorizationExplicit 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/OM.o for category 
      OpenMath 
Time: 0.98 SEC.

(time taken in buildFunctor:  0)

;;;     ***       |Printest| REDEFINED

;;;     ***       |Printest| REDEFINED
Time: 0 SEC.


   Cumulative Statistics for Constructor Printest
      Time: 0.98 seconds
 
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/bc-matrix.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/bc-misc.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/bc-solve.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/bc-util.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/ht-util.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/htsetvar.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/ht-root.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/br-con.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/br-data.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/showimp.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/br-op1.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/br-op2.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/br-search.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/br-util.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/topics.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/br-prof.
   Loading J:/OpenAxiom/axiom/mnt/windows/autoload/br-saturn.
   finalizing NRLIB PRINTEST 
   Processing Printest for Browser database:
--->-->Printest((foo ((Void) (PositiveInteger)))): Not documented!!!!
--->-->Printest(constructor): Not documented!!!!
--->-->Printest(): Missing Description
Compiling j:/OpenAxiom/axiom/mnt/windows/lib/PRINTEST.NRLIB/code.lsp.
End of Pass 1.  
End of Pass 2.  
OPTIMIZE levels: Safety=0 (No runtime error checking), Space=0, Speed=3, (Debug quality ignored)
Finished compiling j:/OpenAxiom/axiom/mnt/windows/lib/PRINTEST.NRLIB/code.lsp.
------------------------------------------------------------------------
   Printest is now explicitly exposed in frame initial 
   Printest will be automatically loaded when needed from 
      /OpenAxiom/axiom/mnt/windows/lib/printest.NRLIB/code

(1) -> foo(3)
   Loading /OpenAxiom/axiom/mnt/windows/lib/printest.NRLIB/code for 
      package Printest 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FLOAT.o for domain 
      Float 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FPS-.o for domain 
      FloatingPointSystem& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/RNS-.o for domain 
      RealNumberSystem& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/COMPLEX.o for domain 
      Complex 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/EXPR.o for domain 
      Expression 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/KERNEL.o for domain 
      Kernel 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/BOP.o for domain 
      BasicOperator 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/SCACHE.o for package 
      SortedCache 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/VOID.o for domain 
      Void 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/UPMP.o for package 
      UnivariatePolynomialMultiplicationPackage 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/AN.o for domain 
      AlgebraicNumber 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/IAN.o for domain 
      InnerAlgebraicNumber 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/ACFS-.o for domain 
      AlgebraicallyClosedFunctionSpace& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FS-.o for domain 
      FunctionSpace& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/COMMONOP.o for 
      package CommonOperators 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/KDAGG-.o for domain 
      KeyedDictionary& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/DIAGG-.o for domain 
      Dictionary& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/BOP1.o for package 
      BasicOperatorFunctions1 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/ACF-.o for domain 
      AlgebraicallyClosedField& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/COMPCAT-.o for domain
      ComplexCategory& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/DFLOAT.o for domain 
      DoubleFloat 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/POLYCATQ.o for 
      package PolynomialCategoryQuotientFunctions 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/EF.o for package 
      ElementaryFunction 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/MONOGEN-.o for domain
      MonogenicAlgebra& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FRAMALG-.o for domain
      FramedAlgebra& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FINRALG-.o for domain
      FiniteRankAlgebra& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FEVALAB-.o for domain
      FullyEvalableOver& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FRETRCT-.o for domain
      FullyRetractableTo& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/TRANFUN-.o for domain
      TranscendentalFunctionCategory& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/BASTYPE-.o for domain
      BasicType& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/RADCAT-.o for domain 
      RadicalCategory& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/IROOT.o for package 
      IntegerRoots 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/ES-.o for domain 
      ExpressionSpace& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/UNISEG.o for domain 
      UniversalSegment 
   0.8414709848 0789650665
   0.9092974268 256816954
   0.1411200080 598672221 + 0.3388131789 0172013563 E -20 %i
                                                                   Type: Void
(2) -> print(sin(1)::Complex Float)
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/EVALAB-.o for domain 
      Evalable& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/IEVALAB-.o for domain
      InnerEvalable& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/TRIGCAT-.o for domain
      TrigonometricFunctionCategory& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/ATRIG-.o for domain 
      ArcTrigonometricFunctionCategory& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/HYPCAT-.o for domain 
      HyperbolicFunctionCategory& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/ELEMFUN-.o for domain
      ElementaryFunctionCategory& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/AF.o for package 
      AlgebraicFunction 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/POLYROOT.o for 
      package PolynomialRoots 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/INTFACT.o for package
      IntegerFactorizationPackage 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FACTFUNC.o for 
      package FactoredFunctions 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FSAGG-.o for domain 
      FiniteSetAggregate& 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FLASORT.o for package
      FiniteLinearAggregateSort 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/IDPOAMS.o for domain 
      IndexedDirectProductOrderedAbelianMonoidSup 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/IDPOAM.o for domain 
      IndexedDirectProductOrderedAbelianMonoid 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/PGCD.o for package 
      PolynomialGcdPackage 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/NUMERIC.o for package
      Numeric 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/EXPR2.o for package 
      ExpressionFunctions2 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/FS2.o for package 
      FunctionSpaceFunctions2 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/POLYLIFT.o for 
      package PolynomialCategoryLifting 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/ES2.o for package 
      ExpressionSpaceFunctions2 
   Loading j:/OpenAxiom/axiom/mnt/windows/algebra/PRINT.o for package 
      PrintPackage 
   0.8414709848 0789650665
                                                                   Type: Void
(3) -> for i in 1..1 repeat print(sin(i)::Complex Float)
   sin(1)
                                                                   Type: Void
(4) -> for i in 1..1 repeat print(a:=sin(i)::Complex Float)
   0.8414709848 0789650665
                                                                   Type: Void
(5) -> )spool

\start
Date: Thu, 13 Jan 2005 15:20:17 +0100
From: Martin Rubey
To: Martin Rubey
Subject: Re: hyperdoc

Dear Tim,

I just found out. It depends on the setting of num-lock ! (serious!)

If num-lock is on, it does not work, otherwise it does... At least this
explains why it suddenly stopped working.

Martin

BTW, just an idea: wouldn't it be sensible if possible to convert the hypertex
pages to texinfo? This is a rather standard format, and it would work within
emacs. I only don't know whether a texinfo page can talk to Axiom...

Martin

Martin Rubey writes:
 > Dear Tim, *
 > 
 > quite some time I built axiom--main--1--patch-24, to enjoy hyperdoc. To my
 > great surprise, however, when clicking on browse, I cannot enter anything,
 > except with the middle button of my mouse (pasting).
 > 
 > I vaguely remember that this was not always the case, but I cannot be
 > certain. Any hint?
 > 

\start
Date: Thu, 13 Jan 2005 09:47:58 -0500
From: William Sit
To: Bill Page
Subject: Windows space in directory/file names

Hi Bill:

Thanks. I fixed the path and compiling problem by:
(1) move the entire axiom directory to a different one j:\openaxiom\axiom
from j:\Program Files\axiom
(2) remove my old rm.exe from the h:\dostools directory (which is in the path)
(3) change environmental variable AXIOM to reflect the change and the same for
the path for the desktop icon
(4) add the directory for cygwin\bin which contains a more modern version of
rm.exe to the path. Somehow, my mingw\bin does not have rm.exe.

Regarding spaces in directories or files, in URL's they use %20 (20h is ascii
for space). Can something like that be done for files and directories? I admit
that is ugly though. 

William
---

"Page, Bill" wrote:

> > But I have trouble with path in windows:
> >    Processing PointedPrimeField for Browser database:
> > --->-->PointedPrimeField((foo ((PrimeField n)
> > (PositiveInteger)))): Not documented!!!!
> > --->-->PointedPrimeField(constructor): Not documented!!!!
> > --->-->PointedPrimeField(): Missing Description
> > h:/dostools/rm.exe: j:/program: No such file or directory
> > h:/dostools/rm.exe:
> > j:/progra~1/axiom/mnt/windows/lib/files/axiom/mnt/windows/li
> > b/ppf.nrlib: No such file or directory
> >
> >    >> System error:
> >    Cannot rename the file #P"j:/Program
> > Files/axiom/mnt/windows/lib/PPF.erlib" t
> > o #P"j:/Program Files/axiom/mnt/windows/lib/PPF.NRLIB".
> >
> > protected-symbol-warn called with (NIL)
> >
> > But that is just because "Program Files" need be in quotes?
> >
> 
> Yes, this is a bug in the Windows version of Axiom caused
> by the fact that the Axiom code expects to be able to run
> unix system commands like `rm' (which means delete file).
> In this case it is calling a program called rm.exe that
> was previously installed on your system in a directory
> called `dostools'. This is non-standard for Windows -
> usually there is no rm.exe file anywhere unless you have
> installed some other package that contains it. Like you
> said, this would be ok if the location of Axiom was in
> a Path that did not contain any spaces.
> 
> I will be updating the Axiom for Windows distribute soon to
> eliminate this and a few other similar problems by recoding
> everything in lisp. Right now the only work-around is to
> re-install Axiom for Windows in a location that does not
> have any spaces in the Path.

\start
Date: Thu, 13 Jan 2005 09:30:26 -0500
From: William Sit
To: Vladimir Bondarenko
Subject: Re: Comments are wanted on for i in 1..1 

Vladimir Bondarenko wrote:
> -> for i in 1..1 repeat print(sin(i) :: Complex Float)
>    sin(1)

Hmm, we need to understand this a bit more:

for i in 1..1 repeat print(a:=sin(i)::Complex Float)
for i in 1..1 repeat print(a:=(sin(i)::Complex Float))

all give

0.8414709848 0789650665

At least that is a work-around.

But 

for i in 1..1 repeat print((a:=sin(i))::Complex Float)

sin(1)

for i in 1..1 repeat (a:=sin(i); print(a::Complex Float))

sin(1)

print is from PrintPackage, which calls
print from OutputForm, which calls
mathprint$Lisp

but the problem lies in print inside a loop (any type, not just a for-loop). The
problem seems to be an interpreter problem in parsing. This is confirmed partly
by the following transcript.  When trying to code this as a package for the
compiler, it is not easy to figure out the sequence of functions to use to
coerce  sin(i) from EXPR INT to Complex Float. I finally found one way, but it
may not be what the interpreter is doing:

--%Printest
)abbrev package PRINTEST Printest
Printest: T==C where
  EXPR ==> Expression
  INT  ==> Integer
  CF   ==> Complex Float
  T == with
       foo:PositiveInteger->Void
  C == add
       import EXPR INT
       foo(k)==
         for i in 1..k repeat 
           a:=sin(i::INT::Float::CF::EXPR CF)$(EXPR CF)
           print(retract(a)$(EXPR CF)@CF::OutputForm)

Of course it makes no difference whether a:= is eliminated or not. And this
works correctly. So my tentative conclusion is that the interpreter is "lazy" in
(1) to try to figure out this rather involved coercion sequence (Hey, I got it
to EXPR INT and I have no idea how to go further to Complex Float, I think it is
good enough ...:-), but in (2), it is somehow forced to work harder (Now you
want to save the result and I have to type the variable a, ok, ...). Is it a
bug? Don't know. There are limitations to the interpreter.

Tim: Do you know if there is a system limitation on the level of coercion the
interpreter will try before quitting? Can this be reset?

This example shows why a large percent of time (my low estimate is 70% and my
high is 90%) writing compiled code is spent on coercion. 

Now, there is still the question: why does this happen only inside a loop?
Can one tell more from the way the libraries are loaded (see attached
print.out)? Notice in print.out, even after foo(3) is executed, (2) still needs
to load another bunch of libraries. Why?


William
----
Start with a fresh session:
Note that neither Float nor Complex is loaded in (1), only in (2). More
surprisingly, UniversalSegment is also not loaded in (1). (it does not matter if
the segment is 1..1 or 1..3).


                        AXIOM Computer Algebra System
              Version of Tuesday November 30, 2004 at 21:11:14
-----------------------------------------------------------------------------
   Issue )copyright to view copyright notices.
   Issue )summary for a summary of useful system commands.
   Issue )quit to leave AXIOM and return to shell.
-----------------------------------------------------------------------------

(1) -> for i in 1..3 repeat print(sin(i)::Complex Float)
   Loading j:/Program Files/axiom/mnt/windows/algebra/EXPR.o for domain
      Expression
   Loading j:/Program Files/axiom/mnt/windows/algebra/KERNEL.o for
      domain Kernel
   Loading j:/Program Files/axiom/mnt/windows/algebra/BOP.o for domain
      BasicOperator
   Loading j:/Program Files/axiom/mnt/windows/algebra/SCACHE.o for
      package SortedCache
   Loading j:/Program Files/axiom/mnt/windows/algebra/VOID.o for domain
      Void
   Loading j:/Program Files/axiom/mnt/windows/algebra/UPMP.o for
      package UnivariatePolynomialMultiplicationPackage
   Loading j:/Program Files/axiom/mnt/windows/algebra/AN.o for domain
      AlgebraicNumber
   Loading j:/Program Files/axiom/mnt/windows/algebra/IAN.o for domain
      InnerAlgebraicNumber
   Loading j:/Program Files/axiom/mnt/windows/algebra/ACFS-.o for
      domain AlgebraicallyClosedFunctionSpace&
   Loading j:/Program Files/axiom/mnt/windows/algebra/FS-.o for domain
      FunctionSpace&
   Loading j:/Program Files/axiom/mnt/windows/algebra/COMMONOP.o for
      package CommonOperators
   Loading j:/Program Files/axiom/mnt/windows/algebra/KDAGG-.o for
      domain KeyedDictionary&
   Loading j:/Program Files/axiom/mnt/windows/algebra/DIAGG-.o for
      domain Dictionary&
   Loading j:/Program Files/axiom/mnt/windows/algebra/BOP1.o for
      package BasicOperatorFunctions1
   Loading j:/Program Files/axiom/mnt/windows/algebra/PRINT.o for
      package PrintPackage
   Loading j:/Program Files/axiom/mnt/windows/algebra/EF.o for package
      ElementaryFunction
   Loading j:/Program Files/axiom/mnt/windows/algebra/ACF-.o for domain
      AlgebraicallyClosedField&
   Loading j:/Program Files/axiom/mnt/windows/algebra/ES-.o for domain
      ExpressionSpace&
   Loading j:/Program Files/axiom/mnt/windows/algebra/BASTYPE-.o for
      domain BasicType&
   Loading j:/Program Files/axiom/mnt/windows/algebra/FRETRCT-.o for
      domain FullyRetractableTo&
   Loading j:/Program Files/axiom/mnt/windows/algebra/EVALAB-.o for
      domain Evalable&
   Loading j:/Program Files/axiom/mnt/windows/algebra/TRANFUN-.o for
      domain TranscendentalFunctionCategory&
   Loading j:/Program Files/axiom/mnt/windows/algebra/IEVALAB-.o for
      domain InnerEvalable&
   Loading j:/Program Files/axiom/mnt/windows/algebra/TRIGCAT-.o for
      domain TrigonometricFunctionCategory&
   Loading j:/Program Files/axiom/mnt/windows/algebra/ATRIG-.o for
      domain ArcTrigonometricFunctionCategory&
   Loading j:/Program Files/axiom/mnt/windows/algebra/HYPCAT-.o for
      domain HyperbolicFunctionCategory&
   Loading j:/Program Files/axiom/mnt/windows/algebra/ELEMFUN-.o for
      domain ElementaryFunctionCategory&
   Loading j:/Program Files/axiom/mnt/windows/algebra/RADCAT-.o for
      domain RadicalCategory&
   Loading j:/Program Files/axiom/mnt/windows/algebra/AF.o for package
      AlgebraicFunction
   Loading j:/Program Files/axiom/mnt/windows/algebra/POLYROOT.o for
      package PolynomialRoots
   Loading j:/Program Files/axiom/mnt/windows/algebra/INTFACT.o for
      package IntegerFactorizationPackage
   Loading j:/Program Files/axiom/mnt/windows/algebra/IROOT.o for
      package IntegerRoots
   Loading j:/Program Files/axiom/mnt/windows/algebra/FACTFUNC.o for
      package FactoredFunctions
   Loading j:/Program Files/axiom/mnt/windows/algebra/POLYCATQ.o for
      package PolynomialCategoryQuotientFunctions
   Loading j:/Program Files/axiom/mnt/windows/algebra/FSAGG-.o for
      domain FiniteSetAggregate&
   Loading j:/Program Files/axiom/mnt/windows/algebra/FLASORT.o for
      package FiniteLinearAggregateSort
   Loading j:/Program Files/axiom/mnt/windows/algebra/IDPOAMS.o for
      domain IndexedDirectProductOrderedAbelianMonoidSup
   Loading j:/Program Files/axiom/mnt/windows/algebra/IDPOAM.o for
      domain IndexedDirectProductOrderedAbelianMonoid
   Loading j:/Program Files/axiom/mnt/windows/algebra/PGCD.o for
      package PolynomialGcdPackage
   sin(1)
   sin(2)
   sin(3)
                                                                   Type: Void
(2) -> for i in 1..3 repeat print(a:=sin(i)::Complex Float)
   Loading j:/Program Files/axiom/mnt/windows/algebra/FLOAT.o for
      domain Float
   Loading j:/Program Files/axiom/mnt/windows/algebra/COMPLEX.o for
      domain Complex
   Loading j:/Program Files/axiom/mnt/windows/algebra/COMPCAT-.o for
      domain ComplexCategory&
   Loading j:/Program Files/axiom/mnt/windows/algebra/FPS-.o for domain
      FloatingPointSystem&
   Loading j:/Program Files/axiom/mnt/windows/algebra/RNS-.o for domain
      RealNumberSystem&
   Loading j:/Program Files/axiom/mnt/windows/algebra/DFLOAT.o for
      domain DoubleFloat
   Loading j:/Program Files/axiom/mnt/windows/algebra/NUMERIC.o for
      package Numeric
   Loading j:/Program Files/axiom/mnt/windows/algebra/EXPR2.o for
      package ExpressionFunctions2
   Loading j:/Program Files/axiom/mnt/windows/algebra/FS2.o for package
      FunctionSpaceFunctions2
   Loading j:/Program Files/axiom/mnt/windows/algebra/POLYLIFT.o for
      package PolynomialCategoryLifting
   Loading j:/Program Files/axiom/mnt/windows/algebra/ES2.o for package
      ExpressionSpaceFunctions2
   Loading j:/Program Files/axiom/mnt/windows/algebra/MONOGEN-.o for
      domain MonogenicAlgebra&
   Loading j:/Program Files/axiom/mnt/windows/algebra/FRAMALG-.o for
      domain FramedAlgebra&
   Loading j:/Program Files/axiom/mnt/windows/algebra/FINRALG-.o for
      domain FiniteRankAlgebra&
   Loading j:/Program Files/axiom/mnt/windows/algebra/FEVALAB-.o for
      domain FullyEvalableOver&
   Loading j:/Program Files/axiom/mnt/windows/algebra/UNISEG.o for
      domain UniversalSegment
   0.8414709848 0789650665
   0.9092974268 256816954
   0.1411200080 598672221 + 0.3388131789 0172013563 E -20 %i
                                                                   Type: Void
(3) ->

\start
Date: 13 Jan 2005 09:20:07 -0500
From: Camm Maguire
To: Tim Daly
Cc: Charles Miller
Subject: Re: [Gcl-devel] [Charles Miller: magnus and axiom questions]

Greetings!  I have access to a testing machine which used to run FC2
and now appears to be upgraded to FC3.  How do I tell for sure?  (just
looked at the uname -a string).  If this is a good test box, will
proceed to certify GCL on FC3 or fix it.

Take care, 

Tim Daly writes:

> Has anyone gotten GCL to run on Fedora Core 3?
> 
> Tim
> 
> From: Charles Miller
> Subject: magnus and axiom questions
> To: axiom@tenkan.org
> Date: Thu, 13 Jan 2005 08:27:37 +1100
> 
> Hi Tim,
> 
> I have acquired PC laptop (dell latitude d600) running dual boot
> with Windows XP Pro (rarely) and Fedora Core 3 (most of the time).
> My general intention is to help you bring magnus into a useable
> atate since I think there is some useful stuff there that shouldn't
> be lost.
> 
> .....[snip].....
> 
> I also tried to compile axiom - and gcl of course - but the gcl
> part fails as follows (both 2.6.2 and 2.6.5):
> 
> gcc -c -Wall -DVOL=volatile -fsigned-char -pipe -O3 -fomit-frame-pointer
> - -I/home/cfm/axiom-dev/axiom/lsp/gcl-2.6.5/o -I../h -I../gcl-tk sfasl.c
> In file included from sfasl.c:40:
> sfaslbfd.c: In function `fasload':
> sfaslbfd.c:266: error: structure has no member named `_raw_size'
> sfaslbfd.c:291: error: structure has no member named `_raw_size'
> sfaslbfd.c:356: error: structure has no member named `_raw_size'
> make[4]: *** [sfasl.o] Error 1
> make[4]: Leaving directory `/home/cfm/axiom-dev/axiom/lsp/gcl-2.6.5/o'
> 
> I get the same error when I try to compile gcl separately.
> The "_raw_size" should be "rawsize" according to the header files
> but when I try to make this change to sfaslbfd.c and continue,
> the original sfaslbfd.c gets restored by the tyrannical make process.
> 
> So I am mystified as to how one can get gcl and axiom to compile.
> 
> All help and suggestions welcome.

\start
Date: 13 Jan 2005 09:30:42 -0500
From: Camm Maguire
To: Bill Page
Subject: Re: [Gcl-devel] Axiom on Windows GCL problems
Cc: Mike Thomas

Greetings!

Could you please try this:

--- /usr/lib/gcl-2.6.5/cmpnew/gcl_cmpmain.lsp	2004-09-03 17:48:54.000000000 +0000
+++ cmpnew/gcl_cmpmain.lsp	2005-01-13 14:29:32.000000000 +0000
@@ -547,7 +547,7 @@
     (setq na  (namestring
 	       (make-pathname :name name :type (pathname-type(first args)))))
    #+(or dos winnt)
-      (format nil "~a -I~a ~a ~a -c -w ~a -o ~a"
+      (format nil "~a -I~a ~a ~a -c -w '~a' -o '~a'"
 	      *cc*
 	      (concatenate 'string si::*system-directory* "../h")
 	      (if (and (boundp '*c-debug*) *c-debug*) " -g " "")


Take care,

Bill Page writes:

> Mike,
> 
> I presume that you have been extraordinarily busy (as usual)
> but with other things since I haven't seen your email lately
> on the Axiom list. I hope you had a pleasant holiday season
> in spite of the work. :)
> 
> You are probably reading the axiom mailing lists anyway, so
> you know that things are progressing at a good pace - thanks
> in part to your breaking of the GCL barrier for Axiom on
> Windows!
> 
> Speaking of which ...
> 
> I noticed today that there is a significant problem with
> compiling spad code under windows relating to the use of
> default paths that include spaces. I think (but I am not
> absolutely sure) that this problem actually exists at the
> GCL level.
> 
> In Axiom on windows, when run from a desktop icon (significant
> because Axiom behaves much better when run from inside the
> MSYS development environment that simulates some unix tools
> functionality), I get the following result in response to a
> compile command, e.g.
> 
>   )compile PPF.spad
> 
> ...
>   Axiom compiler messages: (omitted)
> ...
>   GCL lisp compile messages (I think):
> 
> Compiling C:/Documents and Settings/bpage/My Documents/PPF.NRLIB/code.lsp.
> End of Pass 1.
> End of Pass 2.
> gcc: C:/Documents: No such file or directory
> gcc: and: No such file or directory
> gcc: Settings/bpage/My: No such file or directory
> gcc: Documents/PPF.NRLIB/code.c: No such file or directory
> gcc: and: No such file or directory
> gcc: Settings/bpage/My: No such file or directory
> gcc: Documents/PPF.NRLIB/code.o: No such file or directory
> gcc: no input files
> 
>    >> System error:
>    (SYSTEM "gcc -c -g -Wall -DVOL=volatile -fsigned-char -pipe
> -fno-zero-initialized-in-bss -mms-bitfields -g -mcpu=i386
> -march=i386  -IC:/msys/1.0/home/bpage/axiom-build/mnt/windows/bin/../h
> -c -w C:/Documents and Settings/bpage/My Documents/PPF.NRLIB/code.c
> -o C:/Documents and Settings/bpage/My Documents/PPF.NRLIB/code.o")
> returned a non-zero value 1.
> 
> -------
> 
> notice how the command line arguments to gcc are mangled
> because they contain spaces and are not properly escaped. If
> I copy the gcc command and insert delimiters as follows:
> 
> gcc -c -g -Wall -DVOL=volatile -fsigned-char -pipe
> -fno-zero-initialized-in-bss -mms-bitfields -g -mcpu=i386
> -march=i386  -IC:/msys/1.0/home/bpage/axiom-build/mnt/windows/bin/../h
> -c -w "C:/Documents and Settings/bpage/My Documents/PPF.NRLIB/code.c"
> -o "C:/Documents and Settings/bpage/My Documents/PPF.NRLIB/code.o"
> 
> and then paste it into a command window, gcc runs and produces
> a object file normally. So I know everything else is ok. And of
> course this also works if Axiom and GCL are installed in
> directories so that the paths do not contain spaces.
> 
> --------
> 
> So, I was wondering if you might be able to quickly point
> me in the right direction to fix this problem. I know that
> at some point GCL is going to convert so-called path
> expressions like #P"c:xxxx yyy zzz" into actual command line
> arguments. I think that what is happening is that this
> conversion is removing the "quotes" but that these should
> remain especially on the windows platform - but maybe under
> linux as well even though users much less frequently employ
> paths with spaces under linux.

\start
Date: Thu, 13 Jan 2005 16:13:50 +0100
From: Martin Rubey
To: William Sit
Subject: re: [Aldor-l] RE: Axiom domains and Aldor return types
Cc: Marcus Better, Ralf Hemmecke

William Sit writes:

 > The idea is: Since in creating domains, we are in effect creating a
 > function(the domain constructor PPF is a function of sort, or functor) and
 > the compiler can take dependent types in its signature, structurally:

 >   PPF(n:PositiveInteger)==PrimeField(n) with foo

 > so it should be able to compile something like g by lifting it to the
 > package level.
 > 
 > So here is another way using package.
 > 
 > )abbrev package FOO Foo
 > Foo(n:PositiveInteger, k:PositiveInteger):T==C where
 >   T == with
 >        point:()->PrimeField(n)
 >   C == add
 >        point()==k::Integer::PrimeField(n)
 > 
 > After compiling, we can use
 > 
 >   point()$Foo(n,k)
 
Yes, this is the "good" way. Marcus, maybe you want to try this? In fact, the
signatures of the functions in a package may depend in complicated ways of the
parameters of the package. I posted the following example to axiom-math
recently:

)abbrev domain BAR Bar
Bar(p:Integer): Exports == Implementation where
  Exports == Join(FiniteFieldCategory,FiniteAlgebraicExtensionField($),_
    ConvertibleTo(Integer))

  Implementation == InnerPrimeField(nextPrime(p)$IntegerPrimesPackage(Integer)_ 
                                    pretend PositiveInteger)

William: Marcus has an excellent example where things like this are needed: He
wants to define a function as follows:

> I am trying to do the following, which is a common procedure when dealing
> with Artin-Schreier extensions:
> 
> 1. Input is a Laurent series f with coefficients in a field K of
> characteristic p>0. If f satisfies one of the following conditions:
> A.  f has no terms with negative order, or
> B.  the leading term of f is of order -m where m>0, and m is not 
>     divisible by p,
> then stop and return f.
> 
> 2. Otherwise we can find a p-th root of the leading coefficient of f in a
> suitable extension field L of K, and hence a monomial w such that f + w^p - w
> has a pole of smaller order than f.
> 
> 3. Replace f by f+w^p-w and K by L, and go back to 1.
> 
> So I am trying to do a sequence of field extensions of K.
> 
> The result will be a Laurent series over one of these repeated extensions,
> which I would like to return.

\start
Date: 13 Jan 2005 16:40:44 +0100
From: Tim Daly Jr
To: William Sit
Subject: Re: Windows space in directory/file names

William Sit writes:

...
> 
> Regarding spaces in directories or files, in URL's they use %20 (20h
> is ascii for space). Can something like that be done for files and
> directories? I admit that is ugly though.
> 
> William

The windows sdk function GetShortPathName() will give you the standard
8.3 path that corresponds to a long path.  I don't know if the 'short
path' is explicitly not allowed to contain spaces, but it usually
won't.  In my MinGW environment, I use a little utility I wrote for
shortening paths based on this function.  If you say 

    shortpath c:/program files/

it says

    c:/PROGA~1/

Those paths can be used interchangeably, so you can just have programs
that don't understand spaces in paths use the latter.  I've attached
the utility.  gcc shouldn't need any special flags to compile it in
MinGW.  Maybe you guys can cannibalize it for axiom.


--=-=-=

#include <stdio.h>
#include <windows.h>

#define BUFLEN 10000

int printShortPath(const char *longPath);

int main(int argc, char **argv) {
  if (argc < 2) {
    fprintf(stderr, "Not enough arguments.\n");
    return 1;
  }

  {
    /* join each argument using spaces into a single long path */
    char *longPath = (char *)malloc(BUFLEN);
    int i, j, k;

    k = 0;
    for (i = 1; i < argc; i++) {
      if (i > 1) {
	longPath[k++] = ' ';
      }
      for (j = 0; 
	   k < (BUFLEN - 1) && argv[i][j]; 
	   longPath[k++] = argv[i][j++]);
    }
    longPath[k] = '\0';

  /* for a program, returning 0 means a success, and 1 (or any
     non-zero value, I guess) means failure.  Seems to be opposite for
     GetShortPathName() */
    if (printShortPath(longPath)) {
      return 0; 
    } else {
      return 1;
    }
  }
}



int printShortPath(const char *longPath) {
  char *shortPath = (char *)malloc(BUFLEN);
  long len = BUFLEN, type, retval;

  retval = GetShortPathName(longPath, shortPath, len);
  if (retval) {
    printf("%s\n", shortPath);
  } else {
    fprintf(stderr, "Error shortening path.\n"); 
  }
  free(shortPath);
  return retval;
}

\start
Date: Thu, 13 Jan 2005 16:50:18 +0100
From: Martin Rubey
To: Bill Page
Subject: RE: Axiom domains and Aldor return types

Dear Bill,

Page, Bill writes:
 
 > > > Can you explain again why you don't find the usual Axiom solution to
 > > > this situation acceptible? I.e. the use of the `Any' domain:
 > > > 
 > > >  f:PositiveInteger->Any
 > > >  f(n) == n::PrimeField(n)
 > > 
 > > Because you cannot use it in compiled code and because you are using all
 > > of the type information, which is the main point of Axiom.
 > 
 > But as you said, `Any' is used extensively in expr2ups.spad.

Yes. And it is rather tricky to use the functions defined there in compiled
code...

\start
Date: Thu, 13 Jan 2005 09:46:43 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [AxiomDocumentation] 

This information was last updated on Oct 24, 2004 
 

This TODO list represents abbreviated notes to categorize the work directions
and note progress (completed items have a - prefix). Items are expanded as
the work thread moves into that subject. There is no priority and no schedule.
The ratio is (# of completed task per section)/(total completed tasks) and
is a measure of the ratio of effort between areas. Completed tasks are marked
with a - in column 1 (+ indicates changes since last update)

There are approximately 285 tasks listed. These tasks are broken into the
following groups:

 Pristine sources is the main thread of developing Axiom
 Splits are pieces of work to give away
 Joins are pieces of work to incorporate or cooperate with
 New Development is a list of ideas for new directions or needed work
 Research is a list of ideas that need investigation
 Community is a list of supporting tasks for the algebra community

**************************************************************************
PRISTINE SOURCES (22/108)
 Motivation: create a new source tree and slowly migrate original NAG/IBM
             sources into the tree. This will ensure that only things that
             are properly required, used and tested get shipped. Further
             ensure that everything exists under make/cvs control.
- create top level directories
- create top level makefile
- build src
-  build lisp
-   hand build lisp
-   integrate into makefile
+    /spad/lsp/gcl/h/386-linux.defs has EXTRAS code that refs ${OBJ}/${SYS}
+    this code needs to be compiled before the gcl image is linked
+    this code needs to be compiled for specific systems
+    split the gcl changes out as patches to apply to the zip file
-   rebuild automatically
-    integrate the unzip
-    integrate the patching
-    automate the build
-  build bootsys
-   hand build bootsys
-  integrate into makefile
-   rebuild automatically
-   rewrite into pamphlets 
-  build depsys
-   hand build depsys
-   integrate into makefile
+   rebuild automatically
+   rewrite into pamphlets
+  build interpsys
+   hand build interpsys
+     fix bicase issue
+     fix missing symbols in runtime issue
+   integrate into makefile
+   rebuild automatically
+   rewrite into pamphlets
+  build algebra
+   hand build interpsys
+   integrate into makefile
+   rebuild automatically
+   rewrite into pamphlets
+  build tests 
+   hand build tests
+   integrate into makefile
+   rebuild automatically
+   rewrite into pamphlets
+  destroy and rebuild automatically
-  build CVS
+  import /spad
+ investigate automake
- obtain license
+ move to Savannah
+ develop compile farm
  expand configure
  port to MAC OSX
+ recover graphics
  recover sman
  recover hyperdoc
  recover numerics
  recover regression testing
  port to Windows
  port to MAC

**************************************************************************
SPLITS (2/108)
 Motivation: several pieces of the system have nothing to do with algebra
             and either have old technology that needs to be rewritten or
             common technology that ought to be contributed to other efforts.

 HYPERTEX->BROWSER/TEX
  Motivation: hypertex was pre-browser technology. It should be rewritten
              to fit into today's technology. At least HTML, possibly XML.
+ This work has forked into two paths. The first path is to recreate the
+ browser from the hypertex sources. The second path is to rebuild the
+ whole effort into a standard browser-based tool. Ultimately this will
+ probably get merged with the Doyen science platform effort based on
+ Bill Page's wiki work.
  Recreate Hypertex
  Create standard browser
    create standalone wiki version
    merge into Doyen

 ASQ->JAVADOC/DOC++
  Motivation: asq is pre-javadoc. It should be rewritten to fit into the
              browser/tex new world of docs
+ The ASQ tool needs to get redone so that standard html pages get built
+ during system build and made available. They should have a javadoc-like
+ look and feel.
  Create ASQ-HTML page generator

 PLOT->GNUPLOT
  Motivation: plot has nothing to do with algebra but has some nice features
              such as data feedback from graph manipulation. These facilities
              should be moved to Gnuplot and the plot function retargetted.
+ The graphics have been rebuilt and currently work. The graphics can only
+ be run from a file at the moment because the connecting process, called
+ sman, which manages all of the axiom processes is not yet working again.
  Rebuild sman
  Connect sman to graphics
  Connect graphics to gnuplot

 READ-EVAL-PRINT->TeXmacs
  Motivation: the time has come for 2d input. TeXmacs provides this. There
              needs to be a much tighter integration of TeXmacs and Axiom.
   Connect to TeXmacs community
-  Build TeXmacs on Linux
-  Build TexMacs on Cygwin
   Build TexMacs on Windows
+  The 2D I/O direction has changed. The current plan is to use Bill Page's
+  wiki mechanism as a universal front-end to Axiom.
+  Call Axiom from Wiki page

 AXIOM I/O->COMMON SYNTAX
  Motivation: Rosetta should not exist. Algebra syntax should standardize.
              Existing committee work needs feedback from Axiom.

 AXIOM TEST SUITE->COMMON TEST SUITE
  Motivation: Algebra needs a hand-verified test suite which ought to be
              shared with other computer algebra systems. Needs a common
              syntax, could be a driver for previous item.

**************************************************************************
JOINS (2/108)
 Motivation: there are several CA systems with very interesting features
             and/or algebra. Axiom needs to import these ideas or find
             ways to cooperate with these projects.

 GAP->AXIOM
  Motivation: GAP has much stronger facilities for manipulating groups.
              Axiom can do group manipulation but GAP needs to be studied.

 OCTAVE->AXIOM
  Motivation: Octave has the capability to be a replacement for the NAG
              numeric libraries. Either an interface has to be retargetted
              or the code has to be ported to Aldor or Lisp.
-  Test rewriting Fortran code into Aldor
+  BLAS converted to pamphlet form
   BLAS integrated into Axiom

 MAGNUS->AXIOM
  Motivation: Magnus is strong in infinite group theory. Like GAP it needs
              to be studied and imported.
-  Discussion and proposal for work in this area with CCNY
+  Magnus is being rebuilt as a literate program and will eventually be
+  merged with Axiom
   Rebuild Magnus as a literate program
   Extract and categorize the magnus algorithms
   Provide Axiom implementations of the algorithms

 ASTRONOMER->AXIOM
  Motivation: Internal representation of polynomials that can be scaled to
              ~250k terms needs to be imported.

 COMBINAT->AXIOM
  Motivation: External basis representation of large polynomials needs to
              be imported.

 MATHEMATICA->AXIOM
  Motivation: Workbooks need to be imported.

**************************************************************************
NEW DEVELOPMENT (29/108)

 EXTERNALS DOCUMENTATION
  Motivation: in order to allow users to use the system we need to collect
              and organize the documentation and help facilities.
+ The Axiom book was rewritten and is now available as part of the normal
+ distribution. 

 INTERNALS DOCUMENTATION
  Motivation: in order to allow multiple developers to work on the system
              the structure of the system needs to be explained.
-  Directory structure
-   document shell script
   Makefile structure
-   document how the makefile tree works
-  Lisp structure
   src structure
[383 more lines...]

\start
Date: Thu, 13 Jan 2005 10:01:41 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [TodoList] 

Tim keeps a detailed "current state":AxiomCurrentState of Axiom. Those
items which should be completed for the first public release of Axiom,
version 3.0, are listed here:

??changed:
-  - Axiom Book in PDF format. Proofreading of the book
-
-    ![CY, david, tim are working on it]
-
-  - Resurrection of graphics package
-
-    ![tim]
  - [Axiom Book] in PDF format. Proofreading of the book

--removed:
-
-    ![tim]

--removed:
-    ![martin, william]
-

??changed:
-
-    ![?]
-
-  - Find a release number
-
-    ![tim]
- 
  

--removed:
-    ![tim]
-

??changed:
-
-    Rationale: We could attract (and join) the Aldor community
-    here. Furthermore, I think that people would gain confidence, since Aldor
 
    This is nearly working, as you can see on AldorForAxiom. The rationale is that we might attract (and join) the Aldor community
    Furthermore, I think that people would gain confidence, since Aldor

--removed:
-
-  - Windows port.
-

--removed:
-
-<small> Original from: <a href="http://www.linux-france.org/~dmentre/axiom/release-1.0/todo-list-for-1.0.html">http://www.linux-france.org/~dmentre/axiom/release-1.0/todo-list-for-1.0.html</a></small>

\start
Date: Thu, 13 Jan 2005 09:46:55 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [AxiomCurrentState] (renamed)

This page was renamed from AxiomDocumentation to AxiomCurrentState.

\start
Date: Thu, 13 Jan 2005 10:17:45 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [sponsor] (nouveau) 

Axiom is currently supported by CAISS, the Center for Algorithms and
Interactive Scientific Software. CAISS is a joint effort of the
Computer Science and Mathematics Departments of The City College of
New York, part of the City University system. Support by CAISS and
CCNY is gratefully acknowledged. In particular, the support by

|---------------------------------------------------------------------|
| Matthew Goldstein | CUNY | Chancellor                               |
|---------------------------------------------------------------------|
| Zeev Dagan        | CCNY | Provost				      |
|---------------------------------------------------------------------|
| Maria Tamargo     | CCNY | Dean of Science			      |
|---------------------------------------------------------------------|
| Joseph Barba      | CCNY | Dean of Engineering		      |
|---------------------------------------------------------------------|
| Gilbert Baumslag  | CCNY | Distinguish Professor, Director of CAISS |
|---------------------------------------------------------------------|
| Douglas Troeger   | CCNY | Computer Science Chair		      |
|---------------------------------------------------------------------|
| Ed Grossman       | CCNY | Mathematics Chair                        |
|---------------------------------------------------------------------|

\start
Date: Thu, 13 Jan 2005 10:35:49 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [Axiom documentation and community] 

  Working towards the next Axiom Release

\start
Date: Thu, 13 Jan 2005 10:35:06 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [FrontPage] 

  [other Computer Algebra systems]. The [Rosetta Stone] intends to demonstrate
  how things are done in different systems. Here, on MathAction, you can 
  "try out":PlayingTogether various Computer Algebra Systems online.

The AxiomFoundation serves as the "official" channel through which we intend
to promote the development and maintenance of the open source version of
Axiom through the dispersement of donations and sponsorship money to
Axiom-related activities. Furthermore, we wish to express our gratitude to our [sponsor]

"CAISS":http://zebra.sci.ccny.cuny.edu/web/caiss/main.htm 
<IMG align="middle" src="http://zebra.sci.ccny.cuny.edu/web/caiss/images/seal_small.jpg" alt="The CAISS seal">

\start
Date: Thu, 13 Jan 2005 10:25:30 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [AboutAxiom] 

There are some [screenshots] available and you can try out Axiom
"online":AxiomInterface!

\start
From: MathAction (kratt6)
To: MathAction
Date: Thu, 13 Jan 2005 10:29:28 -0600
Cc: 
Subject: [screenshots] (nouveau) 

Some matrix computations under TeXmacs. Please notice the hierarchical
editing capabilities of TeXmacs.

<img src="http://axiom.axiom-developer.org/axiom-website/screenshot3.png">

Axiom is running under Windows. This is a screenshot of Axiom running
on Windows in a TeXmacs window:

<img src="http://axiom.axiom-developer.org/axiom-website/screenshot2.jpg">

\start
Date: Thu, 13 Jan 2005 10:23:22 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [AboutAxiom] 

  Efforts are underway to extend this software to 

- develop a better user interface

- make it useful as a teaching tool

- develop an algebra server protocol

- integrate additional mathematics

- rebuild the algebra in a literate programming style

- integrate logic programming

- develop an Axiom Journal with refereed submissions.

\start
Date: Thu, 13 Jan 2005 10:43:01 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [AxiomProblem] 

- The "foundations":AxiomDevelopment of Axioms development model

- "Why Arch":ArchRationale?

- "Using Arch":ArchUsage

\start
Date: Thu, 13 Jan 2005 10:44:32 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [AxiomDevelopmentFoundations] (renamed)

This page was renamed from Axiom Development to AxiomDevelopmentFoundations.

\start
Date: Thu, 13 Jan 2005 10:50:15 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [ArchRationale] (nouveau) 

Arch? ARCH?! We don't need arch!!!

  Why arch? Why not CVS? I've been using CVS for the past few years and
now I've run into the same problem that the Linux kernel people
solved. The problem is that CVS is unable to handle "changesets" and
"branching" easily. EASILY. Arch can.


Changesets are a group of changes to several files that are all handled
as one big change. Thus if we make a fix that involves 10 files we can
apply and retract the changes all at one time. This is technically 
possible with CVS if you carefully tag every file before applying the
change. However there are thousands of files in axiom and mistakes
are very hard to correct. Arch allows this to occur as one command.
So CVS treats each file change as different and arch combines many
semantically-related changes into one "changeset".

Branching can also be done in CVS but Arch also handles this problem
in a much more refined way. Since there will be many parallel development
efforts the ability to branch easily is important. Arch just does it 
better. 

I realize that switching to Arch is a learning curve and none of us
need yet another learning curve. But consider the fact that the kernel
has switched fron CVS to BitKeeper, a proprietary piece of code for
exactly the same reason; to manage the complexity better you need
better tools. Worldwide group development is hard.

So individually it will be painful but process-wise it will be easier. 
I ask for your patience as we open up the development process.
There is no such thing as a simple job.

\start
Date: Thu, 13 Jan 2005 11:06:28 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [ArchUsage] (nouveau) 

Axiom development is now hosted on an Arch server running on
axiom.developer.org.

The official website for arch is at http://www.gnu.org/software/gnu-arch .
More information on arch is available at http://rubick.com:8002/openacs/arch .

Cookbook

  You only need to do the following setup steps once.  In order to access the
arch sources you need to let arch know who you are with the command::

    tla my-id "First Last &lt;addy@host.com&gt;"

Next you need to register an archive::

    tla register-archive arch@axiom-developer.org--axiom http://axiom-developer.org/archive/axiom

Then set up a default archive::

    tla my-default-archive arch@axiom-developer.org--axiom

In order to get the latest source for the Axiom main line type::

    tla get axiom--main--1

There are several branches available. Each branch is used to develop a
particular idea and get a stable, working version before merging it back to the
main line. The currently available branches are:

- axiom--main--1 the main development branch

     this branch will be mirrored to the CVS on savannah
     when it is stable and tested.  
     
     Currently in <a href="devel.html">step 4</a> of development.

- axiom--hyperdoc--1   development of hyperdoc

     NOTE: This branch has been merged and is now dead.

     this branch contains code for building hyperdoc. 

- axiom--BSD--1        port to BSD

     work with Mark Murray &lt;mark at grondar.org&gt;

     Currently in <a href="devel.html">step 1</a> of development.

- axiom--MACOSX--1     port to MACOSX

     work with Chuck Miller &lt;cfm at ms.unimelb.edu.au&gt;

     Currently in <a href="devel.html">step 1</a> of development.

- book--main--1        axiom book

     work with community to clean up the book for printing

     Currently in <a href="devel.html">step 1</a> of development.

- axiom--solaris--1    port to solaris

     work with Kostas Oikonomou &lt;ko at research.att.com&gt;

     Currently in <a href="devel.html">step 1</a> of development.

- axiom--graphics--1   finish graphics integration

     NOTE: This branch has been merged and is now dead.

     work on integration, testing of graphics.

- axiom--windows--1    port to windows

     work with &lt; Mike Thomas &lt;mike.thomas at brisbane.paradigmgeo.com&gt;

     Currently in <a href="devel.html">step 1</a> of development.

- axiom--language--1   explore axiom language modifications

     work with Stephen Wilson &lt;wilsons at multiboard.com&gt;

     Currently in <a href="devel.html">step 1</a> of development.

- axiom--sbcl--1       port axiom to steel bank common lisp

     work with Tim Daly Jr. &lt;tim at tenkan.org&gt; and
               Nate Daly &lt;nate at tenkan.org&gt;

     Currently in <a href="devel.html">step 1</a> of development.

- axiom--zlc--1        add a zero learning curve interface to axiom

     work with Jinzhong Niu &lt;jniu at gc.cuny.edu&gt;
               Xaiowei Xu &lt;xuxw at yahoo.com&gt;

     Currently in <a href="devel.html">step 1</a> of development.

- axiom--algebra--1    prototype algebra code

     Currently in <a href="devel.html">step 1</a> of development.

If you need write access to the archive you need to follow these steps:

Create a key by typing::

  ssh-keygen -t dsa

This will create a file called '.ssh/id_dsa.pub'. You need to send the contents
of this file to Tim Daly &lt;Tim Daly&gt; so your interactions can be
enabled.

In order to access the arch sources you need to let arch know who you are with
the command::

  tla my-id "First Last &lt;addy@host.com&gt;"

Next you need to register an archive::

  tla register-archive arch@axiom-developer.org--axiom sftp://arch@axiom-developer.org/home/arch/archive/axiom

Notice that you're using sftp rather than http. The sftp function uses the
secure keys to enable ftp access to the sources. The http function is
read-only.

Then set up a default archive::

  tla my-default-archive arch@axiom-developer.org--axiom

In order to get the latest source for the Axiom main line type::

  tla get axiom--main--1

Now you can change the sources. Once you've made changes they need to be sent
back (commit) to the host. In order to do the commit function in tla you need a
log file that summarizes the changes.  You can create and edit the log file
with::

  emacs -nw `tla make-log`

or for the vi fans::

  vi `tla make-log`

Finally you commit the changes with::

  tla commit

\start
Date: 13 Jan 2005 12:07:16 -0500
From: Camm Maguire
To: Sandip Ray
Subject: GCL 2.6.5 on FC3
Cc: Matt Kaufmann

Greetings!

FC3 has made brk() added pages non-executable by default.  You need
this at the end of h/386-linux.h:

#ifdef IN_SFASL
#include <sys/mman.h>
#define CLEAR_CACHE {\
   void *p,*pe; \
   p=(void *)((unsigned long)memory->cfd.cfd_start & ~(PAGESIZE-1)); \
   pe=(void *)((unsigned long)(memory->cfd.cfd_start+memory->cfd.cfd_size) & ~(PAGESIZE-1)) + PAGESIZE-1; \
   if (mprotect(p,pe-p,PROT_READ|PROT_WRITE|PROT_EXEC)) {\
     fprintf(stderr,"%p %p\n",p,pe);\
     perror("");\
     FEerror("Cannot mprotect", 0);\
   }\
}
#endif

Not sure what the overhead of this is on each load, but we might just
make it the Linux default across the board for simplicity.
Alternatively, would either need a runtime or compile time test to
detect when its needed.  I'll place this on the errata page for
inclusion in any possible 2.6.6, and do something easy in CVS head for
now. 

Thanks for your report!

Take care,

Sandip Ray writes:

> Thanks a lot for your help, Camm. I got an error trace from your
> instructions. Here is the output of the last :bt.
> 
> 
> Error: Caught fatal error [memory may be damaged]
> Error signalled by PROGN.
> Broken at COND.  Type :H for Help.
> ACL2>>:bt
> 
> #0   LOAD {} [ihs=15]
> #1   COMPILE-ACL2 {} [ihs=8]
> #2   LOAD {loc0=nil,loc1=nil,loc2=nil,loc3=(lisp:lambda-block compile-acl2
> nil ...)} [ihs=7]
> #3   EVAL {loc0=nil,loc1=nil,loc2=nil,loc3=#<compiled-function
> load>,loc4=#p"workxxx.lsp",...} [ihs=6]
> #4   TOP-LEVEL {} [ihs=5]
> #5   FUNCALL {loc0=#<compiled-function
> system:top-level>,loc1=nil,loc2=0,loc3=0,loc4=nil,loc5...} [ihs=4]
> NIL
> 
> In case I misinterpreted your instructions, I am also adding the
> transcript of the entire session of what I did at the bottom of this
> email.
> 
> Again, thanks a lot for all the help,
> 
> Sandip.
> 
> [root@localhost acl2-sources-new]#echo '(load "init.lsp")' > workxxx
> [root@localhost acl2-sources-new]# echo '(acl2::compile-acl2)' >> workxxx
> [root@localhost acl2-sources-new]# echo '(acl2::exit-lisp)' >> workxxx
> [root@localhost acl2-sources-new]# cat workxxx
> (load "init.lsp")
> (acl2::compile-acl2)
> (acl2::exit-lisp)
> [root@localhost acl2-sources-new]# gdb /usr/local/lib/gcl-2.6.5/unixport/saved_gcl
> GNU gdb Red Hat Linux (6.1post-1.20040607.43rh)
> Copyright 2004 Free Software Foundation, Inc.
> GDB is free software, covered by the GNU General Public License, and you are
> welcome to change it and/or distribute copies of it under certain conditions.
> Type "show copying" to see the conditions.
> There is absolutely no warranty for GDB.  Type "show warranty" for details.
> This GDB was configured as "i386-redhat-linux-gnu"...Using host libthread_db library "/lib/tls/libthread_db.so.1".
> 
> (gdb) b error
> Breakpoint 1 at 0x804bb0d: file main.c, line 432.
> (gdb) b FEerror
> Breakpoint 2 at 0x80b3c86: file error.c, line 261.
> (gdb) r
> Starting program: /usr/local/lib/gcl-2.6.5/unixport/saved_gcl
> GCL (GNU Common Lisp)  2.6.5 CLtL1    Jan 10 2005 07:45:29
> Source License: LGPL(gcl,gmp), GPL(unexec,bfd)
> Binary License:  GPL due to GPL'ed components: (READLINE BFD UNEXEC)
> Modifications of this banner must retain notice of a compatible license
> Dedicated to the memory of W. Schelter
> 
> Use (help) to get some basic information on how to use GCL.
> Loading init.lsp
> Loading acl2r.lisp
> Finished loading acl2r.lisp
> Loading acl2-init.lisp
> Loading acl2.lisp
> Loading acl2-fns.lisp
> Finished loading acl2-fns.lisp
> Compiling acl2-fns.lisp.
> End of Pass 1.
> 
> ;; Note: Tail-recursive call of GET-TYPE-FROM-DCLS was replaced by iteration.
> ;; Note: Tail-recursive call of COLLECT-TYPES was replaced by iteration.
> ;; Note: Tail-recursive call of OUTPUT-TYPE-FOR-DECLARE-FORM-REC was replaced by iteration.
> ;; Note: Tail-recursive call of REV1@ was replaced by iteration.
> ;; Note: Tail-recursive call of ACL2-READ-CHARACTER-STRING was replaced by iteration.[GC for 211 CONS pages..(T=1).GC finished]
> 
> End of Pass 2.
> Detaching after fork from child process 28777.
> OPTIMIZE levels: Safety=0 (No runtime error checking), Space=0, Speed=3
> Finished compiling acl2-fns.lisp.
> Loading acl2-fns.o
> start address -T 0x84566e0 Finished loading acl2-fns.o
> Finished loading acl2.lisp
> Finished loading acl2-init.lisp
> Loading enable-eval.lisp
> Disabling evaluation inside breaks.
> Finished loading enable-eval.lisp
> Finished loading init.lsp
> 
> >(si::use-fast-links nil)
> 
> NIL
> 
> >(load "workxxx")
> 
> Loading workxxx
> Loading init.lsp
> Finished loading init.lsp
> Loading axioms.lisp
> [GC for 211 CONS pages..(T=0).GC finished]
> [GC for 49 SYMBOL pages..(T=0).GC finished]
> Finished loading axioms.lisp
> Compiling axioms.lisp.
> [GC for 1030 CONS pages..(T=1).GC finished]
> [GC for 38 ARRAY pages..(T=1).GC finished]
> [GC for 57 ARRAY pages..(T=1).GC finished]
> [GC for 32 STRING pages..(T=2).GC finished]
> End of Pass 1.
> [GC for 32 STRING pages..(T=2).GC finished]
> [GC for 73 SYMBOL pages..(T=2).GC finished]
> End of Pass 2.
> Detaching after fork from child process 28780.
> OPTIMIZE levels: Safety=0 (No runtime error checking), Space=0, Speed=3
> Finished compiling axioms.lisp.
> Loading axioms.o
> 
> Program received signal SIGSEGV, Segmentation fault.
> 0x080b1af3 in call_init (init_address=0, memory=0x8503f64,
>     fasl_vec=0x8a1b6e4, fptr=0) at cmpaux.c:333
> 333	    (*at)();
> (gdb) bt
> #0  0x080b1af3 in call_init (init_address=0, memory=0x8503f64,
>     fasl_vec=0x8a1b6e4, fptr=0) at cmpaux.c:333
> #1  0x080781ef in fasload (faslfile=0x8a6b288) at sfaslbfd.c:379
> #2  0x080c0da5 in Lload () at file.d:1842
> #3  0x080b7bd8 in eval (form=0x83af280) at eval.c:1090
> #4  0x0806a7d4 in Fprogn (body=0x85fa408) at prog.c:248
> #5  0x080b796d in eval (form=0x85fa4f8) at eval.c:1037
> #6  0x080635a1 in For (args=0x85fa3e4) at predicate.c:762
> #7  0x080b796d in eval (form=0x85fa534) at eval.c:1037
> #8  0x0806a7d4 in Fprogn (body=0x85fa3d8) at prog.c:248
> #9  0x080dc56d in Flet (form=0x85fa564) at let.c:82
> #10 0x080b796d in eval (form=0x85fa5dc) at eval.c:1037
> #11 0x080635a1 in For (args=0x85fa3cc) at predicate.c:762
> #12 0x080b796d in eval (form=0x85fa618) at eval.c:1037
> #13 0x08069bba in Ftagbody (body=0x85fa3c0) at prog.c:95
> #14 0x080db88f in Fdolist (arg=0x85fa624) at iteration.c:357
> #15 0x080b796d in eval (form=0x85fa648) at eval.c:1037
> #16 0x0806a7d4 in Fprogn (body=0x85fa3b4) at prog.c:248
> #17 0x080dc56d in Flet (form=0x85fa654) at let.c:82
> #18 0x080b796d in eval (form=0x85fae64) at eval.c:1037
> #19 0x080b63cf in funcall (fun=0x8622520) at eval.c:327
> #20 0x080b666d in funcall_no_event (fun=0x85fa378) at eval.c:381
> #21 0x080b7be5 in eval (form=0x83af280) at eval.c:1092
> #22 0x080c13a8 in Lload () at file.d:1910
> #23 0x080b7bd8 in eval (form=0x83af280) at eval.c:1090
> #24 0x080b80c9 in fLeval (x0=0x8586d20) at eval.c:1178
> #25 0x080c9a47 in c_apply_n (fn=0x80b806d <fLeval>, n=1, x=0x8228148)
>     at funlink.c:271
> #26 0x08050b14 in IapplyVector (fun=0x83cae24, nargs=1, base=0x8228148)
>     at nfunlink.c:229
> #27 0x080b5d31 in funcall (fun=0x83cae24) at eval.c:190
> #28 0x080b6ce2 in symlispcall (sym=0x83c91f8, base=0x8228144, narg=1)
>     at eval.c:507
> #29 0x08163353 in LI1 () at gcl_top.c:140
> #30 0x080b5263 in quick_call_sfun (fun=0x8503fa0) at eval.c:117
> #31 0x080b5cad in funcall (fun=0x8503fa0) at eval.c:178
> #32 0x08050c57 in IapplyVector (fun=0x8503fa0, nargs=0, base=0x822811c)
>     at nfunlink.c:239
> #33 0x080b7e50 in fLfuncall (fun=0x8503fa0) at eval.c:1140
> #34 0x080c9a47 in c_apply_n (fn=0x80b7dc7 <fLfuncall>, n=1, x=0x8228118)
>     at funlink.c:271
> #35 0x08050b14 in IapplyVector (fun=0x83cae4c, nargs=1, base=0x8228118)
>     at nfunlink.c:229
> #36 0x080b5d31 in funcall (fun=0x83cae4c) at eval.c:190
> #37 0x080b666d in funcall_no_event (fun=0x83cae4c) at eval.c:381
> #38 0x080b7be5 in eval (form=0x83af280) at eval.c:1092
> #39 0x080b63cf in funcall (fun=0x8553f78) at eval.c:327
> #40 0x080b666d in funcall_no_event (fun=0x8606c3c) at eval.c:381
> #41 0x080b7be5 in eval (form=0x83af280) at eval.c:1092
> #42 0x080b63cf in funcall (fun=0x8553f88) at eval.c:327
> #43 0x080b73ef in super_funcall (fun=0x8606ff0) at eval.c:743
> #44 0x0804b950 in main (argc=1, argv=0xfefff994, envp=0xfefff99c)
>     at main.c:369
> (gdb) c
> Continuing.
> 
> Breakpoint 1, error (s=0x8200ebf "Segmentation violation.") at main.c:432
> 432	        if (catch_fatal>0 && interrupt_enable )
> (gdb) bt
> #0  error (s=0x8200ebf "Segmentation violation.") at main.c:432
> #1  0x0804c02a in segmentation_catcher (i=11) at main.c:651
> #2  <signal handler called>
> #3  0x080b1af3 in call_init (init_address=0, memory=0x8503f64,
>     fasl_vec=0x8a1b6e4, fptr=0) at cmpaux.c:333
> #4  0x080781ef in fasload (faslfile=0x8a6b288) at sfaslbfd.c:379
> #5  0x080c0da5 in Lload () at file.d:1842
> #6  0x080b7bd8 in eval (form=0x83af280) at eval.c:1090
> #7  0x0806a7d4 in Fprogn (body=0x85fa408) at prog.c:248
> #8  0x080b796d in eval (form=0x85fa4f8) at eval.c:1037
> #9  0x080635a1 in For (args=0x85fa3e4) at predicate.c:762
> #10 0x080b796d in eval (form=0x85fa534) at eval.c:1037
> #11 0x0806a7d4 in Fprogn (body=0x85fa3d8) at prog.c:248
> #12 0x080dc56d in Flet (form=0x85fa564) at let.c:82
> #13 0x080b796d in eval (form=0x85fa5dc) at eval.c:1037
> #14 0x080635a1 in For (args=0x85fa3cc) at predicate.c:762
> #15 0x080b796d in eval (form=0x85fa618) at eval.c:1037
> #16 0x08069bba in Ftagbody (body=0x85fa3c0) at prog.c:95
> #17 0x080db88f in Fdolist (arg=0x85fa624) at iteration.c:357
> #18 0x080b796d in eval (form=0x85fa648) at eval.c:1037
> #19 0x0806a7d4 in Fprogn (body=0x85fa3b4) at prog.c:248
> #20 0x080dc56d in Flet (form=0x85fa654) at let.c:82
> #21 0x080b796d in eval (form=0x85fae64) at eval.c:1037
> #22 0x080b63cf in funcall (fun=0x8622520) at eval.c:327
> #23 0x080b666d in funcall_no_event (fun=0x85fa378) at eval.c:381
> #24 0x080b7be5 in eval (form=0x83af280) at eval.c:1092
> #25 0x080c13a8 in Lload () at file.d:1910
> #26 0x080b7bd8 in eval (form=0x83af280) at eval.c:1090
> #27 0x080b80c9 in fLeval (x0=0x8586d20) at eval.c:1178
> #28 0x080c9a47 in c_apply_n (fn=0x80b806d <fLeval>, n=1, x=0x8228148)
>     at funlink.c:271
> #29 0x08050b14 in IapplyVector (fun=0x83cae24, nargs=1, base=0x8228148)
>     at nfunlink.c:229
> #30 0x080b5d31 in funcall (fun=0x83cae24) at eval.c:190
> #31 0x080b6ce2 in symlispcall (sym=0x83c91f8, base=0x8228144, narg=1)
>     at eval.c:507
> #32 0x08163353 in LI1 () at gcl_top.c:140
> #33 0x080b5263 in quick_call_sfun (fun=0x8503fa0) at eval.c:117
> #34 0x080b5cad in funcall (fun=0x8503fa0) at eval.c:178
> #35 0x08050c57 in IapplyVector (fun=0x8503fa0, nargs=0, base=0x822811c)
>     at nfunlink.c:239
> #36 0x080b7e50 in fLfuncall (fun=0x8503fa0) at eval.c:1140
> #37 0x080c9a47 in c_apply_n (fn=0x80b7dc7 <fLfuncall>, n=1, x=0x8228118)
>     at funlink.c:271
> #38 0x08050b14 in IapplyVector (fun=0x83cae4c, nargs=1, base=0x8228118)
>     at nfunlink.c:229
> #39 0x080b5d31 in funcall (fun=0x83cae4c) at eval.c:190
> #40 0x080b666d in funcall_no_event (fun=0x83cae4c) at eval.c:381
> #41 0x080b7be5 in eval (form=0x83af280) at eval.c:1092
> #42 0x080b63cf in funcall (fun=0x8553f78) at eval.c:327
> #43 0x080b666d in funcall_no_event (fun=0x8606c3c) at eval.c:381
> #44 0x080b7be5 in eval (form=0x83af280) at eval.c:1092
> #45 0x080b63cf in funcall (fun=0x8553f88) at eval.c:327
> #46 0x080b73ef in super_funcall (fun=0x8606ff0) at eval.c:743
> #47 0x0804b950 in main (argc=1, argv=0xfefff994, envp=0xfefff99c)
>     at main.c:369
> (gdb) c
> Continuing.
> 
> Breakpoint 2, FEerror (
>     s=0x8200d40 "Caught fatal error [memory may be damaged]", num=0)
>     at error.c:261
> 261	  char *p = s;
> (gdb) bt
> #0  FEerror (s=0x8200d40 "Caught fatal error [memory may be damaged]", num=0)
>     at error.c:261
> #1  0x0804bb54 in error (s=0x8200ebf "Segmentation violation.") at main.c:440
> #2  0x0804c02a in segmentation_catcher (i=11) at main.c:651
> #3  <signal handler called>
> #4  0x080b1af3 in call_init (init_address=0, memory=0x8503f64,
>     fasl_vec=0x8a1b6e4, fptr=0) at cmpaux.c:333
> #5  0x080781ef in fasload (faslfile=0x8a6b288) at sfaslbfd.c:379
> #6  0x080c0da5 in Lload () at file.d:1842
> #7  0x080b7bd8 in eval (form=0x83af280) at eval.c:1090
> #8  0x0806a7d4 in Fprogn (body=0x85fa408) at prog.c:248
> #9  0x080b796d in eval (form=0x85fa4f8) at eval.c:1037
> #10 0x080635a1 in For (args=0x85fa3e4) at predicate.c:762
> #11 0x080b796d in eval (form=0x85fa534) at eval.c:1037
> #12 0x0806a7d4 in Fprogn (body=0x85fa3d8) at prog.c:248
> #13 0x080dc56d in Flet (form=0x85fa564) at let.c:82
> #14 0x080b796d in eval (form=0x85fa5dc) at eval.c:1037
> #15 0x080635a1 in For (args=0x85fa3cc) at predicate.c:762
> #16 0x080b796d in eval (form=0x85fa618) at eval.c:1037
> #17 0x08069bba in Ftagbody (body=0x85fa3c0) at prog.c:95
> #18 0x080db88f in Fdolist (arg=0x85fa624) at iteration.c:357
> #19 0x080b796d in eval (form=0x85fa648) at eval.c:1037
> #20 0x0806a7d4 in Fprogn (body=0x85fa3b4) at prog.c:248
> #21 0x080dc56d in Flet (form=0x85fa654) at let.c:82
> #22 0x080b796d in eval (form=0x85fae64) at eval.c:1037
> #23 0x080b63cf in funcall (fun=0x8622520) at eval.c:327
> #24 0x080b666d in funcall_no_event (fun=0x85fa378) at eval.c:381
> #25 0x080b7be5 in eval (form=0x83af280) at eval.c:1092
> #26 0x080c13a8 in Lload () at file.d:1910
> #27 0x080b7bd8 in eval (form=0x83af280) at eval.c:1090
> #28 0x080b80c9 in fLeval (x0=0x8586d20) at eval.c:1178
> #29 0x080c9a47 in c_apply_n (fn=0x80b806d <fLeval>, n=1, x=0x8228148)
>     at funlink.c:271
> #30 0x08050b14 in IapplyVector (fun=0x83cae24, nargs=1, base=0x8228148)
>     at nfunlink.c:229
> #31 0x080b5d31 in funcall (fun=0x83cae24) at eval.c:190
> #32 0x080b6ce2 in symlispcall (sym=0x83c91f8, base=0x8228144, narg=1)
>     at eval.c:507
> #33 0x08163353 in LI1 () at gcl_top.c:140
> #34 0x080b5263 in quick_call_sfun (fun=0x8503fa0) at eval.c:117
> #35 0x080b5cad in funcall (fun=0x8503fa0) at eval.c:178
> #36 0x08050c57 in IapplyVector (fun=0x8503fa0, nargs=0, base=0x822811c)
>     at nfunlink.c:239
> #37 0x080b7e50 in fLfuncall (fun=0x8503fa0) at eval.c:1140
> #38 0x080c9a47 in c_apply_n (fn=0x80b7dc7 <fLfuncall>, n=1, x=0x8228118)
>     at funlink.c:271
> #39 0x08050b14 in IapplyVector (fun=0x83cae4c, nargs=1, base=0x8228118)
>     at nfunlink.c:229
> #40 0x080b5d31 in funcall (fun=0x83cae4c) at eval.c:190
> #41 0x080b666d in funcall_no_event (fun=0x83cae4c) at eval.c:381
> #42 0x080b7be5 in eval (form=0x83af280) at eval.c:1092
> #43 0x080b63cf in funcall (fun=0x8553f78) at eval.c:327
> #44 0x080b666d in funcall_no_event (fun=0x8606c3c) at eval.c:381
> #45 0x080b7be5 in eval (form=0x83af280) at eval.c:1092
> #46 0x080b63cf in funcall (fun=0x8553f88) at eval.c:327
> #47 0x080b73ef in super_funcall (fun=0x8606ff0) at eval.c:743
> #48 0x0804b950 in main (argc=1, argv=0xfefff994, envp=0xfefff99c)
>     at main.c:369
> (gdb) c
> Continuing.
> 
> Error: Caught fatal error [memory may be damaged]
> Error signalled by PROGN.
> Broken at COND.  Type :H for Help.
> ACL2>>:bt
> 
> #0   LOAD {} [ihs=15]
> #1   COMPILE-ACL2 {} [ihs=8]
> #2   LOAD {loc0=nil,loc1=nil,loc2=nil,loc3=(lisp:lambda-block compile-acl2 nil ...)} [ihs=7]
> #3   EVAL {loc0=nil,loc1=nil,loc2=nil,loc3=#<compiled-function load>,loc4=#p"workxxx.lsp",...} [ihs=6]
> #4   TOP-LEVEL {} [ihs=5]
> #5   FUNCALL {loc0=#<compiled-function system:top-level>,loc1=nil,loc2=0,loc3=0,loc4=nil,loc5...} [ihs=4]
> NIL
> ACL2>>

\start
Date: Thu, 13 Jan 2005 11:16:09 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [AxiomDevelopmentFoundations] 

<A name="Step1">Step 1</A> -- of the process is that a new "arch branch" will get created.

<A name="Step2">Step 2</A> -- is the documentation phase. 

<A name="Step3">Step 3</A> -- is the testing phase. 

<A name="Step4">Step 4</A> -- is the integration phase.

<A name="Step5">Step 5</A> is the compile farm (issue two)

<A name="Step6">Step 6</A> -- is the savannah CVS change

<A name="Step7">Step 7</A> -- is the binary release

<A name="Step8">Step 8</A> -- is the spreading-tarball problem.

\start
Date: Thu, 13 Jan 2005 11:19:22 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [ArchUsage] 

     Currently in "step 4":AxiomDevelopmentFoundations#step4 of development.

     Currently in "step 1":AxiomDevelopmentFoundations#step1 of development.

     Currently in "step 1":AxiomDevelopmentFoundations#step1 of development.

     Currently in "step 1":AxiomDevelopmentFoundations#step1 of development.

     Currently in "step 1":AxiomDevelopmentFoundations#step1 of development.

     Currently in "step 1":AxiomDevelopmentFoundations#step1 of development.

     Currently in "step 1":AxiomDevelopmentFoundations#step1 of development.

     Currently in "step 1":AxiomDevelopmentFoundations#step1 of development.

     Currently in "step 1":AxiomDevelopmentFoundations#step1 of development.

     Currently in "step 1":AxiomDevelopmentFoundations#step1 of development.

\start
Date: Thu, 13 Jan 2005 11:21:00 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [AxiomDevelopmentFoundations] 

<A name="step1">Step 1</A> -- of the process is that a new "arch
branch" will get created.

<A name="step2">Step 2</A> -- is the documentation phase. 

<A name="step3">Step 3</A> -- is the testing phase. 

<A name="step4">Step 4</A> -- is the integration phase.

<A name="step5">Step 5</A> is the compile farm (issue two)

<A name="step6">Step 6</A> -- is the savannah CVS change

<A name="step7">Step 7</A> -- is the binary release

<A name="step8">Step 8</A> -- is the spreading-tarball problem.

\start
Date: Thu, 13 Jan 2005 11:34:12 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [TodoList] 

The last release was "Axiom 3.0 Beta":Axiom30Beta. Tim keeps a detailed
"current state":AxiomCurrentState of Axiom. Those items which should be
completed for the first stable public release of Axiom, version 3.0, are listed
here:

\start
Date: Thu, 13 Jan 2005 11:28:43 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [Axiom documentation and community] 

Axiom Mailinglists and IRC Channel

  Several ways to contact the community are available. There is an irc
  channel where developers can find other developers. It is::
  
    server: irc.freenode.net 
    channel:#axiom-developer 

  The mailinglists are:

\start
Date: Thu, 13 Jan 2005 11:45:07 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [TodoList] 


  - Resurrection of binding to numerical libraries

\start
Date: Thu, 13 Jan 2005 11:35:34 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [TodoList] 

The last release was "Axiom 3.0 Beta":Axiom-Release-3.0-Beta. Tim
keeps a detailed

\start
Date: 13 Jan 2005 13:01:10 -0500
From: Camm Maguire
To: Tim Daly
Subject: re: Axiom/Aldor

Tim Daly writes:

> > > bft.h? or bfd?
> > > 
> > > what system are you running on?
> > 
> > fat_string.c:17:17: bfd.h: No such file or directory
> > fat_string.c:18:21: bfdlink.h: No such file or directory
> > fat_string.c:229: error: parse error before "bfd_combined_table_update"
> > fat_string.c:229: error: parse error before "PTR"
> > 
> > uname -a
> > Linux rose 2.4.25-1-386 #2 Wed Apr 14 19:38:08 EST 2004 i686 GNU/Linux
> > It's Debian Sarge.
> 
> I'd have expected GCL to build on Debian with no problem since
> that's Cammm's development environment.
> 
> try this:
> 
> make clean
> edit lsp/Makefile.pamphlet
> find the ./configure line and change the options to:
> 
> --enable-vssize=65536*2 --enable-locbfd --disable-dynsysbfd --disable-statsysbfd --enable-maxpage=128*1024
> 
> and see if that cures it.
> 

This should do it, as well as installing binutils-dev which the user
appears to be missing.  The build-dependencies for all Debian packages
are listed in the head of the debian/control file.  If one really
wants automated building on Debian, 'apt-get -q -b source gcl' will
either produce an installable .deb or fail listing the
build-dependencies which are missing.  

\start
Date: Thu, 13 Jan 2005 12:17:48 -0600 (CST)
From: Sandip Ray
To: Camm Maguire
Subject: Re: GCL 2.6.5 on FC3
Cc: Matt Kaufmann

Hello. I just wanted to report that I have been able to successfully build 
ACL2 (both version 2.9 and incremental release 2.9.1) with GCL on FC3 
following these instructions. Thanks a lot to Camm for providing 
extensive instructions and help in the process.

Thanks a lot,

Sandip. 

On Thu, 13 Jan 2005, Camm Maguire wrote:

\\Greetings!
\\
\\FC3 has made brk() added pages non-executable by default.  You need
\\this at the end of h/386-linux.h:
\\
\\#ifdef IN_SFASL
\\#include <sys/mman.h>
\\#define CLEAR_CACHE {\
\\   void *p,*pe; \
\\   p=(void *)((unsigned long)memory->cfd.cfd_start & ~(PAGESIZE-1)); \
\\   pe=(void *)((unsigned long)(memory->cfd.cfd_start+memory->cfd.cfd_size) & ~(PAGESIZE-1)) + PAGESIZE-1; \
\\   if (mprotect(p,pe-p,PROT_READ|PROT_WRITE|PROT_EXEC)) {\
\\     fprintf(stderr,"%p %p\n",p,pe);\
\\     perror("");\
\\     FEerror("Cannot mprotect", 0);\
\\   }\
\\}
\\#endif
\\
\\Not sure what the overhead of this is on each load, but we might just
\\make it the Linux default across the board for simplicity.
\\Alternatively, would either need a runtime or compile time test to
\\detect when its needed.  I'll place this on the errata page for
\\inclusion in any possible 2.6.6, and do something easy in CVS head for
\\now. 
\\
\\Thanks for your report!
\\
\\Take care,
\\
\\Sandip Ray writes:
\\
\\> Thanks a lot for your help, Camm. I got an error trace from your
\\> instructions. Here is the output of the last :bt.
\\> 
\\> 
\\> Error: Caught fatal error [memory may be damaged]
\\> Error signalled by PROGN.
\\> Broken at COND.  Type :H for Help.
\\> ACL2>>:bt
\\> 
\\> #0   LOAD {} [ihs=15]
\\> #1   COMPILE-ACL2 {} [ihs=8]
\\> #2   LOAD {loc0=nil,loc1=nil,loc2=nil,loc3=(lisp:lambda-block compile-acl2
\\> nil ...)} [ihs=7]
\\> #3   EVAL {loc0=nil,loc1=nil,loc2=nil,loc3=#<compiled-function
\\> load>,loc4=#p"workxxx.lsp",...} [ihs=6]
\\> #4   TOP-LEVEL {} [ihs=5]
\\> #5   FUNCALL {loc0=#<compiled-function
\\> system:top-level>,loc1=nil,loc2=0,loc3=0,loc4=nil,loc5...} [ihs=4]
\\> NIL
\\> 
\\> In case I misinterpreted your instructions, I am also adding the
\\> transcript of the entire session of what I did at the bottom of this
\\> email.
\\> 
\\> Again, thanks a lot for all the help,
\\> 
\\> Sandip.
\\> 
\\> [root@localhost acl2-sources-new]#echo '(load "init.lsp")' > workxxx
\\> [root@localhost acl2-sources-new]# echo '(acl2::compile-acl2)' >> workxxx
\\> [root@localhost acl2-sources-new]# echo '(acl2::exit-lisp)' >> workxxx
\\> [root@localhost acl2-sources-new]# cat workxxx
\\> (load "init.lsp")
\\> (acl2::compile-acl2)
\\> (acl2::exit-lisp)
\\> [root@localhost acl2-sources-new]# gdb /usr/local/lib/gcl-2.6.5/unixport/saved_gcl
\\> GNU gdb Red Hat Linux (6.1post-1.20040607.43rh)
\\> Copyright 2004 Free Software Foundation, Inc.
\\> GDB is free software, covered by the GNU General Public License, and you are
\\> welcome to change it and/or distribute copies of it under certain conditions.
\\> Type "show copying" to see the conditions.
\\> There is absolutely no warranty for GDB.  Type "show warranty" for details.
\\> This GDB was configured as "i386-redhat-linux-gnu"...Using host libthread_db library "/lib/tls/libthread_db.so.1".
\\> 
\\> (gdb) b error
\\> Breakpoint 1 at 0x804bb0d: file main.c, line 432.
\\> (gdb) b FEerror
\\> Breakpoint 2 at 0x80b3c86: file error.c, line 261.
\\> (gdb) r
\\> Starting program: /usr/local/lib/gcl-2.6.5/unixport/saved_gcl
\\> GCL (GNU Common Lisp)  2.6.5 CLtL1    Jan 10 2005 07:45:29
\\> Source License: LGPL(gcl,gmp), GPL(unexec,bfd)
\\> Binary License:  GPL due to GPL'ed components: (READLINE BFD UNEXEC)
\\> Modifications of this banner must retain notice of a compatible license
\\> Dedicated to the memory of W. Schelter
\\> 
\\> Use (help) to get some basic information on how to use GCL.
\\> Loading init.lsp
\\> Loading acl2r.lisp
\\> Finished loading acl2r.lisp
\\> Loading acl2-init.lisp
\\> Loading acl2.lisp
\\> Loading acl2-fns.lisp
\\> Finished loading acl2-fns.lisp
\\> Compiling acl2-fns.lisp.
\\> End of Pass 1.
\\> 
\\> ;; Note: Tail-recursive call of GET-TYPE-FROM-DCLS was replaced by iteration.
\\> ;; Note: Tail-recursive call of COLLECT-TYPES was replaced by iteration.
\\> ;; Note: Tail-recursive call of OUTPUT-TYPE-FOR-DECLARE-FORM-REC was replaced by iteration.
\\> ;; Note: Tail-recursive call of REV1@ was replaced by iteration.
\\> ;; Note: Tail-recursive call of ACL2-READ-CHARACTER-STRING was replaced by iteration.[GC for 211 CONS pages..(T=1).GC finished]
\\> 
\\> End of Pass 2.
\\> Detaching after fork from child process 28777.
\\> OPTIMIZE levels: Safety=0 (No runtime error checking), Space=0, Speed=3
\\> Finished compiling acl2-fns.lisp.
\\> Loading acl2-fns.o
\\> start address -T 0x84566e0 Finished loading acl2-fns.o
\\> Finished loading acl2.lisp
\\> Finished loading acl2-init.lisp
\\> Loading enable-eval.lisp
\\> Disabling evaluation inside breaks.
\\> Finished loading enable-eval.lisp
\\> Finished loading init.lsp
\\> 
\\> >(si::use-fast-links nil)
\\> 
\\> NIL
\\> 
\\> >(load "workxxx")
\\> 
\\> Loading workxxx
\\> Loading init.lsp
\\> Finished loading init.lsp
\\> Loading axioms.lisp
\\> [GC for 211 CONS pages..(T=0).GC finished]
\\> [GC for 49 SYMBOL pages..(T=0).GC finished]
\\> Finished loading axioms.lisp
\\> Compiling axioms.lisp.
\\> [GC for 1030 CONS pages..(T=1).GC finished]
\\> [GC for 38 ARRAY pages..(T=1).GC finished]
\\> [GC for 57 ARRAY pages..(T=1).GC finished]
\\> [GC for 32 STRING pages..(T=2).GC finished]
\\> End of Pass 1.
\\> [GC for 32 STRING pages..(T=2).GC finished]
\\> [GC for 73 SYMBOL pages..(T=2).GC finished]
\\> End of Pass 2.
\\> Detaching after fork from child process 28780.
\\> OPTIMIZE levels: Safety=0 (No runtime error checking), Space=0, Speed=3
\\> Finished compiling axioms.lisp.
\\> Loading axioms.o
\\> 
\\> Program received signal SIGSEGV, Segmentation fault.
\\> 0x080b1af3 in call_init (init_address=0, memory=0x8503f64,
\\>     fasl_vec=0x8a1b6e4, fptr=0) at cmpaux.c:333
\\> 333	    (*at)();
\\> (gdb) bt
\\> #0  0x080b1af3 in call_init (init_address=0, memory=0x8503f64,
\\>     fasl_vec=0x8a1b6e4, fptr=0) at cmpaux.c:333
\\> #1  0x080781ef in fasload (faslfile=0x8a6b288) at sfaslbfd.c:379
\\> #2  0x080c0da5 in Lload () at file.d:1842
\\> #3  0x080b7bd8 in eval (form=0x83af280) at eval.c:1090
\\> #4  0x0806a7d4 in Fprogn (body=0x85fa408) at prog.c:248
\\> #5  0x080b796d in eval (form=0x85fa4f8) at eval.c:1037
\\> #6  0x080635a1 in For (args=0x85fa3e4) at predicate.c:762
\\> #7  0x080b796d in eval (form=0x85fa534) at eval.c:1037
\\> #8  0x0806a7d4 in Fprogn (body=0x85fa3d8) at prog.c:248
\\> #9  0x080dc56d in Flet (form=0x85fa564) at let.c:82
\\> #10 0x080b796d in eval (form=0x85fa5dc) at eval.c:1037
\\> #11 0x080635a1 in For (args=0x85fa3cc) at predicate.c:762
\\> #12 0x080b796d in eval (form=0x85fa618) at eval.c:1037
\\> #13 0x08069bba in Ftagbody (body=0x85fa3c0) at prog.c:95
\\> #14 0x080db88f in Fdolist (arg=0x85fa624) at iteration.c:357
\\> #15 0x080b796d in eval (form=0x85fa648) at eval.c:1037
\\> #16 0x0806a7d4 in Fprogn (body=0x85fa3b4) at prog.c:248
\\> #17 0x080dc56d in Flet (form=0x85fa654) at let.c:82
\\> #18 0x080b796d in eval (form=0x85fae64) at eval.c:1037
\\> #19 0x080b63cf in funcall (fun=0x8622520) at eval.c:327
\\> #20 0x080b666d in funcall_no_event (fun=0x85fa378) at eval.c:381
\\> #21 0x080b7be5 in eval (form=0x83af280) at eval.c:1092
\\> #22 0x080c13a8 in Lload () at file.d:1910
\\> #23 0x080b7bd8 in eval (form=0x83af280) at eval.c:1090
\\> #24 0x080b80c9 in fLeval (x0=0x8586d20) at eval.c:1178
\\> #25 0x080c9a47 in c_apply_n (fn=0x80b806d <fLeval>, n=1, x=0x8228148)
\\>     at funlink.c:271
\\> #26 0x08050b14 in IapplyVector (fun=0x83cae24, nargs=1, base=0x8228148)
\\>     at nfunlink.c:229
\\> #27 0x080b5d31 in funcall (fun=0x83cae24) at eval.c:190
\\> #28 0x080b6ce2 in symlispcall (sym=0x83c91f8, base=0x8228144, narg=1)
\\>     at eval.c:507
\\> #29 0x08163353 in LI1 () at gcl_top.c:140
\\> #30 0x080b5263 in quick_call_sfun (fun=0x8503fa0) at eval.c:117
\\> #31 0x080b5cad in funcall (fun=0x8503fa0) at eval.c:178
\\> #32 0x08050c57 in IapplyVector (fun=0x8503fa0, nargs=0, base=0x822811c)
\\>     at nfunlink.c:239
\\> #33 0x080b7e50 in fLfuncall (fun=0x8503fa0) at eval.c:1140
\\> #34 0x080c9a47 in c_apply_n (fn=0x80b7dc7 <fLfuncall>, n=1, x=0x8228118)
\\>     at funlink.c:271
\\> #35 0x08050b14 in IapplyVector (fun=0x83cae4c, nargs=1, base=0x8228118)
\\>     at nfunlink.c:229
\\> #36 0x080b5d31 in funcall (fun=0x83cae4c) at eval.c:190
\\> #37 0x080b666d in funcall_no_event (fun=0x83cae4c) at eval.c:381
\\> #38 0x080b7be5 in eval (form=0x83af280) at eval.c:1092
\\> #39 0x080b63cf in funcall (fun=0x8553f78) at eval.c:327
\\> #40 0x080b666d in funcall_no_event (fun=0x8606c3c) at eval.c:381
\\> #41 0x080b7be5 in eval (form=0x83af280) at eval.c:1092
\\> #42 0x080b63cf in funcall (fun=0x8553f88) at eval.c:327
\\> #43 0x080b73ef in super_funcall (fun=0x8606ff0) at eval.c:743
\\> #44 0x0804b950 in main (argc=1, argv=0xfefff994, envp=0xfefff99c)
\\>     at main.c:369
\\> (gdb) c
\\> Continuing.
\\> 
\\> Breakpoint 1, error (s=0x8200ebf "Segmentation violation.") at main.c:432
\\> 432	        if (catch_fatal>0 && interrupt_enable )
\\> (gdb) bt
\\> #0  error (s=0x8200ebf "Segmentation violation.") at main.c:432
\\> #1  0x0804c02a in segmentation_catcher (i=11) at main.c:651
\\> #2  <signal handler called>
\\> #3  0x080b1af3 in call_init (init_address=0, memory=0x8503f64,
\\>     fasl_vec=0x8a1b6e4, fptr=0) at cmpaux.c:333
\\> #4  0x080781ef in fasload (faslfile=0x8a6b288) at sfaslbfd.c:379
\\> #5  0x080c0da5 in Lload () at file.d:1842
\\> #6  0x080b7bd8 in eval (form=0x83af280) at eval.c:1090
\\> #7  0x0806a7d4 in Fprogn (body=0x85fa408) at prog.c:248
\\> #8  0x080b796d in eval (form=0x85fa4f8) at eval.c:1037
\\> #9  0x080635a1 in For (args=0x85fa3e4) at predicate.c:762
\\> #10 0x080b796d in eval (form=0x85fa534) at eval.c:1037
\\> #11 0x0806a7d4 in Fprogn (body=0x85fa3d8) at prog.c:248
\\> #12 0x080dc56d in Flet (form=0x85fa564) at let.c:82
\\> #13 0x080b796d in eval (form=0x85fa5dc) at eval.c:1037
\\> #14 0x080635a1 in For (args=0x85fa3cc) at predicate.c:762
\\> #15 0x080b796d in eval (form=0x85fa618) at eval.c:1037
\\> #16 0x08069bba in Ftagbody (body=0x85fa3c0) at prog.c:95
\\> #17 0x080db88f in Fdolist (arg=0x85fa624) at iteration.c:357
\\> #18 0x080b796d in eval (form=0x85fa648) at eval.c:1037
\\> #19 0x0806a7d4 in Fprogn (body=0x85fa3b4) at prog.c:248
\\> #20 0x080dc56d in Flet (form=0x85fa654) at let.c:82
\\> #21 0x080b796d in eval (form=0x85fae64) at eval.c:1037
\\> #22 0x080b63cf in funcall (fun=0x8622520) at eval.c:327
\\> #23 0x080b666d in funcall_no_event (fun=0x85fa378) at eval.c:381
\\> #24 0x080b7be5 in eval (form=0x83af280) at eval.c:1092
\\> #25 0x080c13a8 in Lload () at file.d:1910
\\> #26 0x080b7bd8 in eval (form=0x83af280) at eval.c:1090
\\> #27 0x080b80c9 in fLeval (x0=0x8586d20) at eval.c:1178
\\> #28 0x080c9a47 in c_apply_n (fn=0x80b806d <fLeval>, n=1, x=0x8228148)
\\>     at funlink.c:271
\\> #29 0x08050b14 in IapplyVector (fun=0x83cae24, nargs=1, base=0x8228148)
\\>     at nfunlink.c:229
\\> #30 0x080b5d31 in funcall (fun=0x83cae24) at eval.c:190
\\> #31 0x080b6ce2 in symlispcall (sym=0x83c91f8, base=0x8228144, narg=1)
\\>     at eval.c:507
\\> #32 0x08163353 in LI1 () at gcl_top.c:140
\\> #33 0x080b5263 in quick_call_sfun (fun=0x8503fa0) at eval.c:117
\\> #34 0x080b5cad in funcall (fun=0x8503fa0) at eval.c:178
\\> #35 0x08050c57 in IapplyVector (fun=0x8503fa0, nargs=0, base=0x822811c)
\\>     at nfunlink.c:239
\\> #36 0x080b7e50 in fLfuncall (fun=0x8503fa0) at eval.c:1140
\\> #37 0x080c9a47 in c_apply_n (fn=0x80b7dc7 <fLfuncall>, n=1, x=0x8228118)
\\>     at funlink.c:271
\\> #38 0x08050b14 in IapplyVector (fun=0x83cae4c, nargs=1, base=0x8228118)
\\>     at nfunlink.c:229
\\> #39 0x080b5d31 in funcall (fun=0x83cae4c) at eval.c:190
\\> #40 0x080b666d in funcall_no_event (fun=0x83cae4c) at eval.c:381
\\> #41 0x080b7be5 in eval (form=0x83af280) at eval.c:1092
\\> #42 0x080b63cf in funcall (fun=0x8553f78) at eval.c:327
\\> #43 0x080b666d in funcall_no_event (fun=0x8606c3c) at eval.c:381
\\> #44 0x080b7be5 in eval (form=0x83af280) at eval.c:1092
\\> #45 0x080b63cf in funcall (fun=0x8553f88) at eval.c:327
\\> #46 0x080b73ef in super_funcall (fun=0x8606ff0) at eval.c:743
\\> #47 0x0804b950 in main (argc=1, argv=0xfefff994, envp=0xfefff99c)
\\>     at main.c:369
\\> (gdb) c
\\> Continuing.
\\> 
\\> Breakpoint 2, FEerror (
\\>     s=0x8200d40 "Caught fatal error [memory may be damaged]", num=0)
\\>     at error.c:261
\\> 261	  char *p = s;
\\> (gdb) bt
\\> #0  FEerror (s=0x8200d40 "Caught fatal error [memory may be damaged]", num=0)
\\>     at error.c:261
\\> #1  0x0804bb54 in error (s=0x8200ebf "Segmentation violation.") at main.c:440
\\> #2  0x0804c02a in segmentation_catcher (i=11) at main.c:651
\\> #3  <signal handler called>
\\> #4  0x080b1af3 in call_init (init_address=0, memory=0x8503f64,
\\>     fasl_vec=0x8a1b6e4, fptr=0) at cmpaux.c:333
\\> #5  0x080781ef in fasload (faslfile=0x8a6b288) at sfaslbfd.c:379
\\> #6  0x080c0da5 in Lload () at file.d:1842
\\> #7  0x080b7bd8 in eval (form=0x83af280) at eval.c:1090
\\> #8  0x0806a7d4 in Fprogn (body=0x85fa408) at prog.c:248
\\> #9  0x080b796d in eval (form=0x85fa4f8) at eval.c:1037
\\> #10 0x080635a1 in For (args=0x85fa3e4) at predicate.c:762
\\> #11 0x080b796d in eval (form=0x85fa534) at eval.c:1037
\\> #12 0x0806a7d4 in Fprogn (body=0x85fa3d8) at prog.c:248
\\> #13 0x080dc56d in Flet (form=0x85fa564) at let.c:82
\\> #14 0x080b796d in eval (form=0x85fa5dc) at eval.c:1037
\\> #15 0x080635a1 in For (args=0x85fa3cc) at predicate.c:762
\\> #16 0x080b796d in eval (form=0x85fa618) at eval.c:1037
\\> #17 0x08069bba in Ftagbody (body=0x85fa3c0) at prog.c:95
\\> #18 0x080db88f in Fdolist (arg=0x85fa624) at iteration.c:357
\\> #19 0x080b796d in eval (form=0x85fa648) at eval.c:1037
\\> #20 0x0806a7d4 in Fprogn (body=0x85fa3b4) at prog.c:248
\\> #21 0x080dc56d in Flet (form=0x85fa654) at let.c:82
\\> #22 0x080b796d in eval (form=0x85fae64) at eval.c:1037
\\> #23 0x080b63cf in funcall (fun=0x8622520) at eval.c:327
\\> #24 0x080b666d in funcall_no_event (fun=0x85fa378) at eval.c:381
\\> #25 0x080b7be5 in eval (form=0x83af280) at eval.c:1092
\\> #26 0x080c13a8 in Lload () at file.d:1910
\\> #27 0x080b7bd8 in eval (form=0x83af280) at eval.c:1090
\\> #28 0x080b80c9 in fLeval (x0=0x8586d20) at eval.c:1178
\\> #29 0x080c9a47 in c_apply_n (fn=0x80b806d <fLeval>, n=1, x=0x8228148)
\\>     at funlink.c:271
\\> #30 0x08050b14 in IapplyVector (fun=0x83cae24, nargs=1, base=0x8228148)
\\>     at nfunlink.c:229
\\> #31 0x080b5d31 in funcall (fun=0x83cae24) at eval.c:190
\\> #32 0x080b6ce2 in symlispcall (sym=0x83c91f8, base=0x8228144, narg=1)
\\>     at eval.c:507
\\> #33 0x08163353 in LI1 () at gcl_top.c:140
\\> #34 0x080b5263 in quick_call_sfun (fun=0x8503fa0) at eval.c:117
\\> #35 0x080b5cad in funcall (fun=0x8503fa0) at eval.c:178
\\> #36 0x08050c57 in IapplyVector (fun=0x8503fa0, nargs=0, base=0x822811c)
\\>     at nfunlink.c:239
\\> #37 0x080b7e50 in fLfuncall (fun=0x8503fa0) at eval.c:1140
\\> #38 0x080c9a47 in c_apply_n (fn=0x80b7dc7 <fLfuncall>, n=1, x=0x8228118)
\\>     at funlink.c:271
\\> #39 0x08050b14 in IapplyVector (fun=0x83cae4c, nargs=1, base=0x8228118)
\\>     at nfunlink.c:229
\\> #40 0x080b5d31 in funcall (fun=0x83cae4c) at eval.c:190
\\> #41 0x080b666d in funcall_no_event (fun=0x83cae4c) at eval.c:381
\\> #42 0x080b7be5 in eval (form=0x83af280) at eval.c:1092
\\> #43 0x080b63cf in funcall (fun=0x8553f78) at eval.c:327
\\> #44 0x080b666d in funcall_no_event (fun=0x8606c3c) at eval.c:381
\\> #45 0x080b7be5 in eval (form=0x83af280) at eval.c:1092
\\> #46 0x080b63cf in funcall (fun=0x8553f88) at eval.c:327
\\> #47 0x080b73ef in super_funcall (fun=0x8606ff0) at eval.c:743
\\> #48 0x0804b950 in main (argc=1, argv=0xfefff994, envp=0xfefff99c)
\\>     at main.c:369
\\> (gdb) c
\\> Continuing.
\\> 
\\> Error: Caught fatal error [memory may be damaged]
\\> Error signalled by PROGN.
\\> Broken at COND.  Type :H for Help.
\\> ACL2>>:bt
\\> 
\\> #0   LOAD {} [ihs=15]
\\> #1   COMPILE-ACL2 {} [ihs=8]
\\> #2   LOAD {loc0=nil,loc1=nil,loc2=nil,loc3=(lisp:lambda-block compile-acl2 nil ...)} [ihs=7]
\\> #3   EVAL {loc0=nil,loc1=nil,loc2=nil,loc3=#<compiled-function load>,loc4=#p"workxxx.lsp",...} [ihs=6]
\\> #4   TOP-LEVEL {} [ihs=5]
\\> #5   FUNCALL {loc0=#<compiled-function system:top-level>,loc1=nil,loc2=0,loc3=0,loc4=nil,loc5...} [ihs=4]
\\> NIL
\\> ACL2>>
\\> 
\\> 
\\> 
\\> 
\\
\\

\start
Date: Thu, 13 Jan 2005 13:42:34 -0500
From: Bill Page
To: William Sit
Subject: RE: Windows space in directory/file names

William,

On Thursday, January 13, 2005 9:48 AM you asked:
> 
> Regarding spaces in directories or files, in URL's they use 
> %20 (20h is ascii for space). Can something like that be
> done for files and directories? I admit that is ugly though.

No, I don't think so. But spaces in file names are not really
the problem. They are "officially" supported on both Windows
and Linux. Unfortunately application developers sometimes
forget this and do not test some of the specialised coding
that they do when processing file names. It is just a matter
of testing, finding such problems and fixing them.

\start
Date: Thu, 13 Jan 2005 10:49:46 -0800 (PST)
From: Cliff Yapp
To: Martin Rubey
Subject: re: hyperdoc

--- Martin Rubey wrote:

> Dear Tim,
> 
> I just found out. It depends on the setting of num-lock ! (serious!)

LOL!  An older verison of Mathematica on Linux had a num-lock problem
with it's UI, too!  My prof discovered it by accident, and so whenever
we would get random freeze-ups we'd go around and toggle num-lock. 
(Ah, life without being able to afford upgrades.  Ain't it fun?)
 
\start
Date: Thu, 13 Jan 2005 13:49:53 -0500
From: Bill Page
To: Tim Daly Jr.
Subject: RE: Windows space in directory/file names

Thanks for pointing out short path names on Windows. Yes,
I think this is very useful for supporting old lagacy
Windows/DOS applications that have not been updated to
support long file names (are there still out there?) No,
short paths can not include any spaces.

I think such a manipulation of the names might be appropriate
to include in the Windows version of the lisp TRUENAME
function (or a variant thereof) in order to supported older
programs. But in new coding, I think it will not be a problem
to support full long file names including spaces. It is just
a matter of finding and fixing the "gotcha's".

Regards,
Bill Page.

On Thursday, January 13, 2005 10:41 AM you wrote:
> 
> The windows sdk function GetShortPathName() will give you
> the standard 8.3 path that corresponds to a long path.
> I don't know if the 'short path' is explicitly not allowed
> to contain spaces, but it usually won't.  In my MinGW
> environment, I use a little utility I wrote for
> shortening paths based on this function.  If you say 
> 
>     shortpath c:/program files/
> 
> it says
> 
>     c:/PROGA~1/
> 
> Those paths can be used interchangeably, so you can just
> have programs that don't understand spaces in paths use
> the latter.  I've attached the utility.  gcc shouldn't
> need any special flags to compile it in MinGW.  Maybe you
> guys can cannibalize it for axiom.

\start
Date: Thu, 13 Jan 2005 13:34:49 -0500
From: Bill Page
To: Camm Maguire
Subject: RE: [Gcl-devel] Axiom on Windows GCL problems
Cc: Mike Thomas

Camm,

Thanks for the proposed patch.

As I understand you patch it will enclose the last two
command line paramaters in 'single' quotes. Unfortunately
this wont work on Windows since ' is treated quite differently
than ". What I need at actual "..." surrounding these
parameters. Will a patch like this with the \" escaped
succeed?

-      (format nil "~a -I~a ~a ~a -c -w ~a -o ~a"
+      (format nil "~a -I~a ~a ~a -c -w \"~a\" -o \"~a\""

Regards,
Bill Page.

On Thursday, January 13, 2005 9:31 AM you wrote:
> 
> Could you please try this:
> 
> --- /usr/lib/gcl-2.6.5/cmpnew/gcl_cmpmain.lsp	2004-09-03 
> 17:48:54.000000000 +0000
> +++ cmpnew/gcl_cmpmain.lsp	2005-01-13 14:29:32.000000000 +0000
> @@ -547,7 +547,7 @@
>      (setq na  (namestring
>  	       (make-pathname :name name :type 
> (pathname-type(first args)))))
>     #+(or dos winnt)
> -      (format nil "~a -I~a ~a ~a -c -w ~a -o ~a"
> +      (format nil "~a -I~a ~a ~a -c -w '~a' -o '~a'"
>  	      *cc*
>  	      (concatenate 'string si::*system-directory* "../h")
>  	      (if (and (boundp '*c-debug*) *c-debug*) " -g " "")
> 

\start
Date: 13 Jan 2005 13:52:41 -0500
From: Camm Maguire
To: Bill Page
Subject: Re: [Gcl-devel] Axiom on Windows GCL problems
Cc: Mike Thomas

Greetings!  OK, how about

(format nil "~a -I~a ~a ~a -c -w ~s -o ~s"

Take care,


Bill Page writes:

> Camm,
> 
> Thanks for the proposed patch.
> 
> As I understand you patch it will enclose the last two
> command line paramaters in 'single' quotes. Unfortunately
> this wont work on Windows since ' is treated quite differently
> than ". What I need at actual "..." surrounding these
> parameters. Will a patch like this with the \" escaped
> succeed?
> 
> -      (format nil "~a -I~a ~a ~a -c -w ~a -o ~a"
> +      (format nil "~a -I~a ~a ~a -c -w \"~a\" -o \"~a\""
> 
> Regards,
> Bill Page.
> 
> On Thursday, January 13, 2005 9:31 AM you wrote:
> > 
> > Could you please try this:
> > 
> > --- /usr/lib/gcl-2.6.5/cmpnew/gcl_cmpmain.lsp	2004-09-03 
> > 17:48:54.000000000 +0000
> > +++ cmpnew/gcl_cmpmain.lsp	2005-01-13 14:29:32.000000000 +0000
> > @@ -547,7 +547,7 @@
> >      (setq na  (namestring
> >  	       (make-pathname :name name :type 
> > (pathname-type(first args)))))
> >     #+(or dos winnt)
> > -      (format nil "~a -I~a ~a ~a -c -w ~a -o ~a"
> > +      (format nil "~a -I~a ~a ~a -c -w '~a' -o '~a'"
> >  	      *cc*
> >  	      (concatenate 'string si::*system-directory* "../h")
> >  	      (if (and (boundp '*c-debug*) *c-debug*) " -g " "")

\start
Date: Thu, 13 Jan 2005 13:41:29 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: Axiom Programmers and Axiom Developers

Axiom *

I forget one thing when I described the additional programs
that are needed to support Axiom programming under Windows.
Axiom Programmers should (optional for Axiom Users and
mandatory for Axiom Developers) also install support for
LaTeX. Of course it is essential that developers, programmers
and even Axiom users devote as much effort as possible to
preparing accurate and easy to read documentation, otherwise
a great deal of effort and intellectual investment in can
be quickly lost.

Axiom Users can also optionally use TeXmacs

http://www.texmacs.org

to interact with Axiom and to prepare high quality mathematical
documents.

The standard form for all Axiom programs and documentation is
the noweb extension of LaTeX (called "pamphlet files" in Axiom
terminology). Pamphlet files contain both documentation and the
program code itself. This format is used for all internal Axiom
coding and the entire Algebra library. It is expected that new
Algebra that is intended by it's author to be shared with other
Axiom users will also be prepared in pamphlet format.

Unfortunately pamphlet format is not (yet) fully supported by
TeXmacs.

There are several Windows compatible versions of LaTeX to choose
from. The one that I have used very successfully is MikTeX
( http://www.miktex.org/ ). To install MikTeX click

http://www.miktex.org/setup.html

and follow the instructions. If your computer is connected to
the Internet then the "small" version (small-miktex-2.4.1705.exe)
will be sufficient for use with Axiom.

For Windows users who have no previous experience with LaTeX
(and even if you do) I would also recommend that you install
a good LaTeX-aware text editor. See

http://www.miktex.org/links.html

One of the easiest to use and completely open source is
TeXnicCenter

http://www.toolscenter.org/front_content.php?idcat=26

Click 'download' and select "TeXnicCenter Setup, Version 1
beta ...". This is a self-installing file. If you install
TeXnicCenter after MikTeX, it will be automatically configured
to support MikTeX.

TeXnicCenter is very easy to use for LaTeX beginners and
it is will supported by it's developers and the users group.
It is also quite easily configured to support LaTeX extensions
such as noweb.

Regards,
Bill Page.

On Wednesday, January 12, 2005 9:33 PM I wrote:
> 
> What besides the contents of the mnt directory is
> required before one can compile library files? Well,
> just the C compiler, of course. On windows the
> minimum additional software that has to be installed
> is called MinGW ( http://www.mingw.org/ ) and consists
> of the "mingw-runtime, w32api, binutils and gcc tarball
> packages" from ( http://www.mingw.org/download.shtml ):
> 
> http://prdownloads.sf.net/mingw/mingw-runtime-3.5.tar.gz?download
> 
> http://prdownloads.sf.net/mingw/w32api-3.2.tar.gz?download
> 
>
http://prdownloads.sf.net/mingw/binutils-2.15.91-20040904-1.tar.gz?download
> 
> http://prdownloads.sf.net/mingw/gcc-core-3.4.2-20040916-1.tar.gz?download
> 
> You need to download each of these files and unzip them
> (using a Windows shareware (evaluation version) program
> like WinZip http://www.winzip.com/ http://www.7-zip.org/
> or other free equivalent will do) directly into the::
> 
>   mnt/windows
> 
> directory, the root of your Axiom installation. This is
> the most convenient place because the Axiom installation
> has already added this location to the path that allows
> your system to find and execute this programs.
> 
> FINALLY, there is one more thing that you need add. One of
> the unix compatibility programs called rm.exe is missing
> from::
> 
>   mnt/windows/bin
> 
> Click on
> 
> http://page.axiom-developer.org/rm.exe
> 
> and choose "Save As". Locate the `mnt\windows\bin'
> directory and click Save.
> 
> Now at last you have a Windows Axiom Programmer's system
> configuration. You will be able to create, modify and
> compile spad files to create your own customized mathematical
> library.

\start
Date: Thu, 13 Jan 2005 15:42:58 -0500
From: Tim Daly
To: Martin Rubey
Subject: Re: hyperdoc

Martin,

re: numlock. glad you found it. i'll make it a FAQ item.

re: hypertex -> texinfo

I'm in the process of re-implementing hypertex in common lisp.
This will make it portable across platforms and solve the various
port problems we're wasting our time on.

I realize that texinfo is a well-known (at least by those who
know it, which I don't) text style. However the machinery is
already in place to interpret hypertex pages. The main advantage
of the hypertex page format is that it is "nearly tex" so it
might be possible to extend hypertex to work directly from the
pamphlet file format axiom uses.

The easiest conversion would be hypertex pages -> lisp forms
which would allow users to define their own pages to do virtually
anything. But lisp syntax is about as widely known as texinfo :-)
It does, however, make the page-parser trivial, speeds reading,
and makes auxillary code like htadd pointless.

But in the longer the whole hypertex browser needs redesign.
It was written before browsers existed and is showing its age.
My short term goal is to just get it working everywhere, not to
change it as that way lies endless work. 

The longer term goal is either to merge it with the mathaction wiki
code (assuming we can make that run on a users machine), merge it
into TeXmacs or expand it to become more of the "crystal" idea.
But much design discussion has to occur before we trek off into
new areas and we're not ready yet.

\start
Date: Thu, 13 Jan 2005 15:46:53 -0500
From: Tim Daly
To: Camm Maguire
Subject: Re: [Gcl-devel] [Charles Miller: magnus and axiom questions]
Cc: Charles Miller

Camm,

I'm not sure how you can tell the various FC* boxes apart.
However for FC3 GCL 2.6.5 is known not to work. 
Perhaps that's a good test :-)

Seriously, you'd think someone would write this down somewhere.
I'm a fedora developer. I'll complain about it.

\start
Date: Thu, 13 Jan 2005 15:59:12 -0500
From: Tim Daly
To: Camm Maguire
Subject: (no subject)

Camm,

The reliable way to tell which redhat system or FC* system you 
are using is to look at:

/etc/redhat-release

\start
Date: 13 Jan 2005 15:28:42 -0500
From: Camm Maguire
To: Tim Daly
Subject: Re: [Gcl-devel] [Charles Miller: magnus and axiom questions]
Cc: Charles Miller

Greetings, and thanks!  Turns out my test box does indeed now run
FC3.  I've verified and posted a fix for the problem.  Did you happen
to see that?  The ACL2 people have also verified the fix.  Will place
on the errata page shortly.

Take care,

Tim Daly writes:

> Camm,
> 
> I'm not sure how you can tell the various FC* boxes apart.
> However for FC3 GCL 2.6.5 is known not to work. 
> Perhaps that's a good test :-)
> 
> Seriously, you'd think someone would write this down somewhere.
> I'm a fedora developer. I'll complain about it.

\start
Date: Thu, 13 Jan 2005 16:16:27 -0500
From: Tim Daly
To: Camm Maguire
Subject: Re: [Gcl-devel] [Charles Miller: magnus and axiom questions]
Cc: Charles Miller

yep. i saw your fix (i'm also on the acl2 mailing list)
(note to self: get on gcl-devel).

i now have 2 fixes to apply, one to cmpnew/gcl_cmpmain and
one to h/386-linux.h

\start
Date: Thu, 13 Jan 2005 14:54:32 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [DynamicFunctionDomains] 

++added:
Compiling g is still a problem in Axiom due to
signature limitation. At least this way, inlining
a complicated function is almost like a function call.

The idea is: Since in creating domains (or any other
types of constructors), we are in effect creating a
function(the domain constructor PPF is a function of
sort, or functor) and the compiler can take dependent
types in its signature,structurally::

  PPF(n:PositiveInteger)==PrimeField(n) with foo

so it should be able to compile something like g by
lifting it to the package level.

So here is another way using package.

\begin{axiom}
)abbrev package FOO Foo
--%Foo
Foo(n:PositiveInteger, k:PositiveInteger):T==C where
  T == with
       point:()->PrimeField(n)
  C == add
       point()==k::Integer::PrimeField(n)
\end{axiom}

After compiling, we can use::

  point()$Foo(n,k)

in any computation in compiler code (and in interpreter). Still
can't call this bar(n,k) unless you use a macro expansion:

\begin{axiom}
bar ==>point()$Foo
bar(4,7)
\end{axiom}

Can someone give an example where the *signature* of bar::

  bar: (n: PositiveInteger, k: PositiveInteger) -> PrimeField(n)

is actually needed?

\start
Date: Thu, 13 Jan 2005 16:03:11 -0500
From: Bill Page
To: Camm Maguire
Subject: RE: [Gcl-devel] Axiom on Windows GCL problems
Cc: Mike Thomas

Camm,

On Thursday, January 13, 2005 1:53 PM you wrote:
> 
> Greetings!  OK, how about
> 
> (format nil "~a -I~a ~a ~a -c -w ~s -o ~s"
> 

Thanks, that works perfectly! I have added it to the
Axiom patches in the axom--windows-1 branch.

Shouldn't this patch also apply to the linux version?
(Some weird linux people might also use spaces in
paths.)

\start
Date: 13 Jan 2005 16:02:11 -0500
From: Camm Maguire
To: Tim Daly
Subject: re: [Gcl-devel] [Charles Miller: magnus and axiom questions]
Cc: Charles Miller

Greetings!

Tim Daly writes:

> yep. i saw your fix (i'm also on the acl2 mailing list)
> (note to self: get on gcl-devel).
> 
> i now have 2 fixes to apply, one to cmpnew/gcl_cmpmain and
> one to h/386-linux.h
> 

Is the first one the windows space-in-pathname issue?  Does the fix
work?  If so it too will go on the errata.

\start
Date: Thu, 13 Jan 2005 16:07:33 -0500
From: Bill Page
To: William Sit
Subject: re: [Aldor-l] RE: Axiom domains and Aldor return types

William,

On Thursday, January 13, 2005 4:00 PM I wrote:
>
> On Thursday, January 13, 2005 4:47 AM you wrote:
> >
> > Here's is the edit on DynamicFunctionDomains page. When I
> > tried preview and save, it said "cannot find server".
>
>
> Anyway, no problem. I will update it for you.

Ok, it done. See

http://page.axiom-developer.org/zope/mathaction/DynamicFunctionDomains#ms=
g20
050113145432-0600@page.axiom-developer.org

but notice that your use of the macro near the end produces
and error.

> bar ==>point()$Foo
>
>                  Type: Void
>bar(4,7)
>   Although Foo is the name of a constructor, a full type must be
>      specified in the context you have used it. Issue )show Foo for
>      more information.

It appears to be trying to evaluate bar before concatonation with
`(4,7)'.

I get the same behaviour on my desktop.

\start
Date: Thu, 13 Jan 2005 16:27:39 -0500
From: Tim Daly
To: Kostas Oikonomou
Subject: Re: Graphics in patch 23]

Kostas,

I believe that sman will accept a -debug option these days.
Modify your axiom shell script in $AXIOM/bin, add -debug to the
sman command line, try it again and send me the console log.

\start
Date: Thu, 13 Jan 2005 16:00:16 -0500
From: Bill Page
To: William Sit
Subject: re: [Aldor-l] RE: Axiom domains and Aldor return types

William,

On Thursday, January 13, 2005 4:47 AM you wrote:
> 
> Here's is the edit on DynamicFunctionDomains page. When I 
> tried preview and save, it said "cannot find server".

That's strange because obviously you were just accessing the
server. Are you also having problems with other web sites?
Please let me know if it happens again. Perhaps there is
an intermittant network problem at the site where MathAction
is hosted.

Anyway, no problem. I will update it for you.

> 
> Once this is done, we can turn this into a tutorial of
> sorts. The package version seems a good workaround except
> for the signature.

Yes, I think that is an excellent idea. That is exactly
the use for which MathAction was intended.

I will comment separately about the "signature".

\start
Date: Thu, 13 Jan 2005 14:24:39 -0800
From: Bob McElrath
To: Tim Daly
Subject: Re: (no subject)
Cc: Camm Maguire


root [Tim Daly] wrote:
> Camm,
> 
> The reliable way to tell which redhat system or FC* system you 
> are using is to look at:
> 
> /etc/redhat-release

Which isn't so reliable since you can upgrade all the rpm's on your
system to FC3, and /etc/redhat-release will indicate FC2.

\start
Date: Thu, 13 Jan 2005 14:34:54 -0800
From: Bob McElrath
To: Tim Daly
Subject: re: hyperdoc

root [Tim Daly] wrote:
> But in the longer the whole hypertex browser needs redesign.
> It was written before browsers existed and is showing its age.
> My short term goal is to just get it working everywhere, not to
> change it as that way lies endless work. 
> 
> The longer term goal is either to merge it with the mathaction wiki
> code (assuming we can make that run on a users machine), merge it
> into TeXmacs or expand it to become more of the "crystal" idea.
> But much design discussion has to occur before we trek off into
> new areas and we're not ready yet.

I can separate the latex and stx pieces from the rest of latexwiki, in
order to render documents that users can view in their web browser.
(i.e. dumping zwiki and zope)  It will still require
latex/ghostscript/dvips/PIL or itex, and of course python.  I expect at
this point someone to shout "do it in lisp!"  ;)

However, it will still require some kind of server to render the
documents since a web page, running on a local machine, cannot call
external programs such as axiom and latex.

Maybe hyperdoc could evolve into that server?  e.g. typing hyperdoc
spawns mozilla... or )help in axiom spawns mozilla (or opens a new tab
in your existing mozilla).

\start
Date: Thu, 13 Jan 2005 17:47:36 -0500
From: Bill Page
To: William Sit
Subject: RE: Axiom domains and Aldor return types
Cc: Ralf Hemmecke

I think these are great examples with which to examine
some fundamental ideas in Axiom!

On Thursday, January 13, 2005 2:56 AM you wrote:
>...

> --%PointedPrimeField
> )abbrev domain PPF PointedPrimeField
> PointedPrimeField(n:PositiveInteger):Cat==Dog where
>   Cat == FiniteFieldCategory with
>     foo:PositiveInteger->PrimeField(n)
>   Dog == PrimeField(n) add
>     foo(k)==k::Integer::PrimeField(n)
>
> After compiling, define in the interpreter
>
> g(n,k)==foo(k)$PPF(n)
>
> Compiling g is still a problem in Axiom due to signature
> limitation. At least this way, inlininga complicated
> function is almost like a function call.
>

>From a mathematical point of view I think this "signature
limitation" in Axiom is natural and that Aldor goes too
far in allowing a construction like

  g(n:Integer,k:Integer):PrimeField(n)

when defining functions. The reason is that I do not see
how it is possible to interpret PrimeField(n) as a domain
in the normal ("categorical") sense, in this context where
the value of n is not known.

Of course from a programming point of view we do know how
to interpret the Aldor construction and apparently Aldor
knows how to compile it. But I do not think that this
necessarily makes it desirable in a language that is
primarily intended to be efficient and accurate in the
definition of mathematical concepts.

> 
> The idea is: Since in creating domains, we are in effect 
> creating a function (the domain constructor PPF is a
> function of sort, or functor) and the compiler can
> take dependent types in its signature, structurally:
>   PPF(n:PositiveInteger)==PrimeField(n) with foo so it
> should be able to compile something like g by lifting 
> it to the package level.

Yes! I think you are exactly right. And it is politically
correct from the Axiom perspective to refer to this
construction as a "functor". I think it is a *good thing*
that Axiom's syntax encourages one to make this distinction.

> 
> So here is another way using package.
> 
> --%Foo
> )abbrev package FOO Foo
> Foo(n:PositiveInteger, k:PositiveInteger):T==C where
>   T == with
>        point:()->PrimeField(n)
>   C == add
>        point()==k::Integer::PrimeField(n)
> 
> After compiling, we can use
> 
>   point()$Foo(n,k)
> 
> in any computation in compiler code (and in interpreter). 
> Still can't call this g(n,k) unless you use a macro
> expansion:
> 
> g(n,k)==>point()$Foo(n,k)
> 

The use of a macro is ok because no signature is implied.

I think I prefer your first construction to the latter
because it is nice to think conceptually of foo(k) as
belonging to each of the PPF(n) domains, i.e. for each n.

Thinking of Foo(n,k) as a collection of "domains"
parameterized by n and k; and point() as belonging to
each such domain seems a little unnatural. Well I guess,
because Foo is a package ... Packages are for convenient
programming, not mathematical relationships.

I suppose what I am trying to say is that in the design
of the Axiom language we should be aware not only of
programming issues but also conceptual mathematical issues.

\start
Date: Thu, 13 Jan 2005 18:40:51 -0500
From: Tim Daly
To: Camm Maguire
Subject: re: [Gcl-devel] [Charles Miller: magnus and axiom questions]
Cc: Charles Miller

Camm,

the question "does the fix work" will take a few days to answer
just because i have the whole system all over the floor in parts
at the moment and nothing works.

i'll let you know though.

\start
Date: Thu, 13 Jan 2005 18:10:02 -0500
From: Bill Page
To: Bob McElrath
Subject: re: hyperdoc

On Thursday, January 13, 2005 5:35 PM Bob McElrath wrote:
> root [Tim Daly] wrote:
> > 
> > The longer term goal is either to merge it with the mathaction
> > wiki code (assuming we can make that run on a users machine),
> > merge it into TeXmacs or expand it to become more of the
> > "crystal" idea. But much design discussion has to occur before
> > we trek off into new areas and we're not ready yet.
> 
> I can separate the latex and stx pieces from the rest of latexwiki,
> in order to render documents that users can view in their web
> browser. (i.e. dumping zwiki and zope)  It will still require
> latex/ghostscript/dvips/PIL or itex, and of course python.  I 
> expect at this point someone to shout "do it in lisp!"  ;)

Not me. :)

> 
> However, it will still require some kind of server to render the
> documents since a web page, running on a local machine, cannot
> call external programs such as axiom and latex.

I don't think that it is necessary to dump zwiki and zope.
It is quite possible to install and configure these to run
only locally on a workstation. zope is a bit "heavy" as a
workstation application but these days most machines have the
power available to both run zope and run a web browser (while
tying their shoelaces ... :)

So that was really the "Doyen" idea that Tim and I were
discussing a while back - to make a version of MathAction
(i.e. LatexWiki+Axiom) that was tailored to run on a single
user desktop but to support all of the functionality that
one gets via the web.

> 
> Maybe hyperdoc could evolve into that server?  e.g. typing
> hyperdoc spawns mozilla... or )help in axiom spawns mozilla
> (or opens a new tab in your existing mozilla).
> 

Yes, exactly! The idea is that one can use the wiki interface
privately. I think this makes a lot of sense for people working
on complex projects and who want a way to keep track and find
things later. It becomes a sophisticated kind of "personal
information manager". But then when you are ready, you already
have a lot of your material in a format that you could upload
to a central "Doyen" server running essentially the same
software (on a bigger faster well-connected machine).

Actually, completing the development of a "desktop MathAction"
is coming higher up on my todo list now that we have the Windows
version of Axiom (mostly) in hand. In fact I think I might try to
set it up on Windows first just for the challenge of running
LatexWiki in that environment (Zope and ZWiki both work on
windows out-of-the-box). I would very much like to be able to
offer this as an alternative to TeXmacs because I really like
the idea of building on top of very reliable functionality such
as LaTeX. I think it is going to take TeXmacs a long time to
get to an equivalent state. Plus the hyperlink functionality
makes more sense to me in an interface that is primarily a
browser, not an editor.

\start
Date: 13 Jan 2005 18:10:12 -0500
From: Camm Maguire
To: Bill Page
Subject: re: [Gcl-devel] Axiom on Windows GCL problems
Cc: Mike Thomas

Greetings!

Bill Page writes:

> Camm,
> 
> On Thursday, January 13, 2005 1:53 PM you wrote:
> > 
> > Greetings!  OK, how about
> > 
> > (format nil "~a -I~a ~a ~a -c -w ~s -o ~s"
> > 
> 
> Thanks, that works perfectly! I have added it to the
> Axiom patches in the axom--windows-1 branch.
> 
> Shouldn't this patch also apply to the linux version?
> (Some weird linux people might also use spaces in
> paths.)
> 

Linux used the single quotes, but I've changed in to -s for
consistency in the proposed possible 2.6.6.

\start
Date: Fri, 14 Jan 2005 08:57:17 +1000
From: Mike Thomas
To: list
Subject: RE: documenting changes

Hi Tim.

I should offer some explanation and reassurance - I do, after all, admire
your boundless energy and the great work you have done with Axiom.  In
particular, I can assure you that I support your ideas on documentation
completely.

| I'm in the process of trying to merge the axiom--windows--1 branch
| with the axiom--main--1 branch.

Thanks, we all appreciate it.

| There are dozens of files with changes and no documentation.
| It is painfully obvious that the message isn't getting out.

Actually your message did get through but we are both victims of
circumstances most of the details of which I will spare you.

Briefly, the issues for me are time, and an almost complete failure to use
'arch' on Windows, either to download OR to upload Axiom.  If I resolve
those issues I promise to go back over the modifications and help out with
documentation.  Meanwhile, I hope that the premature upload of the Windows
source code will pay off by allowing everyone else to get to work and to
bring a great program to the masses.

\start
Date: Thu, 13 Jan 2005 18:46:27 -0500
From: Kostas Oikonomou
To: Tim Daly
Subject: Graphics in Solaris, patch 24

On Thu, 13 Jan 2005 16:27:39 -0500, Tim Daly wrote:

> Kostas,
>
> I believe that sman will accept a -debug option these days.
> Modify your axiom shell script in $AXIOM/bin, add -debug to the
> sman command line, try it again and send me the console log.

Tim,

I've traced the problem, partially.  In int/sman/sman.c, I did the follow=
ing:
==========================
==========================
====
   if (ptyopen(&ptcNum, &ptsNum, ptcPath, ptsPath) == -1) {
     perror("start_the_Axiom: ptyopen failed");
     exit(-1);
   }
   fprintf(stderr, "\n-----  K.O. : ptsPath = '%s'\n", ptsPath);
   fix_env(envp, server_num);
   fork_Axiom();
   close(ptsNum);
==========================
==========================
====

I get the output


==========================
==========================
====

bash-2.05$ sman -debug
   sman -clef -gr -nonag -ht -noiw -ihere -ihere -ws '$AXIOM/bin/AXIOMsys=
' -grprog '$AXIOM/lib/viewman' -nagprog '$AXIOM/lib/nagman' -htprog '$AXI=
OM/bin/hypertex -s' -clefprog '' -sessionprog '$AXIOM/lib/session' -clien=
tprog '$AXIOM/lib/spadclient'
sman:process_arguments exit
sman:process_options exit

-----  K.O. : ptsPath = ''

fork_Axiom: Failed to reopen server: No such file or directory
sman:start_the_local_spadclient: $AXIOM/bin/clef -f $AXIOM/lib/command.li=
st -e   $AXIOM/lib/spadclient
clef trying to get the initial terminal settings: Invalid argument
bash-2.05$
==========================
==========================
====


So the empty ptsPath causes the "Failed to reopen server: No such file or=
 directory"
I also tried running "sman -debug" as root.  Same result.

\start
Date: Thu, 13 Jan 2005 15:39:04 -0800
From: Bob McElrath
To: Bill Page
Subject: re: hyperdoc

Bill Page [Bill Page] wrote:
> I don't think that it is necessary to dump zwiki and zope.
> It is quite possible to install and configure these to run
> only locally on a workstation. zope is a bit "heavy" as a
> workstation application but these days most machines have the
> power available to both run zope and run a web browser (while
> tying their shoelaces ... :)

It's not computer power I'm worried about, but user effort required to
get axiom working.

> So that was really the "Doyen" idea that Tim and I were
> discussing a while back - to make a version of MathAction
> (i.e. LatexWiki+Axiom) that was tailored to run on a single
> user desktop but to support all of the functionality that
> one gets via the web.

This is a cool idea.

> > Maybe hyperdoc could evolve into that server?  e.g. typing
> > hyperdoc spawns mozilla... or )help in axiom spawns mozilla
> > (or opens a new tab in your existing mozilla).
> 
> Yes, exactly! The idea is that one can use the wiki interface
> privately.

The list of prerequisites for running axiom is huge, and getting worse
it seems!  So in the interest of having something people can download
that is functional with a minimum of effort, I think axiom (and any help
system or hyperdoc) should be decoupled from zope and zwiki.  A download
(think windoze users here) which included zope, zwiki, latex,
ghostscript, python, PIL, gcl, gcc, *and* axiom, is too much, methinks.

Of course, we can do both without a problem.  The code base would be the
same in zwiki and standalone.  I now have a WikiDocument.py that does
90% of the processing (I have rewritten the majority of StructuredText),
and this can be distributed with axiom (with the LatexDocument.py and
PamphletDocument.py that will inherit from WikiDocument.py).  These are
the same files that are used by zope/zwiki.

> Actually, completing the development of a "desktop MathAction"
> is coming higher up on my todo list now that we have the Windows
> version of Axiom (mostly) in hand. In fact I think I might try to
> set it up on Windows first just for the challenge of running
> LatexWiki in that environment (Zope and ZWiki both work on
> windows out-of-the-box). I would very much like to be able to
> offer this as an alternative to TeXmacs because I really like
> the idea of building on top of very reliable functionality such
> as LaTeX.

In the longer-term, do you actually want to run latex?  

I have been contemplating a pagetype which is faux-latex.  That is,
reads a handful of basic latex primitives and converts them to HTML,
whithout actually calling latex itself.  It would use itex (MathML) for
equations.  This can be feature-complete, but would be a restricted
subset of latex.  Also, it would not require latex/ghostscript/PIL at
all, if the user can view XHTML+MathML...

The other way to go is to actually use latex (or tth) to process
pamphlet files to html (or XHTML+MathML).  This route is slower (because
latex is slow -- and tth is very slow), but more thorough in the case of
obtuse latex usage.  Handling \def and \newcommand should be possible
for simple cases, but not the more advanced latex programming.

One last comment...itex is a simple lex/yacc program.  It should be
possible to implement/convert to lisp or python, so that axiom or
latexwiki can natively produce MathML output, and reducing by one our
external program dependencies.  Google tells me there are many LALR
parsers out there in lisp.

\start
Date: 13 Jan 2005 18:08:42 -0500
From: Camm Maguire
To: Aurelien Chanudet, Mike Thomas, Matt Kaufmann, Paul F. Dietz, James Amundson, Vadim V. Zhytnikov, Robert Boyer, Warren Hunt
Subject: GCL 2.6.6 branch created

Greetings!  OK, I've rolled the known fixes into a 2.6.6 CVS branch.
The changelog is below.

gcl (2.6.6-1) unstable; urgency=high

  * New upstream release
  * Allow .data section to be first in executable, as on solaris.  Also
    allow for new bfd section size semantics
  * Don't try to write map file when not using GNU ld.  Also allow
    compile-file to process pathnames with whitespace on Windows
  * Fix corner case fixnum arithmetic on 64bit machines
  * Rework gmp_wrappers semantics for older gcc
  * Explicitly mprotect loaded code pages PROT_EXEC on x86 Linux, as FC3
    now requires it.
  * lisp-implementation-version is GCL
  * Reader extension patch allowing for foo::(bar foobar) semantics

 -- Camm Maguire  Thu, 13 Jan 2005 23:03:23 +0000


If anyone knows anything else which should go in to this bug-fix only
point release, please let me know in the next few days.  Starting next
week, I will be away for 1 month.

If anyone needs assistance building the tree for testing purposes,
please let me know.

Please also pass this on to any other interested parties I may have
neglected in the address list.

One item not yet addressed which I may get to in time is the recent
SGC/MacOSX instability, which I'm hoping Aurelien can shed light on.

\start
Date: Thu, 13 Jan 2005 20:01:59 -0500
From: Tim Daly
To: Bob McElrath
Subject: re: hyperdoc

> > So that was really the "Doyen" idea that Tim and I were
> > discussing a while back - to make a version of MathAction
> > (i.e. LatexWiki+Axiom) that was tailored to run on a single
> > user desktop but to support all of the functionality that
> > one gets via the web.
> 
> This is a cool idea.


> The list of prerequisites for running axiom is huge, and getting worse
> it seems!  So in the interest of having something people can download
> that is functional with a minimum of effort, I think axiom (and any help
> system or hyperdoc) should be decoupled from zope and zwiki.  A download
> (think windoze users here) which included zope, zwiki, latex,
> ghostscript, python, PIL, gcl, gcc, *and* axiom, is too much, methinks.


The Doyen idea is to have a "science platform" that comes in two parts.
The host part is an expanded wiki which contains areas where people can
cooperate, either privately or publicly. It also contains literate
programs that people can "drag and drop" onto their local wiki.

The local part is on a bootable CD (a special version of Knoppix)
that can be given out at a conference. The user can boot the CD
without affecting their hard drive and try the software. It can
also be installed from the CD.

The "big picture idea" is that copies of the Doyen could be given out
at a science conference. The presenter could give a demonstration from
the network wiki Doyen. A literate copy of the paper would be available
online. The audience, while listening to the talk, could drag and drop
the paper onto their newly-booted doyen (which, being a literate program,
contains the code which is automatically unpacked, installed, and runnable).
The audience could run the program while the talk is ongoing and when they
leave the talk they have both the paper and the algorithm.

The literate program could be developed by cooperating parties on a
private area of the doyen and then "published" by putting it on the
public area.

The wiki software is a good front-end idea for making this work.
The audience could actually change the online version to improve it.
And they can run it to verify things like performance claims, etc.

\start
Date: Thu, 13 Jan 2005 19:16:37 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [Axiom-mail] Axiom Users, Axiom Programmers and Axiom Developers

On Thursday, January 13, 2005 6:37 PM Billinghurst,David (CALCRTS)
wrote:
> 
> From: Page, Bill
> > I was very surprized when Axiom went all the way through
> > the spad compile and then told me (well GCL told me, really)
> > that it could not find `gcc'!
> 
> The Windows maxima binary package, also built with gcl, includes
> gcc.exe, cc1.exe, as.exe and the few header files required.  
> I can provide more details if needed.  
> 

So this would be the minimum list of files that are needed by
GCL in order to do a compile and where to put them? Yes, please.

I would also prefer to include these files in the Axiom
installation program so that no other software installations
are required by the user to get a fully functional system.

\start
Date: Thu, 13 Jan 2005 20:49:28 -0500
From: Tim Daly
To: Kostas Oikonomou
Subject: Re: Graphics in Solaris, patch 24

Kostas,

Are you running sman in an xterm?

\start
Date: Thu, 13 Jan 2005 17:36:24 -0800 (PST)
From: Cliff Yapp
To: Bob McElrath, Bill Page
Subject: re: hyperdoc

> The list of prerequisites for running axiom is huge, and getting
> worse it seems!

This will be an eternal struggle.  Taking advantage of "standard"
external tools is a good way to integrate well with the rest of the
world and accomplish things that would take too much work internally,
but by the same token you are more reliant on those other parts being
present and implimented correctly.

Linux et. al. take this much further than Windows tends to, just by the
nature of the systems (free license, free updates, no extra cost to
include other people's software, open code).  

> So in the interest of having something people can download
> that is functional with a minimum of effort, I think axiom (and any
> help system or hyperdoc) should be decoupled from zope and zwiki.  A
> download (think windoze users here) which included zope, zwiki, 
> latex, ghostscript, python, PIL, gcl, gcc, *and* axiom, is too much,
> methinks.

Heh - even I agree there.  Perhaps it would be best to acknowledge the
reality that if one wants to take advantage of all the vast
possibilities of open source software, that's going to be at odds with
having the full power of the system available on all platforms,
particularly Windows, as a single package.  Surely power users who are
willing and able to use the full web-like setup, instead of just a
TeXmacs or Mathematica like document interface, would be willing to set
it up or at the very least boot a live Linux CD loaded with the full
set of Axiom tools and dependancies. 

> Of course, we can do both without a problem.  The code base would be
> the same in zwiki and standalone.  I now have a WikiDocument.py that 
> does 90% of the processing (I have rewritten the majority of
> StructuredText), and this can be distributed with axiom (with the 
> LatexDocument.py and PamphletDocument.py that will inherit from 
> WikiDocument.py).  These are the same files that are used by 
> zope/zwiki.

Right - the system is flexible.  I think the important thing to do is
think about how much time should be invested (or rather people are
interested in investing) in getting the whole spectrum of tools running
on Windows.  Personally I think the marginal gain is minimal - most end
users will likely be perfectly content, and probably more comfortable
in the beginning, with a basic document interface.  Those who are
wanting to go the extra mile surely would also be able to investigate
Linux or FreeBSD or at least a live cd of some sort.
 
> I have been contemplating a pagetype which is faux-latex.  That is,
> reads a handful of basic latex primitives and converts them to HTML,
> whithout actually calling latex itself.  It would use itex (MathML)
> for equations.  This can be feature-complete, but would be a 
> restricted subset of latex.  Also, it would not require 
> latex/ghostscript/PIL at all, if the user can view XHTML+MathML...
>
> The other way to go is to actually use latex (or tth) to process
> pamphlet files to html (or XHTML+MathML).  This route is slower
> (because latex is slow -- and tth is very slow), but more thorough 
> in the case of obtuse latex usage.  Handling \def and \newcommand 
> should be possible for simple cases, but not the more advanced latex 
> programming.

Um - how much of the expressive power of LaTeX do we want to duplicate
or express in Axiom?  If people want to do LaTeX documents with Axiom
embedded in them, isn't that the more logical approach than trying to
get what is essentially a web rendering of LaTeX documents going?

Probably the relevant question here is - what is the intended use of
this system?  How much of the full power of LaTeX would be needed for
the uses this system is intended for?

Not that I'm qualified to discuss most of this :-).  I tend to like my
Mathematica style workbook for doing the math, and then if I want it
online I convert it to a web format.  Collaborative work via wiki
sounds interesting, but I suspect many old fogies like me will be slow
to adapt to it.  ;-)   

\start
Date: Thu, 13 Jan 2005 20:55:25 -0500
From: Kostas Oikonomou
To: Tim Daly
Subject: Re: Graphics in Solaris, patch 24

No, but in something equivalent, a terminal window in the CDE (Common Des=
ktop Environment).
I also just tried in in an xterm with the same results.  I'll work on it =
some more.

> Kostas,
>
> Are you running sman in an xterm?

\start
Date: Thu, 13 Jan 2005 21:24:47 -0500
From: Kostas Oikonomou
To: Tim Daly
Subject: Graphics in Solaris, patch 24, fixed!

Ok, I fixed it, although the fix is not elegant :-)

In int/lib/openpty.c add the #define shown below:


#include "useproto.h"
#include <stdlib.h>
#include <unistd.h>
#include <stdio.h>
#include <fcntl.h>
#include <string.h>

#define SUN4OS5platform   <----------------


It seems to me this should be fixable by putting in src/sman/Makefile.pam=
phlet

CFLAGS=	${CCF} -DSUN4OS5platform

but somehow that definition doesn't seem to work.  I can't see it in the =
output of the make.

Anyhow, everything works now!

\start
Date: Thu, 13 Jan 2005 22:29:18 -0500
From: Tim Daly
To: Kostas Oikonomou
Subject: Re: Graphics in Solaris, patch 24, fixed!

Kostas,

I've created a solaris9 section in the top level Makefile.pamphlet.
and added your variable. There is a "PLF" (platform) variable defined
at the top level. In your case it probably defaulted to "LINUXplatform".
In the solaris9 branch it will default to SUN4OS5platform

You should only have to do:

export AXIOM=`pwd`/mnt/solaris9
                       ^^^^^^^^

and it will define the variable properly.

This will be available at the next patch level, which I'm working
to construct now. It is taking a lot longer than I expected but I'll
let you know when it exists.

Thanks for the good detective work.

\start
Date: Thu, 13 Jan 2005 22:06:24 -0500
From: Kostas Oikonomou
To: Tim Daly
Subject: Re: Graphics in Solaris, patch 24, fixed!


> I've created a solaris9 section in the top level Makefile.pamphlet.
> and added your variable. There is a "PLF" (platform) variable defined
> at the top level. In your case it probably defaulted to "LINUXplatform"=
.
> In the solaris9 branch it will default to SUN4OS5platform

I just thought of the PLF variable myself, a few minutes ago!  In my case=
,
it is "sol9gccplatform".   Because I've defined a sol9gcc chunk in the to=
p-level
Makefile.pamphlet (which I haven't sent you).
I'm not sure what is the best way to fix this.  My sol9gcc chunk is diffe=
rent from the
already-existing SUN4OS5 chunk, which would have defined PLF appropriatel=
y.

I'm going to leave that to you :-)

One question:  how do I check in what I have?  I know only the rudiments =
of
arch.  And is it going to check in all of my axiom--main--1--patch-23?

				Kostas


> You should only have to do:
>
> export AXIOM=`pwd`/mnt/solaris9
>                        ^^^^^^^^
>
> and it will define the variable properly.
>
> This will be available at the next patch level, which I'm working
> to construct now. It is taking a lot longer than I expected but I'll
> let you know when it exists.
>
> Thanks for the good detective work.

\start
Date: Thu, 13 Jan 2005 22:36:06 -0500
From: Tim Daly
To: Kostas Oikonomou
Subject: Re: Graphics in Solaris, patch 24, fixed!

Kostas,

Could you check in your changes to the axiom--solaris--1 branch?
I'll work to put them into the --main tree.

\start
Date: Fri, 14 Jan 2005 00:17:02 -0500
From: Tim Daly
To: Kostas Oikonomou
Subject: Re: Graphics in Solaris, patch 24, fixed!

Kostas,

ummm. hmpf. can you tar it up and put it where i can ftp it?
if not, i can set up a userid for you on axiom-developer.org
and you can scp it up there. then you would just need to type:

scp solaris9.tgz kostas@axiom-developer.org:/home/kostas

let me know if you want the userid.

this is easier than trying to check it in because it is going to
want to modify the --main branch which i'm hacking at the moment.

\start
Date: Fri, 14 Jan 2005 15:51:07 +1000
From: Mike Thomas
To: Camm Maguire
Subject: RE: [Gcl-devel] GCL 2.6.6 branch created

Hi Camm.

| gcl (2.6.6-1) unstable; urgency=high
|
|   * New upstream release
|   * Allow .data section to be first in executable, as on solaris.  Also
|     allow for new bfd section size semantics
|   * Don't try to write map file when not using GNU ld.  Also allow
|     compile-file to process pathnames with whitespace on Windows
|   * Fix corner case fixnum arithmetic on 64bit machines
|   * Rework gmp_wrappers semantics for older gcc
|   * Explicitly mprotect loaded code pages PROT_EXEC on x86 Linux, as FC3
|     now requires it.
|   * lisp-implementation-version is GCL
|   * Reader extension patch allowing for foo::(bar foobar) semantics

I've checked in the following additions to this list:

	* a shell script variable fix in "unixport/makefile" for MSYS
	* __MINGW32__ malloc initialisation fix in "o/alloc.c"
	* Windows file/directory fixes in "o/unixfsys.c"
	* MinGW32 -march in configure - removes deprecation warnings
      * MinGW32 directory fix - "o/mingfile.c".

I believe that this fixes all Windows slip ups in 2.6.5 plus the full kit
and kaboodle for Axiom compilation other than the special mods Tim normally
rolls in.  I have yet to test this on any of Maxima, ACL2 or Axiom.

\start
Date: Fri, 14 Jan 2005 02:18:04 -0500
From: William Sit
To: list
Subject: Windows CR/LF conversion
Cc: Mike Thomas

When saving files from within Axiom, say

)hist )write foo.input

The file saved is still using Unix convention. One has to use unix2dos to
convert it to insert the missing LF/CR (forget which) before editing with say
Notepad.

Can this be done automatically and transparently?

Of course, for portability, the reverse should be automatic too (but linux users
are more adept to make the conversion than Windows users and a few extra LF/CRs
are easily removed manually for small files).

Not anything urgent, just a wishful request.

Thanks very much for the Windows version.

\start
Date: Fri, 14 Jan 2005 01:24:44 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#9 )hist )write foo.input] (new) 

)hist )write foo.input
does not properly handle windows CR/LF in output.

\start
Date: Fri, 14 Jan 2005 02:27:31 -0500
From: Bill Page
To: Cliff Yapp
Subject: re: hyperdoc

On January 13, 2005 8:36 PM C Y wrote:

> 
> --- Bob McElrath wrote:
> 
> > The list of prerequisites for running axiom is huge, and
> > getting worse it seems!
> ... 
> > So in the interest of having something people can download
> > that is functional with a minimum of effort, I think axiom
> > (and any help system or hyperdoc) should be decoupled from
> > zope and zwiki.  A download (think windoze users here) which
> > included zope, zwiki, latex, ghostscript, python, PIL, gcl,
> > gcc, *and* axiom, is too much, methinks.
> 
> Heh - even I agree there.  Perhaps it would be best to
> acknowledge the reality that if one wants to take advantage
> of all the vast possibilities of open source software, that's
> going to be at odds with having the full power of the system
> available on all platforms, particularly Windows, as a single
> package.  Surely power users who are willing and able to use
> the full web-like setup, instead of just a TeXmacs or Mathematica
> like document interface, would be willing to set it up or at
> the very least boot a live Linux CD loaded with the full set
> of Axiom tools and dependencies. 
> 

Personally, although I have tried knoppix and some variants on
several occasions I have always been a little disappointed
and frustrated. The problem is that I live in linux about 1/2
the time and windows the other 1/2 and when I boot one of these
"live" things I feel like I am in neither. It's fun to play for
an hour or so but then it goes in the desk draw with all the
other things that once fascinated me but I haven't looked at
for so long that they are now collecting dust. So I am quite
sceptical about the utility of a "live" Axiom/Doyen CD except
as a kind of conference "promotional gimmick".

Let's put the list in the following order and fill it in a
few more:

             gcc
         /    |    \
      gcl   latex   python
      /       |      |    \
     /    noweb      |    zope
    /  /      |      |     /
 axiom   ghostscript PIL  zwiki
      \      \       |   /
       \       LatexWiki
        \        /
        MathAction

Add your favourite text editor and browser and set it all up
in Linux/Unix or Windows.

There. Now that doesn't seem so large and complex does it?
(: At least not if you compare it to the list of capabilities
that this remarkable combination of entirely open source
software provides... :) I am quite sure that this would all
easily fit on one-side of a Cdrom, including documentation.
And of course we can add as many more optional add-on packages
as we want, such as Reduce, Aldor, Maxima, ... eventually all
integrated with a common web interface.

What this gives you a fully web-integrated, collaborative
mathematical research and development, hyper-linked publishing
environment right on your desktop, or even in your pocket (I run
almost all of this on a Zaurus 5600). This is all easily doable
right now for free. I would have given my left arm for something
like this back when I was a student!

\start
Date: Fri, 14 Jan 2005 03:02:47 -0500
From: Bill Page
To: William Sit
Subject: RE: Windows CR/LF conversion
Cc: Mike Thomas

William,

On Friday, January 14, 2005 2:18 AM you wrote:
> 
> When saving files from within Axiom, say
> 
> )hist )write foo.input
> 
> The file saved is still using Unix convention. One has to use 
> unix2dos to convert it to insert the missing LF/CR (forget
> which) before editing with say Notepad.

Linux uses the unix convention of a LF code to mark the ends
of lines. Windows uses the combination of a CR and a LF code.
Legacy windows applications like Notepad and old MSDOS
applications do not support the unix format but almost all
newer windows applications (e.g. Wordpad) and ported linux
programs have no problem.

I recommend deleting "good old" Notepad from your system and
installing one of the many very good open source text editors
that support the unix convention and are available for free.
Some of these are configurable to produce either unix or
windows compatible line endings when saving files.

> 
> Can this be done automatically and transparently?
>

Yes, for the Windows version it is probably possible to make
sure that most things that are written out to files in text
format have the standard windows line endings.

> Of course, for portability, the reverse should be automatic 
> too (but linux users are more adept to make the conversion
> than Windows users and a few extra LF/CRs are easily removed
> manually for small files).

The windows version of Axiom already does this, i.e. it ignores
all CR codes in input text files. For portability the linux
version could also safely do this (maybe next release?). So it
wouldn't hurt to add the CR on the windows version for maximum
compatibility.

> 
> Not anything urgent, just a wishful request.
> 

I would like to hear from other windows users about how important
they think "Notepad compatibility" really is.

> Thanks very much for the Windows version.
> 

The thanks of course go to everyone who has worked on the
project.

\start
Date: Fri, 14 Jan 2005 03:49:22 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [AxiomDevelopment] 


This page is intended for developers and those who want to join.

Tim thought a lot about the "foundations":AxiomDevelopmentFoundations
of Axioms development model. Axiom development is done via Arch, and
Tim also explained "why":ArchRationale. "Using Arch":ArchUsage is not
that difficult, fortunately.

Here you can get an overview of what to do, and where to discuss issues with others:

Axiom [Design Issues]

  Well, design issues...

<A name="bugsandpatches">Axiom "bugs":http://savannah.nongnu.org/bugs/?group=axiom and "patches":http://savannah.nongnu.org/patch/?group=axiom </A>

  Sure you want to "fix":DebuggingAxiom one of these, don't you? Alternatively, you can browse through <A name="WesterCritique">
"A Critique of the Mathematical Abilities of CA Systems":http://www.math.unm.edu/~wester/cas_review.html,</A> 
and add those to the bug list, Axiom still cannot do, or worse, does incorrectly.

You can apply the patches by saying something like::

    cp axiom/mnt/linux/src/algebra/combfunc.spad .
    patch combfunc.spad combfout.patch
    axiom
    )co combfunc.spad

The next time you use Axiom, you simply say ')lib COMBF' to use the patched category/domain/package.

Axiom [TodoList]

  Working towards the next Axiom Release

Axiom [Found Objects]

  This is a collection of pages I found on the web, which may contain useful stuff.

Axiom Mailinglists and IRC Channel

  Several ways to contact the community are available. There is an irc channel where developers can find other developers. It is:: 
  
    server: irc.freenode.net 
    channel:#axiom-developer 

  The mailinglists are:
 
  "axiom-math":http://mail.nongnu.org/mailman/listinfo/axiom-math ("archive":http://mail.nongnu.org/archive/html/axiom-math)
  Discussion of math theory and philosophy related to Axiom

  "axiom-mail":http://mail.nongnu.org/mailman/listinfo/axiom-mail ("archive":http://mail.nongnu.org/archive/html/axiom-mail)
  General discussion on Axiom

  "axiom-developer":http://mail.nongnu.org/mailman/listinfo/axiom-developer ("archive":http://mail.nongnu.org/archive/html/axiom-developer)
  When you have issues to compile Axiom or with Axiom internals

  "axiom-legal":http://mail.nongnu.org/mailman/listinfo/axiom-legal ("archive":http://mail.nongnu.org/archive/html/axiom-legal)
  All legal issues, like license issues

\start
Date: Fri, 14 Jan 2005 03:55:48 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [Axioms Community] (nouveau) 

Axiom Mailinglists and IRC Channel

  Several ways to contact the community are available. There is an irc channel where developers can find other developers. It is:: 
  
    server: irc.freenode.net 
    channel:#axiom-developer 

  The mailinglists are:
 
  "axiom-math":http://mail.nongnu.org/mailman/listinfo/axiom-math ("archive":http://mail.nongnu.org/archive/html/axiom-math)
  Discussion of math theory and philosophy related to Axiom

  "axiom-mail":http://mail.nongnu.org/mailman/listinfo/axiom-mail ("archive":http://mail.nongnu.org/archive/html/axiom-mail)
  General discussion on Axiom

  "axiom-developer":http://mail.nongnu.org/mailman/listinfo/axiom-developer ("archive":http://mail.nongnu.org/archive/html/axiom-developer)
  When you have issues to compile Axiom or with Axiom internals

  "axiom-legal":http://mail.nongnu.org/mailman/listinfo/axiom-legal ("archive":http://mail.nongnu.org/archive/html/axiom-legal)
  All legal issues, like license issues

\start
Date: Fri, 14 Jan 2005 11:38:36 +0100
From: Martin Rubey
To: Tim Daly
Subject: Re: hyperdoc

root writes:

 > The longer term goal is either to merge it with the mathaction wiki code
 > (assuming we can make that run on a users machine),

OK.

 > merge it into TeXmacs 

NO NO NO, only if it runs without TeXmacs. I don't want to switch between emacs
and TeXmacs. NEVER!

\start
Date: Fri, 14 Jan 2005 11:42:11 +0100
From: Martin Rubey
To: Bob McElrath
Subject: re: hyperdoc

Bob McElrath writes:

 > In the longer-term, do you actually want to run latex?  
 > 
 > I have been contemplating a pagetype which is faux-latex.  That is,
 > reads a handful of basic latex primitives and converts them to HTML,
 > whithout actually calling latex itself.  It would use itex (MathML) for
 > equations.  This can be feature-complete, but would be a restricted
 > subset of latex.  Also, it would not require latex/ghostscript/PIL at
 > all, if the user can view XHTML+MathML...

I don't know *one* mathematician who uses computers and does not have LaTeX
installed!

 > The other way to go is to actually use latex (or tth) to process
 > pamphlet files to html (or XHTML+MathML).  This route is slower (because
 > latex is slow -- and tth is very slow), but more thorough in the case of
 > obtuse latex usage.  Handling \def and \newcommand should be possible
 > for simple cases, but not the more advanced latex programming.

I strongly *strongly* suggest that you take this route. I said this before and
I'll say it once more: I suggest that there should be only few pagetypes
available:

* Structured Text with LaTeX

* maybe Plain Text

* LaTeX and Pamphlet being a LaTeX variant.

We can even forget about LaTeX, since a LaTeX document is a pamphlet without
code.

In fact, I don't quite understand why this should be difficult. Does speed
matter that much? After all, the document will only be reprocessed after
editing!

Again: Please don't do a fake LaTeX. Eventually it will fail, I'm absolutely
certain!

By the way, the aldor people also use LaTeX to document their stuff, but their
markup is LaTeX style (simple LaTeX environments), contrary to noweb. Well,
maybe it's even the same, only different syntax.

Question: isn't there automatic conversion LaTeX -> TexInfo?

\start
Date: Fri, 14 Jan 2005 12:10:45 +0100
From: Martin Rubey
To: Bill Page
Subject: RE: Axiom domains and Aldor return types
Cc: Ralf Hemmecke

Bill Page writes:

 > From a mathematical point of view I think this "signature limitation" in
 > Axiom is natural and that Aldor goes too far in allowing a construction like
 > 
 >   g(n:Integer,k:Integer):PrimeField(n)
 > 
 > when defining functions. The reason is that I do not see how it is possible
 > to interpret PrimeField(n) as a domain in the normal ("categorical") sense,
 > in this context where the value of n is not known.

I agree that the limitation looks natural. However, if you look closer at
Aldors design, it couldn't be clearer.

 > Of course from a programming point of view we do know how to interpret the
 > Aldor construction and apparently Aldor knows how to compile it. But I do
 > not think that this necessarily makes it desirable in a language that is
 > primarily intended to be efficient and accurate in the definition of
 > mathematical concepts.

I don't think that this is an efficiency problem, neither a problem of
accuracy. 

 > > The idea is: Since in creating domains, we are in effect creating a
 > > function (the domain constructor PPF is a function of sort, or functor)
 > > and the compiler can take dependent types in its signature, structurally:

 > >   PPF(n:PositiveInteger)==PrimeField(n) with foo so it

 > > should be able to compile something like g by lifting it to the package
 > > level.


 > Yes! I think you are exactly right. And it is politically correct from the
 > Axiom perspective to refer to this construction as a "functor". I think it
 > is a *good thing* that Axiom's syntax encourages one to make this
 > distinction.

Well, if it would be only encouragement... However, there is no way to do it
differently! I'm sure it is not too difficult to come up with an example where
the solution above won't work.

There is another, different point I'd like to make:

Aldor has been designed to be "cleaner" than Axioms internal language. Not that
much has changed, it seems that they were very careful, and it's quite certain
that these were very clever people. I think it would be wiser to adopt Aldor
(which won't break much) rather than to try to extend Axioms own language and
let the two languages diverge. I simply don't see the point.

A different issue is whether we can live with the fact, that Aldor does not
seem to be entirely free. I don't know how to get it's source. Therefore I'd
argue to make changes to Axioms compiler in a way that makes it *more*
compatible with Aldor. In fact, for the time being, I wouldn't make any
changes, however, I could imagine to post a challenge to comp.lang.lisp to
extend Axioms compiler to become Aldor -- in common lisp. There are very clever
people out there, maybe we can get them interested.

\start
Date: Fri, 14 Jan 2005 12:53:33 +0100
From: Ralf Hemmecke
To: Camm Maguire
Subject: re: Axiom/Aldor

I run Debian/Sarge and unfortunately binutils-dev was not installed.
How should I have guessed the package name if 'make' just tells me that 
bfd.h is missing?

Is it somewhere explicitly written which packages I have to install in 
order to compile something like axiom--main--1--patch-24? Ehm, I guess 
this branch is different from the debian axiom-source package, right?

A good place for a description of required software would be 
arch.axiom-developer.org or even in a README in the root of the Axiom 
source tree. Better still would be if ./configure tells you that the 
compilation will not succeed since there is something to install beforehand.

Camm Maguire wrote:
> Greetings!
> 
> Tim Daly writes:
> 
> 
>>>>bft.h? or bfd?
>>>>
>>>>what system are you running on?
>>>
>>>fat_string.c:17:17: bfd.h: No such file or directory
>>>fat_string.c:18:21: bfdlink.h: No such file or directory
>>>fat_string.c:229: error: parse error before "bfd_combined_table_update"
>>>fat_string.c:229: error: parse error before "PTR"
>>>
>>>uname -a
>>>Linux rose 2.4.25-1-386 #2 Wed Apr 14 19:38:08 EST 2004 i686 GNU/Linux
>>>It's Debian Sarge.
>>
>>I'd have expected GCL to build on Debian with no problem since
>>that's Cammm's development environment.
>>
>>try this:
>>
>>make clean
>>edit lsp/Makefile.pamphlet
>>find the ./configure line and change the options to:
>>
>>--enable-vssize=65536*2 --enable-locbfd --disable-dynsysbfd --disable-statsysbfd --enable-maxpage=128*1024
>>
>>and see if that cures it.
>>
> 
> 
> This should do it, as well as installing binutils-dev which the user
> appears to be missing.  The build-dependencies for all Debian packages
> are listed in the head of the debian/control file.  If one really
> wants automated building on Debian, 'apt-get -q -b source gcl' will
> either produce an installable .deb or fail listing the
> build-dependencies which are missing.  

\start
Date: Fri, 14 Jan 2005 18:17:41 +0600 (NOVT)
From: Andrey G. Grozin
To: Martin Rubey
Subject: re: hyperdoc

On Fri, 14 Jan 2005, Martin Rubey wrote:
> root writes:
>  > The longer term goal is either to merge it with the mathaction wiki code
>  > (assuming we can make that run on a users machine),
> OK.
>  > merge it into TeXmacs 
> NO NO NO, only if it runs without TeXmacs. I don't want to switch between emacs
> and TeXmacs. NEVER!
Interesting. My feelings are exactly opposite. I very much dislike the 
idea that, in order to do computer algebra, I have to run an http server, 
a browser, a wiki and what else. I have 128M of memory; I want to use them 
to solve my problem, and don't want to waste them. Also, I dislike all 
browser-based interfaces.
On the other hand, hyperdoc definitely looks too old-fashioned. It should 
be (at some moment in the future) replaced by a nice program capable of 
showing non-trivial mathematics. Are there such programs? Yes, TeXmacs!! I 
don't think anything can beat it in the quality of math formulas. Why 
re-invent the wheel? TeXmacs seems the best choice available.

\start
Date: Fri, 14 Jan 2005 14:26:21 +0100 (CET)
From: Bertfried Fauser
To: Andrey G. Grozin
Subject: re: hyperdoc

On Fri, 14 Jan 2005, Andrey G. Grozin wrote:

> On Fri, 14 Jan 2005, Martin Rubey wrote:
> > root writes:
> >  > The longer term goal is either to merge it with the mathaction wiki code
> >  > (assuming we can make that run on a users machine),
> > OK.
> >  > merge it into TeXmacs
> > NO NO NO, only if it runs without TeXmacs. I don't want to switch between emacs
> > and TeXmacs. NEVER!
> Interesting. My feelings are exactly opposite. I very much dislike the
> idea that, in order to do computer algebra, I have to run an http server,
> a browser, a wiki and what else.

Hi,

	amazing discussion, but also for me, the number of additional
things to install (web server, wiki, webbrowser (ok thats there), ...) is
an obstacle against using such a tool.

Why not LaTeX, one even could incorporate into axiom style some new
environments like
\begin{AXIOMcode}[filename.spad]
...
\end{AXIOMcode}
which separate the contant of "code" tag into a code file, probably given
as option?

This would allow to produce "help pages" having code which is parsed
through axiom like
\begin{AXIOMexample}
...
\end{AXIOMexample}
such an environment would need to start axiom and filter the code through
it and receive the TeX answer of AXIOM. Ideally this would be done over a
socket connection to a runing AXIOM instance (to keep the former results
available) and not issue an AXIOM instance each time

[a problem might be to handle exceptions due to errors]

Such a system would need the commands to be run
LaTeX
AXIOM
LaTeX
to produce a dvi file, which could be also a pfd file which even offers
some interactive behaviour (one can run AXIOM from indisde a pdf file!)

I do not know what noweb does more than extraction of code, if so some
post processing of the LaTeX extracted code would be necessary.

All in all, I opt *strongly* for full fleged LaTeX

Perhaps an addition, with LaTeX (prosper files style) one can make quite
nice interactive pdf-presentations and in the above described setting, one
might even be able to produce pdf-slides which call AXIOM and display
AXIOM results by pressing the button, that would be great for
presentations....

\start
Date: Fri, 14 Jan 2005 05:45:30 -0800 (PST)
From: Cliff Yapp
To: Andrey G. Grozin, Martin Rubey
Subject: re: hyperdoc

> On Fri, 14 Jan 2005, Martin Rubey wrote:

> > NO NO NO, only if it runs without TeXmacs. I don't want to switch
> > between emacs and TeXmacs. NEVER!
>
> Interesting. My feelings are exactly opposite. I very much dislike
> the idea that, in order to do computer algebra, I have to run an 
> http server, a browser, a wiki and what else. I have 128M of memory; 
> I want to use them to solve my problem, and don't want to waste them.

> Also, I dislike all browser-based interfaces.

As a rule I would have to agree.  I support Axiom being able to work
with the web, but that's almost certainly not the way I would prefer to
do it.

> On the other hand, hyperdoc definitely looks too old-fashioned. It
> should be (at some moment in the future) replaced by a nice program 
> capable of showing non-trivial mathematics. Are there such programs? 
> Yes, TeXmacs!! I don't think anything can beat it in the quality of 
> math formulas. Why re-invent the wheel? TeXmacs seems the best 
> choice available.

I agree TeXmacs has great math formula output, and for quite a while I
think it will be the best solution for my particular work style.  I
still think the long term potential of a lisp/McCLIM based GUI is worth
investigating, but that is something I need to be able to demonstrate
before proposing seriously.  

Fortunately, thanks to open source and multiple skilled volunteer
contributors, we can have our cake, eat it too, and bake another :-).

\start
Date: 14 Jan 2005 15:08:24 +0100
From: Gabriel Dos Reis
To: Martin Rubey
Subject: Re: [Aldor-l] RE: Axiom domains and Aldor return types
Cc: Ralf Hemmecke

Martin Rubey writes:

[...]

| A different issue is whether we can live with the fact, that Aldor does not
| seem to be entirely free. I don't know how to get it's source. Therefore I'd

For me, that is the most annoying point.  I would hate to see Aldor
and Axiom's internal language diverge in very incompatible way -- the
only benefit I can see is fracturing further the community.  On the other
hand, if Aldor's source is not made freely available, people would end up
focusing their efforts on Axiom's internal language; I'm not sure how
that helps Aldor and how that is a bonus for the community.

\start
Date: Fri, 14 Jan 2005 10:43:51 -0500
From: Stephen Wilson
To: Martin Rubey
Subject: Re: Axiom domains and Aldor return types
Cc: Ralf Hemmecke

Bill, Martin, *

On Fri, Jan 14, 2005 at 12:10:45PM +0100, Martin Rubey wrote:
> Bill Page writes:
> 
>  > From a mathematical point of view I think this "signature limitation" in
>  > Axiom is natural and that Aldor goes too far in allowing a construction like
>  > 
>  >   g(n:Integer,k:Integer):PrimeField(n)
>  > 
>  > when defining functions. The reason is that I do not see how it is possible
>  > to interpret PrimeField(n) as a domain in the normal ("categorical") sense,
>  > in this context where the value of n is not known.
> 
> I agree that the limitation looks natural. However, if you look closer at
> Aldors design, it couldn't be clearer.

I agree here with Martin. In my experience with aldor, the use of
dependent typing is very practical, very `close' to the math. It is
essential in many algorithms to move from one computational domain to
another which depends upon a result calculated at runtime. If you cant
write foo(n:INT):PrimeField(n), then programmers will define functions
like mod_+(arg1:INT,arg2:INT,modulus:INT):INT and throw away the
mathematical meaning of their types. Might as well be programming in
C ( almost :).


>  > > should be able to compile something like g by lifting it to the package
>  > > level.
> 
> 
>  > Yes! I think you are exactly right. And it is politically correct from the
>  > Axiom perspective to refer to this construction as a "functor". I think it
>  > is a *good thing* that Axiom's syntax encourages one to make this
>  > distinction.

Lifting everything to the package level is an example of how one will
rapidly diverge from the math. For example, what if instead of a
functor `PPF(n:PositiveInteger)==PrimeField(n) with ...' we want
something more general, like, say, given any commutative ring R and a
maximal ideal M in R we want the quotient field R/M. In a package
like:

     RESCLASS(R: CommutativeRing, M: MaximalIdeal(R)): Field with ...

RESCLASS is going to need to know about *every* commutative ring in
the algebra. If R is the integers, and M a prime < 2^32, then it needs
to know the field can be represented as machine integers, for example.

But with dependent typing one can achieve this generality, since the
required function is a categorical export, which each individual
domain satisfies in its own way. It becomes possible to write
extraordinarily generic algorithms given such a language facility. 


> Aldor has been designed to be "cleaner" than Axioms internal language. Not that
> much has changed, it seems that they were very careful, and it's quite certain
> that these were very clever people. I think it would be wiser to adopt Aldor
> (which won't break much) rather than to try to extend Axioms own language and
> let the two languages diverge. I simply don't see the point.
> 
> A different issue is whether we can live with the fact, that Aldor does not
> seem to be entirely free. I don't know how to get it's source. Therefore I'd
> argue to make changes to Axioms compiler in a way that makes it *more*
> compatible with Aldor. In fact, for the time being, I wouldn't make any
> changes, however, I could imagine to post a challenge to comp.lang.lisp to
> extend Axioms compiler to become Aldor -- in common lisp. There are very clever
> people out there, maybe we can get them interested.

Personally, the issue of aldors licence is a show stopper. Trying to
make axioms spad compiler compatible with a closed system will be
futile. Maintaining compatibility with a moving target is always hard,
let alone one you cant see.

I do think a new compiler/language is something the Axiom project
should aim for, but as a long term goal. I believe we should be trying
to lift all of the things which both spad and aldor can teach us, and
think about how we can incorporate more modern ideas in programming
language design. Integration with theorem provers will likely demand
compiler support. `indeterminate objects' have been discussed before,
and we can probably learn a lot about how to implement such structures
by studying the work which has been done in `lazy evaluation'. The
very design of axioms algebra seems to demand a language which
supports recursive structures. None of these things exist in spad or
aldor.

A new compiler will likely take years to write. We should not forget
the spad compiler. We should learn as much as we can from it -- and in
the process help maintain, improve, and document it. 

\start
Date: Fri, 14 Jan 2005 11:00:25 -0500
From: William Sit
To: Bill Page, Martin Rubey
Subject: Re: Axiom domains and Aldor return types
Cc: Ralf Hemmecke

Bill Page wrote:
> 
> William,
> 
> I think these are great examples with which to examine
> some fundamental ideas in Axiom!

You are absolutely correct that we need to analyse these ideas. In trying to
explain below these fundamental ideas, I discover how vague my "understanding"
was (and probably still is). You raised many good questions. This will be a
rather long analysis.

> On Thursday, January 13, 2005 2:56 AM you wrote:
> >...
> 
> > --%PointedPrimeField
> > )abbrev domain PPF PointedPrimeField
> > PointedPrimeField(n:PositiveInteger):Cat==Dog where
> >   Cat == FiniteFieldCategory with
> >     foo:PositiveInteger->PrimeField(n)
> >   Dog == PrimeField(n) add
> >     foo(k)==k::Integer::PrimeField(n)
> >
> > After compiling, define in the interpreter
> >
> > g(n,k)==foo(k)$PPF(n)
> >
> > Compiling g is still a problem in Axiom due to signature
> > limitation. At least this way, inlining a complicated
> > function is almost like a function call.
> >
> 
> From a mathematical point of view I think this "signature
> limitation" in Axiom is natural and that Aldor goes too
> far in allowing a construction like
> 
>   g(n:Integer,k:Integer):PrimeField(n)
> 
> when defining functions. The reason is that I do not see
> how it is possible to interpret PrimeField(n) as a domain
> in the normal ("categorical") sense, in this context where
> the value of n is not known.

Martin Rubey wrote:

\ I agree that the limitation looks natural. However, if you 
\ look closer at Aldors design, it couldn't be clearer.

I'll argue that the limitation is not natural.

If all objects are first class (whatever that means), then there is not much
difference (syntactically speaking, except on a different level) between the two
*signatures*:

   g(n:Integer,k:Integer):PrimeField(n)

and

   DMP(v:List Symbol, R: Ring):_
     PolynomialCategory(R,_
       Direct Product(#(v),NonNegativeInteger),_
       OrderedVariableList(v))

The returned type in each case depends on the parameter(s). In each case, the
target category (we'll see how later) depends on input parameters (not just the
constructed object): for DMP, the target category depends on R, v and for g, it
depends on n. So it is entirely logical to allow the signature of g in Aldor.
But these do not spell out the codomain (target) in the sense of a mathematical
function. Both would present a problem. On first glance, it seems the
*signature* of PPF is

   PPF(n:PositiveInteger):FiniteFieldCategory

and its codomain does not depend on parameters and so as a mathematical
function,
 
   PPF: PositiveInteger -> FiniteFieldCategory

is ok. But actually, the correct *signature* of PPF is

   PPF(n:PositiveInteger):FiniteFieldCategory with_
     foo: PositiveInteger -> PrimeField(n)

so, it too, has a problem. All the functions (exports in Axiom jargon) in
PolynomialCategory are simply hidden in its category definition. We did not
create one for FiniteFieldCategory with foo. If we did, we would come up with
the same dependency.

So in what sense are domain constructors and functions functors? 

A functor must describe two things: how to map the objects, and how to map the
morphisms, of the source category. So the first question is: what are the
objects and morphisms in Axiom "categories"?

Take the source of DMP (DMP is a typical domain constructor). It is a direct
product of an Axiom domain: List Symbol, and an Axiom category: Ring.  DMP maps
an element (v,R) in this direct product to another Axiom domain which belongs to
the Axiom category POLYCAT (used here to stand for the longer, parametrized,
category PolynomialCategory).  So, is (v,R) an object of some category, or is it
a morphism? It would seem that it should be an object and indeed I believe it
is. The source of DMP is a category whose objects are pairs (v,R) and whose
morphisms are pairs of maps (f,h), where f:v ->v' is a set map, and h: R -> R' a
ring homorphism. There is a (more general) package called
PolynomialCategoryLifting, with a function named map that, when applied to the
DMP situation, would take a morphism

    (f,g): (v,R) -> (v', R') 

and "lift" this to a morphism of DMP(v,R) -> DMP(v',R'), thus providing the
mapping of DMP on morphisms.

Now what about the function g above? How is it a functor?

The source of g is the direct product 

     PositiveInteger x PositiveInteger. 

If its objects are pairs (n,k) of positive integers, then what are the morphisms
between them? It would seem that there is exactly one obvious "morphism" between
two pairs. The map g takes (n,k) to an element in PrimeField(n). So we must
treat PrimeField(n) itself as a category. Its objects would be numbers modulo n
(elements of the prime field) and again, there is only one obvious morphism
between two objects. But notice that this is only on the set level. The
algebraic structure of PrimeField(n) is totally neglected when we viewed it as a
category this way. Given this setting, g((n,k)) = k mod n, and g((n,k)->(n',k'))
= (k mod n)->(k' mod n').  

But are these really functors in the mathematical sense? Not yet. The problem is
in the target category. In mathematics, a functor has the form F: A -> B or
F(a:A)==F(a):B, where both A and B are categories, and B does not depend on any
particular object of A. A functor consists of a bunch of mathematical set
mappings (objects of A to objects of B, Hom(X,Y) to 
Hom(F(X),F(Y))). In Axiom's functors, B may depend (and often does) on the
parameters from A. So it has the form 
F(a:A)==F(a):B(a).  You may say this generalizes the usual notion of a functor.
But that neglects the morphisms! In axiom, F seldom explicitly says what
F(a->a') is, because, it would have to be a morphism in a category between F(a)
and 
F(a'). But F(a) and F(a') belong to two different categories 
B(a) and B(a'), respectively, and you really cannot talk about morphisms between
objects in different categories except in very special cases when both
categories B(a) and B(a') are subcategories of a category C.

So back to my previous analysis on DMP. There, I actually made a mistake by
being careless (I deliberately left it the way it was). I should have used
POLYCAT(v,R) (not in correct Axiom syntax, but used to stand for the longer,
parametrized, category PolynomialCategory based on v and R given in the
*signature* of DMP above) instead of POLYCAT. Then I would have noticed that we
need to put the R-algebra
DMP(v,R) and the R'-algebra DMP(v',R') into one category.
This can be done if all R:Ring are of the same characteristic, say zero. We can
then consider these as Z-algebras (Z = Ring of integers) and the map
DMP(v,R)->DMP(v',R') would be a Z-algebra morphism.  But DMP(v,R) has more
structure, for example, it is an R-algebra, and in fact the lift map is an
R-algebra homomorphism too (via the map h:R->R', R' becomes an 
R-algebra). So, just as in the case of the function g, where we forget about
some structure of PrimeField(n), we must forget about the some algebraic
structures of DMP(v,R). 
 
Conclusion, if my analysis is correct: In Axiom, domain constructors are
functors into the category Set, and perhaps subcategories in some cases. Viewed
this way, there is no dependence on input parameters in the target category.
Computationally, we of course want to keep track of which subcategory the
domains are and it would be nice to allow that in the signature, not just of
domain constructors, but for functions.

To paraphrase a famous quote: There is no such thing as a simple explanation.

> Of course from a programming point of view we do know how
> to interpret the Aldor construction and apparently Aldor
> knows how to compile it. But I do not think that this
> necessarily makes it desirable in a language that is
> primarily intended to be efficient and accurate in the
> definition of mathematical concepts.

> > The idea is: Since in creating domains, we are in effect
> > creating a function (the domain constructor PPF is a
> > function of sort, or functor) and the compiler can
> > take dependent types in its signature, structurally:
> >   PPF(n:PositiveInteger)==PrimeField(n) with foo so it
> > should be able to compile something like g by lifting
> > it to the package level.
> 
> Yes! I think you are exactly right. And it is politically
> correct from the Axiom perspective to refer to this
> construction as a "functor". I think it is a *good thing*
> that Axiom's syntax encourages one to make this distinction.

See above.

Martin Rubey wrote:

\ Well, if it would be only encouragement... However, there 
\ is no way to do it differently! I'm sure it is not too
\ difficult to come up with an example where the solution 
\ above won't work.

In terms of the function computations, I think both the domain version and the
package version would suffice -- not as convenient as it would be, but these
will work. The only situation I can think of that will be a problem is where the
signature of the function is actually needed (meaning, written down). An example
would indeed be interesting.

\ There is another, different point I'd like to make:
\ 
\ Aldor has been designed to be "cleaner" than Axioms internal
\ language. Not that much has changed, it seems that they were
\ very careful, and it's quite certain that these were very 
\ clever people. I think it would be wiser to adopt Aldor
\ (which won't break much) rather than to try to extend Axioms
\ own language and let the two languages diverge. I simply
\ don't see the point.

The problem is that Aldor has implemented only a small fraction of the algebra
code in Axiom. Didn't someone just mentioned that PositiveInteger is not in
Aldor? (May be that is good, trust the programmers and get rid of a lot of
needless coercions).  

> >
> > So here is another way using package.
> >
> > --%Foo
> > )abbrev package FOO Foo
> > Foo(n:PositiveInteger, k:PositiveInteger):T==C where
> >   T == with
> >        point:()->PrimeField(n)
> >   C == add
> >        point()==k::Integer::PrimeField(n)
> >
> > After compiling, we can use
> >
> >   point()$Foo(n,k)
> >
> > in any computation in compiler code (and in interpreter).
> > Still can't call this g(n,k) unless you use a macro
> > expansion:
> >
> > g(n,k)==>point()$Foo(n,k)
> >
> 
> The use of a macro is ok because no signature is implied.

The above macro is not that good, because you cannot replace n or k by
expressions.

> I think I prefer your first construction to the latter
> because it is nice to think conceptually of foo(k) as
> belonging to each of the PPF(n) domains, i.e. for each n.
> Thinking of Foo(n,k) as a collection of "domains"
> parameterized by n and k; and point() as belonging to
> each such domain seems a little unnatural. Well I guess,
> because Foo is a package ... Packages are for convenient
> programming, not mathematical relationships.

Isn't it nice to have two ways? :-)
But I think the package version mirrors the original function g(n,k) better
because it use the same syntax, except that g is replaced by point()$Foo, and
one can replace n and k by expressions. I was avoiding the macro

   g ==> point()$Foo

and used

   bar ==> point()$Foo

to avoid replacing all "g" in a program!

Bill Page wrote:
> See
> 
> http://page.axiom-developer.org/zope/mathaction/DynamicFunctionDomains#msg20
> 050113145432-0600@page.axiom-developer.org
> 
> but notice that your use of the macro near the end produces
> and error.
> 
> > bar ==>point()$Foo
> >
> >                  Type: Void
> >bar(4,7)
> >   Although Foo is the name of a constructor, a full type 
> >must be specified in the context you have used it. Issue 
> >)show Foo for more information.
> 
> It appears to be trying to evaluate bar before concatonation
> with `(4,7)'.

You are right. The same happens with the compiler. 

   bar(4,7)

would be parsed as

   ((|elt| |Foo| |point|)) |n| |k|

but should be

   ((|elt| (|Foo| |n| |k|) |point|)) 
  
Anyway, there is little saving to use a macro except that it looks more like the
original function. So the following works:

)abbrev package BARTEST Bartest
Bartest: T==C where
   T == with
        barrun: () -> Void
   C == add
        import FOO
        barrun() == 
          for k in 4..5 repeat
            for n in [1,2,4,6]::List PositiveInteger repeat
              print(point()$Foo(n+1,k)::OutputForm$PrintPackage

barrun()

The point is, it is compilable.

> I suppose what I am trying to say is that in the design
> of the Axiom language we should be aware not only of
> programming issues but also conceptual mathematical issues.

Agreed with no reservations.

\start
Date: Fri, 14 Jan 2005 11:50:51 -0500
From: William Sit
To: Stephen Wilson
Subject: Re: Axiom domains and Aldor return types
Cc: Ralf Hemmecke

Stephen Wilson wrote:

> Lifting everything to the package level is an example of how one will
> rapidly diverge from the math. For example, what if instead of a
> functor `PPF(n:PositiveInteger)==PrimeField(n) with ...' we want
> something more general, like, say, given any commutative ring R and a
> maximal ideal M in R we want the quotient field R/M. In a package
> like:
> 
>      RESCLASS(R: CommutativeRing, M: MaximalIdeal(R)): Field with ...
> 
> RESCLASS is going to need to know about *every* commutative ring in
> the algebra. If R is the integers, and M a prime < 2^32, then it needs
> to know the field can be represented as machine integers, for example.
> 
> But with dependent typing one can achieve this generality, since the
> required function is a categorical export, which each individual
> domain satisfies in its own way. It becomes possible to write
> extraordinarily generic algorithms given such a language facility.

I am not following your example. RESCLASS is already a domain constructor and
dependent types for domain constructor is not a problem in Axiom. Since RESCLASS
is a categorical construct, the implementation must NOT know anything about R or
M other than that R is a commutative ring and M is a maximal ideal of R.  (By
the way, MaximalIdeal(R) is also a categorical domain construction and I wonder
how one can characterize algorithmically the set of maximal ideals of an
arbitrary commutative ring.) For a specific ring, such as the Integers, yes, we
know, and there you can implement an efficient R/M if you also know that M <
2^32.  But I do not follow how this has to do with signature issues.

> If you cant
> write foo(n:INT):PrimeField(n), then programmers will define functions
> like mod_+(arg1:INT,arg2:INT,modulus:INT):INT and throw away the
> mathematical meaning of their types. Might as well be programming in
> C ( almost :).

The solution I proposed in package FOO:

> --%Foo
> )abbrev package FOO Foo
> Foo(n:PositiveInteger, k:PositiveInteger):T==C where
>    T == with
>         point:()->PrimeField(n)
>    C == add
>         point()==k::Integer::PrimeField(n)
> 
> -- After compiling, we can use
> --
> --   point()$Foo(n,k)
> 
> )abbrev package BARTEST Bartest
> Bartest: T==C where
>    T == with
>         barrun: () -> Void
>    C == add
>         import FOO
>         barrun() == 
>           for k in 4..5 repeat
>             for n in [1,2,4,6]::List PositiveInteger repeat
>               print(point()$Foo(n+1,k)::OutputForm)$PrintPackage

does not sacrifice the mathematical type structure of the original example that
Martin proposed:

   g(n:PositiveInteger, k:PositiveInteger):PrimeField(n)

It reflects exactly the same structure with the exception that there is no
signature used and g(n,k) is replaced by the longer name 
point()$Foo(n,k) as illustrated in the Bartest package. I do admit that Aldor is
nicer to allow that, so that such a wrapper is not necessary. But the wrapper is
straightforward and general and can even be automated.

If one MUST use the signature for g (other than it is convenient), then you need
Aldor. But can someone supply such an example from Aldor?

\start
Date: Fri, 14 Jan 2005 13:13:16 -0500
From: Tim Daly
To: Bertfried Fauser
Subject: re: hyperdoc

> Perhaps an addition, with LaTeX (prosper files style) one can make quite
> nice interactive pdf-presentations and in the above described setting, one
> might even be able to produce pdf-slides which call AXIOM and display
> AXIOM results by pressing the button, that would be great for
> presentations....

I'd encourage everyone to look at ADVI (http://pauillac.inria.fr/advi)

This is a dvi viewer that allows you to include an amazing amount of
functionality, some of which I really want in the future.

There are two pieces of interest. First you can embed moving graphics
in the .dvi file and second you can embed an active terminal (like
an axiom command prompt).

With these two pieces of function you can now write documentation that
has all of axiom directly embedded in your document. Pamphlet files 
are intended to eventually go in this direction.

\start
Date: Fri, 14 Jan 2005 13:20:25 -0500
From: Tim Daly
To: Cliff Yapp
Subject: re: hyperdoc

> I agree TeXmacs has great math formula output, and for quite a while I
> think it will be the best solution for my particular work style.  I
> still think the long term potential of a lisp/McCLIM based GUI is worth
> investigating, but that is something I need to be able to demonstrate
> before proposing seriously.  

Well you're almost there. Hyperdoc is currently being rewritten in
common lisp using ltk (http://www.peter-herth.de/ltk) which uses TK
as the front end. I tried for days to get McClim to run without 
success. I'd rather go that way but McClim seems to still need much
work. LTK is simple and, so far, just seems to work. In any case it
should be possible to write a McClim version of the ltk/TK primitives
when McClim starts to work and the rest of hypertex will already be
lisp.

\start
Date: Fri, 14 Jan 2005 13:06:33 -0500
From: Tim Daly
To: Andrey G. Grozin
Subject: re: hyperdoc

> > root writes:
> >  > The longer term goal is either to merge it with the mathaction wiki code
> >  > (assuming we can make that run on a users machine),
> > OK.
> >  > merge it into TeXmacs 
> > NO NO NO, only if it runs without TeXmacs. I don't want to switch between emacs
> > and TeXmacs. NEVER!
> Interesting. My feelings are exactly opposite. I very much dislike the 
> idea that, in order to do computer algebra, I have to run an http server, 
> a browser, a wiki and what else. I have 128M of memory; I want to use them 
> to solve my problem, and don't want to waste them. Also, I dislike all 
> browser-based interfaces.
> On the other hand, hyperdoc definitely looks too old-fashioned. It should 
> be (at some moment in the future) replaced by a nice program capable of 
> showing non-trivial mathematics. Are there such programs? Yes, TeXmacs!! I 
> don't think anything can beat it in the quality of math formulas. Why 
> re-invent the wheel? TeXmacs seems the best choice available.

ah, i see the redesign effort for hyperdoc will be SO smooth and 
peaceful :-)

At the moment hyperdoc provides some unique functionality which
would need to be preserved in the new design. I don't currently
use TeXmacs but then I don't use any tools except emacs. 

Whatever we choose, after much debate, I think we need to keep the
30 year horizon in mind. Hyperdoc, after 30 years, looks primitive
but it does do hyperlinking, embedded commands, embedded graphics,
tear-off tabs, etc. All of that had to be invented because it did
not exist at the time. We need to invent the future technology based
on our estimate of what will be useful 30 years from now. On this
point I expect and encourage much debate.

\start
Date: 14 Jan 2005 12:42:06 -0500
From: Camm Maguire
To: Mike Thomas
Subject: Re: [Gcl-devel] GCL 2.6.6 branch created

Greetings!  Are you sure you checked it into 2.6.6?  I can't get it on
this branch via cvs update.  And please, if you would not mind, make
sure cvs head has any changes you need in 2.6.6 too.

Take care,

Mike Thomas writes:

> Hi Camm.
> 
> | gcl (2.6.6-1) unstable; urgency=high
> |
> |   * New upstream release
> |   * Allow .data section to be first in executable, as on solaris.  Also
> |     allow for new bfd section size semantics
> |   * Don't try to write map file when not using GNU ld.  Also allow
> |     compile-file to process pathnames with whitespace on Windows
> |   * Fix corner case fixnum arithmetic on 64bit machines
> |   * Rework gmp_wrappers semantics for older gcc
> |   * Explicitly mprotect loaded code pages PROT_EXEC on x86 Linux, as FC3
> |     now requires it.
> |   * lisp-implementation-version is GCL
> |   * Reader extension patch allowing for foo::(bar foobar) semantics
> 
> I've checked in the following additions to this list:
> 
> 	* a shell script variable fix in "unixport/makefile" for MSYS
> 	* __MINGW32__ malloc initialisation fix in "o/alloc.c"
> 	* Windows file/directory fixes in "o/unixfsys.c"
> 	* MinGW32 -march in configure - removes deprecation warnings
>       * MinGW32 directory fix - "o/mingfile.c".
> 
> I believe that this fixes all Windows slip ups in 2.6.5 plus the full kit
> and kaboodle for Axiom compilation other than the special mods Tim normally
> rolls in.  I have yet to test this on any of Maxima, ACL2 or Axiom.

\start
Date: Fri, 14 Jan 2005 12:06:58 -0600
From: MathAction (root)
To: MathAction
Subject: [Axiom-mail] draw

Bertrand,

The version you have does not have the graphics integrated into the 
'axiom' command. That will happen with the February 2005 release.

In order to see the graphics you need to start the system with the
sman command. The sman (superman) process sits above the axiom 
interpreter and uses sockets to communicate between axiom and the
graphics program. So sman needs to start first and automatically
starts axiom.

You should be able to start axiom by typing:

sman

(which will give a lot of debugging output. you can also use

sman 2>/dev/null

either command will start axiom. Then you can type

draw(sin(x),x=-10..10)                  for 2D output
draw(sin(x*y),x=-10..10,y=-10..10)      for 3D output


The full integration was not complete by the January 2005 version.

\start
Date: Fri, 14 Jan 2005 10:48:03 -0800 (PST)
From: Cliff Yapp
To: Tim Daly
Subject: re: hyperdoc

> > I agree TeXmacs has great math formula output, and for quite a
> > while I think it will be the best solution for my particular work 
> > style.  I still think the long term potential of a lisp/McCLIM 
> > based GUI is worth investigating, but that is something I need to 
> > be able to demonstrate before proposing seriously.  
> 
> Well you're almost there. Hyperdoc is currently being rewritten in
> common lisp using ltk (http://www.peter-herth.de/ltk) which uses TK
> as the front end.

Excellent :-).

> I tried for days to get McClim to run without success. I'd rather go 
> that way but McClim seems to still need much work.

I assume this is on GCL?  Do you think if you have time you could
summarize the issues you ran into?  It could be very helpful for the
GCL and McCLIM teams - as far as I know you are the first person in
quite a while to take a stab at it.

> LTK is simple and, so far, just seems to work. In any case it
> should be possible to write a McClim version of the ltk/TK primitives
> when McClim starts to work and the rest of hypertex will already be
> lisp.

Right - another great reason to use lisp :-).  Actually, from what I
saw of hyperdoc it looks like it won't really need McCLIM's features,
so ltk is definitely the logical choice (especially if ltk works with
Windows Tcl/Tk?)

\start
Date: Fri, 14 Jan 2005 13:38:34 -0500
From: Stephen Wilson
To: William Sit
Subject: Re: Axiom domains and Aldor return types
Cc: Ralf Hemmecke

William,

On Fri, Jan 14, 2005 at 11:50:51AM -0500, William Sit wrote:

> I am not following your example. RESCLASS is already a domain
> constructor and dependent types for domain constructor is not a
> problem in Axiom. Since RESCLASS is a categorical construct, the
> implementation must NOT know anything about R or M other than that R
> is a commutative ring and M is a maximal ideal of R.

Yes, I realize that this is already possible in axiom. My apologies,
I miss-wrote the the RESCLASS example. I hope what I write below will
be a bit clearer. 

> (By the way, MaximalIdeal(R) is also a categorical domain
> construction and I wonder how one can characterize algorithmically
> the set of maximal ideals of an arbitrary commutative ring.)

I know :) I wonder this too. Just wishful thinking I guess :)

> does not sacrifice the mathematical type structure of the original
> example that Martin proposed:
 
>    g(n:PositiveInteger, k:PositiveInteger):PrimeField(n)
 
> It reflects exactly the same structure with the exception that there
> is no signature used and g(n,k) is replaced by the longer name
> point()$Foo(n,k) as illustrated in the Bartest package. I do admit
> that Aldor is nicer to allow that, so that such a wrapper is not
> necessary. But the wrapper is straightforward and general and can
> even be automated.

> ...
>  But can someone supply such an example from Aldor?

The following is an example with a view towards generic modular
computations. Aldor has a category (approximately):

---------
 ModularComputation: Category == CommutativeRing with {
        residueClassRing: (p: %) -> ResidueClassRing(%,p);
        ....
 }
---------

So any domain satisfying Modular computation is a CommutativeRing R,
which exports a function which takes a representative p of R and returns
something which satisfies ResidueClassRing(R,p).

---------
ResidueClassRing(R: CommutativeRing, p: R): Category ==
   CommutativeRing with {
     modularRep: R -> %;
     canonicalPreImage: % -> R;
     if R has EuclideanDomain then {
       symmetricPreImage: % -> R;
       if R has SourceOfPrimes and prime?(p) then Field;
     } }
---------

Here we use the notion of SourceOfPrimes until someone figures out a
meaningful way to represent a MaximalIdeal generally:).

Aldor has an IntegerCategory, roughly:

---------
IntegerCategory: Category ==
    Join(IntegerType, CharacteristicZero, EuclideanDomain,
             ModularComputation, SourceOfPrimes,
             GeneralExponentCategory, Specializable, Parsable) with {
       ...
    default {
       residueClassRing(p:%):ResidueClassRing(%, p) == IntegerMod(%,p);
       ...
    } }
---------

And IntegerMod is an efficient implementation:

---------
   IntegerMod(Z:IntegerCategory, p:Z):ResidueClassRing(Z, p) == add { ... }
---------

Assuming this type of stuff is implemented in the library where it is
needed we can write very generic functions:

---------
   Foo(R: ModularComputation): with { ... } == add {
       bar(r: R, p:R): R == {

         elem : ResidueClassRing(R, p) := modularRep(r)$residueClassRing(p)
	 
         -- hairy computation...

         canonicalPreImage(elem)
       } }
---------   


All of this depends on the fact that we can express a dependently
typed function residueClassRing(p:R), which can be implemented by any
given domain as appropriate. The Foo package knows all it needs to,
the Ring, and an element of the ring to get at the the quotient
ring. Of course, the bar function above could be more complex and
return an element of ResidueClassRing(R,p), etc.

How could one write the bar()$Foo above with the current axiom
language? All you can do is write a package/domain parameterized by a
commutative ring R and a representative of R, and write the exports
dependently on R's type via `if R has ...'  constructs. This is what
I meant in the previous email about having a RESCLASS package/domain
which needed to know too much about the algebra.

\start
Date: Fri, 14 Jan 2005 14:08:28 -0500
From: Bill Page
To: Cliff Yapp
Subject: re: hyperdoc

On Friday, January 14, 2005 1:48 PM> C Y wrote:

> ... Actually, from what I saw of hyperdoc it looks like it
> won't really need McCLIM's features, so ltk is definitely the
> logical choice (especially if ltk works with Windows Tcl/Tk?)

Sadly, no at least not with GCL. :(

\start
Date: Fri, 14 Jan 2005 14:05:48 -0500
From: Bill Page
To: William Sit
Subject: RE: Axiom domains and Aldor return types
Cc: Ralf Hemmecke

William et al.

On Friday, January 14, 2005 11:51 AM you wrote:
> 
> Stephen Wilson wrote:
> 
> > Lifting everything to the package level is an example of 
> > how one will rapidly diverge from the math. For example,
> > what if instead of a functor
> > `PPF(n:PositiveInteger)==PrimeField(n) with ...'
> > we want something more general, like, say, given any
> > commutative ring R and a maximal ideal M in R we want the
> > quotient field R/M.
> > ...
> > But with dependent typing one can achieve this generality,
> > since the required function is a categorical export, which
> > each individual domain satisfies in its own way. It becomes
> > possible to write extraordinarily generic algorithms given
> > such a language facility.
> 
> I am not following your example. RESCLASS is already a domain 
> constructor and dependent types for domain constructor is not
> a problem in Axiom. Since RESCLASS is a categorical construct,
> the implementation must NOT know anything about R or M other
> than that R is a commutative ring and M is a maximal ideal of R.
> ...
> 
> The solution I proposed in package FOO:
> 
> > --%Foo
> > )abbrev package FOO Foo
> > Foo(n:PositiveInteger, k:PositiveInteger):T==C where
> >    T == with
> >         point:()->PrimeField(n)
> >    C == add
> >         point()==k::Integer::PrimeField(n)
> > 
> > -- After compiling, we can use
> > --
> > --   point()$Foo(n,k)
> > 
> > )abbrev package BARTEST Bartest
> > Bartest: T==C where
> >    T == with
> >         barrun: () -> Void
> >    C == add
> >         import FOO
> >         barrun() == 
> >           for k in 4..5 repeat
> >             for n in [1,2,4,6]::List PositiveInteger repeat
> >               print(point()$Foo(n+1,k)::OutputForm)$PrintPackage
> 
> does not sacrifice the mathematical type structure of the 
> original example that Martin proposed:
> 
>    g(n:PositiveInteger, k:PositiveInteger):PrimeField(n)
> 
> It reflects exactly the same structure with the exception that
> there is no signature used and g(n,k) is replaced by the longer
> name point()$Foo(n,k) as illustrated in the Bartest package.
> I do admit that Aldor is nicer to allow that, so that such a
> wrapper is not necessary.  But the wrapper is straightforward
> and general and can even be automated.
> 
> If one MUST use the signature for g (other than it is 
> convenient), then you need Aldor. But can someone supply such
> an example from Aldor?
> 

Just to be clear on my criticism: I am *not* against the use
of dependent types as such. I just think that we should not
call something that has dependent types a *function*. I think
the Aldor notation risks confusion on a very fundamental
mathematical issue. Axiom's spad language design make it clear
that what Martin wants is really a *functor* (as you explained
very clearly in your previous message - thank you!) Functors
have a description (I dare not call it a "signature") which
is more complex than a function. I think it is natural that
Axiom's notation makes a clear distinction.

Is there a way that this "Aldor function" can be written
in Aldor that syntactically respects the same distinction?
If so, then perhaps we should just consider the way Aldor
allows this to be written as a kind of abbreviation that
happens to look like the notation for a function.

BTW, chapters 11 Packages, 12 Categories and 13 Domains of the
Axiom book are very useful but I find the orientation rather
confusing - perhaps it is just the "age" of the terminology
that is used in these chapters that makes reading a little hard.
I think it would be great if these could be re-written in a
more modern "categorical" manner similar to the way you wrote
your previous message. Are there any papers that you could
reference that attempt to do this? Is there some corresponding
part of the Aldor documentation that would be useful for me
to re-read?

\start
Date: Fri, 14 Jan 2005 11:16:51 -0800
From: Bob McElrath
To: Martin Rubey
Subject: re: hyperdoc

Martin Rubey [Martin Rubey] wrote:
> Bob McElrath writes:
> 
>  > In the longer-term, do you actually want to run latex?  
> 
>  > The other way to go is to actually use latex (or tth) to process
>  > pamphlet files to html (or XHTML+MathML).  This route is slower (because
>  > latex is slow -- and tth is very slow), but more thorough in the case of
>  > obtuse latex usage.  Handling \def and \newcommand should be possible
>  > for simple cases, but not the more advanced latex programming.
> 
> I strongly *strongly* suggest that you take this route. I said this before and
> I'll say it once more: I suggest that there should be only few pagetypes
> available:

Of course, I will do both, and I recommend that mathaction restrict the
set of pagetypes available, discarding e.g. ReStructuredText, STX, etc.

Clearly full-up, true latex input is desired.  However this format
violates the idea of a Wiki.  In particular, it is not simple, nor fast,
nor unsurprising in its output.  How many times have you run latex,
tweaked your document, run latex again...just to make it look right?

> In fact, I don't quite understand why this should be difficult. Does speed
> matter that much? After all, the document will only be reprocessed after
> editing!

I am constantly frustrated by zwiki's speed...

> Again: Please don't do a fake LaTeX. Eventually it will fail, I'm absolutely
> certain!

A fake-but-fast latex that already exists is ttm:

    http://hutchinson.belmont.ma.us/tth/mml/

it fails on some rudimentary documents I tried.  But then, so did
tex4ht (the true-latex way).  In fact there are significant differences
between the output of tex4ht and regular latex generating a
postscript...

FYI, tex4ht is the set of latex packages for generating html:

    http://www.cse.ohio-state.edu/~gurari/TeX4ht/

It is the "right" way to do this, and what I will use, unless there
exists a better set of packages.

\start
Date: Fri, 14 Jan 2005 11:22:16 -0800 (PST)
From: Cliff Yapp
To: Tim Daly
Subject: re: hyperdoc

> 
> --- Tim Daly wrote:

> > I tried for days to get McClim to run without success. I'd rather
> > go  that way but McClim seems to still need much work.
> 
> I assume this is on GCL?  Do you think if you have time you could
> summarize the issues you ran into?  It could be very helpful for the
> GCL and McCLIM teams - as far as I know you are the first person in
> quite a while to take a stab at it.

Oh, one other thought - did you try it on a GCL ANSI build or the older
style?  IIRC Axiom uses the older style?

\start
Date: Fri, 14 Jan 2005 15:19:29 -0500
From: Tim Daly
To: Cliff Yapp
Subject: re: hyperdoc

> > > I tried for days to get McClim to run without success. I'd rather
> > > go  that way but McClim seems to still need much work.
> > 
> > I assume this is on GCL?  Do you think if you have time you could
> > summarize the issues you ran into?  It could be very helpful for the
> > GCL and McCLIM teams - as far as I know you are the first person in
> > quite a while to take a stab at it.
> 
> Oh, one other thought - did you try it on a GCL ANSI build or the older
> style?  IIRC Axiom uses the older style?

I'm actually using clisp at the moment. I tried GCL-2.6.5 but failed.
I'll have to try the GCL ANSI build. Do you know if it can support
defclass?

LTK does not have any code to support GCL yet. The main issues are
the do-process function which encapsulates the various "run process"
function calls and the socket code which I have not yet looked at in
GCL. 

Though elegant, there is no obvious reason why it needs to use defclass.
I'm tempted to rewrite it into more vanilla lisp but have not done so yet
as I'm trying to stick to the main task of getting a runnable hyperdoc on
windows with the least resistance path.

\start
Date: Fri, 14 Jan 2005 15:14:38 -0500
From: Tim Daly
To: list
Subject: axiom--main--1--patch-25

A merge between --main and --windows. This is the primary candidate
for the February 2005 release.

Not all of the changes were merged. The primary merges were:

(a) changes to the algebra build
      greatly simplified(?) src/algebra/Makefile
(b) changes to algebra code for bug fixes, in particular, see the
    input files:
      src/input/bug10069.input.pamphlet
      src/input/bug10312.input.pamphlet
      src/input/bug6357.input.pamphlet
      src/input/bug9057.input.pamphlet
      src/input/netfloats.input.pamphlet
(c) merger, but not fully, of some of the windows changes
      still some details to be worked out ... testing continues
(d) addition of Makefile.gentoo
      use AXIOM=`pwd`/mnt/gentoo
(e) addition of Makefile.solaris9
      not yet fully merged, not yet tested
(f) updated FAQ
(g) new SRCDIRS global variable

So now the axiom--main--1--patch-25 is ready for more general testing.

\start
Date: Fri, 14 Jan 2005 15:02:54 -0500
From: William Sit
To: Bill Page
Subject: Mathaction edit/preview/save problem

Bill Page wrote:
> 
> William,
> 
> On Thursday, January 13, 2005 4:47 AM you wrote:
> >
> > Here's is the edit on DynamicFunctionDomains page. When I
> > tried preview and save, it said "cannot find server".
> 
> That's strange because obviously you were just accessing the
> server. Are you also having problems with other web sites?
> Please let me know if it happens again. Perhaps there is
> an intermittant network problem at the site where MathAction
> is hosted.
> 
> Anyway, no problem. I will update it for you.

Thanks for doing the update.

I tried again and the same thing happens. Is it because I did NOT sign on
MathAction? I once found a link to login, but now I could not find it (the login
page also let one subscribe). If one MUST login before saving any editing (or
make other contributions to the site), then I think on the top menu lines, there
should be a login and if possible, the functions are dimmed unless someone has
logined. Right now, the items are dimmed if it has been accessed.  I use IE,
Firefox on a windows machine. I also tried this with safari on a MacOSX machine
(Cannot open page) or when I tried Sandbox and click on back, safari crashed. I
don't have a network problem (I can send and receive email).

Perhaps I am just missing something obvious? Could it be because of firewall
programs? (My computers are shielded by a Netgear router).

\start
Date: Fri, 14 Jan 2005 12:01:43 -0800 (PST)
From: Cliff Yapp
To: Tim Daly
Subject: re: hyperdoc

> CY
>
> I'm actually using clisp at the moment. I tried GCL-2.6.5 but failed.
> I'll have to try the GCL ANSI build. Do you know if it can support
> defclass?

Um.  Not sure - that's one for Camm.  You say the clisp McCLIM failed
to work as well?  Is this latest McCLIM cvs with the recent clisp
patches applied?  I'll have to take a look and see if I can get it to
work.
 
> LTK does not have any code to support GCL yet. The main issues are
> the do-process function which encapsulates the various "run process"
> function calls and the socket code which I have not yet looked at in
> GCL. 

Hmm. OK.

> Though elegant, there is no obvious reason why it needs to use
> defclass. I'm tempted to rewrite it into more vanilla lisp but have 
> not done so yet as I'm trying to stick to the main task of getting a 
> runnable hyperdoc on windows with the least resistance path.

Agreed - I'd say you're on the right path for that.  Heh - I hope they
incorporate the work at http://tktable.sourceforge.net/tile/ into the
Windows version of Tcl/Tk (and the linux version for that matter).  It
helps when an app looks "standard", particularly on Windows.

\start
Date: Fri, 14 Jan 2005 15:20:12 -0500
From: Bill Page
To: Tim Daly,
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

Tim, Steve,

On Thursday, January 13, 2005 12:22 AM Tim wrote:
> 
> I think you hit upon a problem with SINT.
> The way it propagates is that in order to compile a domain 
> you need to load the domains it uses. You can see this when
> you watch the loading messages during a compile.
> 
> In order to test one? from SINT the compiler will look at the
> infovec for SINT and find the operation index. This will get
> coded into the domain being compiled. The compiler will also
> look on the property list for the operation to see if there
> are any replacement items.
> 
> So SINT used to call ONEP from lisp in the bootstrap code
> which is coded into the infovec as:
>         (CONS IDENTITY (FUNCALL (|dispatchFunction| 
> |SINT;One;$;11|) $))
> 
> I'll have to look deeper into this issue. Methinks you are 
> on to something.
> 

Actually it was Steve who first saw the details of what is
going on here.

I found a brief paragraph in "Chapter 12 Categories" of the
Axiom book (page 897 of the online PDF version)

http:// ...

that suggests that this issue was (more or less) understood by
the Axiom developers long ago, but perhaps the implications of
the propagation between domains together with cyclic dependencies
was not fully appreciated:

"Categories form hierarchies as shown on the inside cover pages
of this book. The inside front-cover pages illustrate the basic
algebraic hierarchy of the Axiom programming language. The inside
back-cover pages show the hierarchy for data structures.

"Think of the category structures of Axiom as a foundation for
a city on which superstructures (domains) are built. The algebraic
hierarchy, for example, serves as a foundation for constructive
mathematical algorithms embedded in the domains of Axiom. Once
in place, domains can be constructed, either independently or
from one another.

"Superstructures are built for quality-domains are compiled into
machine code for runtime efficiency. You can extend the foundation
in directions beyond the space directly beneath the superstructures,
then extend selected superstructures to cover the space. Because of
the compilation strategy, changing components of the foundation
generally means that the existing superstructures (domains) built
on the changed parts of the foundation (categories) have to be
rebuilt-that is, recompiled."

Do you recall anything else that was ever written about this
during the original development of Axiom?

----------

Steve, in the last email I recall from you about this 

On Monday, January 10, 2005 7:08 PM you wrote:
> On Mon, Jan 10, 2005 at 05:37:27PM -0500, Bill Page wrote:
> > You mean the others are built in the same way, with errors? 
> 
> Yes. All code is identical to what one obtains after a
> `make clean && make', save for RECLOS and ROIRC. 
> 

Thank you for uploading your modified bootstrap files. I have
not yet had a chance to incorporate them into my current
Axiom build. But as I understand from the above message you
first attempts to correct for the propagation effects by
updating the bootstrap files failed - at least for some of
the original files that showed differences on the first
iteration.

What is the current status of your effort to update the
bootstrap files? Having update the bootstrap and run the
fixedPoint interactions, exactly which files still show
differences during the first iteration?

> > ...
> >
> > If the bootstrap files and the database files have been
> > updated but D01AGNT still changes then it must be from
> > some other cyclic dependency.
> 
> But the domain vector for D01AGNT does change in a subtle
> way after the new bootstrap build. Even though its code is
> no different, how the domain is being instantiated has changed.
> More below.
> ...  
> SINT's missing `one?' is more interesting. I need to confirm
> this, but I believe that dependent domains are resolving Monoids
> default definition for `one?'. This might explain why other
> domains, such as D01AGNT, are being instantiated differently
> under the new bootstrap build. I need to look into this further.

There is something called the "add-chain formed by domain
extensions" which is described in the Glossary of the Axiom
book:

  "add-chain

  a hierarchy formed by domain extensions. If domain A extends
  domain B and domain B extends domain C, then A has add-chain
  B-C."

and

  "domain extension

  a domain constructor A is said to extend a domain constructor B
  if A's definition has the form A == Badd.... This intuitively
  means "functions not defined by A are assumed to come from B."
  Successive domain extensions form add-chains affecting the
  search order for functions not implemented directly by the
  domain during dynamic lookup.

  "dynamic lookup

  In Axiom, a domain may or may not explicitly provide function
  definitions for all its exported operations. These definitions
  may instead come from domains in the add-chain or from default
  packages. When a function call is made for an operation in the
  domain, up to five steps are carried out.
  1. If the domain itself implements a function for the operation,
     that function is returned.
  2. Each of the domains in the add-chain are searched; if one
     of these domains implements the function, that function is
     returned.
  3. Each of the default packages for the domain are searched in
     order of the lineage. If any of the default packages implements
     the function, the first one found is returned.
  4. Each of the default packages for each of the domains in the
     add-chain are searched in the order of their lineage. If any
     of the default packages implements the function, the first
     one found is returned.
  5. If all of the above steps fail, an error message is reported.

---------

It is a pity that these concepts were not described in more detail
anywhere else in the main body of the book. It seems strange for
them to be only here in the "glossary".

Although the emphasis here is on "dynamic" to you think that
domain extensions of this kind might be involved in the kind
of propagations that you have observed?

> ... 
> However, it is only a map into the vectors layout. The subtle
> changes which I have noticed in the bootstrap build do not
> involve the `shape' of the vectors. For example, where a certain
> slot was filled with a hard reference to a compiled function,
> now we have a call to the runtime dispatch mechanism. 
> 
> Some of the notes that I promised deal with how byte vectors
> and the runtime dispatch mechanisms work. I hope to get around
> to writing it down soon ;)
> 

BTW, how are those notes coming along? :)

\start
Date: Fri, 14 Jan 2005 15:47:02 -0500
From: Bill Page
To: William Sit
Subject: RE: Mathaction edit/preview/save problem

William,

On Friday, January 14, 2005 3:03 PM you wrote:
> > 
> > On Thursday, January 13, 2005 4:47 AM you wrote:
> > >
> > > Here's is the edit on DynamicFunctionDomains page. When I
> > > tried preview and save, it said "cannot find server".
> ... 
> I tried again and the same thing happens. Is it because I did 
> NOT sign on MathAction? I once found a link to login, but now
> I could not find it (the login page also let one subscribe).

Perhaps the `login' link has been removed from the FrontPage
but really all that was was a link to what is labelled
"Preferences" in the main menu. Really one does not actually
have log in to MathAction. It is not controlled in that way.
All you are doing is letting the system know who you are. That
is done by clicking 'preferences'. If you have persistent
cookies enabled in your browser, then it will remember your
preferences information (including your name and email address)
the next time you access MathAction.

> If one MUST login before saving any editing (or make other
> contributions to the site), then I think on the top menu lines,
> there should be a login and if possible, the functions are
> dimmed unless someone has logined. Right now, the items are
> dimmed if it has been accessed.

No this isn't necessary. If you haven't set your name using
Preferences then any changes you make will just be identified
by the name Anonymous, but they will still work.

> I use IE, Firefox on a windows machine.

I use both of these with no problem both behind a strick
firewall at work and behind a simplier firewall configuration
here at home.

> I also tried this with safari on a MacOSX machine (Cannot open
> page) or when I tried Sandbox and click on back, safari crashed.
> I don't have a network problem (I can send and receive email).

Sorry but that does sound like some kind of network problem
to me. Email uses entirely different protocols than a browser.

> 
> Perhaps I am just missing something obvious? Could it be 
> because of firewall programs? (My computers are shielded by
> a Netgear router).
> 

I don't use Netgear but I do not think that this could be a
firewall problem.

It does not make any sense to me that you can access pages
on MathAction and even click Edit, but that when you try to
click Preview or Save you suddenly get a "cannot find server"
message. The best explanation that I can think of is that
this might mean that you have some kind of intermittant domain
name server problem. "cannot find server" usually means that it
tried to lookup the name `page.axiom-developer.org' in order
to find its numeric ip address but your domain name server
told your browser that it could not find that particular name.
That is strange because it obviously found the same name when
you first found that page.

How often do you use a web browser on your system? Do you
get this message when accessing any other web site?

\start
Date: Fri, 14 Jan 2005 12:53:27 -0800
From: Bob McElrath
To: Bill Page
Subject: re: Mathaction edit/preview/save problem

Bill Page [Bill Page] wrote:
> I don't use Netgear but I do not think that this could be a
> firewall problem.

Make sure you have updated your router to the latest version of its
BIOS.  These cheapo-home devices generally have numerous stupid
problems...that I won't get into.  (See the BIOS changelogs for things
like: computers connected to wireless cannot connect to wired computers)

> It does not make any sense to me that you can access pages
> on MathAction and even click Edit, but that when you try to
> click Preview or Save you suddenly get a "cannot find server"
> message. The best explanation that I can think of is that
> this might mean that you have some kind of intermittant domain
> name server problem. "cannot find server" usually means that it
> tried to lookup the name `page.axiom-developer.org' in order
> to find its numeric ip address but your domain name server
> told your browser that it could not find that particular name.
> That is strange because it obviously found the same name when
> you first found that page.
> 
> How often do you use a web browser on your system? Do you
> get this message when accessing any other web site?

This could also be a failure of the router to upload a large amount of
data (since preview/save has to send the entire page back).  After
updating your BIOS, see if you can upload anything anywhere else.

\start
Date: Fri, 14 Jan 2005 16:03:42 -0500
From: William Sit
To: Bill Page
Subject: Re: Axiom domains and Aldor return types
Cc: Ralf Hemmecke

Hi Bill:

Bill Page wrote:

> Just to be clear on my criticism: I am *not* against the use
> of dependent types as such. I just think that we should not
> call something that has dependent types a *function*. I think
> the Aldor notation risks confusion on a very fundamental
> mathematical issue. Axiom's spad language design make it clear
> that what Martin wants is really a *functor* (as you explained
> very clearly in your previous message - thank you!) Functors
> have a description (I dare not call it a "signature") which
> is more complex than a function. I think it is natural that
> Axiom's notation makes a clear distinction.

I think something like F(a:A)==F(a):B(a) should simply be called a program or
routine! It is neither a function nor a functor in the strict mathematical
sense.

> Is there a way that this "Aldor function" can be written
> in Aldor that syntactically respects the same distinction?
> If so, then perhaps we should just consider the way Aldor
> allows this to be written as a kind of abbreviation that
> happens to look like the notation for a function.

I think Aldor treats the two levels equally, that is, domain constructors and
"function" are the treated the same. Axiom does not and restricts "function" to
a real mathematical function while leaving domain (or even category and package)
constructors a bit more general by allowing dependent signatures. This allowed
dependence is even more general than F(a:A)==F(a):B(a), for example, one can
have F(a:A,b:B(a),c:C(a,b))==F(a,b,c):D(a,b,c). Such dependence is not allowed
for functions in Axiom but allowed in Aldor. In other words, the source does not
have to be "rectangular" but can be any "area" (or "solid") with bounding
"curves" ("surfaces"). Metaphorically, Aldor allows integration over any solid,
Axiom only over a cuboid. If you think about this calculus analogy, you can see
that Aldor is a much more powerful language. 

> BTW, chapters 11 Packages, 12 Categories and 13 Domains of the
> Axiom book are very useful but I find the orientation rather
> confusing - perhaps it is just the "age" of the terminology
> that is used in these chapters that makes reading a little hard.
> I think it would be great if these could be re-written in a
> more modern "categorical" manner similar to the way you wrote
> your previous message. Are there any papers that you could
> reference that attempt to do this? Is there some corresponding
> part of the Aldor documentation that would be useful for me
> to re-read?

Well, I tried to look up something from the web for my email on functors, and I
got a nice one for you:

http://math.ucr.edu/home/baez/categories.html

Actually, I was attempting to explain why something like Integer is a category
and I remembered that category theorist think of a group as a category but
forgot how. The above article explains that.  But applying the same to Axiom
does not work! Try it.

\start
Date: Fri, 14 Jan 2005 16:50:36 -0500
From: Tim Daly
To: Bertfried Fauser, Bill Page
Subject: Re: Axiom book

Bertfried,

There are now three distinct meanings for "the axiom book".

Meaning 1: The printed version, although this is the least likely
meaning at the moment.

Meaning 2: the big book.pamphlet file which is distributed with
the axiom system and is also in book--main--1. This is the latest
version of the information in a single form.

Meaning 3: there has been considerable discussion about actually
publishing the axiom book (under meaning 2) at a site called 
www.lulu.com which is an internet publisher.

Several issues have arisen which are shaping the future direction(s?):

We've discovered that lulu has certain constraints. There is a 700
page limit. Since the main book is 1000+ pages this is a problem.
the solution which we've adopted is to break the book into (originally
3, now 4) parts: 
  vol1 (tutorial), 
  vol2 (programming),
  vol3 (reference)
  vol4 (developer guide)
with possible follow-on volumes, such as one based on Littlewood's
Skeleton Key of Mathematics book. I have yet to hear back about the
copyright issue and I'll pursue that further.

I've done some work to fragment the main book into 4 parts and a
small amount of work on the first volume. But it became apparent 
that the tutorial volume assumed that hyperdoc was available so 
I've been bending the sails to get that to run. The February 2005
monthly axiom release will have hyperdoc and graphics integrated
(and the latest axiom--main--1 version already has this).

As we get the various volumes into reasonable shape we will be in
a position where people can actually order hard copies of the volumes.
There has been talk of offering a CD with the tutorial volume. The
big problem is that lulu.com requires a pre-order of 100 copies
if this option is chosen.

I also spent a few days and recovered the "end papers" from the 
hardcopy book, encoded as "endpaper.pamphlet".

On another path there is work going on (off list) with another 
person to put together a linear algebra course using hyperdoc
which might result in another small volume. 

I'm hoping the littlewood book will also act as a seed for a
volume which approaches the subject more from the mathematics
than from the 'axiom' side. 

I have a couple other books I'm also looking at, for example, in
differential equations (Krantz, Steven "Differential Equations
DeMYSTiFieD", McGraw-Hill, 2005, ISBN 0-07-144025-9). I have this in
my local code swamp but have not yet added it to the book branch.

Another path to be pursued is to contact and cooperate with
www.math.niu.edu/~rusin/known-math/index/tour_alg.html
to organize axiom discussions relative to published standards.
This is also of interest for the CATS (Computer Algebra Test
Suite) effort which I still have to upload to the arch server.

Does anyone happen to know Dr. Rusin?

To build the current version of the work do:

tla get book--main--1
cd book--main--1--patch*
make


As Bill mentioned, you should look at http://arch.axiom-developer.org
and follow the instructions at the bottom of the page for getting a key
generated. This will give you direct read-write access to the book.

\start
Date: Fri, 14 Jan 2005 16:44:16 -0500
From: William Sit
To: Bob McElrath
Subject: re: Mathaction edit/preview/save problem

Sorry, it was the Firewall setting. I set the Internet Zone to High and it
blocked sending data from my computer. Setting it to Medium works. (However,
that is only for the Mathaction site. I have no trouble sending data, uploading
etc to other sites with setting on High. So it is probably some special java
applet that was blocked.)

I am using the EZ Firewall Lite from Computer Associates (it is like ZoneAlarm).

Thanks for helping to diagnose the problem.

\start
Date: Fri, 14 Jan 2005 17:01:35 -0500
From: Kostas Oikonomou
To: list
Subject: Axiom graphics from inside TeXmacs?

Does anyone know if it is possible to display Axiom graphics when using
TeXmacs as the front end?  I.e. I type "draw(x, x=0..1)" in TeXmacs,
I see the output in an X-window.

\start
Date: Fri, 14 Jan 2005 14:48:25 -0800
From: Bob McElrath
To: Tim Daly
Subject: re: hyperdoc

$0.02 (not much, I know)

root [Tim Daly] wrote:
> ah, i see the redesign effort for hyperdoc will be SO smooth and 
> peaceful :-)
> 
> At the moment hyperdoc provides some unique functionality which
> would need to be preserved in the new design. I don't currently
> use TeXmacs but then I don't use any tools except emacs. 
> 
> Whatever we choose, after much debate, I think we need to keep the
> 30 year horizon in mind. Hyperdoc, after 30 years, looks primitive
> but it does do hyperlinking, embedded commands, embedded graphics,
> tear-off tabs, etc. All of that had to be invented because it did
> not exist at the time. We need to invent the future technology based
> on our estimate of what will be useful 30 years from now. On this
> point I expect and encourage much debate.

On this point let me throw in that on the 30-year horizon is XML and
MathML, and there is much effort going into it.  There exists numerous
generalized parsers, the correctness of a document can be verified, and
we can use it NOW.  Consider that:
    
    1. Maple and Mathematica will output MathML

    2. OpenMath: http://www.openmath.org/ is XML

    3. Aldor libraries exist to manipulate OpenMath and MathML:
        http://www.cs.bath.ac.uk/~wn/AldorXML/

    3. All modern browsers understand XML

    4. Mozilla renders MathML

    5. The STIX project will eventually have fonts for us, for now
        truetype versions of the tex Computer Modern fonts work fine.

    6. Axiom has a setting: ')set output openmath on' that doesn't
        appear to do anything, is there code behind this?

    7. XSL Stylesheets are available to render OpenMath as MathML, in
        the user's browser.  Latex to OpenMath and Latex to MathML
        converters exist too

    8. Browsers and browser plug-ins (XPI) are platform-independent,
        while latex requires a platform-dependent implementation

    9. REDUCE can parse, evaluate, and generate MathML:
        http://www.zib.de/Symbolik/reduce/more/moredocs/mathml.pdf

TeX basically operates under the principle that "the code *is* the
standard".  e.g. the latex itself defines what is a valid document, and
there is only one implementation.  On the XML side, document structures
are defind with a schema, and many implementations exist to create and
use that document.  The latter leads to better standards, since the
standards evolve faster and have redundant checking.

The sheer amount of effort going into MathML and related technologies is
huge, and I think we ignore it at our peril.  The amount of effort going
into TeXmacs is by comparison small.  Right now latex is more advanced,
but this will not be the case for long.

That said, the tex input for for mathematics $\int_a^b \sin x d~x$ will
be with us for a long time to come.

Considering the weight behind XML and MathML, let me make the following
important point:

    The sooner we switch to XML and MathML-based technologies, the
    better we will be in the long run.

*Everyone* has been skittish on moving to MathML.  Axiom has the
opportunity to push MathML, and simultaneously make a name for itself.
I think we should convert the mathaction site to default to MathML as
soon as it is feasable.

Basing our work on MathML now, will make future transitions easier.
(The choice of MathML/mathaction vs. texmacs may seem trivial now, but
will lead us to consider the OpenMath backend of axiom, rather than
tweaking tex output, etc)

Consider in the far future that a user could download 1) a Mozilla/Gecko
XPI plugin and 2) binary axiom, and that's *it*, and the browser itself
could present a worksheet interface.

P.S. I note that Mike Dewar of NAG is behind OpenMath...

\start
Date: Fri, 14 Jan 2005 17:49:14 -0500
From: William Sit
To: Bill Page
Subject: re: Mathaction edit/preview/save problem

William Sit wrote:
 
> Sorry, it was the Firewall setting. I set the Internet Zone to High
> and it blocked sending data from my computer. Setting it to Medium
> works. (However, that is only for the Mathaction site. I have no
> trouble sending data, uploading etc to other sites with setting on
> High. So it is probably some special java applet that was blocked.)
 
> I am using the EZ Firewall Lite from Computer Associates (it is like
  ZoneAlarm).
 
> Thanks for helping to diagnose the problem.

Well, not quite. it only worked on the Sandbox page, where I was able
to submit an edit for the MainPage (I entered "What is this?"). In
fact that page worked (Preview/Save) even with the security setting on
High.

But when I tried to edit the DynamicFunctionDomains, it still says "This page
cannot be displayed".  

This is not intermittent. Every time. It's not a DNS problem because I
can click on to any link on the page and it displays. I just added
Hello to the Sandbox MainPage. I went right to the
DynamicFunctionDomains and change (4,7) to (4,8) and click
preview. Then it stalls and same problem.

It seems to be a write privilege denied type of problem to me.

William
---
Bill, here is new page to replace the current one.

On Wednesday, January 12, 2005 12:00 PM you wrote:
Ralf Hemmecke wrote:
 
Well, I haven't checked whether it should really work, but
shouldn't:
 
 Foo: with {
    g: (n: PositiveInteger, k: PositiveInteger) ->
       (P: PrimeFieldCategory, x: P)
 } == add {
    g(n: PositiveInteger, k: PositiveInteger ):
     (P: PrimeFieldCategory, x:P) == {
     (PrimeField(n), k::Integer::PrimeField(n)
    }
 }

be even better? 

Later William Sit wrote:
 
In fact you just pointed out a way to solve the problem! Notice 
that you are in effect constructing a domain! So first create
this domain (call this anything else you like)

\begin{axiom}
)abbrev domain PPF PointedPrimeField
--%PointedPrimeField
PointedPrimeField(n:PositiveInteger):Cat==Dog where
  Cat == FiniteFieldCategory with
    foo:PositiveInteger->PrimeField(n)
  Dog == PrimeField(n) add
    foo(k)==k::Integer::PrimeField(n)
\end{axiom}

After compiling, define in the interpreter

\begin{axiom} 
g(n,k)==foo(k)$PPF(n)
g(7,4)
\end{axiom}
 
and it works (in Axiom)! (Do not declare the types
for g because n is not defined).

Compiling g is still a problem in Axiom due to
signature limitation. At least this way, inlining
a complicated function is almost like a function call.

The idea is: Since in creating domains (or any other
types of constructors), we are in effect creating a
function(the domain constructor PPF is a function of
sort, or functor) and the compiler can take dependent
types in its signature,structurally::

  PPF(n:PositiveInteger)==PrimeField(n) with foo

so it should be able to compile something like g by
lifting it to the package level.

So here is another way using package.

\begin{axiom}
)abbrev package FOO Foo
--%Foo
Foo(n:PositiveInteger, k:PositiveInteger):T==C where
  T == with
       point:()->PrimeField(n)
  C == add
       point()==k::Integer::PrimeField(n)
\end{axiom}

After compiling, we can use::

  point()$Foo(n,k)

in any computation in compiler code (and in interpreter). 
\begin{axiom}
)abbrev package BARTEST Bartest
Bartest: T==C where
   T == with
        barrun: () -> Void
   C == add
        import FOO
        barrun() ==
          for k in 4..5 repeat
            for n in [1,2,4,6]::List PositiveInteger repeat
              print(point()$Foo(n+1,k)::OutputForm)$PrintPackage
\end{axiom}

\begin{axiom}
barrun()
\end{axiom}

Still can't call this bar(n,k) even if you use a macro expansion:

\begin{axiom}
bar ==>point()$Foo
bar(4,7)
\end{axiom}

In compiler version (as probably the same in the interpreter version), 
the macro is expanded and parsed before attaching (4,7). bar(n,k)
would be parsed in lisp code as

   ((|elt| |Foo| |point|)) |n| |k|

but should be

   ((|elt| (|Foo| |n| |k|) |point|))

for the macro to work.

The package version does not sacrifice the mathematical type structure of the
original example that Martin proposed:

   g(n:PositiveInteger, k:PositiveInteger):PrimeField(n)

It reflects exactly the same structure with the exception that there is no
signature used and g(n,k) is replaced by the longer name
point()$Foo(n,k) as illustrated in the Bartest package. Aldor is
nicer because it allows that, so that such a wrapper is not necessary. But the
wrapper is straightforward and general and can even be automated.


Can someone give an example where the *signature* of bar::

  bar: (n: PositiveInteger, k: PositiveInteger) -> PrimeField(n)

is actually needed?

\start
Date: Fri, 14 Jan 2005 18:39:55 -0500
From: Stephen Wilson
To: Bill Page
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

On Fri, Jan 14, 2005 at 03:20:12PM -0500, Bill Page wrote:
> What is the current status of your effort to update the
> bootstrap files? Having update the bootstrap and run the
> fixedPoint interactions, exactly which files still show
> differences during the first iteration?

After last weekend I have been playing `catch up' on a few things. In
a few more hours I should have opened up this weekend so I can delve
back into this issue. 

> It is a pity that these concepts were not described in more detail
> anywhere else in the main body of the book. It seems strange for
> them to be only here in the "glossary".

I agree. I compleatly missed them.

> Although the emphasis here is on "dynamic" to you think that
> domain extensions of this kind might be involved in the kind
> of propagations that you have observed?

We need to go with whatever clues we have. Given what we know, this is
a line of enquiry which stands a good chance of being productive. I
dont see how code is compiling with the current bootstrap for SINT
aside from the resolution mechanism kicking in and getting a handle on
Monoids `one?' in order for SINT to satisfy its exports. However, the
BINFILE example with the `<' -> QSLESSP transformation has me
baffled. We have on the first iteration:

         ((OR (QSLESSP |x| 0) (< 255 |x|))

and then on the second

        ((OR (QSLESSP |x| 0) (QSLESSP 255 |x|))

So, as we know from Tim's analysis of the CHAR domain, the QSLESSP is
put on the property list for the symbol representing SINT's `<'. The
replacement is happening on the first pass for a comparison against 0,
but not against 255. Is it possible for `255 < x' the left hand side
is interpreted as a POSINT or INT first, and an implicit coercion is
being performed on `x'? I have no idea why the type resolution is
happening differently during the second pass. I cant explain it given
what we have come to discover thus far.

Regardless, these are just musings for now. I should have a lot of
time this weekend to help figure this out.

> BTW, how are those notes coming along? :)

Now that I have my head above the water, soon now, I hope :)

\start
Date: Fri, 14 Jan 2005 19:47:33 -0500
From: Tim Daly
To: Bob McElrath
Subject: re: hyperdoc

re: openmath... the zips directory contains the OMC tar file.
it has yet to be re-integrated.

XML... ummm... well...

I worked for Worldcom, monitoring their data centers and backbone.
Worldcom owns about 75% of the actual hardware that makes up the internet.
We had a monitoring application that had a few pieces of data about each
device on the net like IP address, MAC address, SNMP passwords, etc.

I spent a year converting a flat text file used as the basis for this
worldwide monitoring to XML and working with the tools parse it. I
worked with the JDOM (Java DOM parser) people and we had XML "experts"
from the standards committee come preach at us.

XML is a horror show in practice. XML is standard, of course, and the
standards are on the web so you can just point at them. Assuming, of
course, that web pages stay around. And the parsers are large, slow,
and full of buggy corner cases. XML added a factor of 5 to the file
size and a factor of 10 to the processing time.

XML added nothing of value. Other tools and formats do it better,
easier, and faster, and even more portably. 

I'm sure the issue can be debated and I was once a major XML advocate
so I'm very familiar with the supposed "pros". No longer. 

In short, XML is gonna be a hard sell.

a recovering XML-aholic,

\start
Date: Fri, 14 Jan 2005 16:40:47 -0800
From: Bob McElrath
To: Tim Daly
Subject: re: hyperdoc

root [Tim Daly] wrote:
> XML is a horror show in practice. XML is standard, of course, and the
> standards are on the web so you can just point at them. Assuming, of
> course, that web pages stay around. And the parsers are large, slow,
> and full of buggy corner cases. XML added a factor of 5 to the file
> size and a factor of 10 to the processing time.

The file size can be alleviated with gzip, if desired, and we may yet
see binary XML, which could address the "slow" problem:

http://developers.slashdot.org/article.pl?sid=05/01/14/1650206&commentsort=3

> XML added nothing of value. Other tools and formats do it better,
> easier, and faster, and even more portably. 

I am in complete agreement.

Just making a point to think about.

There are no other tools or formats that do *math* better, easier,
faster, or more portably.  (tex is display only, not interchange, not
input for math evaluation putposes, and not specific enough to describe
a mathematical expression)

Can you elaborate on "full of buggy corner cases"?  I have no argument
with "large" and "slow".

Moving web pages to MathML is simple, and the right way to go for the
restricted problem of presenting info on the web.  Other design
decisions can be debated later...

> I'm sure the issue can be debated and I was once a major XML advocate
> so I'm very familiar with the supposed "pros". No longer. 
> 
> In short, XML is gonna be a hard sell.

Do you have any experience with OpenMath?

I have done some tooling around with MathML, both presentation and
content, and stylesheets for them.  We *will* find corner cases and
problems, particularly in the layout of the math.  But I think the
web-browser crowd has gone as far as they can, and if MathML is to
survive, the math-content-producing folk like ourselves must get
involved.

I do not believe that making images out of equations is a horrible way
to go, for the long term.  As has been pointed out, it's impossible to
change the font size, violates many rules of web accessability, printing
looks terrible, and it's in general impossible to get fonts that look
the same as the images.

\start
Date: Fri, 14 Jan 2005 20:26:01 -0500
From: Tim Daly
To: list
Subject: axiom--main--1--patch-25

I sent this out before but it appears to have been swallowed.

axiom--main--1--patch-25 is up on the arch server.

This is a merge of --main and --windows. 
Not all of the changes were merged.
This version will serve as the proposed February 2005 version
to be pushed on to the savannah and sourceforge websites.


In particular, this version has

(a) integrated hypertex and graphics into axiom command
(b) a new, simplified(?) src/algebra/Makefile
(c) fixes to the algebra for the bugs listed in:

     src/input/bug10069.input.pamphlet added
     src/input/bug10312.input.pamphlet added
     src/input/bug6357.input.pamphlet added
     src/input/bug9057.input.pamphlet added
     src/input/negfloats.input.pamphlet added

(d) Makefile.gentoo subsection in Makefile.pamphlet
          
     use AXIOM=`pwd`/mnt/gentoo

(e) Makefile.solaris9 subsection in Makefile.pamphlet

     use AXIOM=`pwd`/mnt/solaris9
     Note that this does not yet have all of Kostas' fixes applied

(f) updated FAQ
(g) changes for MSYSplatform in lib, sman, etc
(h) common lisp patches
(i) clef (edible.c) changes
(j) SRCDIRS variable in Makefile.pamphlet
  
     this allows various platforms to skip unimplemented features
     (like hyperdoc and graphics on windows)

There are still things to be done but this version has been tested
and committed.

Please use the Issue Tracker page to report issues and bugs at:

http://page.axiom-developer.org/zips/mathaction/FrontPage/issuetracker

\start
Date: Fri, 14 Jan 2005 20:40:22 -0500
From: Tim Daly
To: Bob McElrath
Subject: re: hyperdoc

> Can you elaborate on "full of buggy corner cases"?  I have no argument
> with "large" and "slow".

I posted a whole bunch of them on the JDOM mailing list but I'm no
longer at Worldcom and have completely removed all traces of XML from 
every possible file everywhere. It was a pleasant task :-)

> I do not believe that making images out of equations is a horrible way
> to go, for the long term.  As has been pointed out, it's impossible to
> change the font size, violates many rules of web accessability, printing
> looks terrible, and it's in general impossible to get fonts that look
> the same as the images.

Here's a subtle point.... if you are aware of what you do when you 
read math(s) texts, physics texts, etc you'll find that equations,
once you understand them, are actually just icons for you. for instance

  E = m c^2

is almost certainly not something you actually think about once you
understand it. It has become an 'icon' that gets used to remind you
of all of the associations. The only time I actually read and parse
an equation is the first time I'm trying to understand it. Even then
I find that I'm doing algebra in my head to convince myself that the
equation has been correctly derived, not working with the semantics.

This point came up during my last discussion of the crystal project.
Almost all of the actual semantics of an equation is NOT contained
in the equation but in the surrounding text. 

\start
Date: Fri, 14 Jan 2005 20:48:41 -0500
From: Tim Daly
To: Bob McElrath
Subject: re: hyperdoc

> Do you have any experience with OpenMath?

The point of debate with openmath is as follows... Consider axiom and
maple or mathematica. Ideally openmath would allow you to take an
axiom expression, export it to maple, and get back an answer so that
the computation was transparent.

But in Axiom most of the semantics of an equation is embedded in the
type. Thus, 

 x:POLY(FRAC(INT)):=1

is not the same as

 x:POLY(COMPLEX(INT)):=1

or 

 x:FRAC(POLY(INT)):=1

or any other variation. I don't know how to design a system-independent
way that Maple can take an axiom computation involving 'x' and return
the correctly typed result. In fact, until we get our act together it
is not always clear what the return type of an expression will be even
within axiom. Eventually we will write out the coerce/convert tree and
be able to tell, of course, but that won't help us with openmath.

\start
Date: Fri, 14 Jan 2005 17:18:52 -0800
From: Bob McElrath
To: Tim Daly
Subject: re: hyperdoc

root [Tim Daly] wrote:
> > I do not believe that making images out of equations is a horrible way

That should have read "I DO believe..." whoops

> > to go, for the long term.  As has been pointed out, it's impossible to
> > change the font size, violates many rules of web accessability, printing
> > looks terrible, and it's in general impossible to get fonts that look
> > the same as the images.
> 
> Here's a subtle point.... if you are aware of what you do when you 
> read math(s) texts, physics texts, etc you'll find that equations,
> once you understand them, are actually just icons for you. for instance
> 
>   E = m c^2
> 
> is almost certainly not something you actually think about once you
> understand it. 

No, especially when c=1 and E=m.  ;)

> It has become an 'icon' that gets used to remind you
> of all of the associations. The only time I actually read and parse
> an equation is the first time I'm trying to understand it. Even then
> I find that I'm doing algebra in my head to convince myself that the
> equation has been correctly derived, not working with the semantics.
> 
> This point came up during my last discussion of the crystal project.
> Almost all of the actual semantics of an equation is NOT contained
> in the equation but in the surrounding text. 

I disagree...I usually skip the text and only read equations.

This is also a function of the length of an equation...we make long ones
in physics, then have to do tricks like looking at units and limits to
see if a long equation makes sense.  In the paper I'm working on today,
I have several equations that took several pages each to derive, and are
not obvious when you look at them (but relatively straightforward to
derive).  They're also too long to remember.  I presume people would
mentally iconify them like:

    cos(theta) = f(some masses and energies)

and forget the actual eqation until they have to go write it in some
code, and then they go look it up.  The semantics is that this is an
angle between a couple of particles, and that has to be gotten out of
the text...

\start
Date: Fri, 14 Jan 2005 20:57:25 -0500
From: Tim Daly
To: Bob McElrath
Subject: re: hyperdoc

> The file size can be alleviated with gzip, if desired, and we may yet
> see binary XML, which could address the "slow" problem:
> 
> http://developers.slashdot.org/article.pl?sid=05/01/14/1650206&commentsort=3

The best way to handle this, in my opinion, is to replace the XML tagging
structure with lisp lists. Thus you can turn the 

<a href="foo.html">my words</a> 

into

(a :href "foo.html" :text "my words")

or

(a "foo.html" "my words")

and use a lisp parser. You instantly have a fast parser that can be
easily extended with readtables, a macro expansion facility, and a
way to define new tags. Portable, fast, powerful, well-defined, 
extensible, available, easily integrated, existing tools, compileable,
package-namespaces, etc.

New schemas can be defined with macros.

\start
Date: Fri, 14 Jan 2005 17:23:53 -0800 (PST)
From: Cliff Yapp
To: Bob McElrath, Tim Daly
Subject: re: hyperdoc

> > XML added nothing of value. Other tools and formats do it better,
> > easier, and faster, and even more portably. 
> 
> I am in complete agreement.
> 
> Just making a point to think about.
> 
> There are no other tools or formats that do *math* better, easier,
> faster, or more portably.  (tex is display only, not interchange, not
> input for math evaluation putposes, and not specific enough to
> describe a mathematical expression)

In some sense, there is the syntax used by
Axiom/Maxima/Mathematica/Maple/etc. to define math, but web browsers
don't tend to read it directly.

> Moving web pages to MathML is simple, and the right way to go for the
> restricted problem of presenting info on the web.  Other design
> decisions can be debated later...

Just so I'm clear, are we discussing adding the ability to output
MathML and perhaps read it in, or are we talking about making OpenMath
the native language/mode/whatever of Axiom?  MathML in/out I can see as
being about the same as TeX in/out - desirable in some situations, but
not for internal CAS use.
 
> > I'm sure the issue can be debated and I was once a major XML
> > advocate so I'm very familiar with the supposed "pros". No 
> > longer. 
> > 
> > In short, XML is gonna be a hard sell.
> 
> Do you have any experience with OpenMath?
> 
> I have done some tooling around with MathML, both presentation and
> content, and stylesheets for them.  We *will* find corner cases and
> problems, particularly in the layout of the math.  But I think the
> web-browser crowd has gone as far as they can, and if MathML is to
> survive, the math-content-producing folk like ourselves must get
> involved.

This has come up a couple of times on the Maxima list, and based on
discussions from there my (relatively naive) feeling is:

a)  MathML is primarily useful as a way to export CAS worksheets (or
whatever you're doing your math in) for web display.  It shouldn't be
an integral part of the calculation process.

b)  The CAS is probably the place to make the decisions about
formatting, if you provide it info about fonts and space constraints. 
Assuming, of course, you decide to teach the CAS how to fit things into
a constrained space.  Axiom and Maxima both have to know this at some
level just to be able to output expressions successfully to a
termainal, so in theory it could be possible to expand this ability to
more "graphical" output environments.  The drawback is a MathML page
would have to be fixed size, but except (MAYBE) for some fairly trivial
exceptions (+,-, * with top level expressions - i.e. not inside a
fraction, summation,etc) there is no way the browser is going to be
able to come up with reasonable displays for all browser window sizes. 
Even the simple stuff could be tricky to impliment. To my mind, A4 and
Letter worksheets with margins are the most profitable parameters to
work with, since that will (hopefully) allow printing of the MathML
pages, as well. For web display there is zoom, changing font size, and
hiding the top and bottom margin effects in the web display (hopefully
stylesheets can do that work) to fit the width of the page in the
browser, and I'm guessing that'll have to do.

c)  In general, display of 2D equations in confined space is a hard
problem.  TeXmacs does some line breaking, and so does wxMaxima, but
I'm not sure how powerful the algorithms are.  Any 2D equation based
GUI solution needs to be considered carefully though.

> I do not believe that making images out of equations is a horrible
> way to go, for the long term.  As has been pointed out, it's 
> impossible to change the font size, violates many rules of web 
> accessability, printing looks terrible, and it's in general 
> impossible to get fonts that look the same as the images.

I think you mean you DO believe it is a horrible idea to use images? 
If so I agree.  MathML is clearly the best display medium for the web,
but AFAIK it's main use is just that - an output format, like PDF.

\start
Date: Fri, 14 Jan 2005 17:50:55 -0800
From: Bob McElrath
To: Cliff Yapp
Subject: re: hyperdoc

C Y [Cliff Yapp] wrote:
> Just so I'm clear, are we discussing adding the ability to output
> MathML and perhaps read it in, or are we talking about making OpenMath
> the native language/mode/whatever of Axiom?  MathML in/out I can see as
> being about the same as TeX in/out - desirable in some situations, but
> not for internal CAS use.

For the immediate future, I'm talking about putting MathML on the web
(however that is done).

However there are significant implications to choosing to handle XML
within axiom (as I outlined in previous email), that affect the 30-year
goal.

> a)  MathML is primarily useful as a way to export CAS worksheets (or
> whatever you're doing your math in) for web display.  It shouldn't be
> an integral part of the calculation process.

Agreed.  But will that always be the case?  Are we *sure* OpenMath will
flop, and the ideas it represents?  (and stay flopped for 30 years)

Let me make the possible decision chain explicit:

    1. export CAS to web => make axiom write MathML directly

    2. add lisp XML library to axiom to make (1) easier

    3. OpenMath is now easier, because we have XML already

    4. A browser-based worksheet program/editor appears (a la mozilla)
    that can generate OpenMath or content MathML to feed to a CAS.
    (e.g. it has palettes like Mathematica/Maple)

    5. we add OpenMath/content MathML as an input format

I'm just saying that design decisions that tie us to XML are probably a
good idea, and probably have a better future than design decisions that
eschew XML in favor of TeX.

> c)  In general, display of 2D equations in confined space is a hard
> problem.  TeXmacs does some line breaking, and so does wxMaxima, but
> I'm not sure how powerful the algorithms are.  Any 2D equation based
> GUI solution needs to be considered carefully though.

I would think this could be done in the browser?  OpenMath or Content
MathML plus an XSL stylesheet could do it, presumably...

BTW here is a critique of OpenMath by Fateman:

    http://www.cs.berkeley.edu/~fateman/papers/openmathcrit.pdf

and a discussion of his criticism starting here:

    http://lars.math.fsu.edu/archive/om-announce/msg00096.html

He doesn't like it so much...and brings up a number of good points.

\start
Date: Fri, 14 Jan 2005 17:57:21 -0800 (PST)
From: Cliff Yapp
To: Tim Daly, Bob McElrath
Subject: re: hyperdoc

> > Do you have any experience with OpenMath?
> 
> The point of debate with openmath is as follows... Consider axiom and
> maple or mathematica. Ideally openmath would allow you to take an
> axiom expression, export it to maple, and get back an answer so that
> the computation was transparent. But in Axiom most of the semantics 
> of an equation is embedded in the type. Thus, 
> 
>  x:POLY(FRAC(INT)):=1
> 
> is not the same as
> 
>  x:POLY(COMPLEX(INT)):=1
> 
> or 
> 
>  x:FRAC(POLY(INT)):=1
> 
> or any other variation. I don't know how to design a
> system-independent way that Maple can take an axiom computation 
> involving 'x' and return the correctly typed result. 

In fact, might this not in fact be impossible in general, since Maple
won't be keeping track of the things Axiom wants to know?

Perhaps I'm wrong, but I always thought the fundamental problem with
OpenMath was it assumed a feature and logical lineup within all CASs
that doesn't seem to exist.

That's one of the things I'll be interested to see how CATS deals with
- there (as I understand it, please correct me if I'm wrong Tim) the
goal is not to be able to swap inputs and outputs, but to have as
nearly as possible the same question posed, and see if the systems
agree mathematically?

> In fact, until we get our act together it is not always clear what 
> the return type of an expression will be even within axiom. 
> Eventually we will write out the coerce/convert tree and
> be able to tell, of course, but that won't help us with openmath.

That will be an impressive accomplishment. :-)

Thanks as always guys for your hard work!

\start
Date: 15 Jan 2005 04:19:25 +0100
From: Gabriel Dos Reis
To: list
Subject: re: hyperdoc

Tim Daly writes:

| XML is a horror show in practice. XML is standard, of course, and the
| standards are on the web so you can just point at them. Assuming, of
| course, that web pages stay around. And the parsers are large, slow,
| and full of buggy corner cases. XML added a factor of 5 to the file
| size and a factor of 10 to the processing time.

hear, hear, hear.

| XML added nothing of value. Other tools and formats do it better,
| easier, and faster, and even more portably. 
| 
| I'm sure the issue can be debated and I was once a major XML advocate
| so I'm very familiar with the supposed "pros". No longer. 
| 
| In short, XML is gonna be a hard sell.

well, people with extensive experience with XML and fair assessment
are rather the exception, instead of the norm; so it might end up
being an easy sell  ;-)

\start
Date: Fri, 14 Jan 2005 22:34:33 -0500
From: Tim Daly
To: Cliff Yapp
Subject: re: hyperdoc

> That's one of the things I'll be interested to see how CATS deals with
> - there (as I understand it, please correct me if I'm wrong Tim) the
> goal is not to be able to swap inputs and outputs, but to have as
> nearly as possible the same question posed, and see if the systems
> agree mathematically?

In fact, the idea behind CATS is that we take a well-defined math
area, choose some problems with a known solutions and write up the 
problems and their solutions. Then, for each CAS, there is a section
that sets up the problem and an encoding of the expected answer so
the testing can be automated. There is no assumption that every
CAS is capable of handling every test case, nor any assumption 
about common structure/function/etc. 

CATS is trying to suggest a way to pool the mathematical expertise
needed to solve a problem and present it so that each CAS can 
consider the problem and know they have a correct solution. Of 
course, the issue of a "correct" solution is not always clear and
often a point of debate but that's why the mathematical explanation
section exists.

See Jeffrey, D.J and Norman, A.C
"Not seeing the roots for the branches: multivalued functions in
computer algebra" SIGSAM Bulletin (Association for Computing 
Machinery) Vol 38, Number 3; Sept 2004 Issue 149 pp57-66

for the kind of analysis that might be expected.

Arthur Norman probably has a copy of the paper on the web somewhere.

\start
Date: Fri, 14 Jan 2005 21:55:22 -0500
From: Bill Page
To: Kostas Oikonomou
Subject: RE: Axiom graphics from inside TeXmacs?

Kostas,

With all your efforts to get Axiom working on your system,
you are now further ahead with this than most people. All
I can do at this point is to tell you what I know so far.
If you get some of these things to work, then I will be
happy to try to incorporate them into the TeXmacs Axiom
interface program.

1) TeXmacs can accept postscript format data generated by
   an external program like Axiom. There are some examples
   of this already with other programs that have been
   interfaced to TeXmacs. We will have to study the actual
   code of these other applications since as far as I can
   tell there it very little documentation about how this
   works. However it believe that it is basically just an
   extension of the communication protocol that we are
   already using.

2) The Axiom graphics program runs as a separate process from
   Axiom itself. That you get as far as being able to generate
   an Axiom graphics in an external X-window surprizes me since
   normally the tm_axiom.exe interface program starts only the
   `AXIOMsys' process. Either you have changed the tm_axiom
   program or your must be using a very old version of TeXmacs.
   The old version used to call the `axiom' script instead of
   `AXIOMsys'. Under the most recent source from the axiom--
   main--1 branch calling the `axiom' script also starts
   `sman' and the graphics process.

   If you are using an older version of TeXmacs, I would
   encourage you to upgrade to the latest version as soon
   as possible. There have been a lot of changes in TeXmacs
   of the last year (for the better!) and it is unlikely
   that anything you do with the older version can be easily
   carried over to the new one.

   On the Solaris platform, like on the linux platform, the
   version of tm_axiom that is available does not include
   the kind of nice LaTeX line wrapping like you see in the
   Axiom book. The new version of tm_axiom that is available
   on Windows does include this type of line wrapping and
   very-soon-now I will get around to reverse engineering
   this back to linux and unix. (This is a little involved
   since the new version of tm_axiom on Windows uses native
   Windows process threads.)

3) The Axiom graphics process has the ability to create a
   postscript format output file containing the graphic.
   This can be initiated from the user interface of the
   graphics window or also from an Axiom command. Check "Chapter
   7 Graphics" of the Axiom book, specifically section "7.1.8
   Operations for Two-Dimensional Graphics", `write' operation.
   It works something like this:

     viewPort := draw(sin x, x=-%pi..%pi)
     write(viewPort, "output.ps","postscript")
 
   These commands can be included directly in the TeXmacs
   document.

4) Even if the process isn't automatic, you should be able
   to do the above and then "import" the postscript file
   into TeXmacs. If this works for you, then I am quite sure
   that we will be able to make it completely automatic by
   some additional programming in the new tm_axiom program.

Please let me know if these details help and if you manage
to generate and import an Axiom graphic into TeXmacs.

Regards,
Bill Page.

> -----Original Message-----
> From: 
> axiom-developer-bounces+bill.page1=sympatico.ca@nongnu.org 
> .org] On Behalf Of Kostas Oikonomou
> Sent: Friday, January 14, 2005 5:02 PM
> To: Axiom developers
> Subject: Axiom graphics from inside TeXmacs?
> 
> 
> 
> Does anyone know if it is possible to display Axiom graphics 
> when using
> TeXmacs as the front end?  I.e. I type "draw(x, x=0..1)" in TeXmacs,
> I see the output in an X-window.

\start
Date: 15 Jan 2005 05:20:01 +0100
From: Gabriel Dos Reis
To: Bill Page
Subject: re: hyperdoc

Bill Page writes:

[...]

| > | In short, XML is gonna be a hard sell.
| > 
| > well, people with extensive experience with XML and fair
| > assessment are rather the exception, instead of the norm;
| > so it might end up being an easy sell  ;-)
| > 
| 
| Well, I do use XML and the XSL style language extensively and
| I have expressed my positive attitude toward XML based solutions
| some time ago in this same email list.
| 
| The major error that you are making here is simply in the use
| of the name XML.

I don't think so.

| XML is a meta standard that carries almost no  semantic content.

That precisely is my point.

If it conveyed semantics, one would have something to argue about.
But it does not.  So, it comes to personal experiences, fair
assessment compared to other formats.  In most cases where I used XML,
I saw no benefit over lisp-syntax, except occasional additional
complexity in the way my codes get structured.  In practice, I found
the "selling" point of XML being more abstract than practical.

But I don't think there is hope that I'm going to convince you, nor
you're going to convince me. :-)

[...]

| So I am in 100% agreement with Bob McElrath that support of MathML
| in the LatexWiki/MathAction web environment should be an immediate
| goal. And using SVG for graphics display would also be real nice
| but I think available appications for this are still a little rare.
| These applications of MathML and SVG are internal and completely
| transparent to the user. All they see is better quality display
| of mathematics and graphics in their browser.

I guess it all boils down to contribution of actual codes, which I
have no doubt is going to happen soo.  So the question is probably
moot. 
I was just voicing my experience, which I do not think is
accompanied with a fair assessment :-)
Even if it happens to intersect Tim's (whose comments I take to be
fair, and based on extensive experience).

\start
Date: Fri, 14 Jan 2005 22:59:03 -0500
From: Bill Page
To: Gabriel Dos Reis
Subject: re: hyperdoc

On Friday, January 14, 2005 10:19 PM Gabriel Dos Reis wrote:
> 
> Tim Daly writes:
> 
> | XML is a horror show in practice. XML is standard, of 
> | course, and the standards are on the web so you can just
> | point at them. Assuming, of course, that web pages stay
> | around. And the parsers are large, slow, and full of buggy
> | corner cases. XML added a factor of 5 to the file size
> | and a factor of 10 to the processing time.
> 
> hear, hear, hear.

Nay, Nay!  :)

> 
> | XML added nothing of value. Other tools and formats do
> | it better, easier, and faster, and even more portably. 
> | 
> | I'm sure the issue can be debated and I was once a major 
> | XML advocate so I'm very familiar with the supposed "pros".
> | No longer. 
> | 
> | In short, XML is gonna be a hard sell.
> 
> well, people with extensive experience with XML and fair
> assessment are rather the exception, instead of the norm;
> so it might end up being an easy sell  ;-)
> 

Well, I do use XML and the XSL style language extensively and
I have expressed my positive attitude toward XML based solutions
some time ago in this same email list.

The major error that you are making here is simply in the use
of the name XML. XML is a meta standard that carries almost no
semantic content. The actual syntax of XML is very simple - much
simpler than LaTeX for example. But comparing XML and LaTeX is
completely wrong. The describe things at a two very different
conceptual levels. It would be like comparing nested lists in
parenthesis notation to a C program.

MathML and OpenMath are *applications* of XML, in exactly the
same way that HTML (more specifically XHTML 1.0) is an application
of XML. In fact XML is already very widely used on the web.
I completely disagree that parsing XML is inherently more
complicated that parse lisp list structures since that is exactly
what millions of browsers around the world are doing right now.
Of course there are issues with particular XML libraries etc. but
that is besides the point.

Now, saying that XML is a good thing is certainly not the same
as saying that MathML is necessarily a good thing. I agree that
there are good and bad aspects of MathML and I do have some of
the same reservations about OpenMath as expressed by other people
here - specifically the near impossibility of trying to achieve
the overall design goals. At best I think OpemMath is an interesting
experiment, but I do think that MathML is hear to stay just as
the XML-based scalable vector graphics (SVG) is likely to remain -
because these are the only web-compatible formats for a very
important class of things that advanced web users want to display.

So I am in 100% agreement with Bob McElrath that support of MathML
in the LatexWiki/MathAction web environment should be an immediate
goal. And using SVG for graphics display would also be real nice
but I think available appications for this are still a little rare.
These applications of MathML and SVG are internal and completely
transparent to the user. All they see is better quality display
of mathematics and graphics in their browser.

The issue of whether to resurrect the OpenMath work that was done
by NAG in Axiom is still an open question in my mind. I think it
is very much still a research topic and it would depend on whether
anyone chooses to takeup Axiom for research in this subject.
Compared to some other existing implementations, I think that
for research purposes Axiom's model of mathematics is potential
much more interesting because of the generality that dealing
explicitly with types implies. I recall that there were some
enquiries about 1 year ago on this email list about the availability
of the OpenMath code for Axiom, perhaps now we are in a better
position to offer Axiom as an interesting research platform in
this regard. But personally I would place this rather low down
in the list of priorities at least until someone steps forward
agressively to make use of it.

\start
Date: Sat, 15 Jan 2005 07:43:28 +0200
From: Vladimir Bondarenko
To: list
Subject: AXIOM project goal(s)?

Hello all,

During 1971-1991 IBM spent on AXIOM an amount of money that
most of us probably would not consider to be insignificant.
Then NAG did an analogous move.

Neither IBM nor NAG could do this without explicit stating
the goals of the AXIOM project.

Where can I find the exact formulation of these goals in
the Internet? Of cause, there is such notion as trade secret
so maybe the stuff I am asking for, especially about NAG,
is not available publicly.

Still what I would like hear is only the goals precise
wording and maybe in the year of 2005 this item is
available, at least wrt IBM?

\start
Date: Sat, 15 Jan 2005 08:07:59 +0200
From: Vladimir Bondarenko
To: list
Subject: QA/testing process of AXIOM ?

Hello,

I keep thinking on some ideas on how to organize AXIOM QA/testing
with the maximal efficiency, given the status of the project. Thus
I'd like to see what was achieved with commercial AXIOM and what was
the amount of the effort. As an adage runs, The onlooker sees most
of the game, and hopefully, I could come up with something AXIOM
Developers find useful, who knows?

In the Contributors of the original AXIOM book we read

> Timothy P. Daly (IBM, Yorktown) ... is responsible for porting,
> testing, performance, and system support work for AXIOM.

Again, up to the trade secret limitations, and referring to the
fact that now it is 2005, is it possible to hear any extra info
about how testing and generally QA was organized in the AXIOM
project? In particular, how many persons had been involved in
testing/QA, what is estimation (or even exact amount) of time/
resource spent to AXIOM?

Any other points of such nature would be much helpful - thanks
in advance.

\start
Date: Fri, 14 Jan 2005 23:41:58 -0800
From: Bob McElrath
To: Gabriel Dos Reis
Subject: re: hyperdoc

Gabriel Dos Reis [Gabriel Dos Reis] wrote:
> If it conveyed semantics, one would have something to argue about.
> But it does not.  So, it comes to personal experiences, fair
> assessment compared to other formats.  In most cases where I used XML,
> I saw no benefit over lisp-syntax, except occasional additional
> complexity in the way my codes get structured.  In practice, I found
> the "selling" point of XML being more abstract than practical.

Lisp syntax and XML are in 1:1 correspondence.  XML is nothing more than
a tree format with excessive verbiage.  It can be converted by a trivial
algorithm into lisp lists-of-lists.  Parsing takes similar time due to
parsing the same text-based tags of the same length.  This is not the
point.

The point is being able to interface to an increasing number of XML
applications involved in user-interface (MathML, SVG), and interchange
(OpenMath) in the future.

> I guess it all boils down to contribution of actual codes, which I
> have no doubt is going to happen soo.  So the question is probably
> moot. 

Yes.  ;)

I hope that both paths develop (native MathML/browser-based and
TeXmacs).  If contributors are numerous then this questino is moot.  If
at some point we must choose how to allocate finite human resources,
then this argument will arise again.

\start
Date: Sat, 15 Jan 2005 10:40:50 -0500
From: Kostas Oikonomou
To: Bill Page
Subject: Re: Axiom graphics from inside TeXmacs?

Bill,

Thanks for the very informative reply!

I need time to digest all you said, but I just want to clarify one thing =
at this
moment:

> 2) The Axiom graphics program runs as a separate process from
>    Axiom itself. That you get as far as being able to generate
>    an Axiom graphics in an external X-window surprizes me since
>    normally the tm_axiom.exe interface program starts only the
>    `AXIOMsys' process. Either you have changed the tm_axiom
>    program or your must be using a very old version of TeXmacs.
>    The old version used to call the `axiom' script instead of
>    `AXIOMsys'. Under the most recent source from the axiom--
>    main--1 branch calling the `axiom' script also starts
>    `sman' and the graphics process.

No, I am not able to get graphics to appear in an X-window from
inside TeXmacs.  That's what I *want* to be able to do.

I have TeXmacs 1.0.4.4 (latest being 1.0.4.5).   I know the plugin calls
AXIOMsys, and I tried to make it call "axiom" or "sman" with no
immediate success.

My preliminary, high-level, thought is to go the postscript way as you su=
ggest.
I've used the GnuPlot plugin for TeXmacs, that's what it does.

\start
Date: 15 Jan 2005 12:41:47 -0500
From: Camm Maguire
To: Mike Thomas
Subject: Re: [Gcl-devel] GCL 2.6.6 branch created

Greetings!  My apologies for my earlier note -- I do see these mods.
Thanks!

I've changed the branch tag to Version_2_6_6pre in keeping with other
releases.  The final unmodifiable tag will be Version_2_6_6.  Right
now this too is a branch tag identical with the pre.  Will delete this
an make the final non-branch tag of the same name right before
release.

I'd like to push this out tomorrow.  How does it look to all concerned? 

Take care,

Mike Thomas writes:

> Hi Camm.
> 
> | gcl (2.6.6-1) unstable; urgency=high
> |
> |   * New upstream release
> |   * Allow .data section to be first in executable, as on solaris.  Also
> |     allow for new bfd section size semantics
> |   * Don't try to write map file when not using GNU ld.  Also allow
> |     compile-file to process pathnames with whitespace on Windows
> |   * Fix corner case fixnum arithmetic on 64bit machines
> |   * Rework gmp_wrappers semantics for older gcc
> |   * Explicitly mprotect loaded code pages PROT_EXEC on x86 Linux, as FC3
> |     now requires it.
> |   * lisp-implementation-version is GCL
> |   * Reader extension patch allowing for foo::(bar foobar) semantics
> 
> I've checked in the following additions to this list:
> 
> 	* a shell script variable fix in "unixport/makefile" for MSYS
> 	* __MINGW32__ malloc initialisation fix in "o/alloc.c"
> 	* Windows file/directory fixes in "o/unixfsys.c"
> 	* MinGW32 -march in configure - removes deprecation warnings
>       * MinGW32 directory fix - "o/mingfile.c".
> 
> I believe that this fixes all Windows slip ups in 2.6.5 plus the full kit
> and kaboodle for Axiom compilation other than the special mods Tim normally
> rolls in.  I have yet to test this on any of Maxima, ACL2 or Axiom.

\start
Date: Sat, 15 Jan 2005 15:04:26 -0500
From: William Sit
To: Stephen Wilson
Subject: Re: Axiom domains and Aldor return types
Cc: Ralf Hemmecke

See the attached file.

\start
Date: Sat, 15 Jan 2005 15:05:30 -0500
From: William Sit
To: Stephen Wilson
Subject: Re: Axiom domains and Aldor return types
Cc: Ralf Hemmecke

 name="dependentSignature.txt"
 filename="dependentSignature.txt"

Hi Steve:

Your example is very interesting and it took me quite some time to unders=
tand it (I am slow in learning and I tossed and turned several times betw=
een endorsing it to rejecting it). My tentative short answers are that (1=
) Yes, this can be implemented in current Axiom and (2) There are big hid=
den problems (see (II, III) below) in implementing the Aldor version!

But: there is no such thing as a simple explanation. =


So please bear with me. To avoid getting into residue class rings, let me=
 simplify and abstract the hypothesis under which the example makes sense=
=2E If you do want the analysis for residue class ring (and on how I arri=
ve at the above conclusions), just keep reading.

Given a certain domain R of category A, and another domain P of category =
B, let's assume that there is at least one uniform way of constructing, f=
or each p:P, a new domain S (belonging to some category C that depends on=
 R and p). For a given R, there may be several such uniform methods to co=
nstruct the same mathematical object S; and certainly for different R's, =
there would be other ways of constructing S. For example, if R' (of categ=
ory A', which is a subcategory of A) has some special properties, the con=
struction may be different. In Axiom, each construction of S requires a d=
omain constructor:

   Method1(R:A, p:P)==S:C(R,p)
   Method2(R:A, p:P)==S:C(R,p)
   Method3(R':A, p:P)==S:C(R',p)
   Method4(R':A', p:P)==S:C(R',p)

In Axiom, because the signatures of the first three methods would be the =
same, the domain constructors need different names.

Now suppose we want to implement an algorithm for S and this is to be don=
e categorically, independent of the actual construction of S, but depend =
on a function foo which is defined for all domains in the category C(R,p)=
=2E  Currently, in Axiom, this would be a package:

   Algorithm(R:A, p:P, S:C(R,p)) == add =

     bar(...) == ... foo(...)$S ...

and a typical calling sequence would be:

   bar(...)$Algorithm(R,p, Method1(R,p))

Now let's see how we may do the same thing a la Steve's example in Aldor.=
 We would create a new category to encapsulate the various methods for co=
nstructing S.

ComputationMethod: Category == Join(...) with
  method:(p:P) -> C(%,p)

and the algorithm for S would be in a package:

  Algorithm(R:Join(A,ComputationMethod)) == =

    add { bar(p:P, ...)== ... foo(...)$method(p) ...}

and a typical calling sequence would be:

  bar(p:P, ...)$Algorithm(R)

There are several problems:

(I) The algorithm, which is really for S, is now an algorithm for R. It h=
ides the existence of S completely. It also hides the relevance of p:P.

(II) For each R:A for which a method to construct S for p:P exist, we mus=
t *retroactively* make R:ComputationMethod. This requires modifying the o=
riginal construction of R. If the construction of R is from a domain cons=
tructor T, say R := T(...) where

       T(...):A == ...

and if Method1 is used to construct S, we must now modify this to

      T'(...):Join(A, ComputationMethod) == T(...) add
         method(p:P) == Method1(%,p)

We must create a new constructor T' and not modify T because not every T(=
=2E..) is to become a domain in ComputationMethod. So even though we elim=
inated one domain constructor (Method1, assuming this is inlined), we nee=
d one new domain constructor to "wrap" it. If T is actually the construct=
ion of R from scratch (that is, R is T, and (...) is empty; such as Integ=
er), then inlining retroactively Method1 would require recompiling the wh=
ole world.

(III) Now if R has several methods, then we must *rename* R using three d=
ifferent names in (II), even though R is still the same object in categor=
y A. This would be very undesirable if R is Integer.

[Remark: It seems to me the original algebra developers in Axiom avoided =
at all cost to modify existing domains because recompiling the world took=
 a long time in those days. They typically added packages and extended do=
mains to cover any shortcoming in the original implementations.]

(IV) The "advantage" at first glance, seems to be operator overloading: u=
sing one single name "method" to refer to all the Method[i] in constructi=
ons of S. But as (II) shows, this "powerful" and categorical construction=
 is nothing but a wrapper, which is the the reverse of what I proposed fo=
r Martin's example: instead of lifting a function g(n,k) to the level of =
a package, where the dependence on parameters in the signature belongs, t=
he construction of ComputationMethod pushed the level of a domain constru=
ctor (which is what each Method[i] is) to the level of a function. I don'=
t think that is a convincing example of the need for allowing dependence =
on parameters for functions. =


*************************************************************
*  It is clear that the two set ups are equivalent and =

*  the translation is bidirectional. The Axiom implementation
*  is more natural and does not have the disadvantages.
*************************************************************
The power of that construction in Aldor, as I pointed out in another emai=
l, is allowing such dependence in functions on the SOURCE side, not on th=
e TARGET side of the map. In short notation:

   F(a:A, b:B(a), c:C(a,b)):D(a,b,c)

is a powerful signature, not because the a, b, c appears on the Target D,=
 but because they appear in other parameters on the Source side. If A, B,=
 C represent three axes in 3-space, then F is analogous to an iterated tr=
iple integral over a non-rectangular region in 3-space, whereas =


  F(a:A, b:B, c:C):D(a,b,c)

is like the same over a rectangular region (a cuboid) in 3-space.

If we may borrow the way Matlab does these computation (Matlab, for Matri=
x Laboratory, is constrained in these numerical triple integration comput=
ations because it must define grid points in 3-space in a 3-dimensional m=
atrix), we have to "zero" out the complement of the conditionals b:B(a) a=
nd c:C(a,b). This would be difficult without an over category B' and C' o=
f which B(a) and =

C(a,b) are subcategories. But we can always create such over categories a=
nd it would not be difficult then to restrict the inputs by using "if b h=
as B(a)" and "if c has C(a,b)". In fact, Axiom  does this all the time wi=
th non-parametrized conditionals like "if R has CharacteristicZero". Even=
 though I can't recall any attributes being parametrized, there is no rea=
son why Axiom cannot support such. If I understand correctly, attributes =
are defined as Categories. Let me leave that as an exercise for someone t=
o find out. :-). I am more convinced now that the signature limitation in=
 Axiom does not actually limit its power, but does restrict its freedom o=
f expression in some situations. =


> How could one write the bar()$Foo above with the current axiom
> language? All you can do is write a package/domain parameterize
> by a commutative ring R and a representative of R, and write the
> exports dependently on R's type via `if R has ...'  constructs. =

> This is what I meant in the previous email about having a =

> RESCLASS  package/domain which needed to know too much about the =

> algebra.

In Axiom, as well as in Aldor, the conditional "if R has ..." is never me=
ant to be algorithmic. It is a declarative that a domain has a certain at=
tribute. Such a declarative is never verified by code. It is one of the "=
trust me" situations. We do NOT need to know about every ring when we use=
 these conditionals, because for whatever actual domain R is inputted, th=
e *programmer* will have to declare his/her knowledge about these conditi=
onals in the domain constructor for R, as in, for example,  "Join(Charact=
eristicZero, ..." There is no algorithm to test if an arbitrary ring has =
characteristic zero. One just knows from the mathematics of particular ri=
ngs. You used these conditionals also in defining the ResidueClassRing(R,=
p) category and it does not mean you know which commutative ring R has So=
urceOfPrimes or has implemented prime?(p). But for the rings R for which =
you do know, you declare them to have SourceOfPrimes, and you implement p=
rime?(p) in the domain constructor that gives R.

Below, I'll give more explanation how I arrive at my conclusion above. St=
anzas marked between ==== and **** are mine (and those lines betw=
een **** and ==== are Steve's). In each stanza, I put down a para=
phrase of Steve's code (in a combination of code, math and English, with =
added background information), and an analog taken from Axiom (which help=
ed me notice what the map residueClassRing really is --- it became obviou=
s only after such analysis). The way to follow my analysis would be to re=
ad the paraphrase from top down, then read the analogy from bottom up (if=
 you don't, you may find some notations not yet defined). Then read the a=
bove abstract discussion again.

I skipped the Axiom constructions for all the constructors in Steve's exa=
mple, except for Foo. I think it is clear from the more general discussio=
n above how to complete the conversion.

By the way, the analogy would fit the abstract situation above too. R is =
a ring, P is List Symbol, S is the polynomial ring R[p], and the Algorith=
m is GroebnerBasis. The methods are DMP, HDMP, GDMP.

William
------
Steve Wilson wrote:

The following is an example with a view towards generic modular
computations. Aldor has a category (approximately):

---------
 ModularComputation: Category == CommutativeRing with {
        residueClassRing: (p: %) -> ResidueClassRing(%,p);
        ....
 }
---------
============

Paraphrase:

A ModularComputation domain R is a commutative ring with a map

   residueClassRing: R -> ResidueClassRing category

In such a domain R, there is an algorithm to construct the residue class =
ring for any prime ideal p in R.  Mathematically, the residue class ring =
of R with respect to a prime ideal p is (R_p)/(p R_p), where R_p is the l=
ocalization of R at the prime ideal p. When lifted to R_p, the prime idea=
l p becomes p R_p, the unique maximal ideal of R_p (which is called a loc=
al ring). The residue class ring is then formed by the "modding out" the =
maximal ideal. =


The notation p:% above is technically incorrect and should be something l=
ike p: Ideals(%), and for R in the IntegerCategory (below), there is a co=
ercion from a prime integer p to the prime ideal (p), at least in the env=
isioned situation.  There are other rings, typically polynomial rings, wh=
ere there is an algorithm to detect prime ideals (using a primary decompo=
sition algorithm and for these rings, the residue class ring can also be =
constructed).

Analogy:

PolynomialComputation: Category == CommutativeRing with {

   polyomialRing: (v:List Symbol) -> POLYCAT(v, %)

There is really no need for the map polynomialRing because it encapsulate=
s a domain constructor, which must be implemented for each instance of v =
and R. Examples of this map polynomialRing in action are:

   DMP(v,R): POLYCAT(v,R)
   HDMP(v,R): POLYCAT(v,R)

Each of these domain constructor is equivalent to an instance of the map =
polynomialRing and therefore, a domain of the category PolynomialComputat=
ion.

************


So any domain satisfying Modular computation is a CommutativeRing R, whic=
h exports a function which takes a representative p of R and returns some=
thing which satisfies ResidueClassRing(R,p).

---------
ResidueClassRing(R: CommutativeRing, p: R): Category ==
   CommutativeRing with {
     modularRep: R -> %;
     canonicalPreImage: % -> R;
     if R has EuclideanDomain then {
       symmetricPreImage: % -> R;
       if R has SourceOfPrimes and prime?(p) then Field;
     } }
---------
==========

Paraphrase:

A ResideClassRing S is constructed from a base commutative ring R and a p=
rime ideal p of R. It is a commutative ring with these operations:

  modularRep : R -> S
  canonicalPreImage: S -> R
  if R is a Euclidean domain, then there are more operations:
    symmetricPreImage: S -> R
    if we know the prime ideals of R, and p is a prime ideal, =

    then S is a field

ResidueClassRing is a category constructor because there may be several r=
epresentations of S, given one R and one prime ideal p of R. In order to =
perform this construction, we would need to have constructed already Idea=
l(R), the domain of ideals of R, and a function that can decide whether a=
 given ideal is prime or not. The localization construction is already in=
 Axiom (the FRAC constructor is a special case where the prime ideal is (=
0)). The modulo operation is available for polynomial rings using Groebne=
r basis method (in PolynomialIdeal), and of course also for Integer using=
 plain old division. These two are the most important examples. For this =
discussion, the if-clauses are not relevant.

Analogy:

POLYCAT(v: List Symbol, R: CommutativeRing):Category ==
  CommutativeRing with {
    coerce: R -> %;
    retract: % -> R;
    ...
   }

**********


Here we use the notion of SourceOfPrimes until someone figures out a mean=
ingful way to represent a MaximalIdeal generally:).

Aldor has an IntegerCategory, roughly:

---------
IntegerCategory: Category ==
    Join(IntegerType, CharacteristicZero, EuclideanDomain,
             ModularComputation, SourceOfPrimes,
             GeneralExponentCategory, Specializable, Parsable) with {
       ...
    default {
       residueClassRing(p:%):ResidueClassRing(%, p) == IntegerMod(%,p=
);
       ...
    } }
---------
=========

Paraphrase

A domain R of category IntegerCategory is a Euclidean domain of character=
istic zero, etc., where we know the prime ideals, and we know how to cons=
truct a ResidueClassRing S given any prime ideal p in R.

A default way to construct S is via IntegerMod(R, p) when R is an Integer=
Category domain. The construction IntegerMod(R, p) is assumed known and e=
fficient. This default construction does not really apply always, for exa=
mple, when R is a polynomial ring. But this is outside the scope of the c=
urrent discussion.

Analogy:

PolynomialConstructable: Category ==
  Join( ...) with {
  default {
    polynomialRing(v:List Symbol): POLYCAT(v,%) == DMP(v, %);
    ...
  }  }
   =


**********

And IntegerMod is an efficient implementation:

---------
   IntegerMod(Z:IntegerCategory, p:Z):ResidueClassRing(Z, p) == add {=
 ... }
---------

=========
Paraphrase:

  IntegerMod is a domain constructor that is actually implementable becau=
se we supposedly know how to construct the residue class ring for a domai=
n  R (or Z) of the IntegerCategory and a prime ideal p of R. IntegerMod r=
epresents ONE way of construction for =

S:= (R_p)/(p R_p).

Analogy:

  DMP (DistributedMultivariatePolynomial) is a domain constructor in Axio=
m that implements a polynomial ring with coefficient ring R and a list of=
 indeterminates v. It uses the pure lexicographic ordering on monomials.

   DMP(v:List Symbol, R: Ring): POLYCAT(v,R) == Join(...) add ...

It may serve as the default constructor. Other constructors use other ter=
m orderings, for example HDMP or GDMP.

Here POLYCAT(v,R) is a specialization of an actual category constructor f=
rom Axiom, except I have abbreviated the parameter set in this analogy. T=
he full macro expansion is
  =

  POLYCAT(v,R) ==> PolynomialCategory(R,_
       Direct Product(#(v),NonNegativeInteger),_
       OrderedVariableList(v))


Axiom Version:

   IntegerMod(R, p): T == C where
     R: IntegerCategory
     p: Ideal(R)
     T == ResidueClassRing(R, p)
     C == add { ... }

*********

Assuming this type of stuff is implemented in the library where it is nee=
ded we can write very generic functions:

---------
   Foo(R: ModularComputation): with { ... } == add {
       bar(r: R, p:R): R == {

         elem : ResidueClassRing(R, p) := =

           modularRep(r)$residueClassRing(p)
         =

         -- hairy computation...

         canonicalPreImage(elem)
       } }
---------   =

========

Paraphrase:

Foo is a package for a ModularComputation domain R, with a function bar: =
(R, R) -> R and the function bar is implemented as:

   bar(r,p) == =

     compute the elem:= modularRep(r) in S
       -- S is the ResidueClassRing for R and p.
     compute some other things =

       -- (which may or may not change elem, but =

       -- presumably elem remains in S
     return canonicalPreImage(elem) in R

or the function bar may be bar: (R, p:R) -> S(p) if it returns elem.


Analogy:

The function bar is just a supped-up version of Martin's example:

   g(n,k) == (k mod n):PrimeField(n)  -- assuming n is prime

so it can be implemented in Axiom. The mod function is the coerce functio=
n in PrimeField(n)

   coerce: PositiveInteger -> PrimeField(n)

So similarly, the modularRep(r) function is a function in S

   modularRep: R -> S

is similar to a coercion from R to S and the canonicalPreImage is a funct=
ion from S to R similar to a retract:S -> R.


Axiom version:

Foo(R,p,S): T == C where
  R: ModularCategory
  p: Ideal(R)
  S: ResidueClassRing(R,p)
  Q ==> any domain constructed from R, p, S
  T == with =

    bar: R -> Q
  C == add =

    bar(r)==
      elem:S:=modularRep(r)$S
      -- hairy computations
      q:Q:= ...
        =

Calling sequence in some other package, assuming R, p, S are already defi=
ned:

   bar(r)$Foo(R,p,S)

If you want to use the default implementation when R is a domain in Integ=
erCategory, you can use:

  if R has IntegerCategory then
    S:=IntegerMod(R,p)
  bar(r)$Foo(R,p,S)

Below are just some random notes (my tosses and turns):

Note here S is typically defined using one of the constructors. If the ma=
p residueClassRing(p) exists, then there will be a corresponding domain c=
onstructor in Axiom. The advantage of using residueClassRing is that we c=
an use ONE name for all the constructors for ALL rings R, even if these c=
onstructions depend on R (but uniform on p). OVERLOADING and S does not h=
ave to appear as a parameter because we don't care how S is constructed. =
It is cleaner and corresponds to the mathematics by ignoring the data rep=
resentation or implementation. On the other hand, by tagging S along in t=
he package, we can use special features in the construction of S in the c=
omputation (not really, S is given categorically: Example, in GroebnerBas=
is, we tag along S, the Dpol, but since Dpol is just PolynomialCategory b=
ased on the other parameters, we don't know more. However, in actual comp=
utation, calling groebner for example, the implementation of Dpol will co=
me into action. It makes no difference to let R be a ModularComputation b=
ecause then the implementation is residueClassRing(R,p), so by specifying=
 R: ModularComputation, we are singling out the implementation, just like=
 when we input Dpol. So ModularComputation is only a wrapper. In Steve's =
example, each time you need functions from S, you have to make a function=
 call to residueClassRing(R,p), unless, you assign S to it. So it is only=
 a wrapper!
********

All of this depends on the fact that we can express a dependently
typed function residueClassRing(p:R), which can be implemented by any giv=
en domain as appropriate. The Foo package knows all it needs to, the Ring=
, and an element of the ring to get at the the quotient ring. Of course, =
the bar function above could be more complex and return an element of Res=
idueClassRing(R,p), etc.

How could one write the bar()$Foo above with the current axiom
language? All you can do is write a package/domain parameterized by a com=
mutative ring R and a representative of R, and write the exports dependen=
tly on R's type via `if R has ...'  constructs. This is what I meant in t=
he previous email about having a RESCLASS package/domain which needed to =
know too much about the algebra.

\start
Date: Sat, 15 Jan 2005 15:30:40 -0500
From: William Sit
To: Stephen Wilson, Martin Rubey, Ralf Hemmecke
Subject: Re: Axiom domains and Aldor return types

It appears that the previous file may have some display alignment problems (in
the code indentations). So here is hopefully a better version. My apologies for
duplicates.

Hi Steve:

Your example is very interesting and it took me quite some time to
understand it (I am slow in learning and I tossed and turned several
times between endorsing it to rejecting it).  My tentative short
answers are that (1) Yes, this can be implemented in current Axiom and
(2) There are big hidden problems (see (II, III) below) in
implementing the Aldor version!

But: there is no such thing as a simple explanation.

So please bear with me.  To avoid getting into residue class rings,
let me simplify and abstract the hypothesis under which the example
makes sense.  If you do want the analysis for residue class ring (and
on how I arrive at the above conclusions), just keep reading.

Given a certain domain R of category A, and another domain P of
category B, let's assume that there is at least one uniform way of
constructing, for each p:P, a new domain S (belonging to some category
C that depends on R and p).  For a given R, there may be several such
uniform methods to construct the same mathematical object S; and
certainly for different R's, there would be other ways of constructing
S.  For example, if R' (of category A', which is a subcategory of A)
has some special properties, the construction may be different.  In
Axiom, each construction of S requires a domain constructor:

   Method1(R:A, p:P)==S:C(R,p)
   Method2(R:A, p:P)==S:C(R,p)
   Method3(R':A, p:P)==S:C(R',p)
   Method4(R':A', p:P)==S:C(R',p)

In Axiom, because the signatures of the first three methods would be
the same, the domain constructors need different names.

Now suppose we want to implement an algorithm for S and this is to be
done categorically, independent of the actual construction of S, but
depend on a function foo which is defined for all domains in the
category C(R,p).  Currently, in Axiom, this would be a package:

   Algorithm(R:A, p:P, S:C(R,p)) == add
        bar(...) == ... foo(...)$S ...

and a typical calling sequence would be:

   bar(...)$Algorithm(R,p, Method1(R,p))

Now let's see how we may do the same thing a la Steve's example in
Aldor.  We would create a new category to encapsulate the various
methods for constructing S.

ComputationMethod: Category == Join(...) with
  method:(p:P) -> C(%,p)

and the algorithm for S would be in a package:

  Algorithm(R:Join(A,ComputationMethod)) ==
      add { bar(p:P, ...)== ... foo(...)$method(p) ...}

and a typical calling sequence would be:

  bar(p:P, ...)$Algorithm(R)

There are several problems:

(I) The algorithm, which is really for S, is now an algorithm for R.
It hides the existence of S completely.  It also hides the relevance
of p:P.

(II) For each R:A for which a method to construct S for p:P exist, we
must *retroactively* make R:ComputationMethod.  This requires
modifying the original construction of R.  If the construction of R is
from a domain constructor T, say R := T(...) where

       T(...):A == ...

and if Method1 is used to construct S, we must now modify this to

      T'(...):Join(A, ComputationMethod) == T(...) add
         method(p:P) == Method1(%,p)

We must create a new constructor T' and not modify T because not every
T(...) is to become a domain in ComputationMethod.  So even though we
eliminated one domain constructor (Method1, assuming this is inlined),
we need one new domain constructor to "wrap" it.  If T is actually the
construction of R from scratch (that is, R is T, and (...) is empty;
such as Integer), then inlining retroactively Method1 would require
recompiling the whole world.

(III) Now if R has several methods, then we must *rename* R using
three different names in (II), even though R is still the same object
in category A.  This would be very undesirable if R is Integer.

[Remark:  It seems to me the original algebra developers in Axiom
avoided at all cost to modify existing domains because recompiling the
world took a long time in those days.  They typically added packages
and extended domains to cover any shortcoming in the original
implementations.]

(IV) The "advantage" at first glance, seems to be operator
overloading:  using one single name "method" to refer to all the
Method[i] in constructions of S.  But as (II) shows, this "powerful"
and categorical construction is nothing but a wrapper, which is the
the reverse of what I proposed for Martin's example:  instead of
lifting a function g(n,k) to the level of a package, where the
dependence on parameters in the signature belongs, the construction of
ComputationMethod pushed the level of a domain constructor (which is
what each Method[i] is) to the level of a function.  I don't think
that is a convincing example of the need for allowing dependence on
parameters for functions.

*************************************************************
*  It is clear that the two set ups are equivalent and
*  the translation is bidirectional. The Axiom implementation
*  is more natural and does not have the disadvantages.
*************************************************************
The power of that construction in Aldor, as I pointed out in another
email, is allowing such dependence in functions on the SOURCE side,
not on the TARGET side of the map. In short notation:

       F(a:A, b:B(a), c:C(a,b)):D(a,b,c)

is a powerful signature, not because the a, b, c appears on the Target
D, but because they appear in other parameters on the Source side. If
A, B, C represent three axes in 3-space, then F is analogous to an
iterated triple integral over a non-rectangular region in 3-space,
whereas

       F(a:A, b:B, c:C):D(a,b,c)

is like the same over a rectangular region (a cuboid) in 3-space.

If we may borrow the way Matlab does these computation (Matlab, for
Matrix Laboratory, is constrained in these numerical triple
integration computations because it must define grid points in 3-space
in a 3-dimensional matrix), we have to "zero" out the complement of
the conditionals b:B(a) and c:C(a,b).  This would be difficult without
an over category B' and C' of which B(a) and C(a,b) are subcategories.
But we can always create such over categories and it would not be
difficult then to restrict the inputs by using "if b has B(a)" and "if
c has C(a,b)".  In fact, Axiom does this all the time with
non-parametrized conditionals like "if R has CharacteristicZero".
Even though I can't recall any attributes being parametrized, there is
no reason why Axiom cannot support such.  If I understand correctly,
attributes are defined as Categories.  Let me leave that as an
exercise for someone to find out.  :-).  I am more convinced now that
the signature limitation in Axiom does not actually limit its power,
but does restrict its freedom of expression in some situations.

> How could one write the bar()$Foo above with the current axiom
> language? All you can do is write a package/domain parameterize
> by a commutative ring R and a representative of R, and write the
> exports dependently on R's type via `if R has ...'  constructs.
> This is what I meant in the previous email about having a
> RESCLASS  package/domain which needed to know too much about the
> algebra.

In Axiom, as well as in Aldor, the conditional "if R has ..." is never
meant to be algorithmic.  It is a declarative that a domain has a
certain attribute.  Such a declarative is never verified by code.  It
is one of the "trust me" situations.  We do NOT need to know about
every ring when we use these conditionals, because for whatever actual
domain R is inputted, the *programmer* will have to declare his/her
knowledge about these conditionals in the domain constructor for R, as
in, for example, "Join(CharacteristicZero, ..." There is no algorithm
to test if an arbitrary ring has characteristic zero.  One just knows
from the mathematics of particular rings.  You used these conditionals
also in defining the ResidueClassRing(R,p) category and it does not
mean you know which commutative ring R has SourceOfPrimes or has
implemented prime?(p).  But for the rings R for which you do know, you
declare them to have SourceOfPrimes, and you implement prime?(p) in
the domain constructor that gives R.

Below, I'll give more explanation how I arrive at my conclusion above.
Stanzas marked between ==== and **** are mine (and those lines between
**** and ==== are Steve's).  In each stanza, I put down a paraphrase
of Steve's code (in a combination of code, math and English, with
added background information), and an analog taken from Axiom (which
helped me notice what the map residueClassRing really is --- it became
obvious only after such analysis).  The way to follow my analysis
would be to read the paraphrase from top down, then read the analogy
from bottom up (if you don't, you may find some notations not yet
defined).  Then read the above abstract discussion again.

I skipped the Axiom constructions for all the constructors in Steve's
example, except for Foo.  I think it is clear from the more general
discussion above how to complete the conversion.

By the way, the analogy would fit the abstract situation above too.  R
is a ring, P is List Symbol, S is the polynomial ring R[p], and the
Algorithm is GroebnerBasis.  The methods are DMP, HDMP, GDMP.

William
------
Steve Wilson wrote:

The following is an example with a view towards generic modular
computations. Aldor has a category (approximately):

---------
 ModularComputation: Category == CommutativeRing with {
         residueClassRing: (p: %) -> ResidueClassRing(%,p);
                 ....
          }
---------
============

Paraphrase:

A ModularComputation domain R is a commutative ring with a map

   residueClassRing: R -> ResidueClassRing category

In such a domain R, there is an algorithm to construct the residue
class ring for any prime ideal p in R.  Mathematically, the residue
class ring of R with respect to a prime ideal p is (R_p)/(p R_p),
where R_p is the localization of R at the prime ideal p.  When lifted
to R_p, the prime ideal p becomes p R_p, the unique maximal ideal of
R_p (which is called a local ring).  The residue class ring is then
formed by the "modding out" the maximal ideal.

The notation p:% above is technically incorrect and should be
something like p:  Ideals(%), and for R in the IntegerCategory
(below), there is a coercion from a prime integer p to the prime ideal
(p), at least in the envisioned situation.  There are other rings,
typically polynomial rings, where there is an algorithm to detect
prime ideals (using a primary decomposition algorithm and for these
rings, the residue class ring can also be constructed).

Analogy:

PolynomialComputation: Category == CommutativeRing with {

   polyomialRing: (v:List Symbol) -> POLYCAT(v, %)

There is really no need for the map polynomialRing because it
encapsulates a domain constructor, which must be implemented for each
instance of v and R.  Examples of this map polynomialRing in action
are:

   DMP(v,R): POLYCAT(v,R)
   HDMP(v,R): POLYCAT(v,R)

Each of these domain constructor is equivalent to an instance of the
map polynomialRing and therefore, a domain of the category
PolynomialComputation.

************


So any domain satisfying Modular computation is a CommutativeRing R,
which exports a function which takes a representative p of R and
returns something which satisfies ResidueClassRing(R,p).

---------
ResidueClassRing(R: CommutativeRing, p: R): Category ==
   CommutativeRing with {
      modularRep: R -> %;
      canonicalPreImage: % -> R;
      if R has EuclideanDomain then {
         symmetricPreImage: % -> R;
         if R has SourceOfPrimes and prime?(p)
         then Field;
     } }
---------
=========

Paraphrase:

A ResideClassRing S is constructed from a base commutative ring R and
a prime ideal p of R. It is a commutative ring with these operations:

  modularRep : R -> S
    canonicalPreImage: S -> R
      if R is a Euclidean domain, then there are more operations:
          symmetricPreImage: S -> R
          if we know the prime ideals of R, and p is a prime ideal,
          then S is a field

ResidueClassRing is a category constructor because there may be
several representations of S, given one R and one prime ideal p of R.
In order to perform this construction, we would need to have
constructed already Ideal(R), the domain of ideals of R, and a
function that can decide whether a given ideal is prime or not.  The
localization construction is already in Axiom (the FRAC constructor is
a special case where the prime ideal is (0)).  The modulo operation is
available for polynomial rings using Groebner basis method (in
PolynomialIdeal), and of course also for Integer using plain old
division.  These two are the most important examples.  For this
discussion, the if-clauses are not relevant.

Analogy:

POLYCAT(v: List Symbol, R: CommutativeRing):Category ==
  CommutativeRing with {
      coerce: R -> %;
      retract: % -> R;
        ...
                 }

**********


Here we use the notion of SourceOfPrimes until someone figures out a
meaningful way to represent a MaximalIdeal generally:).

Aldor has an IntegerCategory, roughly:

---------
IntegerCategory: Category ==
    Join(IntegerType, CharacteristicZero, EuclideanDomain,
                 ModularComputation, SourceOfPrimes,
                              GeneralExponentCategory, Specializable,
Parsable) with {
       ...
       default {
          residueClassRing(p:%):ResidueClassRing(%, p) ==
            IntegerMod(%,p);
       ...
          } }
---------
=========

Paraphrase

A domain R of category IntegerCategory is a Euclidean domain of
characteristic zero, etc., where we know the prime ideals, and we know
how to construct a ResidueClassRing S given any prime ideal p in R.

A default way to construct S is via IntegerMod(R, p) when R is an
IntegerCategory domain.  The construction IntegerMod(R, p) is assumed
known and efficient.  This default construction does not really apply
always, for example, when R is a polynomial ring.  But this is outside
the scope of the current discussion.

Analogy:

PolynomialConstructable: Category ==
  Join( ...) with {
    default {
        polynomialRing(v:List Symbol): POLYCAT(v,%) == DMP(v, %);
            ...
              }  }


**********

And IntegerMod is an efficient implementation:

---------
   IntegerMod(Z:IntegerCategory, p:Z):ResidueClassRing(Z, p) == add {
... }
---------

=========
Paraphrase:

IntegerMod is a domain constructor that is actually implementable
because we supposedly know how to construct the residue class ring for
a domain R (or Z) of the IntegerCategory and a prime ideal p of R.
IntegerMod represents ONE way of construction for S:= (R_p)/(p R_p).

Analogy:

DMP (DistributedMultivariatePolynomial) is a domain constructor in
Axiom that implements a polynomial ring with coefficient ring R and a
list of indeterminates v.  It uses the pure lexicographic ordering on
monomials.

   DMP(v:List Symbol, R: Ring): POLYCAT(v,R) == Join(...) add ...

It may serve as the default constructor.  Other constructors use other
term orderings, for example HDMP or GDMP.

Here POLYCAT(v,R) is a specialization of an actual category
constructor from Axiom, except I have abbreviated the parameter set in
this analogy.  The full macro expansion is

    POLYCAT(v,R) ==> PolynomialCategory(R,_
        Direct Product(#(v),NonNegativeInteger),_
           OrderedVariableList(v))


Axiom Version:

   IntegerMod(R, p): T == C where
     R: IntegerCategory
     p: Ideal(R)
     T == ResidueClassRing(R, p)
     C == add { ... }

*********

Assuming this type of stuff is implemented in the library where it is
needed we can write very generic functions:

---------
   Foo(R: ModularComputation): with { ... } == add {
          bar(r: R, p:R): R == {

         elem : ResidueClassRing(R, p) :=
                  modularRep(r)$residueClassRing(p)

            -- hairy computation...

         canonicalPreImage(elem)
                } }
---------
========

Paraphrase:

Foo is a package for a ModularComputation domain R, with a function
bar: (R, R) -> R and the function bar is implemented as:

   bar(r,p) ==
        compute the elem:= modularRep(r) in S
         -- S is the ResidueClassRing for R and p.
        compute some other things
         -- (which may or may not change elem, but
         -- presumably elem remains in S
        return canonicalPreImage(elem) in R

or the function bar may be bar: (R, p:R) -> S(p) if it returns elem.


Analogy:

The function bar is just a supped-up version of Martin's example:

   g(n,k) == (k mod n):PrimeField(n)  -- assuming n is prime

so it can be implemented in Axiom. The mod function is the coerce
function in PrimeField(n)

   coerce: PositiveInteger -> PrimeField(n)

So similarly, the modularRep(r) function is a function in S

   modularRep: R -> S

is similar to a coercion from R to S and the canonicalPreImage is a
function from S to R similar to a retract:S -> R.


Axiom version:

Foo(R,p,S): T == C where
  R: ModularCategory
  p: Ideal(R)
  S: ResidueClassRing(R,p)
  Q ==> any domain constructed from R, p, S
  T == with
    bar: R -> Q
  C == add
    bar(r)==
       elem:S:=modularRep(r)$S
        -- hairy computations
       q:Q:= ...

Calling sequence in some other package, assuming R, p, S are already
defined:

   bar(r)$Foo(R,p,S)

If you want to use the default implementation when R is a domain in
IntegerCategory, you can use:

  if R has IntegerCategory then
      S:=IntegerMod(R,p)
  bar(r)$Foo(R,p,S)

Below are just some random notes (my tosses and turns):

Note here S is typically defined using one of the constructors.  If
the map residueClassRing(p) exists, then there will be a corresponding
domain constructor in Axiom.  The advantage of using residueClassRing
is that we can use ONE name for all the constructors for ALL rings R,
even if these constructions depend on R (but uniform on p).
OVERLOADING and S does not have to appear as a parameter because we
don't care how S is constructed.  It is cleaner and corresponds to the
mathematics by ignoring the data representation or implementation.  On
the other hand, by tagging S along in the package, we can use special
features in the construction of S in the computation (not really, S is
given categorically:  Example, in GroebnerBasis, we tag along S, the
Dpol, but since Dpol is just PolynomialCategory based on the other
parameters, we don't know more.  However, in actual computation,
calling groebner for example, the implementation of Dpol will come
into action.  It makes no difference to let R be a ModularComputation
because then the implementation is residueClassRing(R,p), so by
specifying R:  ModularComputation, we are singling out the
implementation, just like when we input Dpol.  So ModularComputation
is only a wrapper.  In Steve's example, each time you need functions
from S, you have to make a function call to residueClassRing(R,p),
unless, you assign S to it.  So it is only a wrapper!

********

All of this depends on the fact that we can express a dependently
typed function residueClassRing(p:R), which can be implemented by any
given domain as appropriate.  The Foo package knows all it needs to,
the Ring, and an element of the ring to get at the the quotient ring.
Of course, the bar function above could be more complex and return an
element of ResidueClassRing(R,p), etc.

How could one write the bar()$Foo above with the current axiom
language?  All you can do is write a package/domain parameterized by a
commutative ring R and a representative of R, and write the exports
dependently on R's type via `if R has ...' constructs.  This is what I
meant in the previous email about having a RESCLASS package/domain
which needed to know too much about the algebra.

\start
Date: Sun, 16 Jan 2005 00:16:02 -0500
From: Bill Page
To: Kostas Oikonomou
Subject: RE: Axiom graphics from inside TeXmacs?

Kostas,

On Saturday, January 15, 2005 10:41 AM you wrote:
> ... 
> No, I am not able to get graphics to appear in an X-window
> from inside TeXmacs.  That's what I *want* to be able to do.
> 
> I have TeXmacs 1.0.4.4 (latest being 1.0.4.5).   I know the 
> plugin calls AXIOMsys, and I tried to make it call "axiom"
> or "sman" with no immediate success.

Ok great. You are obviously on the right track. If you compiled
TeXmacs from source then to make tm_axiom call "axiom", the
simplest thing to do is to modify the souce file tm_axiom.c by
replacing "AXIOMsys" with "axiom" and then recompile it. It is
a simple C program with no dependencies and can be compiled
separately. Move the tm_axiom.exe file to the appropriate place
in the TeXmacs installation directory.

If you didn't compile TeXmacs from source you can get just the
tm_axiom.c file from the CVS, modify it and compile as above.

> 
> My preliminary, high-level, thought is to go the postscript 
> way as you suggest. I've used the GnuPlot plugin for TeXmacs,
> that's what it does.
> 

Yes, exactly.

\start
Date: Sun, 16 Jan 2005 01:27:00 -0500
From: Bill Page
To: William Sit
Subject: re: Mathaction edit/preview/save problem

William,

On Friday, January 14, 2005 5:49 PM you wrote:
> 
> ... it only worked on the Sandbox page, where I was able to submit
> an edit for the MainPage (I entered "What is this?"). In fact that
> page worked (Preview/Save) even with the security setting on High.
> 
> But when I tried to edit the DynamicFunctionDomains, it still says
> "This page cannot be displayed".

That is a different message than the one you reported first time.

On Thursday, January 13, 2005 4:47 AM you wrote:
>
> Here's is the edit on DynamicFunctionDomains page. When I
> tried preview and save, it said "cannot find server".

Do you really get two different messages? Does which message you
get depend on some firewall setting? Do you get the same message
in both Microsoft Explorer and Firefox?

"This page cannot be displayed" usually means that your
connection to the server is ok but that your browser received
something that it could not process. I have sometimes seen
this message if a web site takes a long time to reply. However
the correct message in that case should really be a "time out".

> 
> This is not intermittent. Every time. It's not a DNS problem 
> because I can click on to any link on the page and it displays.

I agree that the message "This page cannot be displayed" is
probably not a DNS problem. But the original message may have
been.

> I just added Hello to the Sandbox MainPage. I went right to
> the DynamicFunctionDomains and change (4,7) to (4,8) and click
> preview. Then it stalls and same problem.

When you say "stalls", how long do you estimate you had to wait
before you received the "This page cannot be displayed" message?

> 
> It seems to be a write privilege denied type of problem to me.
> 

No there are no controls write privileges on any page on MathAction
except for just one page. The page AxiomFoundation is the only
page that requires a real user id and password in order to change
it. This was done to protect potentially sensitive information
about the nature and purpose of the Foundation, funding etc. All
other pages on MathAction can be edited by anyone even if they
have not identified themselves.

Considering the new message that you reported: "This page cannot
be displayed" might possibily be caused by the fact that with each
change to a page MathAction must call Axiom in order to re-process
the enitire contents of the page. Perhaps some kind of time-out on
your browser, fireweall or other part of your local network occurs
that results in only partial content of the page being received.
The SandBox page that you edited did not have any Axiom commands so
in that case you did not get an error. But as I said I do not get
this message myself even when editing a page that contains many
Axiom commands.

Is there any setting on your firewall software that might affect
the time your system waits for a reply?

Is it possible for you to easily and temporarily turn off the
firewall software completely in order to see if that cures the
problem? If turning off the firewall works, then there is very
likely some setting in the firewall software that you can change
that will make it work without shutting it off.

Finally, do you have a different location (such as office at
work versus at home) where you can try to access MathAction
and make this change? At least if you can confirm that it works
for you at one location but not at another then it might be
easier to determine what is different and what to change.

\start
Date: Sun, 16 Jan 2005 02:39:04 -0500
From: Bill Page
To: William Sit
Subject: RE: Axiom domains and Aldor return types
Cc: Ralf Hemmecke

On Friday, January 14, 2005 4:04 PM William Sit wrote:
> ... 
> I think something like F(a:A)==F(a):B(a) should simply be 
> called a program or routine! It is neither a function nor
> a functor in the strict mathematical sense.

I agree.

> 
> > Is there a way that this "Aldor function" can be written
> > in Aldor that syntactically respects the same distinction?
> > If so, then perhaps we should just consider the way Aldor
> > allows this to be written as a kind of abbreviation that
> > happens to look like the notation for a function.
> 
> I think Aldor treats the two levels equally, that is, domain 
> constructors and "function" are the treated the same. Axiom
> does not and  restricts "function" to a real mathematical
> function while leaving domain (or even category and package)
> constructors a bit more general by allowing dependent signatures.

I have argued that this is a good thing because allowing dependent
"signatures" is really better represented mathematically as a
functor, i.e. something that provides new objects as well as
operations (functions) on these objects. I think it is correct
to think of an Axiom domain constructor as a functor (of a specific
kind) in the sense of category theory. I continue this view in
response to another comment below.

> This allowed dependence is even more general than F(a:A)==F(a):B(a),
> for example, one can have F(a:A,b:B(a),c:C(a,b))==F(a,b,c):D(a,b,c).
> Such dependence is not allowed for functions in Axiom but allowed
> in Aldor. In other words, the source does not have to be "rectangular"
> but can be any "area" (or "solid") with bounding "curves" ("surfaces").
> Metaphorically, Aldor allows integration over any solid, Axiom only
> over a cuboid. If you think about this calculus analogy, you can see
> that Aldor is a much more powerful language.

>From a category theory perspective this is like allow "partial
functions", i.e. functions defined only over a subset of its domain.
This is possible but it turns out not to be a "more powerful
language". Sometimes a language can be more powerful because of
it's restrictions rather than it's apparent flexibility. Generality
can compromise expressiveness. So in the category SET (actually
a specific type of category called a topos) the morphisms (functions)
are taken to be total. But that is a very long story and maybe
you already know it or we can talk more about it later.

> 
> > BTW, chapters 11 Packages, 12 Categories and 13 Domains of the
> > Axiom book are very useful but I find the orientation rather
> > confusing - perhaps it is just the "age" of the terminology
> > that is used in these chapters that makes reading a little hard.
> > I think it would be great if these could be re-written in a
> > more modern "categorical" manner similar to the way you wrote
> > your previous message. Are there any papers that you could
> > reference that attempt to do this? Is there some corresponding
> > part of the Aldor documentation that would be useful for me
> > to re-read?
> 
> Well, I tried to look up something from the web for my email 
> on functors, and I got a nice one for you:
> 

http://math.ucr.edu/home/baez/categories.html

Well, this article by Baez seems to be just about category theory.

What I was looking for was some documentation about the specific
use of the word "functor" in the context of Aldor (and possibily
Axiom). I am aware that this usage differs (to greater or lesser
extent) from the normal usage in category theory per se.

> Actually, I was attempting to explain why something like Integer
> is a category and I remembered that category theorist think of a
> group as a category but forgot how. The above article explains
> that. But applying the same to Axiom does not work! Try it.

I am not sure exactly what you mean by it "does not work".

I agree however that what Axiom calls a "category" is not quite
the same thing as what category theory calls a category. This
is an unfortunate confusion of terminology of course given that
Axiom is specifically intended to be a tool to implement in computer
form much of the mathematics that is now routinely formalized using
the methods of category theory. One reason of course is that the
development of Axiom occurred more or less in parallel with modern
category theory so there are many ideas in common but also
many differences as ideas once implement by computer become
somewhat more permanent than ideas freely expressed by creative
mathematicians.

There are other newer programming languages, such as Haskel and
Ocaml which specifically take an approach which is more in line
with modern category theory than is Axiom. My impression was
that Aldor also may have attempted to move in this direction.
That is why I was asking about the use of the word functor in
Aldor.

Some previous discussion of these issues on the axiom-developer
email list:

http://lists.gnu.org/archive/html/axiom-math/2003-10/msg00020.html

http://lists.gnu.org/archive/html/axiom-developer/2003-10/msg00110.html

http://lists.gnu.org/archive/html/axiom-developer/2003-10/msg00108.html

> From: 	Bill Page
> Subject: 	RE: categorical design
> Date: 	Thu, 9 Oct 2003 22:54:30 -0400
>
> BTW, if I haven't already mentioned it here (or even if
> I have ... <grin> ) I would like to recommend a good and
> easily available book on category theory and type systems.
> See the book
>
>   Categories Types and Structures
>   by Asperti and Longo
>   MIT Press, 1991
> 
> Now available for download at:
> 
>   http://www.di.ens.fr/users/longo/download.html
> 
> Cheers,
> Bill Page.

http://lists.gnu.org/archive/html/axiom-developer/2004-08/msg00022.html

And about Axiom and category theory elsewhere

http://www.math.unm.edu/ACA/1996/skeletons/Johnson.html

The Axiom computer algebra system applied to computational category theory
Ronald Brown
(joint work with W. Dreckmann(Bangor and Stockholm))

Date: July 18th (Thursday)
Time: 16:25-16:45
Abstract
The Axiom language is based on what are called: (Axiom) categories,
domains, packages, objects. An `Axiom category' consists essentially
of a signature. The representation of objects, implementation of
operations, and expression as output form, is carried out in the
domain constructors. The advantages of the Axiom language and system
are discussed, and illustrated in terms of the code for directed graphs,
free categories, and the category of finite sets. It is argued that
this type of system allows for the development of code for the
interaction of examples and abstract algebraic systems, and code which
is relatively easily modified, and sufficiently general to cope with
new examples. That is, the code approximates more than is usual to
the standard ways of writing mathematics.

----------

http://physics.bu.edu/~youssef/homepage/talks/categories/categories.html

And a relatively new paper by Saul Youssef specifically about Aldor
and category theory:

http://atlas.bu.edu/~youssef/papers/math/aldor/aldor.pdf

Prospects for Category Theory in Aldor
Saul Youssef
Center for Computational Science
Boston University
youssef@bu.edu
October 16, 2004
Abstract
Ways of encorporating category theory constructions and results
into the Aldor language are discussed. The main features of Aldor
which make this possible are identied, examples of categorical
construtions are provided and a suggestion is made for a foundation
for rigorous results.

\start
Date: Sun, 16 Jan 2005 10:29:01 +0200
From: Vladimir Bondarenko
To: list
Subject: System error: Cannot take first of an empty list

Hello all,

Any comments on the following stuff?


.......................................................
-- behavior type # 1
.......................................................

-> integrate(%i^log(z), z)

        log(%i)log(z)
    z %e
    -----------------
       log(%i) + 1

-> integrate(f^log(z), z)

        log(f)log(z)
    z %e
    ----------------
       log(f) + 1

-> integrate(sin^log(z), z)

        log(sin)log(z)
    z %e
    ------------------
       log(sin) + 1

-> integrate(tan^log(z), z)

        log(tan)log(z)
    z %e
    ------------------
       log(tan) + 1

-> integrate(sqrt^log(z), z)

        log(sqrt)log(z)
    z %e
    -------------------
       log(sqrt) + 1

-> integrate(atan^log(z), z)

        log(atan)log(z)
    z %e
    -------------------
       log(atan) + 1

-> integrate(asinh^log(z), z)

        log(asinh)log(z)
    z %e
    --------------------
       log(asinh) + 1
.......................................................


BUT


.......................................................
-- behavior type # 2
.......................................................

-> integrate(exp^log(z), z)

   >> System error:
   Cannot take first of an empty list

-> integrate(log^log(z), z)

   >> System error:
   Cannot take first of an empty list

.......................................................


Should this be considered as a bug or a feature?
   
\start
Date: Sun, 16 Jan 2005 07:40:27 -0500
From: William Sit
To: Bill Page
Subject: re: Mathaction edit/preview/save problem

Hi Bill:

Thanks for helping again. Stranger things happened.

I went to the DynamicFunctionDomains page, select edit, changed
"shouldn't be::" to "shouldn't:" and preview. The bottom of the
browser says: "Waiting for page.axiom-developer.org..." This has gone
on for 5 minutes.

Meanwhile, I went to a DOS window and ping page.axiom-developer.org and got:

Pinging page.axiom-developer.org [209.135.140.38] with 32 bytes of data:

Reply from 209.135.140.38: bytes=32 time=45ms TTL=47
Reply from 209.135.140.38: bytes=32 time=46ms TTL=47
Reply from 209.135.140.38: bytes=32 time=47ms TTL=47
Reply from 209.135.140.38: bytes=32 time=45ms TTL=47

Ping statistics for 209.135.140.38:
    Packets: Sent = 4, Received = 4, Lost = 0 (0% loss),
Approximate round trip times in milli-seconds:
    Minimum = 45ms, Maximum = 47ms, Average = 45ms

So clearly, it is not a DNS problem. Then a pop up Alert window in the browser
says:"The document contains no data." After I click OK, the bottom message
"waiting ..." goes away. I am back to the editing page.

During all this period, the firewall records no blocked transmissions (setting
is on High). The browser is Firefox on Windows XP (SP2).

I went to Sandbox Main page, and edited the phrases to "Edited again
as a test".  Preview works, Save works (and response was almost
instantaneous, with saving a bit slower). In fact, the last time I
changed this page, it was forwarded to the mailing list. (Somehow, I
thought Sandbox was just for testing and won't be reported).

I have no problem uploading large files (or downloading) in general. And the
page DynamicFunctionDomains is not that large at all.

I can only report exactly what I saw. I don't understand how these
things work.  If the error messages were different, it could be they
were different, or it could be I was careless in reporting. But the
above is as accurate as I can, for this report.

I don't want to randomly test other pages because if they work, everyone gets
the spurious reports on the changes.

Now, I am doing the same test on a Fedora FC2 machine. The machine is a 1.4GHz
Dell P4, and almost nothing else is running. Every configuration is default (I
don't know how to configure Linux). Browser is Mozilla. It has been 5 minutes
since the pressing the Preview button
and finally this message: Bad Request. Your browser sent a request that this
server could not understand. Apache/2.0.40 Server at axiom-developer.org Port
80. I did this twice, same thing. In fact, on cancel, the browser took a
considerably longer time (10 minutes?) and returned also Bad Request!

On Fedora machine, I can't add a comment to IndexedVariables page
either (Bad Request). Same thing for FiniteFieldExpressions page. On
Windows IE, I was able to add a comment to ExternalEdit page, but I
was not able to edit and remove it!  (The Page cannot be displayed).

I am wondering whether it is because the page is locked because
someone else is editing the page before I start? I know XP locks files
that are open, and Zope too.

Do I need to install Zope? (I have not).

William

---- and now answers to your questions
Bill Page wrote:

> Do you really get two different messages? Does which message you
> get depend on some firewall setting? Do you get the same message
> in both Microsoft Explorer and Firefox?

Just now, trying this on PrimeField page with IE, adding "Taken from:"
at the beginning, the message is "The page cannot be displayed". At
the bottom, "Cannot find server or DNS Error" Internet Explorer.

So I suppose you can say they are different on all three.

> "This page cannot be displayed" usually means that your
> connection to the server is ok but that your browser received
> something that it could not process. I have sometimes seen
> this message if a web site takes a long time to reply. However
> the correct message in that case should really be a "time out".

Since on the Fedora machine, it took over 5 minutes before reporting "Bad
Request", could that really be it takes so long to processs the page? Does the
page call Axiom EVERY time it is opened? (or only when it is changed)?

> > I just added Hello to the Sandbox MainPage. I went right to
> > the DynamicFunctionDomains and change (4,7) to (4,8) and click
> > preview. Then it stalls and same problem.
> 
> When you say "stalls", how long do you estimate you had to wait
> before you received the "This page cannot be displayed" message?

I timed it to be about 5 minutes for the above for the Fedora machine. Last
time, it is about less but I did not time it.  Also on IE it is less. But 5
minutes should be plenty, especially when I have no delays accessing the site
for other than submitting a change or previewing it.

> > It seems to be a write privilege denied type of problem to me.
> >
> 
> No there are no controls write privileges on any page on MathAction
> except for just one page. 

What are the file privilege settings? Who are the owners of pages?
 
May be the pages are locked? or even the directory is?
Zope External Editor page:
Locks objects while they are being edited. Automatically unlocks them when the
editing session ends. 

If a page is locked, and someone else opens the page, does the edit
button work?  (it should not).

> 
> Considering the new message that you reported: "This page cannot
> be displayed" might possibily be caused by the fact that with each
> change to a page MathAction must call Axiom in order to re-process
> the enitire contents of the page. Perhaps some kind of time-out on
> your browser, fireweall or other part of your local network occurs
> that results in only partial content of the page being received.
> The SandBox page that you edited did not have any Axiom commands so
> in that case you did not get an error. But as I said I do not get
> this message myself even when editing a page that contains many
> Axiom commands.

I just went to Sandbox Mainpage and edited it to call axiom with
2+2. There is a slight delay in preview, but it worked and returns the
answer 4.

> Is there any setting on your firewall software that might affect
> the time your system waits for a reply?

All the time security is on High. I don't see how the firewall knows
the difference between Sandbox Mainpage and the other pages! For the
same reasons, I don't see how my netgear box's firewall can make the
distinction either. I used three different computers, OSes, and
browsers already (from the same ISP of course). Is there nobody else
experiencing this weird error?

> Is it possible for you to easily and temporarily turn off the
> firewall software completely in order to see if that cures the
> problem? If turning off the firewall works, then there is very
> likely some setting in the firewall software that you can change
> that will make it work without shutting it off.

Yes, I did and that made no difference. But I have to say, I only
turned off EZ Firewall. XP (SP2) has its own firewall setting that I
won't know how to tweak.  But as I said, I don't see how the firewall
can detect differences in the two pages unless the two pages ARE
different in their handling of Preview and Save buttons.

> Finally, do you have a different location (such as office at
> work versus at home) where you can try to access MathAction
> and make this change? At least if you can confirm that it works
> for you at one location but not at another then it might be
> easier to determine what is different and what to change.

Yes, but I don't go to my office these days. But if I do, I'll give it a try.
(However, even if that works, it is not going to help me since I do most of my
work at home).

\start
Date: Sun, 16 Jan 2005 17:02:48 +0100
From: Martin Rubey
To: Vladimir Bondarenko
Subject: Re: System error: Cannot take first of an empty list

Of course it's a bug. Please file it!

Martin

Vladimir Bondarenko writes:
 > Hello all,
 > 
 > Any comments on the following stuff?
 > 
 > 
 > .......................................................
 > -- behavior type # 1
 > .......................................................
 > 
 > -> integrate(%i^log(z), z)
 > 
 >         log(%i)log(z)
 >     z %e
 >     -----------------
 >        log(%i) + 1
 > 
 > -> integrate(f^log(z), z)
 > 
 >         log(f)log(z)
 >     z %e
 >     ----------------
 >        log(f) + 1
 > 
 > -> integrate(sin^log(z), z)
 > 
 >         log(sin)log(z)
 >     z %e
 >     ------------------
 >        log(sin) + 1
 > 
 > -> integrate(tan^log(z), z)
 > 
 >         log(tan)log(z)
 >     z %e
 >     ------------------
 >        log(tan) + 1
 > 
 > -> integrate(sqrt^log(z), z)
 > 
 >         log(sqrt)log(z)
 >     z %e
 >     -------------------
 >        log(sqrt) + 1
 > 
 > -> integrate(atan^log(z), z)
 > 
 >         log(atan)log(z)
 >     z %e
 >     -------------------
 >        log(atan) + 1
 > 
 > -> integrate(asinh^log(z), z)
 > 
 >         log(asinh)log(z)
 >     z %e
 >     --------------------
 >        log(asinh) + 1
 > .......................................................
 > 
 > 
 > BUT
 > 
 > 
 > .......................................................
 > -- behavior type # 2
 > .......................................................
 > 
 > -> integrate(exp^log(z), z)
 > 
 >    >> System error:
 >    Cannot take first of an empty list
 > 
 > -> integrate(log^log(z), z)
 > 
 >    >> System error:
 >    Cannot take first of an empty list
 > 
 > .......................................................
 > 
 > 
 > Should this be considered as a bug or a feature?
 >    
 > 
 > Best,

\start
Date: Sun, 16 Jan 2005 11:42:39 -0500
From: William Sit
To: Martin Rubey
Subject: Re: System error: Cannot take first of an empty list

Simpler:

(1) -> exp^3

           3
   (1)  exp
                                   Type: Polynomial Integer
(2) -> a^log(x)

         log(x)
   (2)  a
                                   Type: Expression Integer
protected-symbol-warn called with (NIL)

William
----

Martin Rubey wrote:
> 
> Of course it's a bug. Please file it!
> 
> Martin
> 
> Vladimir Bondarenko writes:
>  > Hello all,
>  >
>  > Any comments on the following stuff?
>  >
>  >
>  > .......................................................
>  > -- behavior type # 1
>  > .......................................................
>  >
>  > -> integrate(%i^log(z), z)
>  >
>  >         log(%i)log(z)
>  >     z %e
>  >     -----------------
>  >        log(%i) + 1
>  >
>  > -> integrate(f^log(z), z)
>  >
>  >         log(f)log(z)
>  >     z %e
>  >     ----------------
>  >        log(f) + 1
>  >
>  > -> integrate(sin^log(z), z)
>  >
>  >         log(sin)log(z)
>  >     z %e
>  >     ------------------
>  >        log(sin) + 1
>  >
>  > -> integrate(tan^log(z), z)
>  >
>  >         log(tan)log(z)
>  >     z %e
>  >     ------------------
>  >        log(tan) + 1
>  >
>  > -> integrate(sqrt^log(z), z)
>  >
>  >         log(sqrt)log(z)
>  >     z %e
>  >     -------------------
>  >        log(sqrt) + 1
>  >
>  > -> integrate(atan^log(z), z)
>  >
>  >         log(atan)log(z)
>  >     z %e
>  >     -------------------
>  >        log(atan) + 1
>  >
>  > -> integrate(asinh^log(z), z)
>  >
>  >         log(asinh)log(z)
>  >     z %e
>  >     --------------------
>  >        log(asinh) + 1
>  > .......................................................
>  >
>  >
>  > BUT
>  >
>  >
>  > .......................................................
>  > -- behavior type # 2
>  > .......................................................
>  >
>  > -> integrate(exp^log(z), z)
>  >
>  >    >> System error:
>  >    Cannot take first of an empty list
>  >
>  > -> integrate(log^log(z), z)
>  >
>  >    >> System error:
>  >    Cannot take first of an empty list
>  >
>  > .......................................................
>  >
>  >
>  > Should this be considered as a bug or a feature?

\start
Date: Sun, 16 Jan 2005 12:08:49 -0500
From: William Sit
To: Martin Rubey, Vladimir Bondarenko
Subject: Bug: using exp as a symbol in ** (was: System error: Cannot take first of an empty list

The error apparently comes from EXPR where the implementation is
  x**y == exp(y * log(x))

so exp^log(x) is computed as
 
  exp(log(x) * log(exp))

which should be ok, but then the system handles log exp and tries to simplify it
to the identity map, and not finding the argument.

William
---

> 
> Simpler:
> 
> (1) -> exp^3
> 
>            3
>    (1)  exp
>                                    Type: Polynomial Integer
> (2) -> a^log(x)
> 
>          log(x)
>    (2)  a
>                                    Type: Expression Integer
> (3) -> exp^log(x)
> 
>    >> System error:
>    Cannot take first of an empty list
> 
> protected-symbol-warn called with (NIL)
>

\start
Date: Sun, 16 Jan 2005 19:18:23 +0200
From: Vladimir Bondarenko
To: Martin Rubey
Subject: Automated calculation of AXIOM bugs

Hi Martin, hi *,

Much thanks for your quick comment.

I expected that it is a bug but being right this moment a tyro wrt
AXIOM, in contrast with MMA, Maple and many other systems, at the
very beginning of the learning curve I need some help on side of
an AXIOM connoisseur.

If AXIOM developers would expect to get the maximal efficiency
from my diagnostic effort, it would be great also to hear, during
some period of time, a kind of explanation.

I mean, what is your decision procedure, that is your internal
work, your train of thought, your criterion/criteria when you
make the decision that this IS a bug?

Say, "it is a bug BECAUSE there is inconsistency in observable
behavior between the case A and the case B while the input data
are similar (or are of identical nature) for A and B" or kind
of it?


I am asking you because I am trying to build a discrimination
net for AXIOM bug analysis, that is I should learn how to make
the decisions correctly.

Currently, AXIOM seems to be very buggy, at least much more than
I had expected from reading J/S book. But having had a solid bug
list, hopefully, it would be easier to get insight about the nature
and the interplay and the evolution of the bugs, and prioritize the
bug manifestations in a way that fixing them would take the minimal
efforts.

MR> Of course it's a bug. Please file it!

MR> Martin

MR> Vladimir Bondarenko writes:
MR>  > Hello all,
MR>  > 
MR>  > Any comments on the following stuff?
MR>  > 
MR>  > 
MR>  > .......................................................
MR>  > -- behavior type # 1
MR>  > .......................................................
MR>  > 
MR>  > -> integrate(%i^log(z), z)
MR>  > 
MR>  >         log(%i)log(z)
MR>  >     z %e
MR>  >     -----------------
MR>  >        log(%i) + 1
MR>  > 
MR>  > -> integrate(f^log(z), z)
MR>  > 
MR>  >         log(f)log(z)
MR>  >     z %e
MR>  >     ----------------
MR>  >        log(f) + 1
MR>  > 
MR>  > -> integrate(sin^log(z), z)
MR>  > 
MR>  >         log(sin)log(z)
MR>  >     z %e
MR>  >     ------------------
MR>  >        log(sin) + 1
MR>  > 
MR>  > -> integrate(tan^log(z), z)
MR>  > 
MR>  >         log(tan)log(z)
MR>  >     z %e
MR>  >     ------------------
MR>  >        log(tan) + 1
MR>  > 
MR>  > -> integrate(sqrt^log(z), z)
MR>  > 
MR>  >         log(sqrt)log(z)
MR>  >     z %e
MR>  >     -------------------
MR>  >        log(sqrt) + 1
MR>  > 
MR>  > -> integrate(atan^log(z), z)
MR>  > 
MR>  >         log(atan)log(z)
MR>  >     z %e
MR>  >     -------------------
MR>  >        log(atan) + 1
MR>  > 
MR>  > -> integrate(asinh^log(z), z)
MR>  > 
MR>  >         log(asinh)log(z)
MR>  >     z %e
MR>  >     --------------------
MR>  >        log(asinh) + 1
MR>  > .......................................................
MR>  > 
MR>  > 
MR>  > BUT
MR>  > 
MR>  > 
MR>  > .......................................................
MR>  > -- behavior type # 2
MR>  > .......................................................
MR>  > 
MR>  > -> integrate(exp^log(z), z)
MR>  > 
MR>  >    >> System error:
MR>  >    Cannot take first of an empty list
MR>  > 
MR>  > -> integrate(log^log(z), z)
MR>  > 
MR>  >    >> System error:
MR>  >    Cannot take first of an empty list
MR>  > 
MR>  > .......................................................
MR>  > 
MR>  > 
MR>  > Should this be considered as a bug or a feature?
MR>  >    
MR>  > 
MR>  > Best,
MR>  > 
MR>  > Vladimir
MR>  > 
MR>  > 
MR>  > 
MR>  > _______________________________________________
MR>  > Axiom-developer mailing list
MR>  > list
MR>  > http://lists.nongnu.org/mailman/listinfo/axiom-developer

\start
Date: Sun, 16 Jan 2005 19:26:26 +0200
From: Vladimir Bondarenko
To: William Sit
Subject: Re[2]: System error: Cannot take first of an empty list

Perfect!


WS> Simpler:

(1) ->> exp^3

WS>            3
WS>    (1)  exp
WS>                                    Type: Polynomial Integer
(2) ->> a^log(x)

WS>          log(x)
WS>    (2)  a
WS>                                    Type: Expression Integer
(3) ->> exp^log(x)

WS>    >> System error:
WS>    Cannot take first of an empty list

WS> protected-symbol-warn called with (NIL)

WS> William
WS> ----

WS> Martin Rubey wrote:
>> 
>> Of course it's a bug. Please file it!
>> 
>> Martin
>> 
>> Vladimir Bondarenko writes:
>>  > Hello all,
>>  >
>>  > Any comments on the following stuff?
>>  >
>>  >
>>  > .......................................................
>>  > -- behavior type # 1
>>  > .......................................................
>>  >
>>  > -> integrate(%i^log(z), z)
>>  >
>>  >         log(%i)log(z)
>>  >     z %e
>>  >     -----------------
>>  >        log(%i) + 1
>>  >
>>  > -> integrate(f^log(z), z)
>>  >
>>  >         log(f)log(z)
>>  >     z %e
>>  >     ----------------
>>  >        log(f) + 1
>>  >
>>  > -> integrate(sin^log(z), z)
>>  >
>>  >         log(sin)log(z)
>>  >     z %e
>>  >     ------------------
>>  >        log(sin) + 1
>>  >
>>  > -> integrate(tan^log(z), z)
>>  >
>>  >         log(tan)log(z)
>>  >     z %e
>>  >     ------------------
>>  >        log(tan) + 1
>>  >
>>  > -> integrate(sqrt^log(z), z)
>>  >
>>  >         log(sqrt)log(z)
>>  >     z %e
>>  >     -------------------
>>  >        log(sqrt) + 1
>>  >
>>  > -> integrate(atan^log(z), z)
>>  >
>>  >         log(atan)log(z)
>>  >     z %e
>>  >     -------------------
>>  >        log(atan) + 1
>>  >
>>  > -> integrate(asinh^log(z), z)
>>  >
>>  >         log(asinh)log(z)
>>  >     z %e
>>  >     --------------------
>>  >        log(asinh) + 1
>>  > .......................................................
>>  >
>>  >
>>  > BUT
>>  >
>>  >
>>  > .......................................................
>>  > -- behavior type # 2
>>  > .......................................................
>>  >
>>  > -> integrate(exp^log(z), z)
>>  >
>>  >    >> System error:
>>  >    Cannot take first of an empty list
>>  >
>>  > -> integrate(log^log(z), z)
>>  >
>>  >    >> System error:
>>  >    Cannot take first of an empty list
>>  >
>>  > .......................................................
>>  >
>>  >
>>  > Should this be considered as a bug or a feature?

\start
Date: Sun, 16 Jan 2005 19:35:55 +0200
From: Vladimir Bondarenko
To: William Sit
Subject: Re: Bug: using exp as a symbol in ** (was: System error: Cannot take first of an empty list

It is extremely helpful and instructive to see your explanation.

trigcat.spad

WS> ElementaryFunctionCategory(): Category == with
WS>     log : $ -> $       ++ log(x) returns the natural logarithm of x.
WS>     exp : $ -> $       ++ exp(x) returns %e to the power x.
WS>     "**": ($, $) -> $  ++ x**y returns x to the power y.
WS>  add
WS>    if $ has Monoid then
WS>      x ** y == exp(y * log x)

etc

The more such stuff I see, the better is my live experience,
the more efficient is bug identification progress.

Much thanks!

Vladimir


Sunday, January 16, 2005, 7:08:49 PM, you write:

WS> The error apparently comes from EXPR where the implementation is
WS>   x**y == exp(y * log(x))

WS> so exp^log(x) is computed as
 
WS>   exp(log(x) * log(exp))

WS> which should be ok, but then the system handles log exp and tries to simplify it
WS> to the identity map, and not finding the argument.

WS> William
WS> ---

>> 
>> Simpler:
>> 
>> (1) -> exp^3
>> 
>>            3
>>    (1)  exp
>>                                    Type: Polynomial Integer
>> (2) -> a^log(x)
>> 
>>          log(x)
>>    (2)  a
>>                                    Type: Expression Integer
>> (3) -> exp^log(x)
>> 
>>    >> System error:
>>    Cannot take first of an empty list
>> 
>> protected-symbol-warn called with (NIL)

\start
Date: Sun, 16 Jan 2005 12:43:14 -0500
From: William Sit
To: Martin Rubey, Vladimir Bondarenko
Subject: Re: Bug: using exp as a symbol in ** (was: System error: Cannot take firstof an empty list

On the other hand, even though as Vladimir Bondareko reported:

> integrate(log^log(z), z)
> 
>    >> System error:
>    Cannot take first of an empty list

(14) -> log^(log(z))

 Function Selection for log
      Arguments: VARIABLE z
   -> no appropriate log found in Variable z
   -> no appropriate log found in Symbol
   -> no appropriate log found in Variable z
   -> no appropriate log found in Symbol

 Modemaps from Associated Packages
   no modemaps

 Remaining General Modemaps
   [1] FortranExpression(D1,D2,D3) -> FortranExpression(D1,D2,D3)
            from FortranExpression(D1,D2,D3)
            if D1: LIST SYMBOL and D2: LIST SYMBOL and D3 has FMTC
   [2] D -> D from D if D has ELEMFUN

 [1]  signature:   EXPR INT -> EXPR INT
      implemented: slot $$ from EXPR INT


 Function Selection for ^
      Arguments: (VARIABLE log,EXPR INT)

 [1]  signature:   (EXPR INT,EXPR INT) -> EXPR INT
      implemented: slot $$$ from EXPR INT


            log(z)
   (14)  log
                                        Type: Expression Integer

(17) -> log^exp(x)

 Function Selection for exp
      Arguments: VARIABLE x

 [1]  signature:   EXPR INT -> EXPR INT
      implemented: slot $$ from EXPR INT


 Function Selection for ^
      Arguments: (VARIABLE log,EXPR INT)

 [1]  signature:   (EXPR INT,EXPR INT) -> EXPR INT
      implemented: slot $$$ from EXPR INT


              x
            %e
   (17)  log
                                         Type: Expression Integer

-----------------------------------------------------------------------
Note that both works, and note that when looking for the function ^, the
interpreter recognized VARIABLE log.
-----------------------------------------------------------------------
(17) -> exp^log(x)

 Function Selection for log
      Arguments: VARIABLE x

 [1]  signature:   EXPR INT -> EXPR INT
      implemented: slot $$ from EXPR INT


 Function Selection for ^
      Arguments: (SYMBOL,EXPR INT)

 [1]  signature:   (EXPR INT,EXPR INT) -> EXPR INT
      implemented: slot $$$ from EXPR INT


   >> System error:
   Cannot take first of an empty list

protected-symbol-warn called with (NIL)

-----------------------------------------------------------------------
Note that  that when looking for the function ^, the interpreter recognized exp
as a SYMBOL, not a VARIABLE as in the case of log.
-----------------------------------------------------------------------

   (18)  log
                                         Type: Variable log
(19) -> exp

   (19)  exp
                                         Type: Symbol

-----------------------------------------------------------------------
On the other hand, "correcting" the difference does not help
-----------------------------------------------------------------------
(3) -> exp:=exp::Variable(exp)

   (3)  exp
                                           Type: Variable exp
(4) -> exp^log(x)

 Function Selection for log
      Arguments: VARIABLE x

 [1]  signature:   EXPR INT -> EXPR INT
      implemented: slot $$ from EXPR INT


 Function Selection for ^
      Arguments: (VARIABLE exp,EXPR INT)

 [1]  signature:   (EXPR INT,EXPR INT) -> EXPR INT
      implemented: slot $$$ from EXPR INT


   >> System error:
   Cannot take first of an empty list

protected-symbol-warn called with (NIL)
(4) -> exp

   (4)  exp
                                  Type: Variable exp

(5) )clear all

(1) -> exp(log(x)*log(exp))

          log(exp)log(x)
   (1)  %e
                                  Type: Expression Integer

The implementation x**y = exp(y*log(x)) seems not to be the problem.  Clearly
this points to an interpreter bug due to different treatment for log and exp
that runs deep. The error messages originates from lisp, so it may be an error
in LISP (such as a missing quote).

Whether the original 

   integrate(log^log(z),z)

is related to this is not clear.

Bug already existed in NAG version. So may be one of the known ones.

\start
Date: Sun, 16 Jan 2005 20:29:37 +0200
From: Vladimir Bondarenko
To: list
Subject: A terrible bug: romberg+simplify/expand: slowdown of 125/300 times

Any comment on layout of AXIOM's computational flow here?

.........................................................................

Maple 9.5.2

> restart; time(evalf(Int(1, z=0..1)));
> restart; time(evalf(Int(simplify(1), z=0..1)));
> restart; time(evalf(Int(expand(1), z=0..1)));

.310
.281
.149

Same with Mathematica 5.1.

.........................................................................

-- About the stuff below, I even have no idea reading the doc.
-- It IS an eerie bug, period. (If the doc claims the opposite,
-- there is a bug in the doc :)


-- AXIOM Computer Algebra System, Version of Wednesday December 15, 2004

-> )time on

-> romberg(z+->expand(1), 0, 1, 0.1, 0.1, 10, 12)

  [value= 1.0,error= 0.0,totalpts= 2049,success= true]
  Time: 0.05 (EV) = 0.05 sec

-> romberg(z+->1, 0, 1, 0.1, 0.1, 10, 12)

   [value= - 1.0,error= 0.0,totalpts= 2049,success= true]
   Time: 0.02 (EV) = 0.02 sec

-----------------------
-- applying simplify...
-----------------------

-> romberg(z+->simplify(1), 0, 1, 0.1, 0.1, 10, 12)

   [value= - 1.0,error= 0.0,totalpts= 2049,success= true]
   Time: 1.00 (IN) + 1.22 (EV) + 0.07 (OT) + 0.20 (GC) = 2.48 sec

-----------------------
-- even worse
-----------------------

-> romberg(z+->simplify(%i^2), 0, 1, 0.1, 0.1, 10, 12)

   [value= - 1.0,error= 0.0,totalpts= 2049,success= true]
   Time: 3.07 (IN) + 2.25 (EV) + 0.18 (OT) + 0.48 (GC) = 5.98 sec

.........................................................................


A bloodcurdling guesswork, Does AXIOM each time call simplify/expand ?!

Or... or what causes this user's nightmare?

\start
Date: Sun, 16 Jan 2005 21:05:27 +0200
From: Vladimir Bondarenko
To: list
Subject: AXIOM for Windows: )copyright and )summary issue

Hi *,

What I see about )copyright and )summary under Windows XP...
I reinstalled AXIOM, rebooted... all the same.

Any comment on this behavior?

..................................................................

                        AXIOM Computer Algebra System
              Version of Tuesday November 30, 2004 at 21:11:14
-------------------------------------------------------------------------=
----
   Issue )copyright to view copyright notices.
   Issue )summary for a summary of useful system commands.
   Issue )quit to leave AXIOM and return to shell.
-------------------------------------------------------------------------=
----

-> )copyright

"cat" =ED=E5 =FF=E2=EB=FF=E5=F2=F1=FF =E2=ED=F3=F2=F0=E5=ED=ED=E5=E9 =E8=EB=
=E8 =E2=ED=E5=F8=ED=E5=E9
=EA=EE=EC=E0=ED=E4=EE=E9, =E8=F1=EF=EE=EB=ED=FF=E5=EC=EE=E9 =EF=F0=EE=E3=F0=
=E0=EC=EC=EE=E9 =E8=EB=E8 =EF=E0=EA=E5=F2=ED=FB=EC =F4=E0=E9=EB=EE=EC.

-- "cat" is not an internal or external command, executable or a batch fi=
le

-> )summary
"cat" =ED=E5 =FF=E2=EB=FF=E5=F2=F1=FF =E2=ED=F3=F2=F0=E5=ED=ED=E5=E9 =E8=EB=
=E8 =E2=ED=E5=F8=ED=E5=E9
=EA=EE=EC=E0=ED=E4=EE=E9, =E8=F1=EF=EE=EB=ED=FF=E5=EC=EE=E9 =EF=F0=EE=E3=F0=
=E0=EC=EC=EE=E9 =E8=EB=E8 =EF=E0=EA=E5=F2=ED=FB=EC =F4=E0=E9=EB=EE=EC.

-- "cat" is not an internal or external command, executable or a batch fi=
le

-- however, )quit works

-> )quit
   Please enter y or yes if you really want to leave the interactive
      environment and return to the operating system:

\start
Date: Sun, 16 Jan 2005 14:04:30 -0500
From: Stephen Wilson
To: William Sit
Subject: Re: Axiom domains and Aldor return types
Cc: Ralf Hemmecke

William,

First, let me thank you for your analysis! I am finding the questions
raised here very interesting. But I'm still on the other side of the
fence for the moment :)


> (I) The algorithm, which is really for S, is now an algorithm for R.
> It hides the existence of S completely.  It also hides the relevance
> of p:P.

The algorithm never needs to know S explicitly. If anything, the
algorithm involves `something' with satisfies C(R,p). However, the
meaning of a call to bar(p:R, ...)$Foo will in general carry a level
of meaning all its own, which need not communicate a dependence on S
(or C(R,p)). I dont see how this level of semantics involves the
problems we are discussing.

> (II) For each R:A for which a method to construct S for p:P exist, we
> must *retroactively* make R:ComputationMethod.  

Again, true. However, I fail to see why this is a issue. When one
writes the algebra, decisions made during initial design will always
be rethought. I dont think this is an argument against the
residueClassRing example as much as it is a proof that `hindsight is
20/20'. 

> (III) Now if R has several methods, then we must *rename* R using
> three different names in (II), even though R is still the same object
> in category A.  This would be very undesirable if R is Integer.

For Integer we might say

------
   residueClassRing(p:%):ResidueClassRing(%, p) == 
      if p < 2^32 then
         ZechPrimeField(p)
      else
         IntegerMod(%,p);
------

If for a given situation we need more information than just what R:A
and p:P can provide, then variants on the name of a domain constructor
is an option, but not the only one (or the best one). We could just as
easily add a second residueClassRing(p, moreInformation) to
ModularComputation's list of exports to express the dependency on such
information explicitly. We could alternatively write
ModularComputation2 with the extra signature. In short, we let the
structure of the algebra communicate the interrelations as much as
possible rather than relying on naming conventions alone. This is a
problem of design, and one which dependently typed functions provide
an elegant solution.


> (IV) The "advantage" at first glance, seems to be operator
> overloading:  using one single name "method" to refer to all the
> Method[i] in constructions of S.  But as (II) shows, this "powerful"
> and categorical construction is nothing but a wrapper, which is the
> the reverse of what I proposed for Martin's example:  instead of
> lifting a function g(n,k) to the level of a package, where the
> dependence on parameters in the signature belongs, the construction of
> ComputationMethod pushed the level of a domain constructor (which is
> what each Method[i] is) to the level of a function.  I don't think
> that is a convincing example of the need for allowing dependence on
> parameters for functions.

But this act of `pushing' a domain constructor to a level of a
function is what allows one to communicate the structure of the algebra
by *using the structure itself*. I'll say more below.

> The power of that construction in Aldor, as I pointed out in another
> email, is allowing such dependence in functions on the SOURCE side,
> not on the TARGET side of the map. In short notation:
> 
>        F(a:A, b:B(a), c:C(a,b)):D(a,b,c)
> ...

I do not argue these points at all. Note that in some languages, like
ocaml, the signature for a function like this would take the form
(more or less):

       F: (a:A) -> (b: B(a)) -> (c: C(a,b)) -> D(a,b,c).

And calling F x, would return a function F': B(a) -> C(a,b) ->
D(a,b,c), etc. 

Depending on your point of view, a function with multiple, dependently
typed arguments is just notation to express a chain of functions where
the only dependence is in the type of the result. I find this
interpretation quite satisfying.


Your comments on `lifting' the aldor example is perfect in that this
is the probably the best way to write such things in axiom today. I'll
just recap the result:

> Foo(R,p,S): T == C where
>   R: ModularCategory
>   p: Ideal(R)
>   S: ResidueClassRing(R,p)
>   Q ==> any domain constructed from R, p, S
>   T == with
>     bar: R -> Q
>   C == add
>     bar(r)==
>        elem:S:=modularRep(r)$S
>         -- hairy computations
>        q:Q:= ...
> 
> Calling sequence in some other package, assuming R, p, S are already
> defined:
> 
>    bar(r)$Foo(R,p,S)
> 
> If you want to use the default implementation when R is a domain in
> IntegerCategory, you can use:
> 
>   if R has IntegerCategory then
>       S:=IntegerMod(R,p)
>   bar(r)$Foo(R,p,S)


The last part is the kicker for me, asking `if R has IntegerCategory
then ...' is where the two approaches diverge. I claimed that I
doubted one could write an equivalent Foo without the use of some
hypothetical RESCLASS package/domain which made use of copious `if R
has ..'  constructs. Although the model I had in mind of how this
would look in Axiom is different from your solution, the main point is
still there. The questions are being asked, just at a different level
-- either code which uses Foo needs to provide an answer, or a user
typing into the interpreter.

The crux issue in my mind is that the aldor example illustrates how
one can encapsulate questions like `if R has ..' into the structure of
the algebra itself. residueClassRing() is more than just a wrapper. It
communicates a relationship between R, p, and C(r,p). The axiom
solution you propose communicates a relationship between R, p, and
S:C(R,p). The problem of needing to know S is removed in the aldor
example, as questions regarding it are not raised ( clearly for given
R and p there *is* a relationship to S:C(R,p). But this relationship
is expressed in code at the domain level, where it `belongs'. The
domains are just implementing the requirements of their exports).


There are other reasons to consider dependent types in a function
target. If we are interested in future integration with a proof engine
like ACL2, then we will want to consider the role such functions can
play in such a setting. Some of the leading proof assistants, like
LEGO and COQ, make explicit use of dependent type information. 


Sincerely,
Steve




On Sat, Jan 15, 2005 at 03:30:40PM -0500, William Sit wrote:
> It appears that the previous file may have some display alignment problems (in
> the code indentations). So here is hopefully a better version. My apologies for
> duplicates.
> 
> William
> -----
> 
> 
> Hi Steve:
> 
> Your example is very interesting and it took me quite some time to
> understand it (I am slow in learning and I tossed and turned several
> times between endorsing it to rejecting it).  My tentative short
> answers are that (1) Yes, this can be implemented in current Axiom and
> (2) There are big hidden problems (see (II, III) below) in
> implementing the Aldor version!
> 
> But: there is no such thing as a simple explanation.
> 
> So please bear with me.  To avoid getting into residue class rings,
> let me simplify and abstract the hypothesis under which the example
> makes sense.  If you do want the analysis for residue class ring (and
> on how I arrive at the above conclusions), just keep reading.
> 
> Given a certain domain R of category A, and another domain P of
> category B, let's assume that there is at least one uniform way of
> constructing, for each p:P, a new domain S (belonging to some category
> C that depends on R and p).  For a given R, there may be several such
> uniform methods to construct the same mathematical object S; and
> certainly for different R's, there would be other ways of constructing
> S.  For example, if R' (of category A', which is a subcategory of A)
> has some special properties, the construction may be different.  In
> Axiom, each construction of S requires a domain constructor:
> 
>    Method1(R:A, p:P)==S:C(R,p)
>    Method2(R:A, p:P)==S:C(R,p)
>    Method3(R':A, p:P)==S:C(R',p)
>    Method4(R':A', p:P)==S:C(R',p)
> 
> In Axiom, because the signatures of the first three methods would be
> the same, the domain constructors need different names.
> 
> Now suppose we want to implement an algorithm for S and this is to be
> done categorically, independent of the actual construction of S, but
> depend on a function foo which is defined for all domains in the
> category C(R,p).  Currently, in Axiom, this would be a package:
> 
>    Algorithm(R:A, p:P, S:C(R,p)) == add
>         bar(...) == ... foo(...)$S ...
> 
> and a typical calling sequence would be:
> 
>    bar(...)$Algorithm(R,p, Method1(R,p))
> 
> Now let's see how we may do the same thing a la Steve's example in
> Aldor.  We would create a new category to encapsulate the various
> methods for constructing S.
> 
> ComputationMethod: Category == Join(...) with
>   method:(p:P) -> C(%,p)
> 
> and the algorithm for S would be in a package:
> 
>   Algorithm(R:Join(A,ComputationMethod)) ==
>       add { bar(p:P, ...)== ... foo(...)$method(p) ...}
> 
> and a typical calling sequence would be:
> 
>   bar(p:P, ...)$Algorithm(R)
> 
> There are several problems:
> 
> (I) The algorithm, which is really for S, is now an algorithm for R.
> It hides the existence of S completely.  It also hides the relevance
> of p:P.
> 
> (II) For each R:A for which a method to construct S for p:P exist, we
> must *retroactively* make R:ComputationMethod.  This requires
> modifying the original construction of R.  If the construction of R is
> from a domain constructor T, say R := T(...) where
> 
>        T(...):A == ...
> 
> and if Method1 is used to construct S, we must now modify this to
> 
>       T'(...):Join(A, ComputationMethod) == T(...) add
>          method(p:P) == Method1(%,p)
> 
> We must create a new constructor T' and not modify T because not every
> T(...) is to become a domain in ComputationMethod.  So even though we
> eliminated one domain constructor (Method1, assuming this is inlined),
> we need one new domain constructor to "wrap" it.  If T is actually the
> construction of R from scratch (that is, R is T, and (...) is empty;
> such as Integer), then inlining retroactively Method1 would require
> recompiling the whole world.
> 
> (III) Now if R has several methods, then we must *rename* R using
> three different names in (II), even though R is still the same object
> in category A.  This would be very undesirable if R is Integer.
> 
> [Remark:  It seems to me the original algebra developers in Axiom
> avoided at all cost to modify existing domains because recompiling the
> world took a long time in those days.  They typically added packages
> and extended domains to cover any shortcoming in the original
> implementations.]
> 
> (IV) The "advantage" at first glance, seems to be operator
> overloading:  using one single name "method" to refer to all the
> Method[i] in constructions of S.  But as (II) shows, this "powerful"
> and categorical construction is nothing but a wrapper, which is the
> the reverse of what I proposed for Martin's example:  instead of
> lifting a function g(n,k) to the level of a package, where the
> dependence on parameters in the signature belongs, the construction of
> ComputationMethod pushed the level of a domain constructor (which is
> what each Method[i] is) to the level of a function.  I don't think
> that is a convincing example of the need for allowing dependence on
> parameters for functions.
> 
> *************************************************************
> *  It is clear that the two set ups are equivalent and
> *  the translation is bidirectional. The Axiom implementation
> *  is more natural and does not have the disadvantages.
> *************************************************************
> The power of that construction in Aldor, as I pointed out in another
> email, is allowing such dependence in functions on the SOURCE side,
> not on the TARGET side of the map. In short notation:
> 
>        F(a:A, b:B(a), c:C(a,b)):D(a,b,c)
> 
> is a powerful signature, not because the a, b, c appears on the Target
> D, but because they appear in other parameters on the Source side. If
> A, B, C represent three axes in 3-space, then F is analogous to an
> iterated triple integral over a non-rectangular region in 3-space,
> whereas
> 
>        F(a:A, b:B, c:C):D(a,b,c)
> 
> is like the same over a rectangular region (a cuboid) in 3-space.
> 
> If we may borrow the way Matlab does these computation (Matlab, for
> Matrix Laboratory, is constrained in these numerical triple
> integration computations because it must define grid points in 3-space
> in a 3-dimensional matrix), we have to "zero" out the complement of
> the conditionals b:B(a) and c:C(a,b).  This would be difficult without
> an over category B' and C' of which B(a) and C(a,b) are subcategories.
> But we can always create such over categories and it would not be
> difficult then to restrict the inputs by using "if b has B(a)" and "if
> c has C(a,b)".  In fact, Axiom does this all the time with
> non-parametrized conditionals like "if R has CharacteristicZero".
> Even though I can't recall any attributes being parametrized, there is
> no reason why Axiom cannot support such.  If I understand correctly,
> attributes are defined as Categories.  Let me leave that as an
> exercise for someone to find out.  :-).  I am more convinced now that
> the signature limitation in Axiom does not actually limit its power,
> but does restrict its freedom of expression in some situations.
> 
> > How could one write the bar()$Foo above with the current axiom
> > language? All you can do is write a package/domain parameterize
> > by a commutative ring R and a representative of R, and write the
> > exports dependently on R's type via `if R has ...'  constructs.
> > This is what I meant in the previous email about having a
> > RESCLASS  package/domain which needed to know too much about the
> > algebra.
> 
> In Axiom, as well as in Aldor, the conditional "if R has ..." is never
> meant to be algorithmic.  It is a declarative that a domain has a
> certain attribute.  Such a declarative is never verified by code.  It
> is one of the "trust me" situations.  We do NOT need to know about
> every ring when we use these conditionals, because for whatever actual
> domain R is inputted, the *programmer* will have to declare his/her
> knowledge about these conditionals in the domain constructor for R, as
> in, for example, "Join(CharacteristicZero, ..." There is no algorithm
> to test if an arbitrary ring has characteristic zero.  One just knows
> from the mathematics of particular rings.  You used these conditionals
> also in defining the ResidueClassRing(R,p) category and it does not
> mean you know which commutative ring R has SourceOfPrimes or has
> implemented prime?(p).  But for the rings R for which you do know, you
> declare them to have SourceOfPrimes, and you implement prime?(p) in
> the domain constructor that gives R.
> 
> Below, I'll give more explanation how I arrive at my conclusion above.
> Stanzas marked between ==== and **** are mine (and those lines between
> **** and ==== are Steve's).  In each stanza, I put down a paraphrase
> of Steve's code (in a combination of code, math and English, with
> added background information), and an analog taken from Axiom (which
> helped me notice what the map residueClassRing really is --- it became
> obvious only after such analysis).  The way to follow my analysis
> would be to read the paraphrase from top down, then read the analogy
> from bottom up (if you don't, you may find some notations not yet
> defined).  Then read the above abstract discussion again.
> 
> I skipped the Axiom constructions for all the constructors in Steve's
> example, except for Foo.  I think it is clear from the more general
> discussion above how to complete the conversion.
> 
> By the way, the analogy would fit the abstract situation above too.  R
> is a ring, P is List Symbol, S is the polynomial ring R[p], and the
> Algorithm is GroebnerBasis.  The methods are DMP, HDMP, GDMP.
> 
> William
> ------
> Steve Wilson wrote:
> 
> The following is an example with a view towards generic modular
> computations. Aldor has a category (approximately):
> 
> ---------
>  ModularComputation: Category == CommutativeRing with {
>          residueClassRing: (p: %) -> ResidueClassRing(%,p);
>                  ....
>           }
> ---------
> ============
> 
> Paraphrase:
> 
> A ModularComputation domain R is a commutative ring with a map
> 
>    residueClassRing: R -> ResidueClassRing category
> 
> In such a domain R, there is an algorithm to construct the residue
> class ring for any prime ideal p in R.  Mathematically, the residue
> class ring of R with respect to a prime ideal p is (R_p)/(p R_p),
> where R_p is the localization of R at the prime ideal p.  When lifted
> to R_p, the prime ideal p becomes p R_p, the unique maximal ideal of
> R_p (which is called a local ring).  The residue class ring is then
> formed by the "modding out" the maximal ideal.
> 
> The notation p:% above is technically incorrect and should be
> something like p:  Ideals(%), and for R in the IntegerCategory
> (below), there is a coercion from a prime integer p to the prime ideal
> (p), at least in the envisioned situation.  There are other rings,
> typically polynomial rings, where there is an algorithm to detect
> prime ideals (using a primary decomposition algorithm and for these
> rings, the residue class ring can also be constructed).
> 
> Analogy:
> 
> PolynomialComputation: Category == CommutativeRing with {
> 
>    polyomialRing: (v:List Symbol) -> POLYCAT(v, %)
> 
> There is really no need for the map polynomialRing because it
> encapsulates a domain constructor, which must be implemented for each
> instance of v and R.  Examples of this map polynomialRing in action
> are:
> 
>    DMP(v,R): POLYCAT(v,R)
>    HDMP(v,R): POLYCAT(v,R)
> 
> Each of these domain constructor is equivalent to an instance of the
> map polynomialRing and therefore, a domain of the category
> PolynomialComputation.
> 
> ************
> 
> 
> So any domain satisfying Modular computation is a CommutativeRing R,
> which exports a function which takes a representative p of R and
> returns something which satisfies ResidueClassRing(R,p).
> 
> ---------
> ResidueClassRing(R: CommutativeRing, p: R): Category ==
>    CommutativeRing with {
>       modularRep: R -> %;
>       canonicalPreImage: % -> R;
>       if R has EuclideanDomain then {
>          symmetricPreImage: % -> R;
>          if R has SourceOfPrimes and prime?(p)
>          then Field;
>      } }
> ---------
> =========
> 
> Paraphrase:
> 
> A ResideClassRing S is constructed from a base commutative ring R and
> a prime ideal p of R. It is a commutative ring with these operations:
> 
>   modularRep : R -> S
>     canonicalPreImage: S -> R
>       if R is a Euclidean domain, then there are more operations:
>           symmetricPreImage: S -> R
>           if we know the prime ideals of R, and p is a prime ideal,
>           then S is a field
> 
> ResidueClassRing is a category constructor because there may be
> several representations of S, given one R and one prime ideal p of R.
> In order to perform this construction, we would need to have
> constructed already Ideal(R), the domain of ideals of R, and a
> function that can decide whether a given ideal is prime or not.  The
> localization construction is already in Axiom (the FRAC constructor is
> a special case where the prime ideal is (0)).  The modulo operation is
> available for polynomial rings using Groebner basis method (in
> PolynomialIdeal), and of course also for Integer using plain old
> division.  These two are the most important examples.  For this
> discussion, the if-clauses are not relevant.
> 
> Analogy:
> 
> POLYCAT(v: List Symbol, R: CommutativeRing):Category ==
>   CommutativeRing with {
>       coerce: R -> %;
>       retract: % -> R;
>         ...
>                  }
> 
> **********
> 
> 
> Here we use the notion of SourceOfPrimes until someone figures out a
> meaningful way to represent a MaximalIdeal generally:).
> 
> Aldor has an IntegerCategory, roughly:
> 
> ---------
> IntegerCategory: Category ==
>     Join(IntegerType, CharacteristicZero, EuclideanDomain,
>                  ModularComputation, SourceOfPrimes,
>                               GeneralExponentCategory, Specializable,
> Parsable) with {
>        ...
>        default {
>           residueClassRing(p:%):ResidueClassRing(%, p) ==
>             IntegerMod(%,p);
>        ...
>           } }
> ---------
> =========
> 
> Paraphrase
> 
> A domain R of category IntegerCategory is a Euclidean domain of
> characteristic zero, etc., where we know the prime ideals, and we know
> how to construct a ResidueClassRing S given any prime ideal p in R.
> 
> A default way to construct S is via IntegerMod(R, p) when R is an
> IntegerCategory domain.  The construction IntegerMod(R, p) is assumed
> known and efficient.  This default construction does not really apply
> always, for example, when R is a polynomial ring.  But this is outside
> the scope of the current discussion.
> 
> Analogy:
> 
> PolynomialConstructable: Category ==
>   Join( ...) with {
>     default {
>         polynomialRing(v:List Symbol): POLYCAT(v,%) == DMP(v, %);
>             ...
>               }  }
> 
> 
> **********
> 
> And IntegerMod is an efficient implementation:
> 
> ---------
>    IntegerMod(Z:IntegerCategory, p:Z):ResidueClassRing(Z, p) == add {
> ... }
> ---------
> 
> =========
> Paraphrase:
> 
> IntegerMod is a domain constructor that is actually implementable
> because we supposedly know how to construct the residue class ring for
> a domain R (or Z) of the IntegerCategory and a prime ideal p of R.
> IntegerMod represents ONE way of construction for S:= (R_p)/(p R_p).
> 
> Analogy:
> 
> DMP (DistributedMultivariatePolynomial) is a domain constructor in
> Axiom that implements a polynomial ring with coefficient ring R and a
> list of indeterminates v.  It uses the pure lexicographic ordering on
> monomials.
> 
>    DMP(v:List Symbol, R: Ring): POLYCAT(v,R) == Join(...) add ...
> 
> It may serve as the default constructor.  Other constructors use other
> term orderings, for example HDMP or GDMP.
> 
> Here POLYCAT(v,R) is a specialization of an actual category
> constructor from Axiom, except I have abbreviated the parameter set in
> this analogy.  The full macro expansion is
> 
>     POLYCAT(v,R) ==> PolynomialCategory(R,_
>         Direct Product(#(v),NonNegativeInteger),_
>            OrderedVariableList(v))
> 
> 
> Axiom Version:
> 
>    IntegerMod(R, p): T == C where
>      R: IntegerCategory
>      p: Ideal(R)
>      T == ResidueClassRing(R, p)
>      C == add { ... }
> 
> *********
> 
> Assuming this type of stuff is implemented in the library where it is
> needed we can write very generic functions:
> 
> ---------
>    Foo(R: ModularComputation): with { ... } == add {
>           bar(r: R, p:R): R == {
> 
>          elem : ResidueClassRing(R, p) :=
>                   modularRep(r)$residueClassRing(p)
> 
>             -- hairy computation...
> 
>          canonicalPreImage(elem)
>                 } }
> ---------
> ========
> 
> Paraphrase:
> 
> Foo is a package for a ModularComputation domain R, with a function
> bar: (R, R) -> R and the function bar is implemented as:
> 
>    bar(r,p) ==
>         compute the elem:= modularRep(r) in S
>          -- S is the ResidueClassRing for R and p.
>         compute some other things
>          -- (which may or may not change elem, but
>          -- presumably elem remains in S
>         return canonicalPreImage(elem) in R
> 
> or the function bar may be bar: (R, p:R) -> S(p) if it returns elem.
> 
> 
> Analogy:
> 
> The function bar is just a supped-up version of Martin's example:
> 
>    g(n,k) == (k mod n):PrimeField(n)  -- assuming n is prime
> 
> so it can be implemented in Axiom. The mod function is the coerce
> function in PrimeField(n)
> 
>    coerce: PositiveInteger -> PrimeField(n)
> 
> So similarly, the modularRep(r) function is a function in S
> 
>    modularRep: R -> S
> 
> is similar to a coercion from R to S and the canonicalPreImage is a
> function from S to R similar to a retract:S -> R.
> 
> 
> Axiom version:
> 
> Foo(R,p,S): T == C where
>   R: ModularCategory
>   p: Ideal(R)
>   S: ResidueClassRing(R,p)
>   Q ==> any domain constructed from R, p, S
>   T == with
>     bar: R -> Q
>   C == add
>     bar(r)==
>        elem:S:=modularRep(r)$S
>         -- hairy computations
>        q:Q:= ...
> 
> Calling sequence in some other package, assuming R, p, S are already
> defined:
> 
>    bar(r)$Foo(R,p,S)
> 
> If you want to use the default implementation when R is a domain in
> IntegerCategory, you can use:
> 
>   if R has IntegerCategory then
>       S:=IntegerMod(R,p)
>   bar(r)$Foo(R,p,S)
> 
> Below are just some random notes (my tosses and turns):
> 
> Note here S is typically defined using one of the constructors.  If
> the map residueClassRing(p) exists, then there will be a corresponding
> domain constructor in Axiom.  The advantage of using residueClassRing
> is that we can use ONE name for all the constructors for ALL rings R,
> even if these constructions depend on R (but uniform on p).
> OVERLOADING and S does not have to appear as a parameter because we
> don't care how S is constructed.  It is cleaner and corresponds to the
> mathematics by ignoring the data representation or implementation.  On
> the other hand, by tagging S along in the package, we can use special
> features in the construction of S in the computation (not really, S is
> given categorically:  Example, in GroebnerBasis, we tag along S, the
> Dpol, but since Dpol is just PolynomialCategory based on the other
> parameters, we don't know more.  However, in actual computation,
> calling groebner for example, the implementation of Dpol will come
> into action.  It makes no difference to let R be a ModularComputation
> because then the implementation is residueClassRing(R,p), so by
> specifying R:  ModularComputation, we are singling out the
> implementation, just like when we input Dpol.  So ModularComputation
> is only a wrapper.  In Steve's example, each time you need functions
> from S, you have to make a function call to residueClassRing(R,p),
> unless, you assign S to it.  So it is only a wrapper!
> 
> ********
> 
> All of this depends on the fact that we can express a dependently
> typed function residueClassRing(p:R), which can be implemented by any
> given domain as appropriate.  The Foo package knows all it needs to,
> the Ring, and an element of the ring to get at the the quotient ring.
> Of course, the bar function above could be more complex and return an
> element of ResidueClassRing(R,p), etc.
> 
> How could one write the bar()$Foo above with the current axiom
> language?  All you can do is write a package/domain parameterized by a
> commutative ring R and a representative of R, and write the exports
> dependently on R's type via `if R has ...' constructs.  This is what I
> meant in the previous email about having a RESCLASS package/domain
> which needed to know too much about the algebra.
> 
> =======
> 
> see discussion on top of email

\start
Date: Sun, 16 Jan 2005 16:04:29 -0500
From: Stephen Wilson
To: Bill Page
Subject: re: algebra Makefiles with explicit

Here are some interesting clues. Based upon my earlier email which
listed the differences in domain vectors w.r.t first- and
second-iteration fixed-point builds, we could see that SINT is somehow
involved. I should probably continue this enquiry to see if the
differences are all of the same `kind' as shown below. But from what I
can tell, the compiler `knows something' during the second iteration
build. The databases left over in the int/algebra directory?


=============
PRIMELT 

The differences in the generated lisp are w.r.t QSADD1, in compiler
generated code implementing a for loop. The differences look like:

    - (LETT |i| (+ |i| 1)
    + (LETT |i| (QSADD1 |i|)

In primitiveElement, we use a for loop on `i in 10..'. i is passed to
symmetricRemainder, defined in IntegerNumberSystem with signature:

    primitiveElement(%,%).

The call site takes the form primitiveElement(Integer, i), so we would
expect that i should have type integer. Looking at the generated lisp
for integer we see that QSADD1 is not on the property list for any
function, but it is on the property list for SINT's `inc' function.

Note the definition of QSADD1 in vmlisp.lisp:

      (defmacro qsadd1 (x) `(the fixnum (1+ (the fixnum ,x))))

How does the compiler know on the second-iteration build that `i' will
always be a fixnum? Though probably correct 99% of the time, the
second-iteration code in this case is incorrect.
=============

=============
PATTERN

The differences in the lisp code is more involved. Recall the
differences in the domain vectors that I provided earlier:

-------------------------------------------------------------------
--- First iteration, pattern.spad, PATTERN

(1) -> (pspadvec (|evalDomain| '(|Pattern| (|PrimeField| 5))))
...
30: (Union 56 (QUOTE failed))
31: (#<compiled-function PATTERN;isPlus;$U;10> . #<vector 09089f50>)
32: (SingleInteger)
33: (newGoGet #<vector 09089f50> 14 . coerce)
34: (#<compiled-function PATTERN;isTimes;$U;11> . #<vector 09089f50>)
35: (#<compiled-function PATTERN;isList;$U;12> . #<vector 09089f50>)
...

-------------------------------------------------------------------
--- Second iteration, pattern.spad, PATTERN

(1) -> (pspadvec (|evalDomain| '(|Pattern| (|PrimeField| 5))))
...
30: (Union 54 (QUOTE failed))
31: (#<compiled-function PATTERN;isPlus;$U;10> . #<vector 08fa201c>)
32: (#<compiled-function PATTERN;isTimes;$U;11> . #<vector 08fa201c>)
33: (#<compiled-function PATTERN;isList;$U;12> . #<vector 08fa201c>)
34: (Record (: val $) (: exponent 26))
35: (Union 34 (QUOTE failed))
...


In the first-iteration code, a call to SINT's coerce: Integer -> $ is
represented in the domain vector in slots 32, 33. The second-iteration
vector does not contain this code.

Noting the above, the differences in the generated lisp for PATTERN
are fairly easy to understand. All calls into the domain vector with
slot indexes > 31 in the second-iteration code appear shifted down by
two in comparison to the first-iteration code. The only difference is
in the calls to SINT's coerce. In the second-iteration, these calls
are not made. The transformation is: 

   (SPADCALL 2 (QREFELT $ 33)) --->  2

At the top of pattern.spad we see a set of macros:
   
  SYM_GENERIC  ==> 1::SI
  SYM_MULTIPLE ==> 2::SI
         ....
  PAT_ONE      ==> 5::SI
  PAT_EXPT     ==> 6::SI

These macros are being expanded `literally' in the first-iteration
code, whereas in the second-iteration the compiler is `inlining' the
call to coerce.
=============


=============
D01AGNT

Similar to PATTERN. Coercions for SINT are being inlined. 
=============


=============
FC

The FortranCode domain contains a local variable:

     labelValue:SingleInteger := 25000::SingleInteger

It is represented explicitly in the domain vectors. (slot 10 in the
first iteration, slot 7 in the second). All the differences in both
first- and second-iteration code are w.r.t a shifted domain
vector, and are effectively equivalent, in all but one respect: In the
instantiation code for the domain:

  - (QSETREFV $ 10 (SPADCALL 25000 (QREFELT $ 9))) 
  + (QSETREFV $ 7 25000)

Here the domain slot representing 25000 is being initialized via a
call to SINT's coerce, where as in the second the coercion is inlined.
==============


Does this help trigger an explanation? Any thoughts?

\start
Date: Sun, 16 Jan 2005 17:34:02 -0500
From: William Sit
To: Vladimir Bondarenko
Subject: Re: AXIOM for Windows: )copyright and )summary issue

This is a known bug. "cat" is a unix command like "type" in DOS. But
"cat= " is normally not installed in Windows machines. If you install
some unix tool= s for Windows, including "cat", then there will be no
such display problems.  I= have "cat" in my cygwin installation and
once put into the path, that works.  Unfortunately the dos command
type does not understand unix path conventi= on -- otherwise, creating
a cat.bat file with one line

type %1

and putting it into your path would have worked.

You need three files cat.exe, cygwin1.dll, cygintl-1.dll and put these in=
 your
path.
I will send these to you separately.

William

---
(1) -> )copyright

J:\OpenAxiom\axiom\mnt\windows\lib>typeJ:/OpenAxiom/axiom/mnt/windows/lib=
/copyright
The syntax of the command is incorrect.
---

I am sending you a cat.exe (but I do not know if it works independently,
usually, it does).


Vladimir Bondarenko wrote:
> =

> Hi *,
> =

> What I see about )copyright and )summary under Windows XP...
> I reinstalled AXIOM, rebooted... all the same.
> =

> Any comment on this behavior?
> =

> ..................................................................
> =

>                         AXIOM Computer Algebra System
>               Version of Tuesday November 30, 2004 at 21:11:14
> -----------------------------------------------------------------------=
------
>    Issue )copyright to view copyright notices.
>    Issue )summary for a summary of useful system commands.
>    Issue )quit to leave AXIOM and return to shell.
> -----------------------------------------------------------------------=
------
> =

> -> )copyright
> =

> "cat" =ED=E5 =FF=E2=EB=FF=E5=F2=F1=FF =E2=ED=F3=F2=F0=E5=ED=ED=E5=E9 =E8=
=EB=E8 =E2=ED=E5=F8=ED=E5=E9
> =EA=EE=EC=E0=ED=E4=EE=E9, =E8=F1=EF=EE=EB=ED=FF=E5=EC=EE=E9 =EF=F0=EE=E3=
=F0=E0=EC=EC=EE=E9 =E8=EB=E8 =EF=E0=EA=E5=F2=ED=FB=EC =F4=E0=E9=EB=EE=EC.=

> =

> -- "cat" is not an internal or external command, executable or a batch =
file
> =

> -> )summary
> "cat" =ED=E5 =FF=E2=EB=FF=E5=F2=F1=FF =E2=ED=F3=F2=F0=E5=ED=ED=E5=E9 =E8=
=EB=E8 =E2=ED=E5=F8=ED=E5=E9
> =EA=EE=EC=E0=ED=E4=EE=E9, =E8=F1=EF=EE=EB=ED=FF=E5=EC=EE=E9 =EF=F0=EE=E3=
=F0=E0=EC=EC=EE=E9 =E8=EB=E8 =EF=E0=EA=E5=F2=ED=FB=EC =F4=E0=E9=EB=EE=EC.=

> =

> -- "cat" is not an internal or external command, executable or a batch =
file
> =

> -- however, )quit works
> =

> -> )quit
>    Please enter y or yes if you really want to leave the interactive
>       environment and return to the operating system:

\start
Date: Sun, 16 Jan 2005 21:14:23 -0500
From: Bill Page
To: William Sit, Vladimir Bondarenko
Subject: RE: AXIOM for Windows: )copyright and )summary issue

On Sunday, January 16, 2005 5:34 PM William Sit wrote:
>
> This is a known bug. "cat" is a unix command like "type" in
> DOS. But "cat" is normally not installed in Windows machines.
> If you install some unix tools for Windows, including "cat",
> then there will be no such display problems.

Vladimir report is based on the windows version of "Tuesday
November 30, 2004". Since that time there have been at least
two updates. See

http://page.axiom-developer.org/zope/mathaction/AxiomDownload

This problem was corrected in a later version. In general,
keep in mind that this is pre-release version and it will
be updated often. In fact I have another major update to
the pre-release Windows version that I hope to upload this
week.

> I have "cat" in my cygwin installation and once put into
> the path, that works.

No, this is the wrong solution. The cygwin version of "cat"
will only work if this pre-release version of Axiom is
installed in a path that does not contain spaces. The version
of "cat" that is included in Windows (exe) version 0.1.3
works proper when there are spaces.

However note that there is another bug lurking concerning
the need for the unix "rm" command during )compile. That is
one of the bugs that will be fixed with the next upload.

> Unfortunately the dos command type does not understand unix
> path convention -- otherwise, creating a cat.bat file with
> one line
>
> type %1
>
> and putting it into your path would have worked.
>

As you say, this is the wrong solution.

> You need three files cat.exe, cygwin1.dll, cygintl-1.dll and
> put these in your path. I will send these to you separately.

I do not recommend that you follow this advice.

>
> Vladimir Bondarenko wrote:
> >
> > Hi *,
> >
> > What I see about )copyright and )summary under Windows XP...
> > I reinstalled AXIOM, rebooted... all the same.
> >
> > Any comment on this behavior?
> >
> > ..................................................................
> >
> >                         AXIOM Computer Algebra System
> >               Version of Tuesday November 30, 2004 at 21:11:14
> >
> --------------------------------------------------------------
> ---------------
> >    Issue )copyright to view copyright notices.
> >    Issue )summary for a summary of useful system commands.
> >    Issue )quit to leave AXIOM and return to shell.
> >
> --------------------------------------------------------------
> ---------------
> >
> > -> )copyright
> >
> > "cat" =ED=E5 =FF=E2=EB=FF=E5=F2=F1=FF =E2=ED=F3=F2=F0=E5=ED=ED=E5=E9 =
=E8=EB=E8 =E2=ED=E5=F8=ED=E5=E9
> > =EA=EE=EC=E0=ED=E4=EE=E9, =E8=F1=EF=EE=EB=ED=FF=E5=EC=EE=E9 =
=EF=F0=EE=E3=F0=E0=EC=EC=EE=E9 =E8=EB=E8 =EF=E0=EA=E5=F2=ED=FB=EC =
=F4=E0=E9=EB=EE=EC.
> >
> > -- "cat" is not an internal or external command, executable
> or a batch file
> >

\start
Date: Mon, 17 Jan 2005 04:04:58 +0200
From: Vladimir Bondarenko
To: list
Subject: cat: D:/Program: No such file or directory

Hi William, hi *,

Much thanks for sending me the cygwin files.

I put the cygwin files at C:\TOOLS\ .
There is a path to C:\TOOLS\ in the autoexec.bat .
AXIOM is located at  d:/Program Files/axiom/mnt/windows/ .

Now I see

-> )copyright
cat: D:/Program: No such file or directory
cat: Files/axiom/mnt/windows/lib/copyright: No such file or directory

It looks like a problem is that "d:/Program Files/axiom/mnt/windows/" is
interpreted as "d:/Program".

What I did wrong?

\start
Date: Sun, 16 Jan 2005 22:10:40 -0500
From: Bill Page
To: William Sit
Subject: re: Mathaction edit/preview/save problem

William,

I am sorry for the length of this reply. Although I do not have
any immediate solution to your problem, I hope I have at least
explained some important things about MathAction below in response
to your questions and suggestions.  I would very much like to
make it possible for you to use MathAction since I do truly
believe that it would make it possible for you to write even more
interesting things then the things that you are already writing
about simply by email!

On Sunday, January 16, 2005 7:40 AM you wrote:
> 
> I went to the DynamicFunctionDomains page, select edit, 
> changed "shouldn't be::" to "shouldn't:" and preview.
> The bottom of the browser says: "Waiting for
> page.axiom-developer.org..." This has gone on for
> 5 minutes.

I just tried exactly the above steps. I am using Firefox 1.0 on
a 2.4 GHz 512 Mb Windows XP (SP2) machine networked to a Windows
98 machine running NAT32 firewall and connected to a Hughes
DirecPC-type satellite downlink and 56K outbound modem.

The preview responds correctly in approximately 15 seconds.

> 
> So clearly, it is not a DNS problem.

I agree that what you report is not a DNS problem.

> Then a pop up Alert window in the browser says: "The document
> contains no data." After I click OK, the  bottom message
> "waiting ..." goes away. I am back to the editing page.

It seems that your browser received a partial page and has
just given up waiting for the rest.

> 
> During all this period, the firewall records no blocked 
> transmissions (setting
> is on High). The browser is Firefox on Windows XP (SP2).

BTW, what version of Firefox are you running?

> 
> I went to Sandbox Main page, and edited the phrases to 
> "Edited again as a test". Preview works, Save works (and
> response was almost instantaneous, with saving a bit
> slower). In fact, the last time I changed this page, it 
> was forwarded to the mailing list. (Somehow, I thought
> Sandbox was just for testing and won't be reported).

Maybe that would be a good idea. I think it is possible for
the Zope manager account to change the default notification
options of individual pages, but I have not tried this yet.

Anyway, using Preview does not generate any notification and
that should be enough for testing. If Preview works then it
is quite certain that Save will work.

> 
> I have no problem uploading large files (or downloading) in 
> general. And the page DynamicFunctionDomains is not that large
> at all.
> 
> I can only report exactly what I saw. I don't understand how 
> these things work. If the error messages were different, it
> could be they were different, or it could be I was careless
> in reporting. But the above is as accurate as I can, for
> this report.

Thank you for the accurate report. Sometimes it is essential
to be excruciatingly accurate in order for someone else to
understand what might be causing the problem.

> 
> I don't want to randomly test other pages because if they 
> work, everyone gets the spurious reports on the changes.

I think all you need for a successful test is for Preview
to work. That will not generate any reports to other users.

> 
> Now, I am doing the same test on a Fedora FC2 machine. The 
> machine is a 1.4GHz Dell P4, and almost nothing else is running.
> Every configuration is default (I don't know how to configure
> Linux). Browser is Mozilla. It has been 5 minutes since the
> pressing the Preview button and finally this message: Bad Request.
> Your browser sent a request that this server could not understand.
> Apache/2.0.40 Server at axiom-developer.org Port 80. I did this
> twice, same thing. In fact, on cancel, the browser took a
> considerably longer time (10 minutes?) and returned also Bad Request!
> 
> On Fedora machine, I can't add a comment to IndexedVariables page
> either (Bad Request). Same thing for FiniteFieldExpressions page.
> On Windows IE, I was able to add a comment to ExternalEdit page,
> but I was not able to edit and remove it!
> (The Page cannot be displayed).

All of this still suggests to some serious network configuration
problem either at your location or perhaps at your ISP.

> 
> I am wondering whether it is because the page is locked 
> because someone else is editing the page before I start?

No. This would only happen if some simultaneously tried to
Save changes to the same page. In that case, one user will
receive a message saying that the page was locked. I am quite
sure that this does not apply to your current situation.

> I know XP locks files that are open, and Zope too.

No "file" is opened in a manner that would create a lock
when you do Preview.

> 
> Do I need to install Zope? (I have not).
> 

No. Zope only runs on the server.

> Bill Page wrote:
> 
> > Do you really get two different messages? Does which message
> > you get depend on some firewall setting? Do you get the same
> > message in both Microsoft Explorer and Firefox?
> 
> Just now, trying this on PrimeField page with IE, adding 
> "Taken from:" at the beginning, the message is "The page cannot
> be displayed". At the bottom, "Cannot find server or DNS Error"
> Internet Explorer.

I think that this really does mean that there is a "DNS Error"
:) A DNS Error is a problem that your ISP should correct. Usual
it is a problem with the ISP domain name server (DNS).

> 
> So I suppose you can say they are different on all three.
> 
> > "This page cannot be displayed" usually means that your
> > connection to the server is ok but that your browser received
> > something that it could not process. I have sometimes seen
> > this message if a web site takes a long time to reply. However
> > the correct message in that case should really be a "time out".
> 
> Since on the Fedora machine, it took over 5 minutes before 
> reporting "Bad Request", could that really be it takes so
> long to process the page?

No.

> Does the page call Axiom EVERY time it is opened?

No.

> (or only when it is changed)?

Yes, only when it is changed.

> 
> > > I just added Hello to the Sandbox MainPage. I went right to
> > > the DynamicFunctionDomains and change (4,7) to (4,8) and click
> > > preview. Then it stalls and same problem.
> > 
> > When you say "stalls", how long do you estimate you had to wait
> > before you received the "This page cannot be displayed" message?
> 
> I timed it to be about 5 minutes for the above for the Fedora 
> machine. Last time, it is about less but I did not time it.
> Also on IE it is less. But 5 minutes should be plenty, especially
> when I have no delays accessing the site for other than submitting
> a change or previewing it.

Yes I agree. Typical response time for me here at home is about
20 seconds. I work with a very high speed network connect but
complex firewall, the response time is about 10 seconds.

> 
> > > It seems to be a write privilege denied type of problem to me.
> > >
> > 
> > No there are no controls write privileges on any page on
> > MathAction except for just one page. 
> 
> What are the file privilege settings? Who are the owners of pages?

Your question presumes something which is not strictly true
for the way the MathAction wiki runs under Zope. Under Zope there
is not such thing as a "file" instead there are objects and methods
in a database that are "called" to create pages dynamically. The
concept of privilege is quite complicated but in general on MathAction
these settings allow anyone to change anything of a page and to create
new pages but only the site manager can delete pages.

In MathAction there is no concept of "ownership" of pages.

>  
> May be the pages are locked? or even the directory is?

No this is not the case.

> Zope External Editor page:
> Locks objects while they are being edited. Automatically 
> unlocks them when the editing session ends. 
> 
> If a page is locked, and someone else opens the page, does 
> the edit button work?
> (it should not).

This is a special case. But you are right that this can cause
the system to display the message saying that a page is "locked"
if another user attempts to Save changes to a page at the same
time that another users is using an External Editor to modify
the same page. An External Editor is invoked by first having
special software installed on your computer and then clicking
the little icon that looks like a pencil. If this is properly
setup they it is possible to edit pages using what ever text
editor your like (even Emacs :). The editable contents of the
page automatically appears in the editor that you specified
when you installed the External Editor package. And any changes
you make are automatically saved back to the MathAction page
when you exit the editor. But in this case there is no Preview
function.

If you click "edit" on the menu line the way you are doing now
then the editing takes place directly in your browser. The Preview
function only exists in this mode.

> ... 
> I just went to Sandbox Mainpage and edited it to call axiom 
> with 2+2. There is a slight delay in preview, but it worked and
> returns the answer 4. 

Well that is nice and that is exactly what it should do for you
for all pages on MathAction. If you try to make a change and to
Preview other pages do some work and some not? Can you see any
pattern?

This behaviour seems very strange but it could still be some
odd configuration problem at your ISP that only happens when
certain limits are exceeded.

> 
> > Is there any setting on your firewall software that might affect
> > the time your system waits for a reply?
> 
> All the time security is on High. I don't see how the firewall
> knows the difference between Sandbox Mainpage and the other pages!

I agree that the firewall cannot know the difference. The idea
I had was that perhaps your firewall can become "impatient" for
a response and perhaps drop data packets or other nasty things
if the network response is taking too long. But this is unlikely
based on other information that you have provided.

> For the same reasons, I don't see how my netgear box's firewall
> can make the distinction either. I used three different computers,
> OSes, and browsers already (from the same ISP of course).

I agree. The issue is only what happens when the web site does
not respond quickly.

> Is there nobody else experiencing this weird error?

I have not received any other reports regarding problems accessing
and changing the MathAction website. But then, it is true that a
very disappointing small number of people seem to be motivated to
make any changes even though it is open for everyone in the world
with a browser :( ... Martin Rubey is the only other person besides
myself who has made extensive changes to pages on MathAction. He
has not reported any problems.

> 
> > Is it possible for you to easily and temporarily turn off the
> > firewall software completely in order to see if that cures the
> > problem? If turning off the firewall works, then there is very
> > likely some setting in the firewall software that you can change
> > that will make it work without shutting it off.
> 
> Yes, I did and that made no difference. But I have to say, I 
> only turned off EZ Firewall. XP (SP2) has its own firewall setting
> that I won't know how to tweak. But as I said, I don't see how the
> firewall can detect differences in the two pages unless the two
> pages ARE different in their handling of Preview and Save buttons.

Yes I agree. The only differences I know of would be issues of
timing (how long the server takes to respond) and variations in
the content, like the number if images and the use of complicated
style sheets etc. Compared to most static web sites, the pages
generated by MathAction can be quite complex in structure.

> 
> > Finally, do you have a different location (such as office at
> > work versus at home) where you can try to access MathAction
> > and make this change? At least if you can confirm that it works
> > for you at one location but not at another then it might be
> > easier to determine what is different and what to change.
> 
> Yes, but I don't go to my office these days. But if I do, I'll
> give it a try. (However, even if that works, it is not going to
> help me since I do most of my work at home).
> 

After you are confident that it does work elsewhere, then the
best people to help you to get it to work at home would be the
technical support at your ISP.

\start
Date: Mon, 17 Jan 2005 05:17:22 +0200
From: Vladimir Bondarenko
To: list
Subject: Modification of axiom.input ?

I put the following lines into axiom.input

)set quit unprotected
)set message prompt plain

in the hope to quit immediately on )quit and see the inputs unnumbered.

However, when I run AXIOM, I still am asked about quitting and there is
numbering of the I/O lines.

What I did wrong and how to fix this?

\start
Date: Sun, 16 Jan 2005 19:30:58 -0800
From: Bob McElrath
To: Vladimir Bondarenko
Subject: Re: Modification of axiom.input ?

Vladimir Bondarenko [Vladimir Bondarenko] wrote:
> Hi *,
> 
> I put the following lines into axiom.input

On unix the relevant file is .axiom.input (note leading '.').

\start
Date: Mon, 17 Jan 2005 05:30:15 +0200
From: Vladimir Bondarenko
To: Bill Page
Subject: Re[2]: AXIOM for Windows: )copyright and )summary issue

BP> Vladimir report is based on the windows version of "Tuesday
BP> November 30, 2004". Since that time there have been at least
BP> two updates. See

BP> http://page.axiom-developer.org/zope/mathaction/AxiomDownload

BP> This problem was corrected in a later version.

Actually, of cause, I had downloaded this later version 0.1.3.
On my machine the problem seems to persist?

.................................................................

                        AXIOM Computer Algebra System
             Version of Wednesday December 15, 2004 at 00:50:38
-----------------------------------------------------------------------------
   Issue )copyright to view copyright notices.
   Issue )summary for a summary of useful system commands.
   Issue )quit to leave AXIOM and return to shell.
-----------------------------------------------------------------------------

(1) -> )copyright
cat: D:/Program: No such file or directory
cat: Files/axiom/mnt/windows/lib/copyright: No such file or directory
(1) ->

.................................................................


BP> In general, keep in mind that this is pre-release version and it
BP> will be updated often.

Much thanks for this reminder. I always look forward downloading
new releases.

BP> In fact I have another major update to the pre-release Windows
BP> version that I hope to upload this week.

Wow ! ;) All agog for the event!

>> I have "cat" in my cygwin installation and once put into
>> the path, that works.

BP> No, this is the wrong solution. The cygwin version of "cat"
BP> will only work if this pre-release version of Axiom is
BP> installed in a path that does not contain spaces. The version
BP> of "cat" that is included in Windows (exe) version 0.1.3
BP> works proper when there are spaces.

If this would help I work under Windows XP...

\start
Date: Mon, 17 Jan 2005 06:09:07 +0200
From: Vladimir Bondarenko
To: Bob McElrath
Subject: Re[2]: Modification of axiom.input ?

BM> Vladimir Bondarenko [Vladimir Bondarenko] wrote:
>> Hi *,
>> 
>> I put the following lines into axiom.input

BM> On unix the relevant file is .axiom.input (note leading '.').

Thanks! Actually, by technical reasons, right now I strongly prefer
running AXIOM under Windows, and do use Windows version, and
encountered this problem there.

However, one fine day I hope to use UNIX version, too, and I have
already memorized your clarification.

\start
Date: Mon, 17 Jan 2005 06:03:21 +0200
From: Vladimir Bondarenko
To: list
Subject: [Q] Staistics generated by )set message summary on ?

Good Day!

According to the Help for )set message summary on,
Description: print statistics after computation.

I tried several commands but each time see the same message,

       Summary: No statistics available.

How to see "live" statistic message? Say, an example of
commands it is generated with?

\start
Date: Mon, 17 Jan 2005 07:35:49 +0200
From: Vladimir Bondarenko
To: list
Subject: AXIOM BUG: D(1, z)

Hi *,

A terrible bug in differentiation.

.....................................................................

(94) -> D(sin(z)^2+cos(z)^2, z)

   (94)  0

(98) -> D(simplify(sin(z)^2+cos(z)^2), z)

   (98)  0


BUT


(95) -> D(1, z)

   There are 5 exposed and 0 unexposed library operations named D
      having 2 argument(s) but none was determined to be applicable.
      Use HyperDoc Browse, or issue
                                )display op D
      to learn more about the available operations. Perhaps
      package-calling the operation or using coercions on the arguments
      will allow you to apply the operation.

   Cannot find a definition or applicable library operation named D
      with argument type(s)
                               PositiveInteger
                                 Variable z

      Perhaps you should use "@" to indicate the required return type,
      or "$" to specify which version of the function you need.


(101) -> D(cosh(z)^2-sinh(z)^2, z)

   (101)  0

(102) -> D(simplify(cosh(z)^2-sinh(z)^2), z)

   (102)  0

BUT
   
(103) -> D(1, z)
   There are 5 exposed and 0 unexposed library operations named D
      having 2 argument(s) but none was determined to be applicable.
      Use HyperDoc Browse, or issue
                                )display op D
      to learn more about the available operations. Perhaps
      package-calling the operation or using coercions on the arguments
      will allow you to apply the operation.

   Cannot find a definition or applicable library operation named D
      with argument type(s)
                               PositiveInteger
                                 Variable z

      Perhaps you should use "@" to indicate the required return type,
      or "$" to specify which version of the function you need.

.....................................................................


\start
Date: Mon, 17 Jan 2005 07:22:48 +0200
From: Vladimir Bondarenko
To: list
Subject: [Q] radicalSolve fails to find all roots ?

Hi *,

Any comments are highly appreciated on the following stuff.
Thank you in advance.

.....................................................................

Obviously, all the roots of the equation z^7 = 1 can be expressed in
radicals, and Mathematica can easily produce the explicit expressions
in terms of radicals.

Solve[z^7 == 1, z]

{{z -> 1}, {z -> -(-1)^(1/7)}, {z -> (-1)^(2/7)}, {z -> -(-1)^(3/7)},
{{z -> {z -> (-1)^(4/7)}, {z -> -(-1)^(5/7)}, {z -> (-1)^(6/7)}}

To save the space, below the only example is given.

FunctionExpand[ComplexExpand[-(-1)^(1/7)]]

(1/2)*((1/3)*((1/2)*(-1 + I*Sqrt[7]) + ((-1 + I*Sqrt[3])*((1/2)*(-1 +
I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*((1/2)*(-1 + I*Sqrt[3]) +
(1/4)*(-1 + I*Sqrt[3])^2)))/(2*(6 + (3/4)*(-1 + I*Sqrt[3])*(-1 +
I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*(1 + (3/4)*(-1 +
I*Sqrt[3])^2))^(1/3)) + (1/4)*(-1 + I*Sqrt[3])^2*(6 + (3/4)*(-1 +
I*Sqrt[3])*(-1 + I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*(1 + (3/4)*(-1 +
I*Sqrt[3])^2))^(1/3)) +(1/3)*((1/2)*(1 + I*Sqrt[7]) - ((-1 +
I*Sqrt[3])^2*((1/2)*(-1 -I*Sqrt[7]) + (1/2)*(-1 +
I*Sqrt[7])*((1/2)*(-1 + I*Sqrt[3]) + (1/4)*(-1 + I*Sqrt[3])^2)))/(4*(6
+ (3/4)*(-1 + I*Sqrt[3])*(-1 - I*Sqrt[7]) + (1/2)*(-1 + I*Sqrt[7])*(1
+ (3/4)*(-1 + I*Sqrt[3])^2))^(1/3)) -(1/2)*(-1 + I*Sqrt[3])*(6 +
(3/4)*(-1 + I*Sqrt[3])*(-1 - I*Sqrt[7]) + (1/2)*(-1 + I*Sqrt[7])*(1 +
(3/4)*(-1 + I*Sqrt[3])^2))^(1/3))) + (1/2)*((1/3)*((1/2)*(-1 +
I*Sqrt[7]) + ((-1 + I*Sqrt[3])*((1/2)*(-1 + I*Sqrt[7]) + (1/2)*(-1 -
I*Sqrt[7])*((1/2)*(-1 + I*Sqrt[3]) + (1/4)*(-1 + I*Sqrt[3])^2)))/(2*(6
+ (3/4)*(-1 + I*Sqrt[3])*(-1 + I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*(1
+ (3/4)*(-1 + I*Sqrt[3])^2))^(1/3)) +(1/4)*(-1 + I*Sqrt[3])^2*(6 +
(3/4)*(-1 + I*Sqrt[3])*(-1 + I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*(1 +
(3/4)*(-1 + I*Sqrt[3])^2))^(1/3)) + (1/3)*((1/2)*(-1 - I*Sqrt[7])
+((-1 + I*Sqrt[3])^2*((1/2)*(-1 - I*Sqrt[7]) + (1/2)*(-1 +
I*Sqrt[7])*((1/2)*(-1 + I*Sqrt[3]) + (1/4)*(-1 + I*Sqrt[3])^2)))/(4*(6
+ (3/4)*(-1 + I*Sqrt[3])*(-1 - I*Sqrt[7]) + (1/2)*(-1 + I*Sqrt[7])*(1
+ (3/4)*(-1 + I*Sqrt[3])^2))^(1/3)) +(1/2)*(-1 + I*Sqrt[3])*(6 +
(3/4)*(-1 + I*Sqrt[3])*(-1 - I*Sqrt[7]) + (1/2)*(-1 + I*Sqrt[7])*(1 +
(3/4)*(-1 + I*Sqrt[3])^2))^(1/3)))
          

According to the AXIOM Book

AXIOM Book>  Use radicalSolve if you want your solutions expressed in
AXIOM Book>  terms of radicals.

However, already for z^7 = 1 this is not so,

-> radicalSolve(z^7=1, z)

   [z= 1]

and the problem exists for 11, 13, 14, 15, 17, 19 etc

-> for i in 1..20 repeat print([i,#radicalSolve(z^i=1,z)])

   [1,1]
   [2,2]
   [3,3]
   [4,4]
   [5,5]
   [6,6]
   [7,1]   <-- not good
   [8,8]
   [9,9]
   [10,10]
   [11,1]  <-- not good
   [12,12]
   [13,1]  <-- not good
   [14,2]  <-- not good
   [15,7]  <-- not good
   [16,16]
   [17,1]  <-- not good
   [18,18]
   [19,1]  <-- not good
   [20,20]

\start
Date: Mon, 17 Jan 2005 07:33:18 +0200
From: Vladimir Bondarenko
To: list
Subject: AXIOM BUG: D: Error detected within library code: Invalid argument

Hi *,

-> D(0^z, z)

   >> Error detected within library code:
   Invalid argument

Of course, 0 is expected.

\start
Date: Mon, 17 Jan 2005 07:49:52 +0200
From: Vladimir Bondarenko
To: list
Subject: [Q] .daase files extension name?

Why the .daase files have such an extension?
Is this an acronym?

Thank you for hints/explanations in advance.

\start
Date: Mon, 17 Jan 2005 00:56:39 -0500
From: William Sit
To: Stephen Wilson
Subject: Re: Axiom domains and Aldor return types
Cc: Ralf Hemmecke

Steve:

Stephen Wilson wrote:

> First, let me thank you for your analysis! I am finding the questions
> raised here very interesting. But I'm still on the other side of the
> fence for the moment :)

I have no problem with that :-) If you read my toss and turn part, I know what
your reasons are and certainly respect that point of view as well. In some
sense, I am playing devil's advocate.
 
> > (I) The algorithm, which is really for S, is now an algorithm for R.
> > It hides the existence of S completely.  It also hides the relevance
> > of p:P.
> 
> The algorithm never needs to know S explicitly. If anything, the
> algorithm involves `something' with satisfies C(R,p). However, the
> meaning of a call to bar(p:R, ...)$Foo will in general carry a level
> of meaning all its own, which need not communicate a dependence on S
> (or C(R,p)). I dont see how this level of semantics involves the
> problems we are discussing.

On the contrary, it has a lot to do! Let me recap your Foo package here for
discussion:
---------
   Foo(R: ModularComputation): with { ... } == add {
          bar(r: R, p:R): R == {

         elem : ResidueClassRing(R, p) :=
                  modularRep(r)$residueClassRing(p)

            -- hairy computation...

         canonicalPreImage(elem)
                } }
---------

Two comments: (1) Axiom can also hide S as you prefer:

    Foo(R,p): T == C where
      R: ModularCategory
      p: Ideal(R)
      Q ==> any domain constructed from R, p
      T == with
        bar: R -> Q
      C == add
        S:= SomeConstructionForResidueClassRing(R,p)
        import S
        bar(r)==
           elem:S:=modularRep(r)$S
            -- hairy computations
           q:Q:= ...

    Calling sequence in some other package, assuming R, p are already
    defined:

       bar(r)$Foo(R,p)

But notice that in such case, S is fixed (hardwired), much like your
residueClassRing(p) is fixed because of encapsulation in ModularComputation. The
original way, with S as a parameter, allows easy changes of representation of S
(hey, except for signature, bar(r)$Foo(R,p,S) is really a function of 4
parameters).  The Aldor way would need to replace R by R1, which is another
wrapper around the base ring R. On the other hand, the original way, Q can
depend on S and now it cannot. If Aldor allows signatures like:

    bar:(r:R, p:Ideal(R)) -> BAE(R, p, residueClassRing(p))

that would be more general. But I worry about the efficiency here: each
evaluation of bar would require a new instantiation of 
residueClassRing(p) even if p is fixed! I doubt very much the compiler will
optimize the code for this special, but perhaps common situation. In the Axiom
version, because bar does not depend on p (or rather p is fixed with respect to
bar), only one instantiation will be done. 
In a recent message, 

A terrible bug: romberg+simplify/expand: slowdown of
              125/300 times

Vladimir gave an example where Axiom does repeatedly invoke a map function from
EF for each of the 2049 evaluations of the function in:

   romberg(z+->simplify(%i^2), 0, 1, 0.1, 0.1, 10, 12)

(use ")set mess bot on" to see the 2049 selections pass you by), even after the
function z+->simplify(%i^2) is compiled as in

   g: (Complex Integer, Integer)->Integer

The interpreter somehow invokes a lift from Complex Integer->Integer
to work over EXPR COMPLEX INT -> EXPR INT simply because %i was used.

But I agree that if you want to hide p, then Axiom cannot handle this because
the signature for bar would not be available.

(2) If you push your argument further, we can say that everything we compute
only depends on what we know about the integers. We can say there is no need to
communicate a dependence on say a polynomial ring over the integers because all
algorithms only work on the integers (the exponents of the monomials are also
integer vectors). But the way mathematics is developed is to create new objects.
If the algorithm is really for the new object (residue class ring or the
polynomial ring) then it should be reflected in the signature of the code. If
you think the algorithm is only for R, sure you can hide the new object even if
you need it for computation.  Of course, one can, like algebraic geometer, take
the view of Spec R which encapsulates all its local rings, but that would be
fine if you have algorithms on sheaves. On the other hand, I think at these high
level of abstractions, it is important to distinguish data structure for an
object, and algorithms for it or its derived objects and not to mix them up.
That is the reason for package constructors in Axiom, to be separated from
domain constructors. They are like two "independent" branches of government.

> > (II) For each R:A for which a method to construct S for p:P exist, we
> > must *retroactively* make R:ComputationMethod.
> 
> Again, true. However, I fail to see why this is a issue. When one
> writes the algebra, decisions made during initial design will always
> be rethought. I dont think this is an argument against the
> residueClassRing example as much as it is a proof that `hindsight is
> 20/20'.

I am not arguing against residueClassRing, but more generally and that is why I
abstracted the example. We will never be able to envision all the possible
structures that can be put on a mathematical object at its first implementation.
The Integer domain is a prime example. But there are many other too. For
example, we have trees implemented, but tree domains can also have a Hopf
algebra structure. That is not what most would think of when implementing trees.
So that structure, when needed, say doing renormalization with Feymann graphs in
quantum field theory, would have to be added on later. Whether one wants to add
this directly to the initial construction or not is matter of choice. But in the
end, as my abstract example shows, there is no inherent gain of computation
power or even convenience, and the two calling sequences:

   bar(...)$Algorithm(R,p, Method1(R,p))
   bar(p:P, ...)$Algorithm(R)
(the second should more correctly be written
   bar(p:P, ...)$Algorithm(R1)                   )

are not that much different. So in Aldor, you can choose whichever you like:
encapsulating more structure into R, or separating the residueClassRing
construction (and I indicated that there is more freedom of expression in
Aldor).  In the analogous example I gave, there are many representations
(different data structure, different term ordering) for the polynomial ring, and
it would be crazy to encapsulate such structure into the coefficient domain R. 
Can you tell me structurally, both in terms of mathematics and coding, any
difference between the polynomial ring example and the residue class ring
example? Why should one be treated differently than the other in the matter of
encapsulation?
(Remember, the P for residue class rings is Ideal(R), not R and so it is an
externally defined domain much like the P for polynomial ring is List Symbol,
external to R.)

> > (III) Now if R has several methods, then we must *rename* R using
> > three different names in (II), even though R is still the same object
> > in category A.  This would be very undesirable if R is Integer.
> 
> For Integer we might say
> 
> ------
>    residueClassRing(p:%):ResidueClassRing(%, p) ==
>       if p < 2^32 then
>          ZechPrimeField(p)
>       else
>          IntegerMod(%,p);
> ------

But this can also be done in Axiom in the domain constructor for the
ResidueClassRing. 
----
     ResidueClassRingForInteger(p) ==
       if p < 2^32 then
          ZechPrimeField(p)
       else
          IntegerMod(%,p);
----
The only difference is you called the domain constructor by a uniform name (but
has to rename the ring R for each separate data structure for the residue class
ring S in making R into ModularComputation).

[Remark: it would be harder if you implement residue class ring more generally,
using ideals insteads of numbers, but I am going along with your version for
now.]
   
But as a style of programming, I would not inline the two segments of code as
above (the then-part and the else-part will be separated by many lines of code).
So in the end, one would still separately have two constructors (notice that if
not inlined, two names are used: ZechPrimeField and IntegerMod, and
ResidueClassRingForInteger, or residueClassRing are both wrappers, in addition
to the extra level ModularComputation wrapper). What I am saying is, this extra
wrapped level ("push" direction) is not necessary in Aldor (just as wrapping a
function with dependent signature into a package is not necessary in Aldor, but
in Axiom, that is the unavoidable "lift" direction.) 


> If for a given situation we need more information than just what R:A
> and p:P can provide, then variants on the name of a domain constructor
> is an option, but not the only one (or the best one). We could just as
> easily add a second residueClassRing(p, moreInformation) to
> ModularComputation's list of exports to express the dependency on such
> information explicitly. We could alternatively write
> ModularComputation2 with the extra signature. In short, we let the
> structure of the algebra communicate the interrelations as much as
> possible rather than relying on naming conventions alone. This is a
> problem of design, and one which dependently typed functions provide
> an elegant solution.

You may have missed my point. By creating more categories, such as
ModularComputation or ModularComputation2, you REQUIRE the domain R to be
declared as such in any actual computation. If R is a new domain, fine. If R
already exists, this has to be wrapped into new domains, using new names. But in
any case, R is now tied to the residueClassRing map that makes it a
ModularComputation domain, its identity as the original commutative ring is
suppressed, and R splits into many versions depending on the way
residueClassRing is implemented. 

I would much prefer that the new names refer to the methods to construct
residueClassRing, than to tie it to the ring R, because one method may work for
many R, and yet your ModularComputation works only for ONE R. An example would
be when R is a polynomial ring over some field k. We can construct residue class
rings uniformly not just for prime polynomial ideals, but for all coefficient
field and for all choices of indeterminates. In your set up, each would need a
separate residueClassRing map. Unless convinced otherwise, I think overloading
(or polymorphic) is best used for operations and not domain constructions.

There is a big difference between mathematics objects and computation objects.
In mathematics, one may argue that all the residue class rings are part of the
ring R (each residue class ring is uniquely defined). So there is still just one
mathematical object when all its residue class rings are included.
Computationally, however, one has to consider both data structure representation
of the residue class rings AND the algorithmic aspect of operations and other
problem solving techniques for the residue class rings. We cannot lump all these
into the same domain R. Each must be separately identified. That is the reason
for so many polynomial categories, even for a fixed coefficient domain and a
fixed set of variables. Pushing these domain constructors into the level of a
function (with dependent signature) may look neat, but it does not eliminate the
bifurcation in computation objects.

> 
> > (IV) The "advantage" at first glance, seems to be operator
> > overloading:  using one single name "method" to refer to all the
> > Method[i] in constructions of S.  But as (II) shows, this "powerful"
> > and categorical construction is nothing but a wrapper, which is the
> > the reverse of what I proposed for Martin's example:  instead of
> > lifting a function g(n,k) to the level of a package, where the
> > dependence on parameters in the signature belongs, the construction of
> > ComputationMethod pushed the level of a domain constructor (which is
> > what each Method[i] is) to the level of a function.  I don't think
> > that is a convincing example of the need for allowing dependence on
> > parameters for functions.
> 
> But this act of `pushing' a domain constructor to a level of a
> function is what allows one to communicate the structure of the algebra
> by *using the structure itself*. I'll say more below.

If you treat creating more abstract categories when it is not absolutely needed
and hiding the existence of the residue class rings as *using the structure
itself*, then I do not agree. But if what you are trying to do is an initial
step towards the idea of sheaves, that is different and in that case, perhaps
you should start with the category of sheaves.
> 
> > The power of that construction in Aldor, as I pointed out in another
> > email, is allowing such dependence in functions on the SOURCE side,
> > not on the TARGET side of the map. In short notation:
> >
> >        F(a:A, b:B(a), c:C(a,b)):D(a,b,c)
> > ...
> 
> I do not argue these points at all. Note that in some languages, like
> ocaml, the signature for a function like this would take the form
> (more or less):
> 
>        F: (a:A) -> (b: B(a)) -> (c: C(a,b)) -> D(a,b,c).
> 
> And calling F x, would return a function F': B(a) -> C(a,b) ->
> D(a,b,c), etc.

> Depending on your point of view, a function with multiple, dependently
> typed arguments is just notation to express a chain of functions where
> the only dependence is in the type of the result. I find this
> interpretation quite satisfying.

This is indeed a nice way to define recursively the signatures, but I won't call
these "functions". 
 
> Your comments on `lifting' the aldor example is perfect in that this
> is the probably the best way to write such things in axiom today. I'll
> just recap the result:
> 
> > Foo(R,p,S): T == C where
> >   R: ModularCategory
> >   p: Ideal(R)
> >   S: ResidueClassRing(R,p)
> >   Q ==> any domain constructed from R, p, S
> >   T == with
> >     bar: R -> Q
> >   C == add
> >     bar(r)==
> >        elem:S:=modularRep(r)$S
> >         -- hairy computations
> >        q:Q:= ...
> >
> > Calling sequence in some other package, assuming R, p, S are already
> > defined:
> >
> >    bar(r)$Foo(R,p,S)
> >
> > If you want to use the default implementation when R is a domain in
> > IntegerCategory, you can use:
> >
> >   if R has IntegerCategory then
> >       S:=IntegerMod(R,p)
> >   bar(r)$Foo(R,p,S)
> 
> The last part is the kicker for me, asking `if R has IntegerCategory
> then ...' is where the two approaches diverge. I claimed that I
> doubted one could write an equivalent Foo without the use of some
> hypothetical RESCLASS package/domain which made use of copious `if R
> has ..'  constructs. Although the model I had in mind of how this
> would look in Axiom is different from your solution, the main point is
> still there. The questions are being asked, just at a different level
> -- either code which uses Foo needs to provide an answer, or a user
> typing into the interpreter.

Well, I was only using the "if R has IntegerCategory" because you defined a
default implementation (which actually does not work for all R:IntegerCategory).
The Axiom implementation allows you to put ANY RESCLASS domain for the parameter
S and there is no need for "if R has ...".  In Axiom, I am not aware of any
default construction for domains (all constructions are "equal opportunity"
employed), only default implementation for operations (for example ** in
monoid).
 
> The crux issue in my mind is that the aldor example illustrates how
> one can encapsulate questions like `if R has ..' into the structure of
> the algebra itself. residueClassRing() is more than just a wrapper. It
> communicates a relationship between R, p, and C(r,p). The axiom
> solution you propose communicates a relationship between R, p, and
> S:C(R,p). The problem of needing to know S is removed in the aldor
> example, as questions regarding it are not raised ( clearly for given
> R and p there *is* a relationship to S:C(R,p). 

There is only syntactical difference and not semantical. The S in the Foo
package is only a symbol needed to do a package call. It is the equivalent to
the symbol method(p) (or residueClassRing(p)) to make the same package call. In
either case, the actual knowledge of S or method(p) is not needed, only the
categorical properties as defined in C(R,p) are. In Aldor, you need to use
method(p) and in Axiom, you need to use S, both for package call. If you hide S
(as given above), you hardwired S into R and make it less convenient to change
S.

I fail to see the connection between this hiding and the "if R has ..." and I
already commented on that. You are correct that SOME "if R has ..." may be
eliminated by the signatures F(a:A, b:B(a), c:C(a,b)):D(a,b,c) (recall that I
proposed the converse to implement these signatures in Axiom *using* "if R has
...".  In other words, "if R has ..." is more general (or powerful) construct
than the signatures. Even if (in 30 years?) Axiom or Aldor is integrated with
theorem proving, there will still be "if R has ..." that cannot be verified by
the theorem provers and need a mathematician to declare it (if only for
efficiency). To quote a cliche: who is going to prove the theorem-provers?

> But this relationship
> is expressed in code at the domain level, where it `belongs'. The
> domains are just implementing the requirements of their exports).

Absolutely. That's what Axiom (and Aldor) both do. What's the difference?
You push construction of domains (residue class rings) to the function level
(like hidden domains within a domain, second class citizen?). Surely, you don't
think residue class rings do not deserve their own domain?

> There are other reasons to consider dependent types in a function
> target. If we are interested in future integration with a proof engine
> like ACL2, then we will want to consider the role such functions can
> play in such a setting. Some of the leading proof assistants, like
> LEGO and COQ, make explicit use of dependent type information.

I don't argue against the usefulness of dependent types. Surely, they are more
convenient to use, but that does not mean they must be used. I do not totally
object to your construction of ModularComputation. In Axiom, there is at least
one example similar: EuclideanDomain, where we absorb the Euclidean algorithm as
part of the domain. But there is a difference, the functions that are added do
not construct domains, they only implement algorithms. So this is "pushing"
packages into new domains, while your example is "pushing" domains to functions.
Maybe someone will pick up this discussion and explore all the pushing and
lifting possible among categories, domains, packages and "functions" and
determine some general guidelines of what should be done under what
circumstances. That might be a good master thesis.

This discussion started with whether Axiom can simulate dependent signature and
I believe you now agree that it can. 

\start
Date: Mon, 17 Jan 2005 02:41:11 -0500
From: William Sit
To: Bill Page
Subject: re: Mathaction edit/preview/save problem

Bill:
 
> I am sorry for the length of this reply. 

Guess we are both long-winded (showing at least my age).

> Although I do not have
> any immediate solution to your problem, I hope I have at least
> explained some important things about MathAction below in response
> to your questions and suggestions.  I would very much like to
> make it possible for you to use MathAction since I do truly
> believe that it would make it possible for you to write even more
> interesting things then the things that you are already writing
> about simply by email!

I would certainly like to be able to add comments and so on to Mathaction, which
is such a nice interface.

Thank you for your help and detail info. Solving network problems is hard and I
appreciate you methodical way to approach it.

> BTW, what version of Firefox are you running?

Firefox 1.0

> Anyway, using Preview does not generate any notification and
> that should be enough for testing. If Preview works then it
> is quite certain that Save will work.

> All of this still suggests to some serious network configuration
> problem either at your location or perhaps at your ISP.

Isn't only ascii text is transmitted? Do you need https? (I only see http).

I did some more experiment on the Sandbox MainPage. But I found that I can only
preview very short pages (like three or 4 lines) and anything longer, it won't
go through.

I'll try checking on the network when I got more time. Thanks again.

\start
Date: Mon, 17 Jan 2005 10:11:12 -0500
From: Bill Page
To: Vladimir Bondarenko
Subject: RE: Re[2]: AXIOM for Windows: )copyright and )summary issue

On Sunday, January 16, 2005 10:30 PM Vladimir Bondarenko
> 
> BP> Vladimir report is based on the windows version of "Tuesday
> BP> November 30, 2004". Since that time there have been at least
> BP> two updates. See
> 
> BP> http://page.axiom-developer.org/zope/mathaction/AxiomDownload
> 
> BP> This problem was corrected in a later version.
> 
> Actually, of cause, I had downloaded this later version 0.1.3.
> On my machine the problem seems to persist?
> 

Because you have installed the cygwin version of `cat' in a
location that is earlier in your program search path than
Axiom it is running the wrong version. You must eiterh delete
all versions of `cat' that occur in directories that occur
before Axiom in the path or else more the Axiom directory to
the beginning of the path.

> 
> BP> In fact I have another major update to the pre-release
> BP> Windows version that I hope to upload this week.
> 
> Wow ! ;) All agog for the event!
> 

Add I await your contribution of a useful bug report with
baited breath ;)

\start
Date: Mon, 17 Jan 2005 10:25:21 -0500
From: Bill Page
To: William Sit
Subject: re: Mathaction edit/preview/save problem

Previously I wrote: 
> > All of this still suggests to some serious network configuration
> > problem either at your location or perhaps at your ISP.

On Monday, January 17, 2005 2:41 AM you asked:
> 
> Isn't only ascii text is transmitted? Do you need https? (I only
> see http).

Only http is needed. MathAction does not use an secure protocols
such as https.

> 
> I did some more experiment on the Sandbox MainPage. But I found
> that I can only preview very short pages (like three or 4 lines)
> and anything longer, it won't go through.

I am sorry that I am unaware of anything that could cause such
behaviour except some limitation in your Internet connection.

\start
Date: Mon, 17 Jan 2005 10:43:50 -0500
From: Bill Page
To: Stephen Wilson
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

On Sunday, January 16, 2005 4:04 PM Stephen Wilson wrote:

> ...
>PRIMELT 
> 
> The differences in the generated lisp are w.r.t QSADD1, in compiler
> generated code implementing a for loop. The differences look like:
> 
>     - (LETT |i| (+ |i| 1)
>     + (LETT |i| (QSADD1 |i|)
> 
> In primitiveElement, we use a for loop on `i in 10..'. i is passed to
> symmetricRemainder, defined in IntegerNumberSystem with signature:
> 
>     primitiveElement(%,%).
> 
> The call site takes the form primitiveElement(Integer, i), so we would
> expect that i should have type integer. Looking at the generated lisp
> for integer we see that QSADD1 is not on the property list for any
> function, but it is on the property list for SINT's `inc' function.
> 
> Note the definition of QSADD1 in vmlisp.lisp:
> 
>       (defmacro qsadd1 (x) `(the fixnum (1+ (the fixnum ,x))))
> 
> How does the compiler know on the second-iteration build that `i' will
> always be a fixnum? Though probably correct 99% of the time, the
> second-iteration code in this case is incorrect.

I don't understand the mechanism that makes this substitution but
in what sense is it incorrect. Can you give an example that might
apply the other 1% of the time? Do you mean because the magnitude
could exceed fixnum?

\start
Date: Mon, 17 Jan 2005 11:15:33 -0500
From: Stephen Wilson
To: Bill Page
Subject: re: algebra Makefiles with explicit

> Do you mean because the magnitude could exceed fixnum?

Yes. However I could understand that, for purposes of efficiency, the
compiler treats all integer valued sequences implicitly as fixnums
(and let the programmer use explicit type decoration if something else
were needed). But I have never read such a rule, and so when I write
the statement `for j in 10..' I would not expect there to be an upper
bound (or that j would eventually become negative, for that matter).

\start
Date: Mon, 17 Jan 2005 12:23:36 -0500
From: Tim Daly
To: Stephen Wilson
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

I don't know if there is an actual statement to the effect that
the upper bound on a loop would be a register-sized number (32
or 64 bits) but at 6Mhz it seemed impossible that one could 
run a loop of any consequence for greater than 2^32 or 2^64
iterations. If you wanted to do that you'd have to do the
looping using some other construct. In general it is safe to
assume that the upper bound of the register size cannot be
exceeded. There is a practical performance difference to
be gained by using (declare (fixnum  as the compiler can,
in the best case, assign a register to the loop variable.

\start
Date: Mon, 17 Jan 2005 17:56:04 +0100
From: Ralf Hemmecke
To: Tim Daly
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

This sounds like forbidding

for i in 10^32 .. repeat ....

or do I misunderstand something?

Ralf


root wrote:
> Steve,
> 
> I don't know if there is an actual statement to the effect that
> the upper bound on a loop would be a register-sized number (32
> or 64 bits) but at 6Mhz it seemed impossible that one could 
> run a loop of any consequence for greater than 2^32 or 2^64
> iterations. If you wanted to do that you'd have to do the
> looping using some other construct. In general it is safe to
> assume that the upper bound of the register size cannot be
> exceeded. There is a practical performance difference to
> be gained by using (declare (fixnum  as the compiler can,
> in the best case, assign a register to the loop variable.

\start
Date: Mon, 17 Jan 2005 12:11:53 -0500
From: William Sit
To: Bill Page
Subject: re: Mathaction edit/preview/save problem

I was not able to access Mathaction at all today. But I have no problem with any
other sites I want to access.

I'll try accessing Mathaction tomorrow from school.

\start
Date: Mon, 17 Jan 2005 12:28:48 -0500
From: William Sit
To: Ralf Hemmecke, Tim Daly, list
Subject: re: algebra Makefiles withexplicitdependencies,  bootstrap, fixed-points etc.

(21) -> for i in 10^32 .. 10^32+5 repeat print i
   100000000000000000000000000000000
   100000000000000000000000000000001
   100000000000000000000000000000002
   100000000000000000000000000000003
   100000000000000000000000000000004
   100000000000000000000000000000005
                                        Type: Void

William Sit wrote:
> 
> Let's not forget that 2^32 is over 4 billion.
> 
> William
> --
> 
> Ralf Hemmecke wrote:
> >
> > This sounds like forbidding
> >
> > for i in 10^32 .. repeat ....
> >
> > or do I misunderstand something?
> >
> > Ralf
> >
> > root wrote:
> > > Steve,
> > >
> > > I don't know if there is an actual statement to the effect that
> > > the upper bound on a loop would be a register-sized number (32
> > > or 64 bits) but at 6Mhz it seemed impossible that one could
> > > run a loop of any consequence for greater than 2^32 or 2^64
> > > iterations. If you wanted to do that you'd have to do the
> > > looping using some other construct. In general it is safe to
> > > assume that the upper bound of the register size cannot be
> > > exceeded. There is a practical performance difference to
> > > be gained by using (declare (fixnum  as the compiler can,
> > > in the best case, assign a register to the loop variable.
> > >

\start
Date: Mon, 17 Jan 2005 12:25:09 -0500
From: William Sit
To: Ralf Hemmecke
Subject: re: algebra Makefiles withexplicit dependencies, bootstrap, fixed-points etc.

Let's not forget that 2^32 is over 4 billion.

William
--

Ralf Hemmecke wrote:
> 
> This sounds like forbidding
> 
> for i in 10^32 .. repeat ....
> 
> or do I misunderstand something?
> 
> Ralf
> 
> root wrote:
> > Steve,
> >
> > I don't know if there is an actual statement to the effect that
> > the upper bound on a loop would be a register-sized number (32
> > or 64 bits) but at 6Mhz it seemed impossible that one could
> > run a loop of any consequence for greater than 2^32 or 2^64
> > iterations. If you wanted to do that you'd have to do the
> > looping using some other construct. In general it is safe to
> > assume that the upper bound of the register size cannot be
> > exceeded. There is a practical performance difference to
> > be gained by using (declare (fixnum  as the compiler can,
> > in the best case, assign a register to the loop variable.

\start
Date: Mon, 17 Jan 2005 18:18:27 +0100
From: Martin Rubey
To: Bob McElrath
Subject: re: hyperdoc

Dear Bob, *

there are some things I really dislike about MathML (and html, in fact):

* I cannot read it without browser.

* I find it very hard to edit.

* I cannot convert it to readable LaTeX, if at all.

there are some things I really like about LaTeX:

* I can read it without any tools, if necessary.

* I can edit it easily. (even without AucTeX, if necessary)

* I can convert it to html.

* I can send it to www.arxiv.org.

\start
Date: Mon, 17 Jan 2005 13:14:01 -0500
From: Tim Daly
To: Ralf Hemmecke
Subject: loop index fixnum assumption

Ralf,

> Actually if you specify the upper limit then the compiler would
> likely decide that it could coerce the result to fixnum and would
     ...                couldn't ...
> choose the loop index from a different domain, using big integers.

I mistyped. As William pointed out 2^32 (4 billion) is a long time
at 6Mhz. At 2Ghz it is somewhat shorter. If you plan to do a loop
that will exceed the index you only need to specify a domain such
that the loop index operations will not overflow. Axiom can support
bignums up to the size of lisps memory so it isn't really a restriction,
just an assumption.

\start
Date: Mon, 17 Jan 2005 18:31:56 +0100
From: Ralf Hemmecke
To: William Sit
Subject: re: algebra Makefiles withexplicit dependencies, bootstrap, fixed-points etc.

Well, is this construction better?

n: Integer := someComputationWithResultBiggerThan_1E32;
for i in n..n+1 repeat ...

I am not saying that I would use it, but who knows what pops up in a 
computation?

William Sit wrote:
> Let's not forget that 2^32 is over 4 billion.
> 
> William
> --
> 
> Ralf Hemmecke wrote:
> 
>>This sounds like forbidding
>>
>>for i in 10^32 .. repeat ....
>>
>>or do I misunderstand something?
>>
>>Ralf
>>
>>root wrote:
>>
>>>Steve,
>>>
>>>I don't know if there is an actual statement to the effect that
>>>the upper bound on a loop would be a register-sized number (32
>>>or 64 bits) but at 6Mhz it seemed impossible that one could
>>>run a loop of any consequence for greater than 2^32 or 2^64
>>>iterations. If you wanted to do that you'd have to do the
>>>looping using some other construct. In general it is safe to
>>>assume that the upper bound of the register size cannot be
>>>exceeded. There is a practical performance difference to
>>>be gained by using (declare (fixnum  as the compiler can,
>>>in the best case, assign a register to the loop variable.
>>>

\start
Date: Mon, 17 Jan 2005 13:05:09 -0500
From: William Sit
To: Tim Daly
Subject: Serious One Line Crashing Axiom

******Warning: Please save your Axiom session before trying this!

                        AXIOM Computer Algebra System
              Version of Tuesday November 30, 2004 at 21:11:14
------------------------------------------------------------------------
   Issue )copyright to view copyright notices.
   Issue )summary for a summary of useful system commands.
   Issue )quit to leave AXIOM and return to shell.
------------------------------------------------------------------------

(1) -> typeOf(1)

   (1)  PositiveInteger
                             Type: Domain

(2) -> typeOf(1)::OutputForm

   (2)  PositiveInteger()
                             Type: OutputForm
(3) -> print(typeOf(1)::OutputForm)

********** CRASH *************

This happens on both Windows (above) and Fedora FC2 (October 25, 2004).
But NOT on NAG version:

***** Error stack overflow

and NAG version did not crash, but still possibly a bug.

Sorry, I did not update to the newest version. Please test!

\start
Date: Mon, 17 Jan 2005 13:21:55 -0500
From: Eugene Surowitz
To: Bill Page
Subject: re: Mathaction edit/preview/save problem

FYI: I just tried  http://page.axiom-developer.org and clicked on 
MathAction Wiki;
response: after a couple of minutes:


  Bad Gateway!


    The proxy server received an invalid response from an upstream server. 

    The proxy server could not handle the request <EM><A
    HREF="/zope/mathaction">GET&nbsp;/zope/mathaction</A></EM>.<P>
    Reason: <STRONG>Error reading from remote server</STRONG> 


    Error 502

    page.axiom-developer.org <http://page.axiom-developer.org/>
    Mon 17 Jan 2005 12:14:11 PM CST
    Apache/2.0.40 (Red Hat Linux)


Cheers, Eugene Surowitz

Bill Page wrote:

>William,
>
>On Friday, January 14, 2005 5:49 PM you wrote:
>  
>
>>... it only worked on the Sandbox page, where I was able to submit
>>an edit for the MainPage (I entered "What is this?"). In fact that
>>page worked (Preview/Save) even with the security setting on High.
>>
>>But when I tried to edit the DynamicFunctionDomains, it still says
>>"This page cannot be displayed".
>>    
>>
>
>That is a different message than the one you reported first time.
>
>On Thursday, January 13, 2005 4:47 AM you wrote:
>  
>
>>Here's is the edit on DynamicFunctionDomains page. When I
>>tried preview and save, it said "cannot find server".
>>    
>>
>
>Do you really get two different messages? Does which message you
>get depend on some firewall setting? Do you get the same message
>in both Microsoft Explorer and Firefox?
>
>"This page cannot be displayed" usually means that your
>connection to the server is ok but that your browser received
>something that it could not process. I have sometimes seen
>this message if a web site takes a long time to reply. However
>the correct message in that case should really be a "time out".
>
>  
>
>>This is not intermittent. Every time. It's not a DNS problem 
>>because I can click on to any link on the page and it displays.
>>    
>>
>
>I agree that the message "This page cannot be displayed" is
>probably not a DNS problem. But the original message may have
>been.
>
>  
>
>>I just added Hello to the Sandbox MainPage. I went right to
>>the DynamicFunctionDomains and change (4,7) to (4,8) and click
>>preview. Then it stalls and same problem.
>>    
>>
>
>When you say "stalls", how long do you estimate you had to wait
>before you received the "This page cannot be displayed" message?
>
>  
>
>>It seems to be a write privilege denied type of problem to me.
>>
>>    
>>
>
>No there are no controls write privileges on any page on MathAction
>except for just one page. The page AxiomFoundation is the only
>page that requires a real user id and password in order to change
>it. This was done to protect potentially sensitive information
>about the nature and purpose of the Foundation, funding etc. All
>other pages on MathAction can be edited by anyone even if they
>have not identified themselves.
>
>Considering the new message that you reported: "This page cannot
>be displayed" might possibily be caused by the fact that with each
>change to a page MathAction must call Axiom in order to re-process
>the enitire contents of the page. Perhaps some kind of time-out on
>your browser, fireweall or other part of your local network occurs
>that results in only partial content of the page being received.
>The SandBox page that you edited did not have any Axiom commands so
>in that case you did not get an error. But as I said I do not get
>this message myself even when editing a page that contains many
>Axiom commands.
>
>Is there any setting on your firewall software that might affect
>the time your system waits for a reply?
>
>Is it possible for you to easily and temporarily turn off the
>firewall software completely in order to see if that cures the
>problem? If turning off the firewall works, then there is very
>likely some setting in the firewall software that you can change
>that will make it work without shutting it off.
>
>Finally, do you have a different location (such as office at
>work versus at home) where you can try to access MathAction
>and make this change? At least if you can confirm that it works
>for you at one location but not at another then it might be
>easier to determine what is different and what to change.
>
>Regards,
>Bill Page.
>
>
>
>_______________________________________________
>Axiom-developer mailing list
>list
>http://lists.nongnu.org/mailman/listinfo/axiom-developer
>
>  
>

--------------040201080902040707090805

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
  <title></title>
</head>
<body bgcolor="#ffffff" text="#000000">
FYI: I just tried&nbsp; <a class="moz-txt-link-freetext" href="http://page.axiom-developer.org">http://page.axiom-developer.org</a> and clicked on
MathAction Wiki;<br>
response: after a couple of minutes:<br>
<h1>Bad Gateway!</h1>
<br>
<dl>
  <dd> The proxy server received an invalid response from an upstream
server. </dd>
</dl>
<dl>
  <dd>The proxy server could not handle the request &lt;EM&gt;&lt;A
HREF="/zope/mathaction"&gt;GET&amp;nbsp;/zope/mathaction&lt;/A&gt;&lt;/EM&gt;.&lt;P&gt;
Reason: &lt;STRONG&gt;Error reading from remote server&lt;/STRONG&gt; </dd>
</dl>
<br>
<h2>Error 502</h2>
<dl>
  <dd>
    <address> <a href="http://page.axiom-developer.org/">page.axiom-developer.org</a>
    <br>
    <small>Mon 17 Jan 2005 12:14:11 PM CST</small> <br>
    <small>Apache/2.0.40 (Red Hat Linux)</small>
    </address>
  </dd>
</dl>
<br>
Cheers, Eugene Surowitz<br>
<br>
Bill Page wrote:
<blockquote cite="mid001c01c4fb94$65232470$6501a8c0@Asus" type="cite">
  <pre wrap="">William,

On Friday, January 14, 2005 5:49 PM you wrote:
  </pre>
  <blockquote type="cite">
    <pre wrap="">... it only worked on the Sandbox page, where I was able to submit
an edit for the MainPage (I entered "What is this?"). In fact that
page worked (Preview/Save) even with the security setting on High.

But when I tried to edit the DynamicFunctionDomains, it still says
"This page cannot be displayed".
    </pre>
  </blockquote>
  <pre wrap=""><!---->
That is a different message than the one you reported first time.

On Thursday, January 13, 2005 4:47 AM you wrote:
  </pre>
  <blockquote type="cite">
    <pre wrap="">Here's is the edit on DynamicFunctionDomains page. When I
tried preview and save, it said "cannot find server".
    </pre>
  </blockquote>
  <pre wrap=""><!---->
Do you really get two different messages? Does which message you
get depend on some firewall setting? Do you get the same message
in both Microsoft Explorer and Firefox?

"This page cannot be displayed" usually means that your
connection to the server is ok but that your browser received
something that it could not process. I have sometimes seen
this message if a web site takes a long time to reply. However
the correct message in that case should really be a "time out".

  </pre>
  <blockquote type="cite">
    <pre wrap="">This is not intermittent. Every time. It's not a DNS problem 
because I can click on to any link on the page and it displays.
    </pre>
  </blockquote>
  <pre wrap=""><!---->
I agree that the message "This page cannot be displayed" is
probably not a DNS problem. But the original message may have
been.

  </pre>
  <blockquote type="cite">
    <pre wrap="">I just added Hello to the Sandbox MainPage. I went right to
the DynamicFunctionDomains and change (4,7) to (4,8) and click
preview. Then it stalls and same problem.
    </pre>
  </blockquote>
  <pre wrap=""><!---->
When you say "stalls", how long do you estimate you had to wait
before you received the "This page cannot be displayed" message?

  </pre>
  <blockquote type="cite">
    <pre wrap="">It seems to be a write privilege denied type of problem to me.

    </pre>
  </blockquote>
  <pre wrap=""><!---->
No there are no controls write privileges on any page on MathAction
except for just one page. The page AxiomFoundation is the only
page that requires a real user id and password in order to change
it. This was done to protect potentially sensitive information
about the nature and purpose of the Foundation, funding etc. All
other pages on MathAction can be edited by anyone even if they
have not identified themselves.

Considering the new message that you reported: "This page cannot
be displayed" might possibily be caused by the fact that with each
change to a page MathAction must call Axiom in order to re-process
the enitire contents of the page. Perhaps some kind of time-out on
your browser, fireweall or other part of your local network occurs
that results in only partial content of the page being received.
The SandBox page that you edited did not have any Axiom commands so
in that case you did not get an error. But as I said I do not get
this message myself even when editing a page that contains many
Axiom commands.

Is there any setting on your firewall software that might affect
the time your system waits for a reply?

Is it possible for you to easily and temporarily turn off the
firewall software completely in order to see if that cures the
problem? If turning off the firewall works, then there is very
likely some setting in the firewall software that you can change
that will make it work without shutting it off.

Finally, do you have a different location (such as office at
work versus at home) where you can try to access MathAction
and make this change? At least if you can confirm that it works
for you at one location but not at another then it might be
easier to determine what is different and what to change.

\start
Date: Mon, 17 Jan 2005 13:39:45 -0500
From: Stephen Wilson
To: Tim Daly
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

I compleatly fine with the fixnum declaration. We just need to make
sure it is a rule programmers can rely on. Consider:

)abbrev package ITER Iter
Iter(): E == I where
  E == with
    iter: () -> Void
  I == add
    iter(): Void == 
      for i in 2.. repeat
         print(i::OutputForm)


The relavent lisp decalres we are using fixnums:

      (LETT |i| (QSADD1 |i|) |ITER;iter;V;1|)


Now compile the above with a lower bound of 3:

      for i in 3.. repeat
         print(i::OutputForm)


We get generic arithmetic:

      (LETT |i| (+ |i| 1) |ITER;iter;V;1|)


On Mon, Jan 17, 2005 at 12:23:36PM -0500, root wrote:
> Steve,
> 
> I don't know if there is an actual statement to the effect that
> the upper bound on a loop would be a register-sized number (32
> or 64 bits) but at 6Mhz it seemed impossible that one could 
> run a loop of any consequence for greater than 2^32 or 2^64
> iterations. If you wanted to do that you'd have to do the
> looping using some other construct. In general it is safe to
> assume that the upper bound of the register size cannot be
> exceeded. There is a practical performance difference to
> be gained by using (declare (fixnum  as the compiler can,
> in the best case, assign a register to the loop variable.

\start
Date: Mon, 17 Jan 2005 14:02:06 -0500
From: Bill Page
To: Eugene Surowitz, Bill Page
Subject: re: Mathaction edit/preview/save problem

On Monday, January 17, 2005 1:22 PM Eugene Surowitz wrote:

> FYI: I just tried  http://page.axiom-developer.org and clicked
> on MathAction Wiki; response: after a couple of minutes:
>
> Bad Gateway!

Thank you for letting me know. It should be working again now.
For some reason the Zope server program was hung up. I have
re-started it and will investigate to see if I can find the
cause.

Please let me know whenever you have a problem. Thanks again.

\start
Date: Mon, 17 Jan 2005 14:24:52 -0500
From: Bill Page
To: William Sit, Ralf Hemmecke
Subject: re: algebra Makefiles with explicit dependencies,  bootstrap, fixed-points etc.

William, Ralf, Tim;

Keep in mind here that what Steve and I are talking about are
changes in the lisp coding generated by the )compile command
for the *same* spad code between the initial build of Axiom and
a repeat build of the same algebra spad code.

When you run something like:

> (21) -> for i in 10^32 .. 10^32+5 repeat print i

if this loop called PRIMELT (or some other code affected by
the boostrap) then the first version of the lisp code is being
run because you are using only the initial build of Axiom. But
if you recompile PRIMELT and then run your test again, then the
second version of the lisp code is being run.

The fact that the compiled lisp code (which is compiled by
GCL to an object file) is not consistent from the first compile
to the next is the reason why we are concerned about this. We
want to know the reason why this happens.

One reasonable theory is that some algebra code, say A contains
some implicit dependencies on other algebra code B and that
when the code for B changes it causes changes in the code
generated for A. In other words A has to be recompiled because
B changed. This is not too much of a problem in general provided
that we either rebuild all of the algebra each time for any
change or if we have a complete set of dependencies which shows
what depends on what. But the fact that these dependencies form
loops means that some spad code files have to be singled out
as "bootstrap" files. For these one must supply initial lisp
code in order to get the initial `.o' files so that the rest
of the algebra files can be compiled. In the current Axiom
build the bootstrap lisp files are subtly different than the
lisp actually generated by the compiler for the corresponding
spad file. It would appear that the initial differences in
the bootstrap lisp files can be passed on to other files that
depend on them. In the current build, the algebra files must
be compiled twice before no further changes in the generated
lisp code occurs.

>PRIMELT 
> 
> The differences in the generated lisp are w.r.t QSADD1, in compiler
> generated code implementing a for loop. The differences look like:
> 
>     - (LETT |i| (+ |i| 1)
>     + (LETT |i| (QSADD1 |i|)
> 
> In primitiveElement, we use a for loop on `i in 10..'. i is passed to
> symmetricRemainder, defined in IntegerNumberSystem with signature:
> 

> -----Original Message-----
> From: William Sit [mailto:William Sit]
> Sent: Monday, January 17, 2005 12:29 PM
> To: Ralf Hemmecke; Tim Daly; list
> Subject: re: algebra Makefiles
> withexplicitdependencies, bootstrap, fixed-points etc.
> 
> 
> (21) -> for i in 10^32 .. 10^32+5 repeat print i
>    100000000000000000000000000000000
>    100000000000000000000000000000001
>    100000000000000000000000000000002
>    100000000000000000000000000000003
>    100000000000000000000000000000004
>    100000000000000000000000000000005
>                                         Type: Void
> 
> William Sit wrote:
> > 
> > Let's not forget that 2^32 is over 4 billion.
> > 
> > William
> > --
> > 
> > Ralf Hemmecke wrote:
> > >
> > > This sounds like forbidding
> > >
> > > for i in 10^32 .. repeat ....
> > >
> > > or do I misunderstand something?
> > >
> > > Ralf
> > >
> > > root wrote:
> > > > Steve,
> > > >
> > > > I don't know if there is an actual statement to the effect that
> > > > the upper bound on a loop would be a register-sized number (32
> > > > or 64 bits) but at 6Mhz it seemed impossible that one could
> > > > run a loop of any consequence for greater than 2^32 or 2^64
> > > > iterations. If you wanted to do that you'd have to do the
> > > > looping using some other construct. In general it is safe to
> > > > assume that the upper bound of the register size cannot be
> > > > exceeded. There is a practical performance difference to
> > > > be gained by using (declare (fixnum  as the compiler can,
> > > > in the best case, assign a register to the loop variable.

\start
Date: Mon, 17 Jan 2005 22:03:30 +0200
From: Vladimir Bondarenko
To: William Sit
Subject: Re: Serious One Line Crashing Axiom

Bravo William,

I'd call this your finding a gem.
A diamond of the first water.


With deep respect to your QA flair,

Vladimir Bondarenko

GEMM architect

http://www.cybertester.com/
http://maple.bug-list.org/
http://www.CAS-testing.org/


WS> ******Warning: Please save your Axiom session before trying this!

WS>                         AXIOM Computer Algebra System
WS>               Version of Tuesday November 30, 2004 at 21:11:14
WS> ------------------------------------------------------------------------
WS>    Issue )copyright to view copyright notices.
WS>    Issue )summary for a summary of useful system commands.
WS>    Issue )quit to leave AXIOM and return to shell.
WS> ------------------------------------------------------------------------

(1) ->> typeOf(1)

WS>    (1)  PositiveInteger
WS>                              Type: Domain

(2) ->> typeOf(1)::OutputForm

WS>    (2)  PositiveInteger()
WS>                              Type: OutputForm
(3) ->> print(typeOf(1)::OutputForm)

WS> ********** CRASH *************

WS> This happens on both Windows (above) and Fedora FC2 (October 25, 2004).
WS> But NOT on NAG version:

WS> ***** Error stack overflow

WS> and NAG version did not crash, but still possibly a bug.

WS> Sorry, I did not update to the newest version. Please test!

WS> William

\start
Date: Mon, 17 Jan 2005 15:12:05 -0500
From: William Sit
To: Tim Daly
Subject: Re: Serious One Line Crashing Axiom

Here is the lisp info on NAG version:

Starts dribbling to crash.out (Sat Oct 23 09:27:10 2004)

G82322 (65) -> print(typeOf(1)::OutputForm)

 Function Selection for print
      Arguments: OUTFORM 
 
 [1]  signature:   OUTFORM -> VOID
      implemented: slot (Void)$ from OUTFORM
 

+++ Error stack overflow: 

+++ Error stack overflow: 
 
Break loop (:? for help)> :?
:Q   disables backtrace
:V   enables backtrace
:X   exits from break loop
else enter LISP expressions for evaluation
Break loop (:? for help)> :V
Backtrace now enabled
Break loop (:? for help)> (si bt 1)

 

Break loop (:? for help)> :X
=> NIL
Break loop (:? for help)> :X
Arg1: NIL
Calling: BREAK
Inside: |handleLispBreakLoop|
Arg1: |break|
Calling: BRIGHTPRINT-0
Inside: SAYBRIGHTLY1
Arg1: " "
Arg2: #F[... 00000000 0808dd54 0808e008 00000050 00000000 0808e21c 080970a0
00000400]
Calling: |sayBrightly|
Inside: |handleLispBreakLoop|
Arg1: |break|
Calling: |member|
Inside: |outputTran|
Inside: |outputTran|

[snipped, many, many more lines]]

Inside: |outputTran|
Inside: |outputTran|

Arg1: (BRACKET (AGGLST (|PositiveInteger|) (|lookupComplete| %(...) %(...)) (((
|commutative| "*") . 0)) 0 (%(...) %(...) . %(...)) %(...) (|PositiveInteger|) (
|Boolean|) (|Union| $ (QUOTE "failed")) (|SingleInteger|) (|String|)
(|OutputForm|)))
Calling: |outputTran|
Inside: |mathprint|
Arg1: %(...)
Arg1: #:|OUTFORM;print;$V;1|
Calling: |timedEvaluate|
Inside: |timedEVALFUN|
Arg1: (SPADCALL (|PositiveInteger|) (QUOTE (#:|OUTFORM;print;$V;1| . %(...))))
Calling: |timedEVALFUN|
Inside: |evalFormMkValue|
Arg1: %(...)
Arg2: (SPADCALL (|PositiveInteger|) (QUOTE (#:|OUTFORM;print;$V;1| . %(...))))
Arg3: (|Void|)
Calling: |evalFormMkValue|
Inside: |evalForm|
Arg1: %(...)
Arg2: |print|
Arg3: ((%(...) (%(...) %(...)) |OutputForm|))
Arg4: (((#1=(|OutputForm|) #2=(|Void|) #1#) (#2# $) (NIL)))
Inside: |bottomUpForm2|
Arg1: (%(...) (%(...) (%(...) %(...)) |OutputForm|))
Arg2: %(...)
Arg3: |print|
Arg4: ((%(...) (%(...) %(...)) |OutputForm|))
Arg5: (((|OutputForm|)))
Inside: |bottomUpForm3|
Arg1: (%(...) (%(...) (%(...) %(...)) |OutputForm|))
Arg2: %(...)
Arg3: |print|
Arg4: ((%(...) (%(...) %(...)) |OutputForm|))
Arg5: (((|OutputForm|)))
Inside: |bottomUpForm|
Arg1: (%(...) (%(...) (%(...) %(...)) |OutputForm|))
Arg2: %(...)
Arg3: |print|
Arg4: ((%(...) (%(...) %(...)) |OutputForm|))
Arg5: (((|OutputForm|)))
Inside: |bottomUp|
Arg1: (%(...) (%(...) (%(...) %(...)) |OutputForm|))
Calling: |bottomUp|
Inside: |interpret1|
Arg1: (|print| (|::| (|typeOf| 1) |OutputForm|))
Arg2: NIL
Arg3: (|Application| ((|id| (|posn| #1=(0 "print(typeOf(1)::OutputForm)" 1 1 
"strings") . 0)) . |print|) (|Coerceto| (|Application| ((|id| (|posn| #1# . 6))
. 
|typeOf|) ((|integer| (|posn| #1# . 13)) . "1")) ((|id| (|posn| #1# . 17)) . 
|OutputForm|)))
Calling: |interpret1|
Inside: |interpret|
Arg1: ((|print| (|::| (|typeOf| 1) |OutputForm|)) (|Application| ((|id| (|posn|
#1=(
0 "print(typeOf(1)::OutputForm)" 1 1 "strings") . 0)) . |print|) (|Coerceto| (
|Application| ((|id| (|posn| #1# . 6)) . |typeOf|) ((|integer| (|posn| #1# .
13)) . 
"1")) ((|id| (|posn| #1# . 17)) . |OutputForm|))))
Calling: |interpret|
Inside: |interpretTopLevel|
Arg 1: (|print| (|::| (|typeOf| 1) |OutputForm|))
Arg 2: (|Application| ((|id| (|posn| #1=(0 "print(typeOf(1)::OutputForm)" 1 1 
"strings") . 0)) . |print|) (|Coerceto| (|Application| ((|id| (|posn| #1# . 6))
. 
|typeOf|) ((|integer| (|posn| #1# . 13)) . "1")) ((|id| (|posn| #1# . 17)) . 
|OutputForm|)))
Calling: |interpretTopLevel|
Inside: |processInteractive1|
Arg 1: (|print| (|::| (|typeOf| 1) |OutputForm|))
Arg 2: (|Application| ((|id| (|posn| #1=(0 "print(typeOf(1)::OutputForm)" 1 1 
"strings") . 0)) . |print|) (|Coerceto| (|Application| ((|id| (|posn| #1# . 6))
. 
|typeOf|) ((|integer| (|posn| #1# . 13)) . "1")) ((|id| (|posn| #1# . 17)) . 
|OutputForm|)))
Calling: |processInteractive1|
Inside: |processInteractive|
Arg1: (|print| (|::| (|typeOf| 1) |OutputForm|))
Calling: |intInterpretPform|
Inside: |phInterpret|
Arg1: ((|carrier| (|ok?| . T) (|ptreePremacro| . #2=(|Application| ((|id|
(|posn| #1=(
0 "print(typeOf(1)::OutputForm)" 1 1 "strings") . 0)) . |print|) (|Coerceto| (
|Application| ((|id| (|posn| #1# . 6)) . |typeOf|) ((|integer| (|posn| #1# .
13)) . 
"1")) ((|id| (|posn| #1# . 17)) . |OutputForm|)))) (|ptree| . #2#) (|lines|
((#1# . 
1) . "print(typeOf(1)::OutputForm)")) (|messages|) (|stepNumber| . 1)))
Calling: APPLY
Inside: |ncConversationPhase|
Inside: |ncConversationPhase|
Arg 1: |phInterpret|
Arg 2: (((|carrier| (|ok?| . T) (|ptreePremacro| . #2=(|Application| ((|id| (
|posn| #1=(0 "print(typeOf(1)::OutputForm)" 1 1 "strings") . 0)) . |print|) (
|Coerceto| (|Application| ((|id| (|posn| #1# . 6)) . |typeOf|) ((|integer|
(|posn| #1# . 
13)) . "1")) ((|id| (|posn| #1# . 17)) . |OutputForm|)))) (|ptree| . #2#)
(|lines| ((#1# . 
1) . "print(typeOf(1)::OutputForm)")) (|messages|) (|stepNumber| . 1))))
Calling: |ncConversationPhase|
Inside: |intloopSpadProcess,interp|
Arg1: ((|carrier| (|ok?| . T) (|ptreePremacro| . #2=(|Application| ((|id|
(|posn| #1=(
0 "print(typeOf(1)::OutputForm)" 1 1 "strings") . 0)) . |print|) (|Coerceto| (
|Application| ((|id| (|posn| #1# . 6)) . |typeOf|) ((|integer| (|posn| #1# .
13)) . 
"1")) ((|id| (|posn| #1# . 17)) . |OutputForm|)))) (|ptree| . #2#) (|lines|
((#1# . 
1) . "print(typeOf(1)::OutputForm)")) (|messages|) (|stepNumber| . 1)))
Arg2: (|Application| ((|id| (|posn| #1=(0 "print(typeOf(1)::OutputForm)" 1 1 
"strings") . 0)) . |print|) (|Coerceto| (|Application| ((|id| (|posn| #1# . 6))
. 
|typeOf|) ((|integer| (|posn| #1# . 13)) . "1")) ((|id| (|posn| #1# . 17)) . 
|OutputForm|)))
Arg3: T
Calling: |intloopSpadProcess,interp|
Inside: |intloopSpadProcess|
Arg1: 1
Arg2: ((((0 "print(typeOf(1)::OutputForm)" 1 1 "strings") . 1) . 
"print(typeOf(1)::OutputForm)"))
Arg3: (|Application| ((|id| (|posn| #1=(0 "print(typeOf(1)::OutputForm)" 1 1 
"strings") . 0)) . |print|) (|Coerceto| (|Application| ((|id| (|posn| #1# . 6))
. 
|typeOf|) ((|integer| (|posn| #1# . 13)) . "1")) ((|id| (|posn| #1# . 17)) . 
|OutputForm|)))
Arg4: T
Inside: |intloopProcess|
Arg 1: 1
Arg 2: T
Calling: |intloopProcessString|
Inside: |intloopReadConsole|
Arg 1: ""
Arg 2: 1
Calling: |intloopReadConsole|
Inside: |SpadInterpretStream|
Arg1: 1
Arg2: (TIM DALY ?)
Arg3: T
Calling: |SpadInterpretStream|
Inside: |intloop|
Calling: |intloop|
Inside: |ncIntLoop|
Calling: |ncIntLoop|
Inside: |ncTopLevel|
G82322 (65) -> G82322 (65) -> )spool

Finished dribbling to crash.out.

William Sit wrote:
> 
> ******Warning: Please save your Axiom session before trying this!
> 
>                         AXIOM Computer Algebra System
>               Version of Tuesday November 30, 2004 at 21:11:14
> ------------------------------------------------------------------------
>    Issue )copyright to view copyright notices.
>    Issue )summary for a summary of useful system commands.
>    Issue )quit to leave AXIOM and return to shell.
> ------------------------------------------------------------------------
> 
> (1) -> typeOf(1)
> 
>    (1)  PositiveInteger
>                              Type: Domain
> 
> (2) -> typeOf(1)::OutputForm
> 
>    (2)  PositiveInteger()
>                              Type: OutputForm
> (3) -> print(typeOf(1)::OutputForm)
> 
> ********** CRASH *************
> 
> This happens on both Windows (above) and Fedora FC2 (October 25, 2004).
> But NOT on NAG version:
> 
> ***** Error stack overflow
> 
> and NAG version did not crash, but still possibly a bug.
> 
> Sorry, I did not update to the newest version. Please test!

\start
Date: Mon, 17 Jan 2005 15:01:01 -0500
From: William Sit
To: Bill Page
Subject: re: Mathaction edit/preview/save problem

"Page, Bill" wrote:
> 
> On Monday, January 17, 2005 1:22 PM Eugene Surowitz wrote:
> 
> > FYI: I just tried  http://page.axiom-developer.org and clicked
> > on MathAction Wiki; response: after a couple of minutes:
> >
> > Bad Gateway!
> 
> Thank you for letting me know. It should be working again now.
> For some reason the Zope server program was hung up. I have
> re-started it and will investigate to see if I can find the
> cause.
> 
> Please let me know whenever you have a problem. Thanks again.
> 
> Regards,
> Bill Page.

Yes, the server is now up and I can access (read) the pages.
However, I continue to have "This document has no data" errors whenever I
preview any page after changes where the page has more than, literally, a few
lines. Even changing 2+2 to 2+3 on Sandbox MainPage takes a while (half a minute
at least).

So I think your previous diagnosis that the problem has to do with the length of
a page. Whether the bottleneck is on the server end or client end is not clear.
What is the priority on read vs write? any statistics on read vs write?

Martin, what type of response you have? Do you have to set the browser in any
special way?

\start
Date: Mon, 17 Jan 2005 22:03:37 +0200
From: Vladimir Bondarenko
To: Bill Page
Subject: Re[4]: AXIOM for Windows: )copyright and )summary issue

BP> Because you have installed the cygwin version of `cat' in a
BP> location that is earlier in your program search path than
BP> Axiom it is running the wrong version.

Sure not. I deleted cat.exe before running the )copyright.

BP> You must eiterh delete
BP> all versions of `cat' that occur in directories that occur
BP> before Axiom in the path

This is precisely that I did before trying to input )copyright again.

BP> or else more the Axiom directory to
BP> the beginning of the path.

>> BP> In fact I have another major update to the pre-release
>> BP> Windows version that I hope to upload this week.
>> 
>> Wow ! ;) All agog for the event!

BP> Add I await your contribution of a useful bug report with
BP> baited breath ;)

To decrease a bit level of your pessimism about my abilities
I'd just add that it took me less than 15 minutes after
installation to identify the first math bug I found in AXIOM.


-> integrate(1/(1+z^4), z=0..1) :: Complex Float

  - 0.2437477471 9968052418


BP> Add I await your contribution of a useful bug report with
BP> baited breath ;)

Are AXIOM's crashes generated by math the sort of reports you
are awaiting?

If this is the case, sure, the world's # 1 CAS tester,
I will supply you with them, and much more.

\start
Date: Mon, 17 Jan 2005 15:38:11 -0500
From: Bill Page
To: Mike Thomas
Subject: RE: [Gcl-devel] Axiom on Windows GCL problems

Mike,

On Thursday, January 13, 2005 12:06 AM you wrote:
> ...
> At some stage (not this fortnight) I am going to have to
> compare detailed setup notes with you as I failed miserably
> in setting up arch last time.
> ...
> 

I know you are working at the end of a modem with arch so
I decided to pass on you specifically some advice that Martin
Rubey solicited from the gnu-arch-users@gnu.org email list.
The reply contains some very useful information, advice and
references.

Regards,
Bill Page.

-----Original Message-----

Martin Rubey wrote:

> ...At home I have a slow modem connection, at work highspeed.
> Since Axiom is large, changesets however not that much,
> I thought I'd copy the current tree on a CD, bring it home,
> and continue using Arch at home then.
> 
> Of course, this doesn't work (see Subject...)
> 
> Any workarounds?

Delete your pristine trees.  They'll be recreated automatically,
when needed.

However, that's not really the right solution.

When Arch was being designed, Tom Lord was a dialup user, and
so Arch works quite well with modems.

What you do is set up a local mirror of your work archive.
 Arch has commands for this built in.  See "Creating Local
Mirrors..." here:
http://regexps.srparish.net/www/tutorial/html/shared-and-public-archives.htm
l

As you say, changesets are small, and since mirroring just
copies changesets, it's quite feasible to do it on dialup.

Your local mirror will be readonly.  To commit, you'll need
a home archive, which you can mirror to work.  star-merge
should work nicely as a way to move changes between your work
branch and your home branch.

You should also consider setting up revision libraries instead
of using pristrines.  They're faster to use and less of a
hassle once set up. See here:

http://regexps.srparish.net/www/tutorial/html/revision-libraries.html

\start
Date: Mon, 17 Jan 2005 15:26:42 -0500
From: Bill Page
To: Vladimir Bondarenko
Subject: RE: Re[4]: AXIOM for Windows: )copyright and )summary issue

On Monday, January 17, 2005 3:04 PM Vladimir Bondarenko wrote:

> BP> You must either delete all versions of `cat' that occur
> BP> in directories that occur before Axiom in the path
> 
> This is precisely that I did before trying to input )copyright
> again.

In `c:\Programs Files\axiom\windows\mnt\bin' you should find
a program named "cat.exe". This is the version of cat that Axiom
must run because it has been modified to accept an undelimited
path that includes spaces, like this

  cat c:\Program Files\axiom\windows\mnt\doc\xxx.txt

The normal unix versions of cat will treat the space as
a command parameter separator and so will fail. Axiom should
be inserting delimiters like this

  cat "c:\Program Files\axiom\windows\mnt\doc\xxx.txt"

but it does not. Really, the proper fix for portability between
unix and Windows is to change the coding in Axiom so that it does
not call external programs to display a text file - instead it
should be done by a simple lisp command. This is one of the
changes that I hope will be in the next version.

If you are having difficulty making sure that the proper version
of "cat" is being run by Axiom, then I suggest that you change
the path so that the Axiom directory comes first. You can do
this by

  Start/Settings/Control Panel/System/Advanced/
    Environment Variables/Edit

> 
> BP> Add I await your contribution of a useful bug report with
> BP> baited breath ;)
> 
> To decrease a bit level of your pessimism about my abilities
> I'd just add that it took me less than 15 minutes after
> installation to identify the first math bug I found in AXIOM.

On the contrary I have complete confidence in your ability
to find bugs in Axiom. As I said before: that is the easy part.

What I would really like is if you would take the time to
report these bugs in the proper manner so that this information
is not lost. Then we can hope that sooner or later someone
will come along with enough experience and patience to find a
solution and submit a patch to correct the problem.

Discussing bugs via the email list is not the same as submitting
a proper bug report via the issuetracker at

http://page.axiom-developer.org/zope/mathaction/FrontPage/issuetracker

Unless someone takes the time to convert the email into a bug
report, it is quite possible that 6 months for now the email
discussion will be forgotten.

> 
> Are AXIOM's crashes generated by math the sort of reports you
> are awaiting?

I am not waiting for reports. There is a lot of things to do
with Axiom already. But any report of any kind of problem is
welcome to be submitted. Eventually it will be considered by
someone who has sufficient motivation and time to devote to the
problem. Remember that this is an entirely volunteer open source
project.

> 
> If this is the case, sure, the world's # 1 CAS tester,
> I will supply you with them, and much more.
> 

Please "yes" supply all of them. But please use the issuetracker
to document each problem (after you have discused it by email,
if you wish).

\start
Date: Mon, 17 Jan 2005 15:44:45 -0500
From: Bill Page
To: Eugene Surowitz
Subject: re: Mathaction edit/preview/save problem

On Monday, January 17, 2005 2:02 PM I wrote:

> 
> On Monday, January 17, 2005 1:22 PM Eugene Surowitz wrote:
> 
> > FYI: I just tried  http://page.axiom-developer.org and clicked
> > on MathAction Wiki; response: after a couple of minutes:
> >
> > Bad Gateway!
> 
> Thank you for letting me know. It should be working again now.
> For some reason the Zope server program was hung up. I have
> re-started it and will investigate to see if I can find the
> cause.

The Zope server logs show some kind of problem with the Zope
catalog - this is the part of Zope that provides the search
function and fast access to objects. I have rebuilt the catalog
index files and also compressed the Zope database. I hope that
that cures the problem.

\start
Date: Mon, 17 Jan 2005 16:31:52 -0500
From: William Sit
To: Vladimir Bondarenko
Subject: Re: [Q] radicalSolve fails to find all roots ?

These are NOT bugs! But the following may be! Consider the equation 
z^n==1 for n = 7:

(1) -> radicalSolve(z^7=2)

   (1)
       7+-+      +---+7+-+    2%pi    7+-+    2%pi
   [z= \|2 , z= \|- 1 \|2 sin(----) + \|2 cos(----),
                                7               7
        +---+7+-+    4%pi    7+-+    4%pi
    z= \|- 1 \|2 sin(----) + \|2 cos(----),
                       7               7
        +---+7+-+    6%pi    7+-+    6%pi
    z= \|- 1 \|2 sin(----) + \|2 cos(----),
                       7               7
        +---+7+-+    8%pi    7+-+    8%pi
    z= \|- 1 \|2 sin(----) + \|2 cos(----),
                       7               7
        +---+7+-+    10%pi    7+-+    10%pi
    z= \|- 1 \|2 sin(-----) + \|2 cos(-----),
                       7                7
        +---+7+-+    12%pi    7+-+    12%pi
    z= \|- 1 \|2 sin(-----) + \|2 cos(-----)]
                       7                7
                     Type: List Equation Expression Integer

-------------- comments

Of course, these are correct solutions by Euler's Formula. A bit
surprising that radicalSolve invokes these for z^7=2 and not for
z^7=1; when n is 7, these trignometric values are not embeddable in a
tower of "solvable" extensions. That is, these are not solutions
expressible in terms of radicals (of *real* numbers) and arithmetic
alone. Put another way, the regular 7-gon is not constructible by
compass and ruler alone. From:

http://mathworld.wolfram.com/ConstructiblePolygon.html
http://mathworld.wolfram.com/TrigonometryAngles.html

A necessary and sufficient condition that a regular n-gon be
constructible is that phi(n) be a power of 2, where phi(n) is the
totient function (Krzek 2001, p. 34).

n =  1  2  3  4  5  6  7  8  9  10  11  12  13  14  15  16  17 18 19 20
phi= 1  1  2  2  4  2  6  4  6   4  10   4  12   6   8   8  16  6 18  8
bad=                   x     x       x       x   x              x  x
Vladimir's "not good" values are =

n =                    7            11      13  14  15      17    19

So if you compare the constructible regular n-gons, you can see why
Axiom's results are reasonable: radicalSolve only finds solutions that
are expressible in terms of radicals and arithmetic operations. It did
not find those for n = 15 and 17 probably (I am guessing) because at
the time of implementation, these constructions were not known (at
least to the programmer). On the other hand, for n = 9, 18, the
solutions are expressible in radicals only if radicals of *complex*
numbers are allowed and Axiom found those (perhaps it shouldn't?). The
expansion for (-1)^(1/7) that Vladimir gave involves radicals of
complex numbers, as theory predicts.


When Axiom cannot find solutions, it is (presumably) a PROOF that the
other solutions are NOT solvable by radicals (using *real* numbers),
or at least, there is no known proof that it is solvable at the time
of implementation=2E (That is why I am surprised at the above result
for z^7=2).

In other words, rather than viewing the answer for z^7=1 as a bug, we should
view the answers for z^7=2, z^7=3 (and may be even z^9=1, z^18=1) as bugs!

Still, the package should be upgraded.

-------------------

(1) -> radicalSolve(z^9=1,z)

   (1)
                                             +------------+
                                             |   +---+
        +------------+       +---+ +-+       |- \|- 3  - 1
        |   +---+          (\|- 1 \|3  - 1) 3|------------
        |- \|- 3  - 1                       \|      2
   [z= 3|------------ , z= -------------------------------,
       \|      2                          2
                           +------------+
                           |   +---+
           +---+ +-+       |- \|- 3  - 1      +----------+
       (- \|- 1 \|3  - 1) 3|------------      | +---+
                          \|      2           |\|- 3  - 1
    z= ---------------------------------, z= 3|---------- ,
                       2                     \|     2
                         +----------+                        +----------+=

                         | +---+                             | +---+
         +---+ +-+       |\|- 3  - 1         +---+ +-+       |\|- 3  - 1
       (\|- 1 \|3  - 1) 3|----------     (- \|- 1 \|3  - 1) 3|----------
                        \|     2                            \|     2
    z= -----------------------------, z= ----------------------------=
---,
                     2                                  2
          +---+          +---+
       - \|- 3  - 1     \|- 3  - 1
    z= ------------, z= ----------, z= 1]
             2               2
                      Type: List Equation Expression Integer
                                       =

(2) -> radicalSolve(z^7=3)

   (2)
       7+-+      +---+7+-+    2%pi    7+-+    2%pi
   [z= \|3 , z= \|- 1 \|3 sin(----) + \|3 cos(----),
                                7               7
        +---+7+-+    4%pi    7+-+    4%pi
    z= \|- 1 \|3 sin(----) + \|3 cos(----),
                       7               7
        +---+7+-+    6%pi    7+-+    6%pi
    z= \|- 1 \|3 sin(----) + \|3 cos(----),
                       7               7
        +---+7+-+    8%pi    7+-+    8%pi
    z= \|- 1 \|3 sin(----) + \|3 cos(----),
                       7               7
        +---+7+-+    10%pi    7+-+    10%pi
    z= \|- 1 \|3 sin(-----) + \|3 cos(-----),
                       7                7
        +---+7+-+    12%pi    7+-+    12%pi
    z= \|- 1 \|3 sin(-----) + \|3 cos(-----)]
                       7                7
                   Type: List Equation Expression Integer
                                       =

(3) -> radicalSolve(z^7=1.)
                                                     7
   WARNING (genufact): No known algorithm to factor ?  - 1.0
     , trying square-free.

   (3)
                                       +-----+
   [z= 1.0, z= 0.7818314824 6802980871\|- 1.0  + 0.6234898018 5873353=
053,
                               +-----+
    z= 0.9749279121 8182360702\|- 1.0  - 0.2225209339 5631440428,
                               +-----+
    z= 0.4338837391 1755812048\|- 1.0  - 0.9009688679 0241912624,
                                 +-----+
    z= - 0.4338837391 1755812046\|- 1.0  - 0.9009688679 0241912625,
                                 +-----+
    z= - 0.9749279121 8182360702\|- 1.0  - 0.2225209339 563144043,
                                 +-----+
    z= - 0.7818314824 6802980872\|- 1.0  + 0.6234898018 5873353052]
                   Type: List Equation Expression Float
                                                   =

(4) -> radicalSolve(z^6+z^5+z^4+z^3+z^2+z+1=0)

   (4)  []
                  Type: List Equation Expression Integer
                                                                         =
                =



William
-----------------

Vladimir Bondarenko wrote:
> =

> Hi *,
> =

> Any comments are highly appreciated on the following stuff.
> Thank you in advance.
> =

> .....................................................................
> =

> Obviously, all the roots of the equation z^7 = 1 can be expressed in
> radicals, and Mathematica can easily produce the explicit expressions
> in terms of radicals.
> =

> Solve[z^7 == 1, z]
> =

> {{z -> 1}, {z -> -(-1)^(1/7)}, {z -> (-1)^(2/7)}, {z -> -(-1)^(3/7)},
> {{z -> {z -> (-1)^(4/7)}, {z -> -(-1)^(5/7)}, {z -> (-1)^(6/7)}}
> =

> To save the space, below the only example is given.
> =

> FunctionExpand[ComplexExpand[-(-1)^(1/7)]]
> =

> (1/2)*((1/3)*((1/2)*(-1 + I*Sqrt[7]) + ((-1 + I*Sqrt[3])*((1/2)*(-1 +
> I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*((1/2)*(-1 + I*Sqrt[3]) +
> (1/4)*(-1 + I*Sqrt[3])^2)))/(2*(6 + (3/4)*(-1 + I*Sqrt[3])*(-1 +
> I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*(1 + (3/4)*(-1 +
> I*Sqrt[3])^2))^(1/3)) + (1/4)*(-1 + I*Sqrt[3])^2*(6 + (3/4)*(-1 +
> I*Sqrt[3])*(-1 + I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*(1 + (3/4)*(-1 +
> I*Sqrt[3])^2))^(1/3)) +(1/3)*((1/2)*(1 + I*Sqrt[7]) - ((-1 +
> I*Sqrt[3])^2*((1/2)*(-1 -I*Sqrt[7]) + (1/2)*(-1 +
> I*Sqrt[7])*((1/2)*(-1 + I*Sqrt[3]) + (1/4)*(-1 + I*Sqrt[3])^2)))/(4*(6
> + (3/4)*(-1 + I*Sqrt[3])*(-1 - I*Sqrt[7]) + (1/2)*(-1 + I*Sqrt[7])*(1
> + (3/4)*(-1 + I*Sqrt[3])^2))^(1/3)) -(1/2)*(-1 + I*Sqrt[3])*(6 +
> (3/4)*(-1 + I*Sqrt[3])*(-1 - I*Sqrt[7]) + (1/2)*(-1 + I*Sqrt[7])*(1 +
> (3/4)*(-1 + I*Sqrt[3])^2))^(1/3))) + (1/2)*((1/3)*((1/2)*(-1 +
> I*Sqrt[7]) + ((-1 + I*Sqrt[3])*((1/2)*(-1 + I*Sqrt[7]) + (1/2)*(-1 -
> I*Sqrt[7])*((1/2)*(-1 + I*Sqrt[3]) + (1/4)*(-1 + I*Sqrt[3])^2)))/(2*(6
> + (3/4)*(-1 + I*Sqrt[3])*(-1 + I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*(1
> + (3/4)*(-1 + I*Sqrt[3])^2))^(1/3)) +(1/4)*(-1 + I*Sqrt[3])^2*(6 +
> (3/4)*(-1 + I*Sqrt[3])*(-1 + I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*(1 +
> (3/4)*(-1 + I*Sqrt[3])^2))^(1/3)) + (1/3)*((1/2)*(-1 - I*Sqrt[7])
> +((-1 + I*Sqrt[3])^2*((1/2)*(-1 - I*Sqrt[7]) + (1/2)*(-1 +
> I*Sqrt[7])*((1/2)*(-1 + I*Sqrt[3]) + (1/4)*(-1 + I*Sqrt[3])^2)))/(4*(6
> + (3/4)*(-1 + I*Sqrt[3])*(-1 - I*Sqrt[7]) + (1/2)*(-1 + I*Sqrt[7])*(1
> + (3/4)*(-1 + I*Sqrt[3])^2))^(1/3)) +(1/2)*(-1 + I*Sqrt[3])*(6 +
> (3/4)*(-1 + I*Sqrt[3])*(-1 - I*Sqrt[7]) + (1/2)*(-1 + I*Sqrt[7])*(1 +
> (3/4)*(-1 + I*Sqrt[3])^2))^(1/3)))
> =

> According to the AXIOM Book
> =

> AXIOM Book>  Use radicalSolve if you want your solutions expressed in
> AXIOM Book>  terms of radicals.
> =

> However, already for z^7 = 1 this is not so,
> =

> -> radicalSolve(z^7=1, z)
> =

>    [z= 1]
> =

> and the problem exists for 11, 13, 14, 15, 17, 19 etc
> =

> -> for i in 1..20 repeat print([i,#radicalSolve(z^i=1,z)])
> =

>    [1,1]
>    [2,2]
>    [3,3]
>    [4,4]
>    [5,5]
>    [6,6]
>    [7,1]   <-- not good
>    [8,8]
>    [9,9]
>    [10,10]
>    [11,1]  <-- not good
>    [12,12]
>    [13,1]  <-- not good
>    [14,2]  <-- not good
>    [15,7]  <-- not good
>    [16,16]
>    [17,1]  <-- not good
>    [18,18]
>    [19,1]  <-- not good
>    [20,20]

\start
Date: Mon, 17 Jan 2005 17:21:05 -0500
From: William Sit
To: Bill Page
Subject: Re: AXIOM for Windows: )copyright and )summary issue

I tried (sorry, I am always the one with things not working :-( ) to post the
oneline crasher on issuetracker. Again, after all the editing, submitting with
add issue button returns a "Document has no data" Alert Popup. 

I do think that before a bug or issue is submitted, it should be posted via
email for discussion. Vladimir is doing a great job submitting these problems
(some are bugs, some can be explained and some may be don't knows).  I am sure
that even if some of these reported problems are not bugs, they are *unexpected*
to a general user, and thus collecting these into an FAQ database would be
useful.

We all have limited time but still the amount of progress on Axiom has been
impressive. You, and many others, have of course contributed tremendous effort
on many fronts. It takes time to simply keep up! Perhaps we should consolidate
what we have, and prioritize the remaining work. We are now at the point that
getting the algebra to work correctly and documenting unexpected answers will
add to others' confidence in using Axiom. To me, this is most important.

William
---

"Page, Bill" wrote:
> What I would really like is if you would take the time to
> report these bugs in the proper manner so that this information
> is not lost. Then we can hope that sooner or later someone
> will come along with enough experience and patience to find a
> solution and submit a patch to correct the problem.
> 
> Discussing bugs via the email list is not the same as submitting
> a proper bug report via the issuetracker at
> 
> http://page.axiom-developer.org/zope/mathaction/FrontPage/issuetracker
> 
> Unless someone takes the time to convert the email into a bug
> report, it is quite possible that 6 months for now the email
> discussion will be forgotten.

\start
Date: Mon, 17 Jan 2005 18:08:51 -0500
From: Bill Page
To: William Sit
Subject: RE: AXIOM for Windows: )copyright and )summary issue

On Monday, January 17, 2005 5:21 PM William Sit wrote:
> ... 
> I do think that before a bug or issue is submitted, it should 
> be posted via email for discussion. Vladimir is doing a great job 
> submitting these problems (some are bugs, some can be explained
> and some may be don't knows).  I am sure that even if some of
> these reported problems are not bugs, they are *unexpected* to
> a general user, and thus collecting these into an FAQ database
> would be useful.

I agree that Vladimir is doing a great job. Axiom badly needs
someone who takes testing QA seriously and has enough time to
do it.

Issuetracker can serve both purposes of reporting bugs and as
an FAQ for things that might seem like bugs. That way users of
a single place to go if they suspect a problem. Everything that
is reported in issuetracker becomes immediately searchable on
MathAction. I would prefer that (almost) all of the problems
that Vladimir and others find be documented in issuetracker.

> 
> We all have limited time but still the amount of progress on 
> Axiom has been impressive. You, and many others, have of
> course contributed tremendous effort on many fronts. It takes
> time to simply keep up! Perhaps we should consolidate what we
> have, and prioritize the remaining work.

I agree and I think issuetracker is a very good way to do
exactly that.

>We are now at the point that getting the algebra to work correctly
>and documenting unexpected answers will add to others' confidence
>in using Axiom. To me, this is most important.
>

I agree 100%.  However, I think "getting the algebra to work
correctly" is likely to be a never ending task so we have to
plan for this to be an ongoing function. Using tools like
issuetracker will make it easier for everyone.

Regards,
Bill Page.
 
> William
> ---
> 
> "Page, Bill" wrote:
> > What I would really like is if you would take the time to
> > report these bugs in the proper manner so that this
> > information is not lost. Then we can hope that sooner or
> > later someone will come along with enough experience and
> > patience to find a solution and submit a patch to correct
> > the problem.
> > 
> > Discussing bugs via the email list is not the same as submitting
> > a proper bug report via the issuetracker at
> > 
> > 
> http://page.axiom-developer.org/zope/mathaction/FrontPage/issuetracker
> > 
> > Unless someone takes the time to convert the email into a bug
> > report, it is quite possible that 6 months for now the email
> > discussion will be forgotten.
> 

\start
Date: Mon, 17 Jan 2005 18:13:39 -0500
From: Bill Page
To: William Sit
Subject: re: Mathaction edit/preview/save problem

On Monday, January 17, 2005 5:21 PM William Sit wrote:
> 
> I tried (sorry, I am always the one with things not working 
> :-( ) to post the oneline crasher on issuetracker. Again,
> after all the editing, submitting with add issue button returns
> a "Document has no data" Alert Popup. 

William, I have spent a bit of time trying to research your
network problem. There are several reports on the web that seem
related to your problem of "Document has no data" that suggest
that this might be a "spyware" kind of problem or perhaps caused
by the incorrect removal of some other network software. The
suggested solution is given here:

http://www.cexx.org/lspfix.htm

LSP-Fix

Repairs Winsock 2 settings, caused by buggy or
improperly-removed Internet software, that result in loss
of Internet access

LSP-Fix is a free utility to repair a specific type of problem
associated with certain Internet software. This type of software
is known as a Layered Service Provider or LSP, a piece of
software that can be inserted into the Windows TCP/IP handler
like a link in a chain. However, due to bugs in the LSP software
or deletion of the software, this chain can get broken, rendering
the user unable to access the Internet.

Unfortunately, this type of software is sometimes quietly
installed by unrelated software such as file-sharing programs,
sneaking onto a system unannounced. In fact, in many cases, the
user does not know of its existance until something goes wrong,
and he/she can no longer access Web sites. Common offenders
include New.net* (NEWDOTNET) and WebHancer*, which are often
bundled with file-sharing utilities, DVD player software, and
other free downloads. LSP-Fix repairs the Winsock LSP chain by
removing the entries left behind when LSP software is removed
by hand (or when errors in the software itself break the LSP
chain), and removing any gaps in the chain.

LSP-Fix is not a malware removal utility and does not target
specific products. LSP-Fix does not delete any files.

----------

Useful tutorials:

http://www.bleepingcomputer.com/forums/index.php?showtutorial=59

http://www.help2go.com/article216.html

----------

I have never used lsp-fix before and so I can not certify that this
will necessarily fix your problem. I have tried running the program
on my system and it does not find any LSP to be removed. The above
tutorials and document seem quite legitimit to me and describe
exactly how it works. I think it would be quite safe to proceed
with at least the first level use of this tool to try to correct
the problem.

Could you let me know the list of LSP's that this program finds
on your system?

Regards,
Bill Page.

PS. Of course this only applies to your Windows system. I do
not know what might cause this in the case of linux which
uses entirely different software to access the Internet.

\start
Date: Mon, 17 Jan 2005 18:30:49 -0500
From: William Sit
To: Vladimir Bondarenko
Subject: Re: A terrible bug: romberg+simplify/expand: slowdownof 125/300 times

Vladimir Bondarenko wrote:

> -----------------------
> -- even worse
> -----------------------
> 
> -> romberg(z+->simplify(%i^2), 0, 1, 0.1, 0.1, 10, 12)
> 
>    [value= - 1.0,error= 0.0,totalpts= 2049,success= true]
>    Time: 3.07 (IN) + 2.25 (EV) + 0.18 (OT) + 0.48 (GC) = 5.98 sec
> 
> .........................................................................
> 
> A bloodcurdling guesswork, Does AXIOM each time call simplify/expand ?!
> 
> Or... or what causes this user's nightmare?

I tried the above, 

[snipped]

Function Selection for ^
     Arguments: (COMPLEX INT,PI)

[1]  signature:   (COMPLEX INT,PI) -> COMPLEX INT
     implemented: slot $$(PositiveInteger) from COMPLEX INT
[2]  signature:   (COMPLEX INT,PI) -> COMPLEX INT
     implemented: slot $$(PositiveInteger) from COMPLEX INT

----- This is the cause of the problem: Complex arithmetic

Function Selection for simplify
     Arguments: COMPLEX INT
     Target type: FLOAT

[1]  signature:   EXPR COMPLEX INT -> EXPR COMPLEX INT
     implemented: slot (Expression (Complex (Integer)))(Expression (Complex (In
eger))) from TRMANIP(COMPLEX INT,EXPR COMPLEX INT)

----- The only simplify is from EXPR Complex Integer

Function Selection for map by coercion facility (map)
     Arguments: ((COMPLEX INT -> INT),EXPR COMPLEX INT)
     Target type: EXPR INT

[1]  signature:   ((COMPLEX INT -> INT),EXPR COMPLEX INT) -> EXPR INT
     implemented: slot (Expression (Integer))(Mapping (Integer) (Complex (Integ
r)))(Expression (Complex (Integer))) from EXPR2(COMPLEX INT,INT)

----- which requires the answer to stay in EXPR Complex Integer after 
----- "simplification", which then require ti to be converted

and found that the interpreter printed out 2049 (or thereabout) 

 Function Selection for map by coercion facility (map) 
      Arguments: ((COMPLEX INT -> INT),EXPR COMPLEX INT) 
      Target type: EXPR INT 
 
 [1]  signature:   ((COMPLEX INT -> INT),EXPR COMPLEX INT) -> EXPR INT
      implemented: slot (Expression (Integer))(Mapping (Integer) (Complex
(Integer)))(Expression (Complex (Integer))) from EXPR2(COMPLEX INT,INT)
 
which means that it is applying the map function to evaluate the
z+->simplify(%i^2) function 2049 times. Of course, evaluating is not the
problem, the problem is how the function is evaluated. In Axiom, the appearance
of %i means it has to convert the value to Float because romberg requires the
first argument to be a function: Float -> Float.

To understand what is happening and indeed it is troubling to find out, try the
following:

(3) -> g:Float->Float
                                   Type: Void
(4) -> g(z)==simplify(%i^2)::Float
                                   Type: Void
(5) -> g(5)
   Compiling function g with type Float -> Float

   (5)  - 1.0
                                   Type: Float
(6) -> )time on
(6) -> romberg(g, 0, 1, 0.1, 0.1, 10, 12)

   (6)  [value= - 1.0,error= 0.0,totalpts= 2049,success= true]
   Type: Record(value: Float,error: Float,totalpts: Integer,success: Boolean)
   Time: 2.78 (IN) + 2.18 (EV) + 0.27 (OT) + 0.60 (GC) = 5.83 sec

there is no improvement at all! The interpreter DID use the compiled version of
g but the code reflects faithfully the definition of g, not what it simplifies
to! Notice below, g has been compiled at (5).

(7) -> g(7)

 Function Selection for g
      Arguments: FLOAT

 [1]  signature:   FLOAT -> FLOAT
      implemented: local function *1;g;1;initial


 Function Selection for map by coercion facility (map)
      Arguments: ((COMPLEX INT -> INT),EXPR COMPLEX INT)
      Target type: EXPR INT

 [1]  signature:   ((COMPLEX INT -> INT),EXPR COMPLEX INT) -> EXPR INT
      implemented: slot (Expression (Integer))(Mapping (Integer) (Complex (Integ
er)))(Expression (Complex (Integer))) from EXPR2(COMPLEX INT,INT)


   (7)  - 1.0
                      Type: Float
                      Time: 0.02 (OT) = 0.02 sec

The issue is therefore one of mathematical optimization in the compiler, but
compilers are only built to optimize code, not mathematics.
So the moral is: Do not expect compiler to simplify (mathematically) your code.

Incidentally, timing in Axiom, and also in Maple, may not be very reliable.
Running Maple 5, starting from scratch, I got different timing for below (Maple
may cache values), but the worst time is the simplest code on first run in the
order given:

restart; time(evalf(Int(expand(sqrt(-1)^2), z=0..1)));
> 

                                 .015

> restart; time(evalf(Int((sqrt(-1)^2), z=0..1)));
> 

                                 .016

> restart; time(evalf(Int(simplify(expand(sqrt(-1)^2)), z=0..1)));
> 

                                 .015

> restart; time(evalf(Int(expand(simplify(sqrt(-1)^2)), z=0..1)));

                                 .016

> restart; time(evalf(Int(1, z=0..1)));

                                 .032

When the last command is repeated, time becomes .016.

In Mathematica, there are two ways to define a function: Set and SetDelayed and
SetDelayed will also exhibit a big penalty:

Set[g[z_], Simplify[I^2]];
SetDelayed[h[z_], Simplify[I^2]];
Timing[Table[g[z],{z,1,10000}];]
   {0.04 Second, Null}
Timing[Table[h[z],{z,1,10000}];]
   {0.55 Second, Null}

I think there is no equivalent to Set in Axiom. So the more you try to coax
Axiom to "simplify", the worse it becomes:

(8) -> g(z) == eval(simplify(%i^2)::Float)

   Compiled code for g has been cleared.
   1 old definition(s) deleted for function or rule g

                         Type: Void
(9) -> g(5)

   Compiling function g with type Float -> Float

   (9)  - 1.0
                         Type: Float
                                       

(10) -> romberg(z+->g(z), 0, 1, 0.1, 0.1, 10, 12)

   (10)  [value= - 1.0,error= 0.0,totalpts= 2049,success= true]
   Type: Record(value: Float,error: Float,totalpts: Integer,success: Boolean)
   Time: 3.08 (IN) + 2.87 (EV) + 0.28 (OT) + 0.35 (GC) = 6.58 sec

The only way I found that can simulate Set is to do this in two steps (and you
must include the coercion to Float):

(19) -> a:= simplify(%i^2)::Float

(20) -> g(z)==a

(21) -> romberg(g, 0, 1, 0.1, 0.1, 10, 12)

   Time: 0.03 (EV) + 0.03 (OT) = 0.07 sec

\start
Date: Mon, 17 Jan 2005 18:34:28 -0500
From: Bill Page
To: William Sit
Subject: re: Mathaction edit/preview/save problem

On Monday, January 17, 2005 6:14 PM I wrote:
> 
> William, I have spent a bit of time trying to research your
> network problem. There are several reports on the web that seem
> related to your problem of "Document has no data" that suggest
> that this might be a "spyware" kind of problem or perhaps caused
> by the incorrect removal of some other network software. The
> suggested solution is given here:
> 
> http://www.cexx.org/lspfix.htm
> 
> LSP-Fix
> 
> Repairs Winsock 2 settings, caused by buggy or
> improperly-removed Internet software, that result in loss
> of Internet access
> 

Since you are using Windows XP (SP2) here is another link
with details that might help correct the problem:

http://windowsxp.mvps.org/winsock.htm

Repair/Reset Winsock settings (Links)

Most of the Internet connectivity problems arise out of
corrupt Winsock settings. Windows sockets settings may get
corrupted due to a networking software installation, spyware
or remnants of it. You may notice errors such as
"Page cannot be displayed" or similar, in Internet Explorer.
You will be able to get connected to the Internet, but the
packets won't transfer back and forth. One of the main cause
for these problems is the corruption of Winsock settings.
In any case, you may use these methods to repair/reset the
Windows Sockets settings to defaults.

WinSock XP Fix - fix XP internet connectivity: 
http://www.snapfiles.com/get/winsockxpfix.html

How to determine and recover from Winsock2 corruption: 
http://support.microsoft.com/?kbid=811259

Error message when you try to connect to network: An operation
was attempted on something that is not a socket: 
http://support.microsoft.com/?kbid=817571

How to Reset Internet Protocol (TCP/IP) in Windows XP:
http://support.microsoft.com/?kbid=299357

Windows XP Service Pack 2 - New Winsock NETSH commands (try this first)

Winsock now has the ability to self-heal after a user
uninstalls such an LSP. Two new Netsh commands are available
in Windows XP Service Pack 2.

* netsh winsock reset catalog

This command resets the Winsock catalog to the default
configuration. This can be useful if a malformed LSP is
installed that results in loss of network connectivity.
While use of this command can restore network connectivity,
it should be used with care because any previously-installed
LSPs will need to be re-installed.

* netsh winsock show catalog

This command displays the list of Winsock LSPs that are
installed on the computer.

\start
Date: Mon, 17 Jan 2005 19:43:37 -0500
From: Bill Page
To: Martin Rubey
Subject: re: hyperdoc

On Monday, January 17, 2005 12:18 PM Martin Rubey wrote:
> 
> there are some things I really dislike about MathML (and 
> html, in fact):
> 
> * I cannot read it without browser.
> * I find it very hard to edit.
> * I cannot convert it to readable LaTeX, if at all.
> 
> there are some things I really like about LaTeX:
> 
> * I can read it without any tools, if necessary.
> * I can edit it easily. (even without AucTeX, if necessary)
> * I can convert it to html.
> * I can send it to www.arxiv.org.
> 

Martin, I think you are comparing two things that are inherently
different. It is sort of like comparing postscript to LaTeX or
even dvi to LaTeX. Of course postscript is:

* cannot be read it without a program (e.g. ghostscript).
* very hard to edit.
* cannot convert it to readable LaTeX, if at all.

Like dvi and postscript, HTML and MathML are primarily *presentation*
formats. They are (arguably) optimized for portability and ease of
communication between machines. They are not really intended to be
easy to handle for a human being, although some people do code
directly and a experienced coder can easily read postscript, HTML
and MathML if they really need to with additional tools.

LaTeX on the other hand is an input format. It is intended to be
directly coded by a human being. But doing this inevitably does
require some significant training, just ask a Microsoft WORD user.
(No, I don't mean to compare WORD and LaTeX, my point is only
that ease of use can be quite subjective.) dvi is the native
TeX presentation format and it definitely is not intended to
be manipulated directly by a user.

LaTeX is optimized for specifying how mathematical text looks,
but it does not do well as an input language for computation. For
that most computer algebra systems have developed their own input
language that carries the essential semantics of what the user
wants to compute. Usually this can be converted to LaTeX for
display but most systems (e.g. Maple) don't bother unless asked.

OpenMath (which is closely related to MathML) is potentially a
way to provide a common input language or even an exchange
language between systems with enough semantics to allow unambiguous
computation. But OpenMath is again a language more like HTML
except that it is an "input presentation" language rather than
an "output presentation" language. So it is likely that most
systems will still use their own human writable input language.
It is just that OpenMath fits as a standard somewhere in the
middle so that in principle one could use the same human writable
input language with more than one system. This would have some
obvious applications on MathAction even now between Axiom and
Reduce.

\start
Date: Mon, 17 Jan 2005 19:37:33 -0500
From: Stephen Wilson
To: Tim Daly
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

I am no longer baffled. The explanation for the generic arith
vs. fixnum arith is in macros.lisp. In the following code from
-REPEAT, X is bound to a form such as '((STEP |i| 3 1)):

  (COND ((AND (EQ (CAAR X) 'STEP)
                  (|member| (CADDAR X) '(2 1 0 (|One|) (|Zero|)))
                  (|member| (CADR (CDDAR X)) '(1 (|One|))))
             (SETQ X (CONS (CONS 'ISTEP (CDAR X)) (CDR X))) ))
                        ; A hack to increase the likelihood of small integers

So, one `rule' is, if you iterate with a sequence with lower bound
0,1, or 2, with an increment of 1, you get fixnum arith. Otherwise you
get generic arithmetic.

However, this is not a hard and fast rule, since the compiler can say
'(ISTEP |i| 5 23) [say] during code generation and force fixnum arith. 


This leads to a question. Tim, in interp/wi2.boot we have a
redefinition of compIterator (default implementation is in
iterator.boot). This new definition makes an attempt at deciding when
fixnum stepping code should be generated. Do you have an explanation
as to why is this not the default definition? The original version of
the code in iterator.boot is what gets called.

I'm wondering if it is possible that during the fixedPoint build if
some of the new definitions (particularly those in wi2.boot,
xruncomp.boot) are being autoloaded during compilation. The changes
which I have already noted in the generated lisp seem to support this
(fixnum arith vs. generic arith, inlining of trivial coercions,
etc). All the changes make sense if they are the result of calling one
of the `improved' functions which these files redefine. 

Sincerely,
Steve



On Mon, Jan 17, 2005 at 01:39:45PM -0500, Stephen Wilson wrote:
> 
> Tim, 
> 
> I compleatly fine with the fixnum declaration. We just need to make
> sure it is a rule programmers can rely on. Consider:
> 
> )abbrev package ITER Iter
> Iter(): E == I where
>   E == with
>     iter: () -> Void
>   I == add
>     iter(): Void == 
>       for i in 2.. repeat
>          print(i::OutputForm)
> 
> 
> The relavent lisp decalres we are using fixnums:
> 
>       (LETT |i| (QSADD1 |i|) |ITER;iter;V;1|)
> 
> 
> Now compile the above with a lower bound of 3:
> 
>       for i in 3.. repeat
>          print(i::OutputForm)
> 
> 
> We get generic arithmetic:
> 
>       (LETT |i| (+ |i| 1) |ITER;iter;V;1|)
> 
> 
> Baffled,
> Steve
> 
> 
> On Mon, Jan 17, 2005 at 12:23:36PM -0500, root wrote:
> > Steve,
> > 
> > I don't know if there is an actual statement to the effect that
> > the upper bound on a loop would be a register-sized number (32
> > or 64 bits) but at 6Mhz it seemed impossible that one could 
> > run a loop of any consequence for greater than 2^32 or 2^64
> > iterations. If you wanted to do that you'd have to do the
> > looping using some other construct. In general it is safe to
> > assume that the upper bound of the register size cannot be
> > exceeded. There is a practical performance difference to
> > be gained by using (declare (fixnum  as the compiler can,
> > in the best case, assign a register to the loop variable.
> > 

\start
Date: Mon, 17 Jan 2005 20:03:34 -0500
From: Bill Page
To: Martin Rubey
Subject: re: hyperdoc

On Monday, January 17, 2005 7:44 PM I wrote:

> ... 
> LaTeX on the other hand is an input format. It is intended to be
> directly coded by a human being. But doing this inevitably does
> require some significant training, just ask a Microsoft WORD user.
> (No, I don't mean to compare WORD and LaTeX, my point is only
> that ease of use can be quite subjective.)

A better comparison would be TeXmacs and LaTeX. TeXmacs is
intended to be easier to learn and (much) easier to read.

It is interesting to note that like OpenMath, TeXmacs can be
used as an common input language to computer algebra systems
just as it is now used to interpret the LaTeX output of Axiom
and many other systems. The internal coding of TeXmacs 
documents (in principle) includes enough semantics of the
mathematics to allow unambiguous conversion to the native input
language of a system like Axiom. E.g. what appears as in
integral sign on the screen in TeXmacs can generate the

  `integrate(...)'

command as input for Axiom. An extended program similar to
tm_axiom would be required. So far this ability has not been
exploited by very many TeXmacs add-ons.

\start
Date: Mon, 17 Jan 2005 20:51:44 -0500
From: Stephen Wilson
To: Tim Daly
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

> I'm wondering if it is possible that during the fixedPoint build if
> some of the new definitions (particularly those in wi2.boot,
> xruncomp.boot) are being autoloaded during compilation. The changes
> which I have already noted in the generated lisp seem to support this
> (fixnum arith vs. generic arith, inlining of trivial coercions,
> etc). All the changes make sense if they are the result of calling one
> of the `improved' functions which these files redefine. 


I have just confirmed that the interpsys images used during the
first-iteration and second-iteration fixedPoint build are different.
I cooked up a representative spad file which does trigger the
variations in generated code as we have been seeing. 

Perhaps we should modify the makefiles to guarantee a `canonical'
axiom image.

At this point, I am confident that with updated bootstrap code, and a
constant axiom image, we will get arrive at a fixed point after a
single pass. 

\start
Date: Mon, 17 Jan 2005 21:09:12 -0500
From: Bill Page
To: Stephen Wilson
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

On Monday, January 17, 2005 8:52 PM you wrote:
> ... 
> I have just confirmed that the interpsys images used during
> the first-iteration and second-iteration fixedPoint build are
> different.

You are right! Something in the current Makefile causes interpsys
to be re-built even though the only thing that has changed is
the *.NRLIB's. I noticed this but it did not occur to me that
re-building interpsys would have any effect. I thought that this
was just an inefficiency in the Makefile dependencies.

> I cooked up a representative spad file which does trigger the
> variations in generated code as we have been seeing. 
> 
> Perhaps we should modify the makefiles to guarantee a `canonical'
> axiom image.

I will look more closely at the Makefile to see if I can tell
why interpsys is being rebuilt.

> 
> At this point, I am confident that with updated bootstrap code,
> and a constant axiom image, we will get arrive at a fixed point
> after a single pass.

I wonder if both are necessary or is it only the change in
interpsys?

\start
Date: Mon, 17 Jan 2005 21:38:18 -0500
From: Stephen Wilson
To: Bill Page
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

On Mon, Jan 17, 2005 at 09:09:12PM -0500, Page, Bill wrote:
> I wonder if both are necessary or is it only the change in
> interpsys?

The bootstrap code does influence the generated code for RECLOS and
ROIRC (SINT's missing `one?' is showing up here).

We know the bootstrap code is out of sync, so it would probably be a
good idea to refresh it. Note that when I built a system with fresh
bootstrap code, even though the generated lisp code was the same save
for RECLOS and ROIRC, I did notice differences in how domains vectors
were being instantiated at runtime (the vectors had the same layout,
just that the runtime lookup of certain functions was proceeding
differently).

\start
Date: Mon, 17 Jan 2005 22:31:15 -0500
From: Tim Daly
To: Bill Page
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

(btw, it appears that i've been automatically unsubscribed from
the axiom mailing lists due to excessive mail bounces. I've just
now fixed that. sigh.)

The build sequence should be:

obj/linux/bin/lisp      ...  contains the socket extensions
obj/linux/bin/bootsys   ...  contains the boot -> lisp compiler
                             used to compile the interp/*.boot files
obj/linux/bin/depsys    ...  contains macros used by axiom
                             used for compiling the intermediate lisp files
obj/linux/bin/interpsys ...  contains the final image
                             used to compile the algebra
obj/linux/bin/AXIOMsys       contains the final image
                             a clean copy for the end user


I've attached the interesting part of a console log. At this point
the Axiom build is making the transition from building the BOOTSTRAP
algebra to building the non-BOOTSTRAP algebra.

Notice that the BOOTSTRAP algebra is just lisp code. This code is 
compiled in a DEPSYS image so that macros are properly expanded.
However it is clear that the BOOTSTRAP lisp code was not compiled by
the "new" compiler.

Next we see the transition to compiling the non-BOOTSTRAP algebra.
This is done in the interpsys image. It is also done in an image 
that has access to only the BOOTSTRAP algebra code. Thus the 
new compiler might not have all of the algebra-defined replacements
available at compile time. Notice the autoload files that contain
the optimizations.

A second or third round of compiles will expose the algebra-based
optimizations and these will be compiled into the code. Since these
are only optimizations the final results should not be affected.

Also note that the BOOTSTRAP algebra is recompiled as the last step
of building the algebra from scratch so that it can use the circular
definitions.

==========================================================================
====  running DEPSYS image ===============================================
==========================================================================

BOOT>0 making /home/arch/axiom--hyperdoc--1--base-0/int/algebra/VECTOR.lsp from /home/arch/axiom--hyperdoc--1--base-0/src/algebra/vector.spad.pamphlet
0 making /home/arch/axiom--hyperdoc--1--base-0/int/algebra/VECTOR.o from /home/arch/axiom--hyperdoc--1--base-0/int/algebra/VECTOR.lsp

>
Compiling VECTOR.lsp.
End of Pass 1.  
End of Pass 2.  
OPTIMIZE levels: Safety=0 (No runtime error checking), Space=0, Speed=3
Finished compiling VECTOR.o.
#p"VECTOR.o"

BOOT>0 making /home/arch/axiom--hyperdoc--1--base-0/int/algebra/AHYP.spad from /home/arch/axiom--hyperdoc--1--base-0/src/algebra/trigcat.spad.pamphlet

==========================================================================
====  running AXIOMSYS image =============================================
==========================================================================


0 making /home/arch/axiom--hyperdoc--1--base-0/int/algebra/AHYP.NRLIB from /home/arch/axiom--hyperdoc--1--base-0/int/algebra/AHYP.spad
                        AXIOM Computer Algebra System 
              Version of Friday November 19, 2004 at 16:36:16 
-----------------------------------------------------------------------------
   Issue )copyright to view copyright notices.
   Issue )summary for a summary of useful system commands.
   Issue )quit to leave AXIOM and return to shell.
-----------------------------------------------------------------------------
 
   Using local database /home/arch/axiom--hyperdoc--1--base-0/src/share/algebra/compress.daase..   Using local database /home/arch/axiom--hyperdoc--1--base-0/src/share/algebra/interp.daase..
   Using local database /home/arch/axiom--hyperdoc--1--base-0/src/share/algebra/operation.daase..
   Using local database /home/arch/axiom--hyperdoc--1--base-0/src/share/algebra/category.daase..
   Using local database /home/arch/axiom--hyperdoc--1--base-0/src/share/algebra/browse.daase..
(1) ->    Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/apply.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/c-doc.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/c-util.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/profile.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/category.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/compiler.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/define.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/functor.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/info.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/iterator.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/modemap.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/nruncomp.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/package.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/htcheck.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/xruncomp.
   Compiling AXIOM source code from file 
      /home/arch/axiom--hyperdoc--1--base-0/int/algebra/AHYP.spad using
      old system compiler.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/parsing.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/bootlex.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/def.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/fnewmeta.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/metalex.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/metameta.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/parse.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/postpar.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/postprop.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/preparse.
   AHYP abbreviates category ArcHyperbolicFunctionCategory 
------------------------------------------------------------------------
   initializing NRLIB AHYP for ArcHyperbolicFunctionCategory 
   compiling into NRLIB AHYP 

;;;     ***       |ArcHyperbolicFunctionCategory| REDEFINED
Time: 0 SEC.

   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/bc-matrix.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/bc-misc.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/bc-solve.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/bc-util.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/ht-util.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/htsetvar.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/ht-root.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/br-con.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/br-data.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/showimp.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/br-op1.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/br-op2.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/br-search.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/br-util.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/topics.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/br-prof.
   Loading /home/arch/axiom--hyperdoc--1--base-0/mnt/linux/autoload/br-saturn.
   finalizing NRLIB AHYP 
   Processing ArcHyperbolicFunctionCategory for Browser database:
--------(acosh ($ $))---------
--------(acoth ($ $))---------
--------(acsch ($ $))---------
--------(asech ($ $))---------
--------(asinh ($ $))---------
--------(atanh ($ $))---------
--------constructor---------
Compiling /home/arch/axiom--hyperdoc--1--base-0/int/algebra/AHYP.NRLIB/code.lsp.

\start
Date: Mon, 17 Jan 2005 20:56:52 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#10 romberg slowdown] (new) 

Vladimir Bondarenko wrote:

> -----------------------
> -- even worse
> -----------------------
> 
> -> romberg(z+->simplify(%i^2), 0, 1, 0.1, 0.1, 10, 12)
> 
>    [value= - 1.0,error= 0.0,totalpts= 2049,success= true]
>    Time: 3.07 (IN) + 2.25 (EV) + 0.18 (OT) + 0.48 (GC) = 5.98 sec
> 
> .........................................................................
> 
> A bloodcurdling guesswork, Does AXIOM each time call simplify/expand ?!
> 
> Or... or what causes this user's nightmare?

I tried the above, 

[snipped]

Function Selection for ^
     Arguments: (COMPLEX INT,PI)

[1]  signature:   (COMPLEX INT,PI) -> COMPLEX INT
     implemented: slot $$(PositiveInteger) from COMPLEX INT
[2]  signature:   (COMPLEX INT,PI) -> COMPLEX INT
     implemented: slot $$(PositiveInteger) from COMPLEX INT

----- This is the cause of the problem: Complex arithmetic

Function Selection for simplify
     Arguments: COMPLEX INT
     Target type: FLOAT

[1]  signature:   EXPR COMPLEX INT -> EXPR COMPLEX INT
     implemented: slot (Expression (Complex (Integer)))(Expression (Complex (In
eger))) from TRMANIP(COMPLEX INT,EXPR COMPLEX INT)

----- The only simplify is from EXPR Complex Integer

Function Selection for map by coercion facility (map)
     Arguments: ((COMPLEX INT -> INT),EXPR COMPLEX INT)
     Target type: EXPR INT

[1]  signature:   ((COMPLEX INT -> INT),EXPR COMPLEX INT) -> EXPR INT
     implemented: slot (Expression (Integer))(Mapping (Integer) (Complex (Integ
r)))(Expression (Complex (Integer))) from EXPR2(COMPLEX INT,INT)

----- which requires the answer to stay in EXPR Complex Integer after 
----- "simplification", which then require ti to be converted

and found that the interpreter printed out 2049 (or thereabout) 

 Function Selection for map by coercion facility (map) 
      Arguments: ((COMPLEX INT -> INT),EXPR COMPLEX INT) 
      Target type: EXPR INT 
 
 [1]  signature:   ((COMPLEX INT -> INT),EXPR COMPLEX INT) -> EXPR INT
      implemented: slot (Expression (Integer))(Mapping (Integer) (Complex
(Integer)))(Expression (Complex (Integer))) from EXPR2(COMPLEX INT,INT)
 
which means that it is applying the map function to evaluate the
z+->simplify(%i^2) function 2049 times. Of course, evaluating is not the
problem, the problem is how the function is evaluated. In Axiom, the appearance
of %i means it has to convert the value to Float because romberg requires the
first argument to be a function: Float -> Float.

To understand what is happening and indeed it is troubling to find out, try the
following:

(3) -> g:Float->Float
                                   Type: Void
(4) -> g(z)==simplify(%i^2)::Float
                                   Type: Void
(5) -> g(5)
   Compiling function g with type Float -> Float

   (5)  - 1.0
                                   Type: Float
(6) -> )time on
(6) -> romberg(g, 0, 1, 0.1, 0.1, 10, 12)

   (6)  [value= - 1.0,error= 0.0,totalpts= 2049,success= true]
   Type: Record(value: Float,error: Float,totalpts: Integer,success: Boolean)
   Time: 2.78 (IN) + 2.18 (EV) + 0.27 (OT) + 0.60 (GC) = 5.83 sec

there is no improvement at all! The interpreter DID use the compiled version of
g but the code reflects faithfully the definition of g, not what it simplifies
to! Notice below, g has been compiled at (5).

(7) -> g(7)

 Function Selection for g
      Arguments: FLOAT

 [1]  signature:   FLOAT -> FLOAT
      implemented: local function *1;g;1;initial


 Function Selection for map by coercion facility (map)
      Arguments: ((COMPLEX INT -> INT),EXPR COMPLEX INT)
      Target type: EXPR INT

 [1]  signature:   ((COMPLEX INT -> INT),EXPR COMPLEX INT) -> EXPR INT
      implemented: slot (Expression (Integer))(Mapping (Integer) (Complex (Integ
er)))(Expression (Complex (Integer))) from EXPR2(COMPLEX INT,INT)


   (7)  - 1.0
                      Type: Float
                      Time: 0.02 (OT) = 0.02 sec

The issue is therefore one of mathematical optimization in the compiler, but
compilers are only built to optimize code, not mathematics.
So the moral is: Do not expect compiler to simplify (mathematically) your code.

Incidentally, timing in Axiom, and also in Maple, may not be very reliable.
Running Maple 5, starting from scratch, I got different timing for below (Maple
may cache values), but the worst time is the simplest code on first run in the
order given:

restart; time(evalf(Int(expand(sqrt(-1)^2), z=0..1)));
> 

                                 .015

> restart; time(evalf(Int((sqrt(-1)^2), z=0..1)));
> 

                                 .016

> restart; time(evalf(Int(simplify(expand(sqrt(-1)^2)), z=0..1)));
> 

                                 .015

> restart; time(evalf(Int(expand(simplify(sqrt(-1)^2)), z=0..1)));

                                 .016

> restart; time(evalf(Int(1, z=0..1)));

                                 .032

When the last command is repeated, time becomes .016.

In Mathematica, there are two ways to define a function: Set and SetDelayed and
SetDelayed will also exhibit a big penalty:

Set[g[z_], Simplify[I^2]];
SetDelayed[h[z_], Simplify[I^2]];
Timing[Table[g[z],{z,1,10000}];]
   {0.04 Second, Null}
Timing[Table[h[z],{z,1,10000}];]
   {0.55 Second, Null}

I think there is no equivalent to Set in Axiom. So the more you try to coax
Axiom to "simplify", the worse it becomes:

(8) -> g(z) == eval(simplify(%i^2)::Float)

   Compiled code for g has been cleared.
   1 old definition(s) deleted for function or rule g

                         Type: Void
(9) -> g(5)

   Compiling function g with type Float -> Float

   (9)  - 1.0
                         Type: Float
                                       

(10) -> romberg(z+->g(z), 0, 1, 0.1, 0.1, 10, 12)

   (10)  [value= - 1.0,error= 0.0,totalpts= 2049,success= true]
   Type: Record(value: Float,error: Float,totalpts: Integer,success: Boolean)
   Time: 3.08 (IN) + 2.87 (EV) + 0.28 (OT) + 0.35 (GC) = 6.58 sec

The only way I found that can simulate Set is to do this in two steps (and you
must include the coercion to Float):

(19) -> a:= simplify(%i^2)::Float

(20) -> g(z)==a

(21) -> romberg(g, 0, 1, 0.1, 0.1, 10, 12)

   Time: 0.03 (EV) + 0.03 (OT) = 0.07 sec

\start
Date: Mon, 17 Jan 2005 21:13:44 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#16 Serious One Line Crashing Axiom] (new) 

WS> ******Warning: Please save your Axiom session before trying this!

WS>                         AXIOM Computer Algebra System
WS>               Version of Tuesday November 30, 2004 at 21:11:14
WS> ------------------------------------------------------------------------
WS>    Issue )copyright to view copyright notices.
WS>    Issue )summary for a summary of useful system commands.
WS>    Issue )quit to leave AXIOM and return to shell.
WS> ------------------------------------------------------------------------

(1) ->> typeOf(1)

WS>    (1)  PositiveInteger
WS>                              Type: Domain

(2) ->> typeOf(1)::OutputForm

WS>    (2)  PositiveInteger()
WS>                              Type: OutputForm
(3) ->> print(typeOf(1)::OutputForm)

WS> ********** CRASH *************

WS> This happens on both Windows (above) and Fedora FC2 (October 25, 2004).
WS> But NOT on NAG version:

WS> ***** Error stack overflow

WS> and NAG version did not crash, but still possibly a bug.

WS> Sorry, I did not update to the newest version. Please test!

\start
Date: Mon, 17 Jan 2005 21:15:12 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#16 Serious One Line Crashing Axiom] NAG version example

Here is the lisp info on NAG version:

Starts dribbling to crash.out (Sat Oct 23 09:27:10 2004)

G82322 (65) -> print(typeOf(1)::OutputForm)

 Function Selection for print
      Arguments: OUTFORM 
 
 [1]  signature:   OUTFORM -> VOID
      implemented: slot (Void)$ from OUTFORM
 

+++ Error stack overflow: 

+++ Error stack overflow: 
 
Break loop (:? for help)> :?
:Q   disables backtrace
:V   enables backtrace
:X   exits from break loop
else enter LISP expressions for evaluation
Break loop (:? for help)> :V
Backtrace now enabled
Break loop (:? for help)> (si bt 1)

 

Break loop (:? for help)> :X
=> NIL
Break loop (:? for help)> :X
Arg1: NIL
Calling: BREAK
Inside: |handleLispBreakLoop|
Arg1: |break|
Calling: BRIGHTPRINT-0
Inside: SAYBRIGHTLY1
Arg1: " "
Arg2: #F[... 00000000 0808dd54 0808e008 00000050 00000000 0808e21c 080970a0
00000400]
Calling: |sayBrightly|
Inside: |handleLispBreakLoop|
Arg1: |break|
Calling: |member|
Inside: |outputTran|
Inside: |outputTran|

[snipped, many, many more lines]]

Inside: |outputTran|
Inside: |outputTran|

Arg1: (BRACKET (AGGLST (|PositiveInteger|) (|lookupComplete| %(...) %(...)) (((
|commutative| "*") . 0)) 0 (%(...) %(...) . %(...)) %(...) (|PositiveInteger|) (
|Boolean|) (|Union| $ (QUOTE "failed")) (|SingleInteger|) (|String|)
(|OutputForm|)))
Calling: |outputTran|
Inside: |mathprint|
Arg1: %(...)
Arg1: #:|OUTFORM;print;$V;1|
Calling: |timedEvaluate|
Inside: |timedEVALFUN|
Arg1: (SPADCALL (|PositiveInteger|) (QUOTE (#:|OUTFORM;print;$V;1| . %(...))))
Calling: |timedEVALFUN|
Inside: |evalFormMkValue|
Arg1: %(...)
Arg2: (SPADCALL (|PositiveInteger|) (QUOTE (#:|OUTFORM;print;$V;1| . %(...))))
Arg3: (|Void|)
Calling: |evalFormMkValue|
Inside: |evalForm|
Arg1: %(...)
Arg2: |print|
Arg3: ((%(...) (%(...) %(...)) |OutputForm|))
Arg4: (((#1=(|OutputForm|) #2=(|Void|) #1#) (#2# $) (NIL)))
Inside: |bottomUpForm2|
Arg1: (%(...) (%(...) (%(...) %(...)) |OutputForm|))
Arg2: %(...)
Arg3: |print|
Arg4: ((%(...) (%(...) %(...)) |OutputForm|))
Arg5: (((|OutputForm|)))
Inside: |bottomUpForm3|
Arg1: (%(...) (%(...) (%(...) %(...)) |OutputForm|))
Arg2: %(...)
Arg3: |print|
Arg4: ((%(...) (%(...) %(...)) |OutputForm|))
Arg5: (((|OutputForm|)))
Inside: |bottomUpForm|
Arg1: (%(...) (%(...) (%(...) %(...)) |OutputForm|))
Arg2: %(...)
Arg3: |print|
Arg4: ((%(...) (%(...) %(...)) |OutputForm|))
Arg5: (((|OutputForm|)))
Inside: |bottomUp|
Arg1: (%(...) (%(...) (%(...) %(...)) |OutputForm|))
Calling: |bottomUp|
Inside: |interpret1|
Arg1: (|print| (|::| (|typeOf| 1) |OutputForm|))
Arg2: NIL
Arg3: (|Application| ((|id| (|posn| #1=(0 "print(typeOf(1)::OutputForm)" 1 1 
"strings") . 0)) . |print|) (|Coerceto| (|Application| ((|id| (|posn| #1# . 6))
. 
|typeOf|) ((|integer| (|posn| #1# . 13)) . "1")) ((|id| (|posn| #1# . 17)) . 
|OutputForm|)))
Calling: |interpret1|
Inside: |interpret|
Arg1: ((|print| (|::| (|typeOf| 1) |OutputForm|)) (|Application| ((|id| (|posn|
#1=(
0 "print(typeOf(1)::OutputForm)" 1 1 "strings") . 0)) . |print|) (|Coerceto| (
|Application| ((|id| (|posn| #1# . 6)) . |typeOf|) ((|integer| (|posn| #1# .
13)) . 
"1")) ((|id| (|posn| #1# . 17)) . |OutputForm|))))
Calling: |interpret|
Inside: |interpretTopLevel|
Arg 1: (|print| (|::| (|typeOf| 1) |OutputForm|))
Arg 2: (|Application| ((|id| (|posn| #1=(0 "print(typeOf(1)::OutputForm)" 1 1 
"strings") . 0)) . |print|) (|Coerceto| (|Application| ((|id| (|posn| #1# . 6))
. 
|typeOf|) ((|integer| (|posn| #1# . 13)) . "1")) ((|id| (|posn| #1# . 17)) . 
|OutputForm|)))
Calling: |interpretTopLevel|
Inside: |processInteractive1|
Arg 1: (|print| (|::| (|typeOf| 1) |OutputForm|))
Arg 2: (|Application| ((|id| (|posn| #1=(0 "print(typeOf(1)::OutputForm)" 1 1 
"strings") . 0)) . |print|) (|Coerceto| (|Application| ((|id| (|posn| #1# . 6))
. 
|typeOf|) ((|integer| (|posn| #1# . 13)) . "1")) ((|id| (|posn| #1# . 17)) . 
|OutputForm|)))
Calling: |processInteractive1|
Inside: |processInteractive|
Arg1: (|print| (|::| (|typeOf| 1) |OutputForm|))
Calling: |intInterpretPform|
Inside: |phInterpret|
Arg1: ((|carrier| (|ok?| . T) (|ptreePremacro| . #2=(|Application| ((|id|
(|posn| #1=(
0 "print(typeOf(1)::OutputForm)" 1 1 "strings") . 0)) . |print|) (|Coerceto| (
|Application| ((|id| (|posn| #1# . 6)) . |typeOf|) ((|integer| (|posn| #1# .
13)) . 
"1")) ((|id| (|posn| #1# . 17)) . |OutputForm|)))) (|ptree| . #2#) (|lines|
((#1# . 
1) . "print(typeOf(1)::OutputForm)")) (|messages|) (|stepNumber| . 1)))
Calling: APPLY
Inside: |ncConversationPhase|
Inside: |ncConversationPhase|
Arg 1: |phInterpret|
Arg 2: (((|carrier| (|ok?| . T) (|ptreePremacro| . #2=(|Application| ((|id| (
|posn| #1=(0 "print(typeOf(1)::OutputForm)" 1 1 "strings") . 0)) . |print|) (
|Coerceto| (|Application| ((|id| (|posn| #1# . 6)) . |typeOf|) ((|integer|
(|posn| #1# . 
13)) . "1")) ((|id| (|posn| #1# . 17)) . |OutputForm|)))) (|ptree| . #2#)
(|lines| ((#1# . 
1) . "print(typeOf(1)::OutputForm)")) (|messages|) (|stepNumber| . 1))))
Calling: |ncConversationPhase|
Inside: |intloopSpadProcess,interp|
Arg1: ((|carrier| (|ok?| . T) (|ptreePremacro| . #2=(|Application| ((|id|
(|posn| #1=(
0 "print(typeOf(1)::OutputForm)" 1 1 "strings") . 0)) . |print|) (|Coerceto| (
|Application| ((|id| (|posn| #1# . 6)) . |typeOf|) ((|integer| (|posn| #1# .
13)) . 
"1")) ((|id| (|posn| #1# . 17)) . |OutputForm|)))) (|ptree| . #2#) (|lines|
((#1# . 
1) . "print(typeOf(1)::OutputForm)")) (|messages|) (|stepNumber| . 1)))
Arg2: (|Application| ((|id| (|posn| #1=(0 "print(typeOf(1)::OutputForm)" 1 1 
"strings") . 0)) . |print|) (|Coerceto| (|Application| ((|id| (|posn| #1# . 6))
. 
|typeOf|) ((|integer| (|posn| #1# . 13)) . "1")) ((|id| (|posn| #1# . 17)) . 
|OutputForm|)))
Arg3: T
Calling: |intloopSpadProcess,interp|
Inside: |intloopSpadProcess|
Arg1: 1
Arg2: ((((0 "print(typeOf(1)::OutputForm)" 1 1 "strings") . 1) . 
"print(typeOf(1)::OutputForm)"))
Arg3: (|Application| ((|id| (|posn| #1=(0 "print(typeOf(1)::OutputForm)" 1 1 
"strings") . 0)) . |print|) (|Coerceto| (|Application| ((|id| (|posn| #1# . 6))
. 
|typeOf|) ((|integer| (|posn| #1# . 13)) . "1")) ((|id| (|posn| #1# . 17)) . 
|OutputForm|)))
Arg4: T
Inside: |intloopProcess|
Arg 1: 1
Arg 2: T
Calling: |intloopProcessString|
Inside: |intloopReadConsole|
Arg 1: ""
Arg 2: 1
Calling: |intloopReadConsole|
Inside: |SpadInterpretStream|
Arg1: 1
Arg2: (TIM DALY ?)
Arg3: T
Calling: |SpadInterpretStream|
Inside: |intloop|
Calling: |intloop|
Inside: |ncIntLoop|
Calling: |ncIntLoop|
Inside: |ncTopLevel|
G82322 (65) -> G82322 (65) -> )spool

Finished dribbling to crash.out.

William Sit wrote:
> 
> ******Warning: Please save your Axiom session before trying this!
> 
>                         AXIOM Computer Algebra System
>               Version of Tuesday November 30, 2004 at 21:11:14
> ------------------------------------------------------------------------
>    Issue )copyright to view copyright notices.
>    Issue )summary for a summary of useful system commands.
>    Issue )quit to leave AXIOM and return to shell.
> ------------------------------------------------------------------------
> 
> (1) -> typeOf(1)
> 
>    (1)  PositiveInteger
>                              Type: Domain
> 
> (2) -> typeOf(1)::OutputForm
> 
>    (2)  PositiveInteger()
>                              Type: OutputForm
> (3) -> print(typeOf(1)::OutputForm)
> 
> ********** CRASH *************
> 
> This happens on both Windows (above) and Fedora FC2 (October 25, 2004).
> But NOT on NAG version:
> 
> ***** Error stack overflow
> 
> and NAG version did not crash, but still possibly a bug.
> 
> Sorry, I did not update to the newest version. Please test!

\start
Date: Mon, 17 Jan 2005 21:06:20 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#14 arch setup problems] (new) 

RE: [Gcl-devel] Axiom on Windows GCL problems
From: Page, Bill
Subject: RE: [Gcl-devel] Axiom on Windows GCL problems
Date: Mon, 17 Jan 2005 15:38:11 -0500

Mike,

On Thursday, January 13, 2005 12:06 AM you wrote:
> ...
> At some stage (not this fortnight) I am going to have to
> compare detailed setup notes with you as I failed miserably
> in setting up arch last time.
> ...
> 

I know you are working at the end of a modem with arch so
I decided to pass on you specifically some advice that Martin
Rubey solicited from the address@bogus.example.com email list.
The reply contains some very useful information, advice and
references.

-----Original Message-----

Martin Rubey wrote:

> ...At home I have a slow modem connection, at work highspeed.
> Since Axiom is large, changesets however not that much,
> I thought I'd copy the current tree on a CD, bring it home,
> and continue using Arch at home then.
> 
> Of course, this doesn't work (see Subject...)
> 
> Any workarounds?

Delete your pristine trees.  They'll be recreated automatically,
when needed.

However, that's not really the right solution.

When Arch was being designed, Tom Lord was a dialup user, and
so Arch works quite well with modems.

What you do is set up a local mirror of your work archive.
 Arch has commands for this built in.  See "Creating Local
Mirrors..." here:
http://regexps.srparish.net/www/tutorial/html/shared-and-public-archives.htm
l

As you say, changesets are small, and since mirroring just
copies changesets, it's quite feasible to do it on dialup.

Your local mirror will be readonly.  To commit, you'll need
a home archive, which you can mirror to work.  star-merge
should work nicely as a way to move changes between your work
branch and your home branch.

You should also consider setting up revision libraries instead
of using pristrines.  They're faster to use and less of a
hassle once set up. See here:

http://regexps.srparish.net/www/tutorial/html/revision-libraries.html

\start
Date: Mon, 17 Jan 2005 21:08:06 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#15 integrate(1/(1+z^4), z=0..1) :: Complex Float] (new) 

-> integrate(1/(1+z^4), z=0..1) :: Complex Float

  - 0.2437477471 9968052418

\start
Date: Mon, 17 Jan 2005 21:04:45 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#13 AXIOM for Windows: )copyright and )s ummary] (new) 

RE: Re[4]: AXIOM for Windows: )copyright and )s ummary
From: Page, Bill
Subject: RE: Re[4]: AXIOM for Windows: )copyright and )s ummary issue
Date: Mon, 17 Jan 2005 15:26:42 -0500

On Monday, January 17, 2005 3:04 PM Vladimir Bondarenko wrote:

> BP> You must either delete all versions of `cat' that occur
> BP> in directories that occur before Axiom in the path
> 
> This is precisely that I did before trying to input )copyright
> again.

In `c:\Programs Files\axiom\windows\mnt\bin' you should find
a program named "cat.exe". This is the version of cat that Axiom
must run because it has been modified to accept an undelimited
path that includes spaces, like this

  cat c:\Program Files\axiom\windows\mnt\doc\xxx.txt

The normal unix versions of cat will treat the space as
a command parameter separator and so will fail. Axiom should
be inserting delimiters like this

  cat "c:\Program Files\axiom\windows\mnt\doc\xxx.txt"

but it does not. Really, the proper fix for portability between
unix and Windows is to change the coding in Axiom so that it does
not call external programs to display a text file - instead it
should be done by a simple lisp command. This is one of the
changes that I hope will be in the next version.

If you are having difficulty making sure that the proper version
of "cat" is being run by Axiom, then I suggest that you change
the path so that the Axiom directory comes first. You can do
this by

  Start/Settings/Control Panel/System/Advanced/
    Environment Variables/Edit

> 
> BP> Add I await your contribution of a useful bug report with
> BP> baited breath ;)
> 
> To decrease a bit level of your pessimism about my abilities
> I'd just add that it took me less than 15 minutes after
> installation to identify the first math bug I found in AXIOM.

On the contrary I have complete confidence in your ability
to find bugs in Axiom. As I said before: that is the easy part.

What I would really like is if you would take the time to
report these bugs in the proper manner so that this information
is not lost. Then we can hope that sooner or later someone
will come along with enough experience and patience to find a
solution and submit a patch to correct the problem.

Discussing bugs via the email list is not the same as submitting
a proper bug report via the issuetracker at

http://page.axiom-developer.org/zope/mathaction/FrontPage/issuetracker

Unless someone takes the time to convert the email into a bug
report, it is quite possible that 6 months for now the email
discussion will be forgotten.

> 
> Are AXIOM's crashes generated by math the sort of reports you
> are awaiting?

I am not waiting for reports. There is a lot of things to do
with Axiom already. But any report of any kind of problem is
welcome to be submitted. Eventually it will be considered by
someone who has sufficient motivation and time to devote to the
problem. Remember that this is an entirely volunteer open source
project.

> 
> If this is the case, sure, the world's # 1 CAS tester,
> I will supply you with them, and much more.
> 

Please "yes" supply all of them. But please use the issuetracker
to document each problem (after you have discused it by email,
if you wish).

\start
Date: Mon, 17 Jan 2005 20:58:20 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#11 Mathaction edit/save] (new) 

From: Page, Bill
Subject: re: Mathaction edit/preview/save problem
Date: Mon, 17 Jan 2005 18:34:28 -0500

On Monday, January 17, 2005 6:14 PM I wrote:
> 
> William, I have spent a bit of time trying to research your
> network problem. There are several reports on the web that seem
> related to your problem of "Document has no data" that suggest
> that this might be a "spyware" kind of problem or perhaps caused
> by the incorrect removal of some other network software. The
> suggested solution is given here:
> 
> http://www.cexx.org/lspfix.htm
> 
> LSP-Fix
> 
> Repairs Winsock 2 settings, caused by buggy or
> improperly-removed Internet software, that result in loss
> of Internet access
> 

Since you are using Windows XP (SP2) here is another link
with details that might help correct the problem:

http://windowsxp.mvps.org/winsock.htm

Repair/Reset Winsock settings (Links)

Most of the Internet connectivity problems arise out of
corrupt Winsock settings. Windows sockets settings may get
corrupted due to a networking software installation, spyware
or remnants of it. You may notice errors such as
"Page cannot be displayed" or similar, in Internet Explorer.
You will be able to get connected to the Internet, but the
packets won't transfer back and forth. One of the main cause
for these problems is the corruption of Winsock settings.
In any case, you may use these methods to repair/reset the
Windows Sockets settings to defaults.

WinSock XP Fix - fix XP internet connectivity: 
http://www.snapfiles.com/get/winsockxpfix.html

How to determine and recover from Winsock2 corruption: 
http://support.microsoft.com/?kbid=811259

Error message when you try to connect to network: An operation
was attempted on something that is not a socket: 
http://support.microsoft.com/?kbid=817571

How to Reset Internet Protocol (TCP/IP) in Windows XP:
http://support.microsoft.com/?kbid=299357

Windows XP Service Pack 2 - New Winsock NETSH commands (try this first)

Winsock now has the ability to self-heal after a user
uninstalls such an LSP. Two new Netsh commands are available
in Windows XP Service Pack 2.

* netsh winsock reset catalog

This command resets the Winsock catalog to the default
configuration. This can be useful if a malformed LSP is
installed that results in loss of network connectivity.
While use of this command can restore network connectivity,
it should be used with care because any previously-installed
LSPs will need to be re-installed.

* netsh winsock show catalog

This command displays the list of Winsock LSPs that are
installed on the computer.

\start
Date: Mon, 17 Jan 2005 21:02:17 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#12 radicalSolve fails to find all roots ?] (new) 

Re: [Q] radicalSolve fails to find all roots ?
From: William Sit
Subject: Re: [Q] radicalSolve fails to find all roots ?
Date: Mon, 17 Jan 2005 16:31:52 -0500

These are NOT bugs! But the following may be! Consider the equation z^n=1 for n
= 7:

(1) -> radicalSolve(z^7=2)

   (1)
       7+-+      +---+7+-+    2%pi    7+-+    2%pi
   [z= \|2 , z= \|- 1 \|2 sin(----) + \|2 cos(----),
                                7               7
        +---+7+-+    4%pi    7+-+    4%pi
    z= \|- 1 \|2 sin(----) + \|2 cos(----),
                       7               7
        +---+7+-+    6%pi    7+-+    6%pi
    z= \|- 1 \|2 sin(----) + \|2 cos(----),
                       7               7
        +---+7+-+    8%pi    7+-+    8%pi
    z= \|- 1 \|2 sin(----) + \|2 cos(----),
                       7               7
        +---+7+-+    10%pi    7+-+    10%pi
    z= \|- 1 \|2 sin(-----) + \|2 cos(-----),
                       7                7
        +---+7+-+    12%pi    7+-+    12%pi
    z= \|- 1 \|2 sin(-----) + \|2 cos(-----)]
                       7                7
                     Type: List Equation Expression Integer

-------------- comments

Of course, these are correct solutions by Euler's Formula. A bit
surprising that radicalSolve invokes these for z^7=2 and not for
z^7=1; when n is 7, these trignometric values are not embeddable in a
tower of "solvable" extensions. That is, these are not solutions
expressible in terms of radicals (of *real* numbers) and arithmetic
alone. Put another way, the regular 7-gon is not constructible by
compass and ruler alone. From:

http://mathworld.wolfram.com/ConstructiblePolygon.html
http://mathworld.wolfram.com/TrigonometryAngles.html

A necessary and sufficient condition that a regular n-gon be
constructible is that phi(n) be a power of 2, where phi(n) is the
totient function (Krzek 2001, p. 34).

n =  1  2  3  4  5  6  7  8  9  10  11  12  13  14  15  16  17 18 19 20
phi= 1  1  2  2  4  2  6  4  6   4  10   4  12   6   8   8  16  6 18  8
bad=                   x     x       x       x   x              x  x
Vladimir's "not good" values are 
n =                    7            11      13  14  15      17    19

So if you compare the constructible regular n-gons, you can see why
Axiom's results are reasonable: radicalSolve only finds solutions that
are expressible in terms of radicals and arithmetic operations. It did
not find those for n = 15 and 17 probably (I am guessing) because at
the time of implementation, these constructions were not known (at
least to the programmer). On the other hand, for n = 9, 18, the
solutions are expressible in radicals only if radicals of *complex*
numbers are allowed and Axiom found those (perhaps it shouldn't?). The
expansion for (-1)^(1/7) that Vladimir gave involves radicals of
complex numbers, as theory predicts.


When Axiom cannot find solutions, it is (presumably) a PROOF that the
other solutions are NOT solvable by radicals (using *real* numbers),
or at least, there is no known proof that it is solvable at the time
of implementation. (That is why I am surprised at the above result for
z^7=2).

In other words, rather than viewing the answer for z^7=1 as a bug, we should
view the answers for z^7=2, z^7=3 (and may be even z^9=1, z^18=1) as bugs!

Still, the package should be upgraded.

-------------------

(1) -> radicalSolve(z^9=1,z)

   (1)
                                             +------------+
                                             |   +---+
        +------------+       +---+ +-+       |- \|- 3  - 1
        |   +---+          (\|- 1 \|3  - 1) 3|------------
        |- \|- 3  - 1                       \|      2
   [z= 3|------------ , z= -------------------------------,
       \|      2                          2
                           +------------+
                           |   +---+
           +---+ +-+       |- \|- 3  - 1      +----------+
       (- \|- 1 \|3  - 1) 3|------------      | +---+
                          \|      2           |\|- 3  - 1
    z= ---------------------------------, z= 3|---------- ,
                       2                     \|     2
                         +----------+                        +----------+
                         | +---+                             | +---+
         +---+ +-+       |\|- 3  - 1         +---+ +-+       |\|- 3  - 1
       (\|- 1 \|3  - 1) 3|----------     (- \|- 1 \|3  - 1) 3|----------
                        \|     2                            \|     2
    z= -----------------------------, z= -------------------------------,
                     2                                  2
          +---+          +---+
       - \|- 3  - 1     \|- 3  - 1
    z= ------------, z= ----------, z= 1]
             2               2
                      Type: List Equation Expression Integer
                                       
(2) -> radicalSolve(z^7=3)

   (2)
       7+-+      +---+7+-+    2%pi    7+-+    2%pi
   [z= \|3 , z= \|- 1 \|3 sin(----) + \|3 cos(----),
                                7               7
        +---+7+-+    4%pi    7+-+    4%pi
    z= \|- 1 \|3 sin(----) + \|3 cos(----),
                       7               7
        +---+7+-+    6%pi    7+-+    6%pi
    z= \|- 1 \|3 sin(----) + \|3 cos(----),
                       7               7
        +---+7+-+    8%pi    7+-+    8%pi
    z= \|- 1 \|3 sin(----) + \|3 cos(----),
                       7               7
        +---+7+-+    10%pi    7+-+    10%pi
    z= \|- 1 \|3 sin(-----) + \|3 cos(-----),
                       7                7
        +---+7+-+    12%pi    7+-+    12%pi
    z= \|- 1 \|3 sin(-----) + \|3 cos(-----)]
                       7                7
                   Type: List Equation Expression Integer
                                       
(3) -> radicalSolve(z^7=1.)
                                                     7
   WARNING (genufact): No known algorithm to factor ?  - 1.0
     , trying square-free.

   (3)
                                       +-----+
   [z= 1.0, z= 0.7818314824 6802980871\|- 1.0  + 0.6234898018 5873353053,
                               +-----+
    z= 0.9749279121 8182360702\|- 1.0  - 0.2225209339 5631440428,
                               +-----+
    z= 0.4338837391 1755812048\|- 1.0  - 0.9009688679 0241912624,
                                 +-----+
    z= - 0.4338837391 1755812046\|- 1.0  - 0.9009688679 0241912625,
                                 +-----+
    z= - 0.9749279121 8182360702\|- 1.0  - 0.2225209339 563144043,
                                 +-----+
    z= - 0.7818314824 6802980872\|- 1.0  + 0.6234898018 5873353052]
                   Type: List Equation Expression Float
                                                   
(4) -> radicalSolve(z^6+z^5+z^4+z^3+z^2+z+1=0)

   (4)  []
                  Type: List Equation Expression Integer
                                                                                
         


William
-----------------

Vladimir Bondarenko wrote:
> 
> Hi *,
> 
> Any comments are highly appreciated on the following stuff.
> Thank you in advance.
> 
> .....................................................................
> 
> Obviously, all the roots of the equation z^7 = 1 can be expressed in
> radicals, and Mathematica can easily produce the explicit expressions
> in terms of radicals.
> 
> Solve[z^7 == 1, z]
> 
> {{z -> 1}, {z -> -(-1)^(1/7)}, {z -> (-1)^(2/7)}, {z -> -(-1)^(3/7)},
> {{z -> {z -> (-1)^(4/7)}, {z -> -(-1)^(5/7)}, {z -> (-1)^(6/7)}}
> 
> To save the space, below the only example is given.
> 
> FunctionExpand[ComplexExpand[-(-1)^(1/7)]]
> 
> (1/2)*((1/3)*((1/2)*(-1 + I*Sqrt[7]) + ((-1 + I*Sqrt[3])*((1/2)*(-1 +
> I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*((1/2)*(-1 + I*Sqrt[3]) +
> (1/4)*(-1 + I*Sqrt[3])^2)))/(2*(6 + (3/4)*(-1 + I*Sqrt[3])*(-1 +
> I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*(1 + (3/4)*(-1 +
> I*Sqrt[3])^2))^(1/3)) + (1/4)*(-1 + I*Sqrt[3])^2*(6 + (3/4)*(-1 +
> I*Sqrt[3])*(-1 + I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*(1 + (3/4)*(-1 +
> I*Sqrt[3])^2))^(1/3)) +(1/3)*((1/2)*(1 + I*Sqrt[7]) - ((-1 +
> I*Sqrt[3])^2*((1/2)*(-1 -I*Sqrt[7]) + (1/2)*(-1 +
> I*Sqrt[7])*((1/2)*(-1 + I*Sqrt[3]) + (1/4)*(-1 + I*Sqrt[3])^2)))/(4*(6
> + (3/4)*(-1 + I*Sqrt[3])*(-1 - I*Sqrt[7]) + (1/2)*(-1 + I*Sqrt[7])*(1
> + (3/4)*(-1 + I*Sqrt[3])^2))^(1/3)) -(1/2)*(-1 + I*Sqrt[3])*(6 +
> (3/4)*(-1 + I*Sqrt[3])*(-1 - I*Sqrt[7]) + (1/2)*(-1 + I*Sqrt[7])*(1 +
> (3/4)*(-1 + I*Sqrt[3])^2))^(1/3))) + (1/2)*((1/3)*((1/2)*(-1 +
> I*Sqrt[7]) + ((-1 + I*Sqrt[3])*((1/2)*(-1 + I*Sqrt[7]) + (1/2)*(-1 -
> I*Sqrt[7])*((1/2)*(-1 + I*Sqrt[3]) + (1/4)*(-1 + I*Sqrt[3])^2)))/(2*(6
> + (3/4)*(-1 + I*Sqrt[3])*(-1 + I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*(1
> + (3/4)*(-1 + I*Sqrt[3])^2))^(1/3)) +(1/4)*(-1 + I*Sqrt[3])^2*(6 +
> (3/4)*(-1 + I*Sqrt[3])*(-1 + I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*(1 +
> (3/4)*(-1 + I*Sqrt[3])^2))^(1/3)) + (1/3)*((1/2)*(-1 - I*Sqrt[7])
> +((-1 + I*Sqrt[3])^2*((1/2)*(-1 - I*Sqrt[7]) + (1/2)*(-1 +
> I*Sqrt[7])*((1/2)*(-1 + I*Sqrt[3]) + (1/4)*(-1 + I*Sqrt[3])^2)))/(4*(6
> + (3/4)*(-1 + I*Sqrt[3])*(-1 - I*Sqrt[7]) + (1/2)*(-1 + I*Sqrt[7])*(1
> + (3/4)*(-1 + I*Sqrt[3])^2))^(1/3)) +(1/2)*(-1 + I*Sqrt[3])*(6 +
> (3/4)*(-1 + I*Sqrt[3])*(-1 - I*Sqrt[7]) + (1/2)*(-1 + I*Sqrt[7])*(1 +
> (3/4)*(-1 + I*Sqrt[3])^2))^(1/3)))
> 
> According to the AXIOM Book
> 
> AXIOM Book>  Use radicalSolve if you want your solutions expressed in
> AXIOM Book>  terms of radicals.
> 
> However, already for z^7 = 1 this is not so,
> 
> -> radicalSolve(z^7=1, z)
> 
>    [z= 1]
> 
> and the problem exists for 11, 13, 14, 15, 17, 19 etc
> 
> -> for i in 1..20 repeat print([i,#radicalSolve(z^i=1,z)])
> 
>    [1,1]
>    [2,2]
>    [3,3]
>    [4,4]
>    [5,5]
>    [6,6]
>    [7,1]   <-- not good
>    [8,8]
>    [9,9]
>    [10,10]
>    [11,1]  <-- not good
>    [12,12]
>    [13,1]  <-- not good
>    [14,2]  <-- not good
>    [15,7]  <-- not good
>    [16,16]
>    [17,1]  <-- not good
>    [18,18]
>    [19,1]  <-- not good
>    [20,20]

\start
Date: Mon, 17 Jan 2005 21:17:43 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#17 algebra BOOTSTRAP fixed point] (new) 

William, Ralf, Tim;

Keep in mind here that what Steve and I are talking about are
changes in the lisp coding generated by the )compile command
for the *same* spad code between the initial build of Axiom and
a repeat build of the same algebra spad code.

When you run something like:

> (21) -> for i in 10^32 .. 10^32+5 repeat print i

if this loop called PRIMELT (or some other code affected by
the boostrap) then the first version of the lisp code is being
run because you are using only the initial build of Axiom. But
if you recompile PRIMELT and then run your test again, then the
second version of the lisp code is being run.

The fact that the compiled lisp code (which is compiled by
GCL to an object file) is not consistent from the first compile
to the next is the reason why we are concerned about this. We
want to know the reason why this happens.

One reasonable theory is that some algebra code, say A contains
some implicit dependencies on other algebra code B and that
when the code for B changes it causes changes in the code
generated for A. In other words A has to be recompiled because
B changed. This is not too much of a problem in general provided
that we either rebuild all of the algebra each time for any
change or if we have a complete set of dependencies which shows
what depends on what. But the fact that these dependencies form
loops means that some spad code files have to be singled out
as "bootstrap" files. For these one must supply initial lisp
code in order to get the initial `.o' files so that the rest
of the algebra files can be compiled. In the current Axiom
build the bootstrap lisp files are subtly different than the
lisp actually generated by the compiler for the corresponding
spad file. It would appear that the initial differences in
the bootstrap lisp files can be passed on to other files that
depend on them. In the current build, the algebra files must
be compiled twice before no further changes in the generated
lisp code occurs.

>PRIMELT 
> 
> The differences in the generated lisp are w.r.t QSADD1, in compiler
> generated code implementing a for loop. The differences look like:
> 
>     - (LETT |i| (+ |i| 1)
>     + (LETT |i| (QSADD1 |i|)
> 
> In primitiveElement, we use a for loop on `i in 10..'. i is passed to
> symmetricRemainder, defined in IntegerNumberSystem with signature:
> 

> -----Original Message-----
> From: William Sit [address@bogus.example.com">mailto:address@bogus.example.com
> Sent: Monday, January 17, 2005 12:29 PM
> To: Ralf Hemmecke; address@bogus.example.com; address@bogus.example.com
> Subject: re: algebra Makefiles
> withexplicitdependencies, bootstrap, fixed-points etc.
> 
> 
> (21) -> for i in 10^32 .. 10^32+5 repeat print i
>    100000000000000000000000000000000
>    100000000000000000000000000000001
>    100000000000000000000000000000002
>    100000000000000000000000000000003
>    100000000000000000000000000000004
>    100000000000000000000000000000005
>                                         Type: Void
> 
> William Sit wrote:
> > 
> > Let's not forget that 2^32 is over 4 billion.
> > 
> > William
> > --
> > 
> > Ralf Hemmecke wrote:
> > >
> > > This sounds like forbidding
> > >
> > > for i in 10^32 .. repeat ....
> > >
> > > or do I misunderstand something?
> > >
> > > Ralf
> > >
> > > root wrote:
> > > > Steve,
> > > >
> > > > I don't know if there is an actual statement to the effect that
> > > > the upper bound on a loop would be a register-sized number (32
> > > > or 64 bits) but at 6Mhz it seemed impossible that one could
> > > > run a loop of any consequence for greater than 2^32 or 2^64
> > > > iterations. If you wanted to do that you'd have to do the
> > > > looping using some other construct. In general it is safe to
> > > > assume that the upper bound of the register size cannot be
> > > > exceeded. There is a practical performance difference to
> > > > be gained by using (declare (fixnum  as the compiler can,
> > > > in the best case, assign a register to the loop variable.

\start
Date: Mon, 17 Jan 2005 21:19:24 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#17 algebra BOOTSTRAP fixed point] fixnum optimization in new compiler

I compleatly fine with the fixnum declaration. We just need to make
sure it is a rule programmers can rely on. Consider:

)abbrev package ITER Iter
Iter(): E == I where
  E == with
    iter: () -> Void
  I == add
    iter(): Void == 
      for i in 2.. repeat
         print(i::OutputForm)


The relavent lisp decalres we are using fixnums:

      (LETT |i| (QSADD1 |i|) |ITER;iter;V;1|)


Now compile the above with a lower bound of 3:

      for i in 3.. repeat
         print(i::OutputForm)


We get generic arithmetic:

      (LETT |i| (+ |i| 1) |ITER;iter;V;1|)

\start
Date: Mon, 17 Jan 2005 21:28:45 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#18 Axiom domains and Aldor return types] (new) 

Stephen Wilson wrote:

> First, let me thank you for your analysis! I am finding the questions
> raised here very interesting. But I'm still on the other side of the
> fence for the moment :)

I have no problem with that :-) If you read my toss and turn part, I know what
your reasons are and certainly respect that point of view as well. In some
sense, I am playing devil's advocate.
 
> > (I) The algorithm, which is really for S, is now an algorithm for R.
> > It hides the existence of S completely.  It also hides the relevance
> > of p:P.
> 
> The algorithm never needs to know S explicitly. If anything, the
> algorithm involves `something' with satisfies C(R,p). However, the
> meaning of a call to bar(p:R, ...)$Foo will in general carry a level
> of meaning all its own, which need not communicate a dependence on S
> (or C(R,p)). I dont see how this level of semantics involves the
> problems we are discussing.

On the contrary, it has a lot to do! Let me recap your Foo package here for
discussion:
---------
   Foo(R: ModularComputation): with { ... } == add {
          bar(r: R, p:R): R == {

         elem : ResidueClassRing(R, p) :=
                  modularRep(r)$residueClassRing(p)

            -- hairy computation...

         canonicalPreImage(elem)
                } }
---------

Two comments: (1) Axiom can also hide S as you prefer:

    Foo(R,p): T == C where
      R: ModularCategory
      p: Ideal(R)
      Q ==> any domain constructed from R, p
      T == with
        bar: R -> Q
      C == add
        S:= SomeConstructionForResidueClassRing(R,p)
        import S
        bar(r)==
           elem:S:=modularRep(r)$S
            -- hairy computations
           q:Q:= ...

    Calling sequence in some other package, assuming R, p are already
    defined:

       bar(r)$Foo(R,p)

But notice that in such case, S is fixed (hardwired), much like your
residueClassRing(p) is fixed because of encapsulation in
ModularComputation. The original way, with S as a parameter, allows
easy changes of representation of S (hey, except for signature,
bar(r)$Foo(R,p,S) is really a function of 4 parameters).  The Aldor
way would need to replace R by R1, which is another wrapper around the
base ring R. On the other hand, the original way, Q can depend on S
and now it cannot. If Aldor allows signatures like:

    bar:(r:R, p:Ideal(R)) -> BAE(R, p, residueClassRing(p))

that would be more general. But I worry about the efficiency here:
each evaluation of bar would require a new instantiation of
residueClassRing(p) even if p is fixed! I doubt very much the compiler
will optimize the code for this special, but perhaps common
situation. In the Axiom version, because bar does not depend on p (or
rather p is fixed with respect to bar), only one instantiation will be
done.  In a recent message,

A terrible bug: romberg+simplify/expand: slowdown of
              125/300 times

Vladimir gave an example where Axiom does repeatedly invoke a map
function from EF for each of the 2049 evaluations of the function in:

   romberg(z+->simplify(%i^2), 0, 1, 0.1, 0.1, 10, 12)

(use ")set mess bot on" to see the 2049 selections pass you by), even
after the function z+->simplify(%i^2) is compiled as in

   g: (Complex Integer, Integer)->Integer

The interpreter somehow invokes a lift from Complex Integer->Integer
to work over EXPR COMPLEX INT -> EXPR INT simply because %i was used.

But I agree that if you want to hide p, then Axiom cannot handle this because
the signature for bar would not be available.

(2) If you push your argument further, we can say that everything we
compute only depends on what we know about the integers. We can say
there is no need to communicate a dependence on say a polynomial ring
over the integers because all algorithms only work on the integers
(the exponents of the monomials are also integer vectors). But the way
mathematics is developed is to create new objects.  If the algorithm
is really for the new object (residue class ring or the polynomial
ring) then it should be reflected in the signature of the code. If you
think the algorithm is only for R, sure you can hide the new object
even if you need it for computation.  Of course, one can, like
algebraic geometer, take the view of Spec R which encapsulates all its
local rings, but that would be fine if you have algorithms on
sheaves. On the other hand, I think at these high level of
abstractions, it is important to distinguish data structure for an
object, and algorithms for it or its derived objects and not to mix
them up.  That is the reason for package constructors in Axiom, to be
separated from domain constructors. They are like two "independent"
branches of government.

> > (II) For each R:A for which a method to construct S for p:P exist, we
> > must *retroactively* make R:ComputationMethod.
> 
> Again, true. However, I fail to see why this is a issue. When one
> writes the algebra, decisions made during initial design will always
> be rethought. I dont think this is an argument against the
> residueClassRing example as much as it is a proof that `hindsight is
> 20/20'.

I am not arguing against residueClassRing, but more generally and that
is why I abstracted the example. We will never be able to envision all
the possible structures that can be put on a mathematical object at
its first implementation.  The Integer domain is a prime example. But
there are many other too. For example, we have trees implemented, but
tree domains can also have a Hopf algebra structure. That is not what
most would think of when implementing trees.  So that structure, when
needed, say doing renormalization with Feymann graphs in quantum field
theory, would have to be added on later. Whether one wants to add this
directly to the initial construction or not is matter of choice. But
in the end, as my abstract example shows, there is no inherent gain of
computation power or even convenience, and the two calling sequences:

   bar(...)$Algorithm(R,p, Method1(R,p))
   bar(p:P, ...)$Algorithm(R)
(the second should more correctly be written
   bar(p:P, ...)$Algorithm(R1)                   )

are not that much different. So in Aldor, you can choose whichever you
like: encapsulating more structure into R, or separating the
residueClassRing construction (and I indicated that there is more
freedom of expression in Aldor).  In the analogous example I gave,
there are many representations (different data structure, different
term ordering) for the polynomial ring, and it would be crazy to
encapsulate such structure into the coefficient domain R.  Can you
tell me structurally, both in terms of mathematics and coding, any
difference between the polynomial ring example and the residue class
ring example? Why should one be treated differently than the other in
the matter of encapsulation?  (Remember, the P for residue class rings
is Ideal(R), not R and so it is an externally defined domain much like
the P for polynomial ring is List Symbol, external to R.)

> > (III) Now if R has several methods, then we must *rename* R using
> > three different names in (II), even though R is still the same object
> > in category A.  This would be very undesirable if R is Integer.
> 
> For Integer we might say
> 
> ------
>    residueClassRing(p:%):ResidueClassRing(%, p) ==
>       if p < 2^32 then
>          ZechPrimeField(p)
>       else
>          IntegerMod(%,p);
> ------

But this can also be done in Axiom in the domain constructor for the
ResidueClassRing. 
----
     ResidueClassRingForInteger(p) ==
       if p < 2^32 then
          ZechPrimeField(p)
       else
          IntegerMod(%,p);
----

The only difference is you called the domain constructor by a uniform
name (but has to rename the ring R for each separate data structure
for the residue class ring S in making R into ModularComputation).

[Remark: it would be harder if you implement residue class ring more
generally, using ideals insteads of numbers, but I am going along with
your version for now.]
   
But as a style of programming, I would not inline the two segments of
code as above (the then-part and the else-part will be separated by
many lines of code).  So in the end, one would still separately have
two constructors (notice that if not inlined, two names are used:
ZechPrimeField and IntegerMod, and ResidueClassRingForInteger, or
residueClassRing are both wrappers, in addition to the extra level
ModularComputation wrapper). What I am saying is, this extra wrapped
level ("push" direction) is not necessary in Aldor (just as wrapping a
function with dependent signature into a package is not necessary in
Aldor, but in Axiom, that is the unavoidable "lift" direction.)


> If for a given situation we need more information than just what R:A
> and p:P can provide, then variants on the name of a domain constructor
> is an option, but not the only one (or the best one). We could just as
> easily add a second residueClassRing(p, moreInformation) to
> ModularComputation's list of exports to express the dependency on such
> information explicitly. We could alternatively write
> ModularComputation2 with the extra signature. In short, we let the
> structure of the algebra communicate the interrelations as much as
> possible rather than relying on naming conventions alone. This is a
> problem of design, and one which dependently typed functions provide
> an elegant solution.

You may have missed my point. By creating more categories, such as
ModularComputation or ModularComputation2, you REQUIRE the domain R to
be declared as such in any actual computation. If R is a new domain,
fine. If R already exists, this has to be wrapped into new domains,
using new names. But in any case, R is now tied to the
residueClassRing map that makes it a ModularComputation domain, its
identity as the original commutative ring is suppressed, and R splits
into many versions depending on the way residueClassRing is
implemented.

I would much prefer that the new names refer to the methods to
construct residueClassRing, than to tie it to the ring R, because one
method may work for many R, and yet your ModularComputation works only
for ONE R. An example would be when R is a polynomial ring over some
field k. We can construct residue class rings uniformly not just for
prime polynomial ideals, but for all coefficient field and for all
choices of indeterminates. In your set up, each would need a separate
residueClassRing map. Unless convinced otherwise, I think overloading
(or polymorphic) is best used for operations and not domain
constructions.

There is a big difference between mathematics objects and computation
objects.  In mathematics, one may argue that all the residue class
rings are part of the ring R (each residue class ring is uniquely
defined). So there is still just one mathematical object when all its
residue class rings are included.  Computationally, however, one has
to consider both data structure representation of the residue class
rings AND the algorithmic aspect of operations and other problem
solving techniques for the residue class rings. We cannot lump all
these into the same domain R. Each must be separately identified. That
is the reason for so many polynomial categories, even for a fixed
coefficient domain and a fixed set of variables. Pushing these domain
constructors into the level of a function (with dependent signature)
may look neat, but it does not eliminate the bifurcation in
computation objects.

> 
> > (IV) The "advantage" at first glance, seems to be operator
> > overloading:  using one single name "method" to refer to all the
> > Method[i] in constructions of S.  But as (II) shows, this "powerful"
> > and categorical construction is nothing but a wrapper, which is the
> > the reverse of what I proposed for Martin's example:  instead of
> > lifting a function g(n,k) to the level of a package, where the
> > dependence on parameters in the signature belongs, the construction of
> > ComputationMethod pushed the level of a domain constructor (which is
> > what each Method[i] is) to the level of a function.  I don't think
> > that is a convincing example of the need for allowing dependence on
> > parameters for functions.
> 
> But this act of `pushing' a domain constructor to a level of a
> function is what allows one to communicate the structure of the algebra
> by *using the structure itself*. I'll say more below.

If you treat creating more abstract categories when it is not
absolutely needed and hiding the existence of the residue class rings
as *using the structure itself*, then I do not agree. But if what you
are trying to do is an initial step towards the idea of sheaves, that
is different and in that case, perhaps you should start with the
category of sheaves.
 
> > The power of that construction in Aldor, as I pointed out in another
> > email, is allowing such dependence in functions on the SOURCE side,
> > not on the TARGET side of the map. In short notation:
> >
> >        F(a:A, b:B(a), c:C(a,b)):D(a,b,c)
> > ...
> 
> I do not argue these points at all. Note that in some languages, like
> ocaml, the signature for a function like this would take the form
> (more or less):
> 
>        F: (a:A) -> (b: B(a)) -> (c: C(a,b)) -> D(a,b,c).
> 
> And calling F x, would return a function F': B(a) -> C(a,b) ->
> D(a,b,c), etc.

> Depending on your point of view, a function with multiple, dependently
> typed arguments is just notation to express a chain of functions where
> the only dependence is in the type of the result. I find this
> interpretation quite satisfying.

This is indeed a nice way to define recursively the signatures, but I
won't call these "functions".
 
> Your comments on `lifting' the aldor example is perfect in that this
> is the probably the best way to write such things in axiom today. I'll
> just recap the result:
> 
> > Foo(R,p,S): T == C where
> >   R: ModularCategory
> >   p: Ideal(R)
> >   S: ResidueClassRing(R,p)
> >   Q ==> any domain constructed from R, p, S
> >   T == with
> >     bar: R -> Q
> >   C == add
> >     bar(r)==
> >        elem:S:=modularRep(r)$S
> >         -- hairy computations
> >        q:Q:= ...
> >
> > Calling sequence in some other package, assuming R, p, S are already
> > defined:
> >
> >    bar(r)$Foo(R,p,S)
> >
> > If you want to use the default implementation when R is a domain in
> > IntegerCategory, you can use:
> >
> >   if R has IntegerCategory then
> >       S:=IntegerMod(R,p)
> >   bar(r)$Foo(R,p,S)
> 
> The last part is the kicker for me, asking `if R has IntegerCategory
> then ...' is where the two approaches diverge. I claimed that I
> doubted one could write an equivalent Foo without the use of some
> hypothetical RESCLASS package/domain which made use of copious `if R
> has ..'  constructs. Although the model I had in mind of how this
> would look in Axiom is different from your solution, the main point is
> still there. The questions are being asked, just at a different level
> -- either code which uses Foo needs to provide an answer, or a user
> typing into the interpreter.

Well, I was only using the "if R has IntegerCategory" because you
defined a default implementation (which actually does not work for all
R:IntegerCategory).  The Axiom implementation allows you to put ANY
RESCLASS domain for the parameter S and there is no need for "if R has
...".  In Axiom, I am not aware of any default construction for
domains (all constructions are "equal opportunity" employed), only
default implementation for operations (for example ** in monoid).
 
> The crux issue in my mind is that the aldor example illustrates how
> one can encapsulate questions like `if R has ..' into the structure of
> the algebra itself. residueClassRing() is more than just a wrapper. It
> communicates a relationship between R, p, and C(r,p). The axiom
> solution you propose communicates a relationship between R, p, and
> S:C(R,p). The problem of needing to know S is removed in the aldor
> example, as questions regarding it are not raised ( clearly for given
> R and p there *is* a relationship to S:C(R,p). 

There is only syntactical difference and not semantical. The S in the
Foo package is only a symbol needed to do a package call. It is the
equivalent to the symbol method(p) (or residueClassRing(p)) to make
the same package call. In either case, the actual knowledge of S or
method(p) is not needed, only the categorical properties as defined in
C(R,p) are. In Aldor, you need to use method(p) and in Axiom, you need
to use S, both for package call. If you hide S (as given above), you
hardwired S into R and make it less convenient to change S.

I fail to see the connection between this hiding and the "if R has
..." and I already commented on that. You are correct that SOME "if R
has ..." may be eliminated by the signatures F(a:A, b:B(a),
c:C(a,b)):D(a,b,c) (recall that I proposed the converse to implement
these signatures in Axiom *using* "if R has ...".  In other words, "if
R has ..." is more general (or powerful) construct than the
signatures. Even if (in 30 years?) Axiom or Aldor is integrated with
theorem proving, there will still be "if R has ..." that cannot be
verified by the theorem provers and need a mathematician to declare it
(if only for efficiency). To quote a cliche: who is going to prove the
theorem-provers?

> But this relationship
> is expressed in code at the domain level, where it `belongs'. The
> domains are just implementing the requirements of their exports).

Absolutely. That's what Axiom (and Aldor) both do. What's the
difference?  You push construction of domains (residue class rings) to
the function level (like hidden domains within a domain, second class
citizen?). Surely, you don't think residue class rings do not deserve
their own domain?

> There are other reasons to consider dependent types in a function
> target. If we are interested in future integration with a proof engine
> like ACL2, then we will want to consider the role such functions can
> play in such a setting. Some of the leading proof assistants, like
> LEGO and COQ, make explicit use of dependent type information.

I don't argue against the usefulness of dependent types. Surely, they
are more convenient to use, but that does not mean they must be
used. I do not totally object to your construction of
ModularComputation. In Axiom, there is at least one example similar:
EuclideanDomain, where we absorb the Euclidean algorithm as part of
the domain. But there is a difference, the functions that are added do
not construct domains, they only implement algorithms. So this is
"pushing" packages into new domains, while your example is "pushing"
domains to functions.  Maybe someone will pick up this discussion and
explore all the pushing and lifting possible among categories,
domains, packages and "functions" and determine some general
guidelines of what should be done under what circumstances. That might
be a good master thesis.

This discussion started with whether Axiom can simulate dependent
signature and I believe you now agree that it can.

\start
Date: Mon, 17 Jan 2005 21:24:41 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#17 algebra BOOTSTRAP fixed point] Integer substitutions

> ...
>PRIMELT 
> 
> The differences in the generated lisp are w.r.t QSADD1, in compiler
> generated code implementing a for loop. The differences look like:
> 
>     - (LETT |i| (+ |i| 1)
>     + (LETT |i| (QSADD1 |i|)
> 
> In primitiveElement, we use a for loop on `i in 10..'. i is passed to
> symmetricRemainder, defined in IntegerNumberSystem with signature:
> 
>     primitiveElement(%,%).
> 
> The call site takes the form primitiveElement(Integer, i), so we would
> expect that i should have type integer. Looking at the generated lisp
> for integer we see that QSADD1 is not on the property list for any
> function, but it is on the property list for SINT's `inc' function.
> 
> Note the definition of QSADD1 in vmlisp.lisp:
> 
>       (defmacro qsadd1 (x) `(the fixnum (1+ (the fixnum ,x))))
> 
> How does the compiler know on the second-iteration build that `i' will
> always be a fixnum? Though probably correct 99% of the time, the
> second-iteration code in this case is incorrect.

I don't understand the mechanism that makes this substitution but
in what sense is it incorrect. Can you give an example that might
apply the other 1% of the time? Do you mean because the magnitude
could exceed fixnum?

\start
Date: Mon, 17 Jan 2005 21:55:14 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [MutualRecursion] (new) 

Here is an example of defining functions by mutual recursion in Axiom

We start with a "bootstrap" definition of 'parity(n)\$Even'. All that is
really needed here is a package that exports a function named 'parity'
with the right signature. This particular function will never be called
and will be re-defined later. It's only purpose is as a placeholder to
allow the later definition of **ODD**.

\begin{axiom}
)abbrev package EVEN Even
Even(): E == I where
  E == with
    parity: Integer -> Boolean
  I == add
    parity(n) == true
\end{axiom}

Now we can define 'parity(n)\$Odd'. It depends on **EVEN**.

\begin{axiom}
)abbrev package ODD Odd
Odd(): E == I where
  E == with
    parity: Integer -> Boolean
  I == add
    parity(n:Integer) ==
--    output("ODD",n::OutputForm)$OutputPackage
      (n>0) => parity(n-1)$Even
      (n<0) => parity(n+1)$Even
      false
\end{axiom}

But the bootstrap definition of **EVEN** is incomplete. It really
depends (recusively) on **ODD**. So finally we need the full (re-)definition
of 'parity(n)\$Even'

\begin{axiom}
)abbrev package EVEN Even
Even(): E == I where
  E == with
    parity: Integer -> Boolean
  I == add
    parity(n) ==
--    output("EVEN",n::OutputForm)$OutputPackage
      n>0 => parity(n-1)$Odd
      n<0 => parity(n+1)$Odd
      true
\end{axiom}

Now we can test the new functions:

\begin{axiom}
parity(10)$Even
parity(8)$Odd
parity(-1111)$Odd
\end{axiom}

\start
Date: Mon, 17 Jan 2005 23:57:04 -0500
From: Tim Daly
To: Vladimir Bondarenko
Subject: .daase extensin

.daase files are short for .database files.

There was a restriction in a compression program that would not
allow filenames with extensions longer than 5 characters. The
DOS version of the files were .daa but the DOS version was never
released so I was the only person who ever saw it.

Sorry for the long delay in reply. It appears that I was automatically
unsubscribed from the axiom mailing lists for the last 4 days.

\start
Date: Mon, 17 Jan 2005 22:19:24 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#12 radicalSolve fails to find all roots ?] Original question

....................................................................

Obviously, all the roots of the equation z^7 = 1 can be expressed in
radicals, and Mathematica can easily produce the explicit expressions
in terms of radicals.

Solve[z^7 == 1, z]

{{z -> 1}, {z -> -(-1)^(1/7)}, {z -> (-1)^(2/7)}, {z -> -(-1)^(3/7)},
{{z -> {z -> (-1)^(4/7)}, {z -> -(-1)^(5/7)}, {z -> (-1)^(6/7)}}

To save the space, below the only example is given.

FunctionExpand[ComplexExpand[-(-1)^(1/7)]]

(1/2)*((1/3)*((1/2)*(-1 + I*Sqrt[7]) + ((-1 + I*Sqrt[3])*((1/2)*(-1 +
I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*((1/2)*(-1 + I*Sqrt[3]) +
(1/4)*(-1 + I*Sqrt[3])^2)))/(2*(6 + (3/4)*(-1 + I*Sqrt[3])*(-1 +
I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*(1 + (3/4)*(-1 +
I*Sqrt[3])^2))^(1/3)) + (1/4)*(-1 + I*Sqrt[3])^2*(6 + (3/4)*(-1 +
I*Sqrt[3])*(-1 + I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*(1 + (3/4)*(-1 +
I*Sqrt[3])^2))^(1/3)) +(1/3)*((1/2)*(1 + I*Sqrt[7]) - ((-1 +
I*Sqrt[3])^2*((1/2)*(-1 -I*Sqrt[7]) + (1/2)*(-1 +
I*Sqrt[7])*((1/2)*(-1 + I*Sqrt[3]) + (1/4)*(-1 + I*Sqrt[3])^2)))/(4*(6
+ (3/4)*(-1 + I*Sqrt[3])*(-1 - I*Sqrt[7]) + (1/2)*(-1 + I*Sqrt[7])*(1
+ (3/4)*(-1 + I*Sqrt[3])^2))^(1/3)) -(1/2)*(-1 + I*Sqrt[3])*(6 +
(3/4)*(-1 + I*Sqrt[3])*(-1 - I*Sqrt[7]) + (1/2)*(-1 + I*Sqrt[7])*(1 +
(3/4)*(-1 + I*Sqrt[3])^2))^(1/3))) + (1/2)*((1/3)*((1/2)*(-1 +
I*Sqrt[7]) + ((-1 + I*Sqrt[3])*((1/2)*(-1 + I*Sqrt[7]) + (1/2)*(-1 -
I*Sqrt[7])*((1/2)*(-1 + I*Sqrt[3]) + (1/4)*(-1 + I*Sqrt[3])^2)))/(2*(6
+ (3/4)*(-1 + I*Sqrt[3])*(-1 + I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*(1
+ (3/4)*(-1 + I*Sqrt[3])^2))^(1/3)) +(1/4)*(-1 + I*Sqrt[3])^2*(6 +
(3/4)*(-1 + I*Sqrt[3])*(-1 + I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*(1 +
(3/4)*(-1 + I*Sqrt[3])^2))^(1/3)) + (1/3)*((1/2)*(-1 - I*Sqrt[7])
+((-1 + I*Sqrt[3])^2*((1/2)*(-1 - I*Sqrt[7]) + (1/2)*(-1 +
I*Sqrt[7])*((1/2)*(-1 + I*Sqrt[3]) + (1/4)*(-1 + I*Sqrt[3])^2)))/(4*(6
+ (3/4)*(-1 + I*Sqrt[3])*(-1 - I*Sqrt[7]) + (1/2)*(-1 + I*Sqrt[7])*(1
+ (3/4)*(-1 + I*Sqrt[3])^2))^(1/3)) +(1/2)*(-1 + I*Sqrt[3])*(6 +
(3/4)*(-1 + I*Sqrt[3])*(-1 - I*Sqrt[7]) + (1/2)*(-1 + I*Sqrt[7])*(1 +
(3/4)*(-1 + I*Sqrt[3])^2))^(1/3)))
          

According to the AXIOM Book

AXIOM Book>  Use radicalSolve if you want your solutions expressed in
AXIOM Book>  terms of radicals.

However, already for z^7 = 1 this is not so,

-> radicalSolve(z^7=1, z)

   [z= 1]

and the problem exists for 11, 13, 14, 15, 17, 19 etc

-> for i in 1..20 repeat print([i,#radicalSolve(z^i=1,z)])

   [1,1]
   [2,2]
   [3,3]
   [4,4]
   [5,5]
   [6,6]
   [7,1]   <-- not good
   [8,8]
   [9,9]
   [10,10]
   [11,1]  <-- not good
   [12,12]
   [13,1]  <-- not good
   [14,2]  <-- not good
   [15,7]  <-- not good
   [16,16]
   [17,1]  <-- not good
   [18,18]
   [19,1]  <-- not good
   [20,20]

\start
Date: Mon, 17 Jan 2005 22:15:05 -0600
From: MathAction (Bob McElrath)
To: MathAction
Subject: [#12 radicalSolve fails to find all roots ?] (new)

anonymous [MathAction] wrote:
> When Axiom cannot find solutions, it is (presumably) a PROOF that the other
> solutions are NOT solvable by radicals (using *real* numbers), or at least,
> there is no known proof that it is solvable at the time of implementation. (That
> is why I am surprised at the above result for z^7=2).

Given Axiom's assumptions about input in this problem, why cannot I do
this:

\begin{axiom}
    z:Complex(Float)
    radicalSolve(z^7=1)
    z:Integer
    radicalSolve(z^7=1)
    z:Variable(Complex(Float))
    radicalSolve(z^7=1)
    z:Symbol(Complex(Float))
    radicalSolve(z^7=1)
\end{axoim}


...and get the appropriate answers?

Also this behind-the-scenes behavior where the answer depends on the
input type or assumptions is undesirable, and surprising to casual
users.  When algorithms must make assumptions about the type of a
Variable or Symbol, at the very least a message should be printed
indicating that the assumption was made.

An even better algorithm would print a message, then keep that
assumption for the remainder of the calculation...

\start
Date: Mon, 17 Jan 2005 22:18:12 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#19 D(0^z, z) fails] (new) 

-> D(0^z, z)

   >> Error detected within library code:
   Invalid argument

Of cause, 0 is expected.

\start
Date: Mon, 17 Jan 2005 22:27:36 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#20 D(1, z) fails] (new) 

AXIOM BUG: D(1, z)
From: Vladimir Bondarenko
Subject: AXIOM BUG: D(1, z)
Date: Mon, 17 Jan 2005 07:35:49 +0200

Hi *,

A terrible bug in differentiation.

.....................................................................

(94) -> D(sin(z)^2+cos(z)^2, z)

   (94)  0

(98) -> D(simplify(sin(z)^2+cos(z)^2), z)

   (98)  0


BUT


(95) -> D(1, z)

   There are 5 exposed and 0 unexposed library operations named D
      having 2 argument(s) but none was determined to be applicable.
      Use HyperDoc Browse, or issue
                                )display op D
      to learn more about the available operations. Perhaps
      package-calling the operation or using coercions on the arguments
      will allow you to apply the operation.

   Cannot find a definition or applicable library operation named D
      with argument type(s)
                               PositiveInteger
                                 Variable z

      Perhaps you should use "@" to indicate the required return type,
      or "$" to specify which version of the function you need.


(101) -> D(cosh(z)^2-sinh(z)^2, z)

   (101)  0

(102) -> D(simplify(cosh(z)^2-sinh(z)^2), z)

   (102)  0

BUT
   
(103) -> D(1, z)
   There are 5 exposed and 0 unexposed library operations named D
      having 2 argument(s) but none was determined to be applicable.
      Use HyperDoc Browse, or issue
                                )display op D
      to learn more about the available operations. Perhaps
      package-calling the operation or using coercions on the arguments
      will allow you to apply the operation.

   Cannot find a definition or applicable library operation named D
      with argument type(s)
                               PositiveInteger
                                 Variable z

      Perhaps you should use "@" to indicate the required return type,
      or "$" to specify which version of the function you need.

\start
Date: Tue, 18 Jan 2005 00:05:53 -0500
From: Tim Daly
To: Vladimir Bondarenko
Subject: .daase extensin

Vladimir,

D(1,z) is not a valid type signature. Try

D(1::Expression(Integer),z) ==> 0


In Axiom it is important to know the type of the arguments to a function.
In this case you gave the D function a PositveInteger and is does not
have a path to coerce PostiveInteger -> Expression(Integer).

Whenever you see the message about exposed and unexposed library functions
the meaning is that you didn't match the type of the arguments and the
interpreter couldn't get there from here. 

The coercion/conversion tower in the interpreter is not well defined
and sometimes it needs help.

\start
Date: Mon, 17 Jan 2005 22:48:02 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#25 Axiom graphics from inside TeXmacs?] (new) 

On Saturday, January 15, 2005 10:41 AM you wrote:
> ... 
> No, I am not able to get graphics to appear in an X-window
> from inside TeXmacs.  That's what I *want* to be able to do.
> 
> I have TeXmacs 1.0.4.4 (latest being 1.0.4.5).   I know the 
> plugin calls AXIOMsys, and I tried to make it call "axiom"
> or "sman" with no immediate success.

Ok great. You are obviously on the right track. If you compiled
TeXmacs from source then to make tm_axiom call "axiom", the
simplest thing to do is to modify the souce file tm_axiom.c by
replacing "AXIOMsys" with "axiom" and then recompile it. It is
a simple C program with no dependencies and can be compiled
separately. Move the tm_axiom.exe file to the appropriate place
in the TeXmacs installation directory.

If you didn't compile TeXmacs from source you can get just the
tm_axiom.c file from the CVS, modify it and compile as above.

> 
> My preliminary, high-level, thought is to go the postscript 
> way as you suggest. I've used the GnuPlot plugin for TeXmacs,
> that's what it does.
> 

Yes, exactly.

\start
Date: Mon, 17 Jan 2005 22:48:17 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#12 radicalSolve fails to find all roots ?] 

These are NOT bugs! But the following may be! Consider the equation $z^n=1$ for
$n=7$
\begin{axiom}
radicalSolve(z^7=2)
\end{axiom}

comments

  Of course, these are correct solutions by Euler's Formula. A bit
surprising that radicalSolve invokes these for $z^7=2$ and not for
$z^7=1$; when $n$ is 7, these

  n =  1  2  3  4  5  6  7  8  9  10  11  12  13  14  15  16  17 18 19 20
  phi= 1  1  2  2  4  2  6  4  6   4  10   4  12   6   8   8  16  6 18  8
  bad=                   x     x       x       x   x              x  x
  Vladimir's "not good" values are 
  n =                    7            11      13  14  15      17    19

in terms of radicals and arithmetic operations. It did not find those
for $n = 15$ and $17$ probably (I am guessing) because at the time of
implementation, these

for $n = 9, 18$, the solutions are expressible in radicals only if radicals of

expansion for $(-1)^{1/7}$ that Vladimir gave involves radicals of complex

is why I am surprised at the above result for $z^7=2$).

In other words, rather than viewing the answer for $z^7=1$ as a bug, we should
view the answers for $z^7=2$, $z^7=3$ (and may be even $z^9=1$, $z^{18}=1$) as bugs!

\begin{axiom}
radicalSolve(z^9=1,z)
radicalSolve(z^7=3)
radicalSolve(z^7=1.)
radicalSolve(z^6+z^5+z^4+z^3+z^2+z+1=0)
\end{axiom}

Obviously, all the roots of the equation $z^7 = 1$ can be expressed in

in terms of radicals::

  Solve[z^7 == 1, z]

  {{z -> 1}, {z -> -(-1)^(1/7)}, {z -> (-1)^(2/7)}, {z -> -(-1)^(3/7)},
  {{z -> {z -> (-1)^(4/7)}, {z -> -(-1)^(5/7)}, {z -> (-1)^(6/7)}}

To save the space, below the only example is given::

  FunctionExpand[ComplexExpand[-(-1)^(1/7)]]
  
  (1/2)*((1/3)*((1/2)*(-1 + I*Sqrt[7]) + ((-1 + I*Sqrt[3])*((1/2)*(-1 +
  I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*((1/2)*(-1 + I*Sqrt[3]) +
  (1/4)*(-1 + I*Sqrt[3])^2)))/(2*(6 + (3/4)*(-1 + I*Sqrt[3])*(-1 +
  I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*(1 + (3/4)*(-1 +
  I*Sqrt[3])^2))^(1/3)) + (1/4)*(-1 + I*Sqrt[3])^2*(6 + (3/4)*(-1 +
  I*Sqrt[3])*(-1 + I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*(1 + (3/4)*(-1 +
  I*Sqrt[3])^2))^(1/3)) +(1/3)*((1/2)*(1 + I*Sqrt[7]) - ((-1 +
  I*Sqrt[3])^2*((1/2)*(-1 -I*Sqrt[7]) + (1/2)*(-1 +
  I*Sqrt[7])*((1/2)*(-1 + I*Sqrt[3]) + (1/4)*(-1 + I*Sqrt[3])^2)))/(4*(6
  + (3/4)*(-1 + I*Sqrt[3])*(-1 - I*Sqrt[7]) + (1/2)*(-1 + I*Sqrt[7])*(1
  + (3/4)*(-1 + I*Sqrt[3])^2))^(1/3)) -(1/2)*(-1 + I*Sqrt[3])*(6 +
  (3/4)*(-1 + I*Sqrt[3])*(-1 - I*Sqrt[7]) + (1/2)*(-1 + I*Sqrt[7])*(1 +
  (3/4)*(-1 + I*Sqrt[3])^2))^(1/3))) + (1/2)*((1/3)*((1/2)*(-1 +
  I*Sqrt[7]) + ((-1 + I*Sqrt[3])*((1/2)*(-1 + I*Sqrt[7]) + (1/2)*(-1 -
  I*Sqrt[7])*((1/2)*(-1 + I*Sqrt[3]) + (1/4)*(-1 + I*Sqrt[3])^2)))/(2*(6
  + (3/4)*(-1 + I*Sqrt[3])*(-1 + I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*(1
  + (3/4)*(-1 + I*Sqrt[3])^2))^(1/3)) +(1/4)*(-1 + I*Sqrt[3])^2*(6 +
  (3/4)*(-1 + I*Sqrt[3])*(-1 + I*Sqrt[7]) + (1/2)*(-1 - I*Sqrt[7])*(1 +
  (3/4)*(-1 + I*Sqrt[3])^2))^(1/3)) + (1/3)*((1/2)*(-1 - I*Sqrt[7])
  +((-1 + I*Sqrt[3])^2*((1/2)*(-1 - I*Sqrt[7]) + (1/2)*(-1 +
  I*Sqrt[7])*((1/2)*(-1 + I*Sqrt[3]) + (1/4)*(-1 + I*Sqrt[3])^2)))/(4*(6
  + (3/4)*(-1 + I*Sqrt[3])*(-1 - I*Sqrt[7]) + (1/2)*(-1 + I*Sqrt[7])*(1
  + (3/4)*(-1 + I*Sqrt[3])^2))^(1/3)) +(1/2)*(-1 + I*Sqrt[3])*(6 +
  (3/4)*(-1 + I*Sqrt[3])*(-1 - I*Sqrt[7]) + (1/2)*(-1 + I*Sqrt[7])*(1 +
  (3/4)*(-1 + I*Sqrt[3])^2))^(1/3)))

According to the AXIOM Book--

  Use radicalSolve if you want your solutions expressed in
  terms of radicals.
 

::

    [1,1]
    [2,2]
    [3,3]
    [4,4]
    [5,5]
    [6,6]
    [7,1]   <-- not good
    [8,8]
    [9,9]
    [10,10]
    [11,1]  <-- not good
    [12,12]
    [13,1]  <-- not good
    [14,2]  <-- not good
    [15,7]  <-- not good
    [16,16]
    [17,1]  <-- not good
    [18,18]
    [19,1]  <-- not good
    [20,20]
 
\start
Date: Mon, 17 Jan 2005 22:28:20 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#20 D(1, z) fails] wrong arument types

D(1,z) is not a valid type signature. Try

D(1::Expression(Integer),z) ==> 0


In Axiom it is important to know the type of the arguments to a function.
In this case you gave the D function a PositveInteger and is does not
have a path to coerce PostiveInteger -> Expression(Integer).

Whenever you see the message about exposed and unexposed library functions
the meaning is that you didn't match the type of the arguments and the
interpreter couldn't get there from here. 

The coercion/conversion tower in the interpreter is not well defined
and sometimes it needs help.

\start
Date: Mon, 17 Jan 2005 22:40:32 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#23 using exp as a symbol in ** ] property change

Status: closed => open 

\start
Date: Mon, 17 Jan 2005 22:39:02 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#23 using exp as a symbol in ** ] (new) 

trigcat.spad

WS> ElementaryFunctionCategory(): Category == with
WS>     log : $ -> $       ++ log(x) returns the natural logarithm of x.
WS>     exp : $ -> $       ++ exp(x) returns %e to the power x.
WS>     "**": ($, $) -> $  ++ x**y returns x to the power y.
WS>  add
WS>    if $ has Monoid then
WS>      x ** y == exp(y * log x)

etc

The more such stuff I see, the better is my live experience,
the more efficient is bug identification progress.


Sunday, January 16, 2005, 7:08:49 PM, you write:

WS> The error apparently comes from EXPR where the implementation is
WS>   x**y == exp(y * log(x))

WS> so exp^log(x) is computed as
 
WS>   exp(log(x) * log(exp))

WS> which should be ok, but then the system handles log exp and tries to 
simplify it
WS> to the identity map, and not finding the argument.

WS> William
WS> ---

>> 
>> Simpler:
>> 
>> (1) -> exp^3
>> 
>>            3
>>    (1)  exp
>>                                    Type: Polynomial Integer
>> (2) -> a^log(x)
>> 
>>          log(x)
>>    (2)  a
>>                                    Type: Expression Integer
>> (3) -> exp^log(x)
>> 
>>    >> System error:
>>    Cannot take first of an empty list
>> 
>> protected-symbol-warn called with (NIL)
>>

\start
Date: Mon, 17 Jan 2005 22:28:35 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#20 D(1, z) fails] property change

Status: open => closed 

\start
Date: Mon, 17 Jan 2005 22:30:03 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#21 Staistics generated by )set message summary on ?] (new) 

According to the Help for )set message summary on,
Description: print statistics after computation.

I tried several commands but each time see the same message,

       Summary: No statistics available.

How to see "live" statistic message? Say, an example of
commands it is generated with?

\start
Date: Mon, 17 Jan 2005 22:40:22 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#23 using exp as a symbol in ** ] prior post	information

On the other hand, even though as Vladimir Bondareko reported:

> integrate(log^log(z), z)
> 
>    >> System error:
>    Cannot take first of an empty list

(14) -> log^(log(z))

 Function Selection for log
      Arguments: VARIABLE z
   -> no appropriate log found in Variable z
   -> no appropriate log found in Symbol
   -> no appropriate log found in Variable z
   -> no appropriate log found in Symbol

 Modemaps from Associated Packages
   no modemaps

 Remaining General Modemaps
   [1] FortranExpression(D1,D2,D3) -> FortranExpression(D1,D2,D3)
            from FortranExpression(D1,D2,D3)
            if D1: LIST SYMBOL and D2: LIST SYMBOL and D3 has FMTC
   [2] D -> D from D if D has ELEMFUN

 [1]  signature:   EXPR INT -> EXPR INT
      implemented: slot $$ from EXPR INT


 Function Selection for ^
      Arguments: (VARIABLE log,EXPR INT)

 [1]  signature:   (EXPR INT,EXPR INT) -> EXPR INT
      implemented: slot $$$ from EXPR INT


            log(z)
   (14)  log
                                        Type: Expression Integer

(17) -> log^exp(x)

 Function Selection for exp
      Arguments: VARIABLE x

 [1]  signature:   EXPR INT -> EXPR INT
      implemented: slot $$ from EXPR INT


 Function Selection for ^
      Arguments: (VARIABLE log,EXPR INT)

 [1]  signature:   (EXPR INT,EXPR INT) -> EXPR INT
      implemented: slot $$$ from EXPR INT


              x
            %e
   (17)  log
                                         Type: Expression Integer

-----------------------------------------------------------------------
Note that both works, and note that when looking for the function ^, the
interpreter recognized VARIABLE log.
-----------------------------------------------------------------------
(17) -> exp^log(x)

 Function Selection for log
      Arguments: VARIABLE x

 [1]  signature:   EXPR INT -> EXPR INT
      implemented: slot $$ from EXPR INT


 Function Selection for ^
      Arguments: (SYMBOL,EXPR INT)

 [1]  signature:   (EXPR INT,EXPR INT) -> EXPR INT
      implemented: slot $$$ from EXPR INT


   >> System error:
   Cannot take first of an empty list

protected-symbol-warn called with (NIL)

-----------------------------------------------------------------------
Note that  that when looking for the function ^, the interpreter recognized exp
as a SYMBOL, not a VARIABLE as in the case of log.
-----------------------------------------------------------------------

   (18)  log
                                         Type: Variable log
(19) -> exp

   (19)  exp
                                         Type: Symbol

-----------------------------------------------------------------------
On the other hand, "correcting" the difference does not help
-----------------------------------------------------------------------
(3) -> exp:=exp::Variable(exp)

   (3)  exp
                                           Type: Variable exp
(4) -> exp^log(x)

 Function Selection for log
      Arguments: VARIABLE x

 [1]  signature:   EXPR INT -> EXPR INT
      implemented: slot $$ from EXPR INT


 Function Selection for ^
      Arguments: (VARIABLE exp,EXPR INT)

 [1]  signature:   (EXPR INT,EXPR INT) -> EXPR INT
      implemented: slot $$$ from EXPR INT


   >> System error:
   Cannot take first of an empty list

protected-symbol-warn called with (NIL)
(4) -> exp

   (4)  exp
                                  Type: Variable exp

(5) )clear all

(1) -> exp(log(x)*log(exp))

          log(exp)log(x)
   (1)  %e
                                  Type: Expression Integer

The implementation x**y = exp(y*log(x)) seems not to be the problem.  Clearly
this points to an interpreter bug due to different treatment for log and exp
that runs deep. The error messages originates from lisp, so it may be an error
in LISP (such as a missing quote).

Whether the original 

   integrate(log^log(z),z)

is related to this is not clear.

Bug already existed in NAG version. So may be one of the known ones.

\start
Date: Mon, 17 Jan 2005 22:31:20 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#22 Modification of axiom.input ?] (new) 

BM> Vladimir Bondarenko address@bogus.example.com wrote:
>> Hi *,
>> 
>> I put the following lines into axiom.input

BM> On unix the relevant file is .axiom.input (note leading '.').

Thanks! Actually, by technical reasons, right now I strongly prefer
running AXIOM under Windows, and do use Windows version, and
encountered this problem there.

However, one fine day I hope to use UNIX version, too, and I have
already memorized your clarification.

\start
Date: Mon, 17 Jan 2005 22:42:07 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#24 System error: Cannot take first of an empty list] (new) 

WS> Simpler:

(1) ->> exp^3

WS>            3
WS>    (1)  exp
WS>                                    Type: Polynomial Integer
(2) ->> a^log(x)

WS>          log(x)
WS>    (2)  a
WS>                                    Type: Expression Integer
(3) ->> exp^log(x)

WS>    >> System error:
WS>    Cannot take first of an empty list

WS> protected-symbol-warn called with (NIL)

WS> William
WS> ----

WS> Martin Rubey wrote:
>> 
>> Of course it's a bug. Please file it!
>> 
>> Martin
>> 
>> Vladimir Bondarenko writes:
>>  > Hello all,
>>  >
>>  > Any comments on the following stuff?
>>  >
>>  >
>>  > .......................................................
>>  > -- behavior type # 1
>>  > .......................................................
>>  >
>>  > -> integrate(%i^log(z), z)
>>  >
>>  >         log(%i)log(z)
>>  >     z %e
>>  >     -----------------
>>  >        log(%i) + 1
>>  >
>>  > -> integrate(f^log(z), z)
>>  >
>>  >         log(f)log(z)
>>  >     z %e
>>  >     ----------------
>>  >        log(f) + 1
>>  >
>>  > -> integrate(sin^log(z), z)
>>  >
>>  >         log(sin)log(z)
>>  >     z %e
>>  >     ------------------
>>  >        log(sin) + 1
>>  >
>>  > -> integrate(tan^log(z), z)
>>  >
>>  >         log(tan)log(z)
>>  >     z %e
>>  >     ------------------
>>  >        log(tan) + 1
>>  >
>>  > -> integrate(sqrt^log(z), z)
>>  >
>>  >         log(sqrt)log(z)
>>  >     z %e
>>  >     -------------------
>>  >        log(sqrt) + 1
>>  >
>>  > -> integrate(atan^log(z), z)
>>  >
>>  >         log(atan)log(z)
>>  >     z %e
>>  >     -------------------
>>  >        log(atan) + 1
>>  >
>>  > -> integrate(asinh^log(z), z)
>>  >
>>  >         log(asinh)log(z)
>>  >     z %e
>>  >     --------------------
>>  >        log(asinh) + 1
>>  > .......................................................
>>  >
>>  >
>>  > BUT
>>  >
>>  >
>>  > .......................................................
>>  > -- behavior type # 2
>>  > .......................................................
>>  >
>>  > -> integrate(exp^log(z), z)
>>  >
>>  >    >> System error:
>>  >    Cannot take first of an empty list
>>  >
>>  > -> integrate(log^log(z), z)
>>  >
>>  >    >> System error:
>>  >    Cannot take first of an empty list
>>  >
>>  > .......................................................
>>  >
>>  >
>>  > Should this be considered as a bug or a feature?

\start
Date: Mon, 17 Jan 2005 23:55:56 -0500
From: Bill Page
To: Vladimir Bondarenko
Subject: RE: AXIOM BUG: D: Error detected within library code: Invalid argument

(I presume that it is you.)

Why are you spaming the issuetracker with so many poorly
formatted emails from axiom-developer email list? Keep in
might that everything you post on MathAction is also being
sent to the axiom-developer list.

Please be more selective and careful with the formatting.
Some of your reports are almost unreadable.

Also, it would be very nice if you would identify yourself
to the system by setting 'preferences' before issuing so
many messages so that we can be sure who to 'blame'.

\start
Date: Tue, 18 Jan 2005 00:57:44 -0500
From: Tim Daly
To: Vladimir Bondarenko
Subject: Axiom project goals, axiom testing

The axiom project goals during the IBM years were basically to 
do research in computer algebra. There was no plan to commercialize
scratchpad (as it was called at IBM). It was only after IBM took a
major downturn and changed executives that efforts were made to 
make scratchpad into a product. Scratchpad spent about 21 years
being developed at IBM and was the basis of many people's research
work. 

Testing was done by the user community and the original developers
in a manner similar to the free development model. In fact several
people asked for and received the source code while I worked on the
project. It was only after scratchpad became commercial that the
source code was closed. 

It was normal to have several visitors to the scratchpad group at
any given time. Many of these people contributed large pieces of
code in their area of expertise. The actual group of full time
IBM developers was quite small compared to the number of contributors.
James Davenport, for example, wrote the original version of the compiler.
Barry Trager wrote the original integration routines as part of his PhD
thesis work. Scott Morrison wrote the original browser. Bill Schelter
wrote AKCL, the final lisp for scratchpad (prior to Axiom) which is
now GCL. William Sit wrote the differential equations package, etc.

As you saw in the book my job at IBM was essentially the job I'm doing
now. I am the person who "owned" the sourcecode. Everybody looked to
me for modifications, porting, bug tracking, testing, etc. The other
people in the group had various areas of expertise such as the interpreter,
the algebra, the graphics, the browser, etc. In the end, however, I was
the place where it all came together, making me the "low man on the 
totem pole". It's very similar to the way Linux is developed. Linus
"owns" the code but there are "maintainers" who have areas of expertise.
It appears that any large project must eventually reach this structure.

\start
Date: Mon, 17 Jan 2005 23:53:17 -0500
From: William Sit
To: Bill Page
Subject: re: Mathaction edit/preview/save problem

I used netsh to reset the winsock catalog and rebooted. There seems to be a
minor improvement but perhaps not because things are still "touch and go". 

I updated the Sandbox MainPage and save it for you to see. It has 4
lines with 50 characters on each one. The 5th line has only 3
digits. That is the maximum length I can upload (preview,
save). Adding even one more digit, I'll get those error messages. This
is repeatable +/- one digit (that is, sometimes I can get 4 digits but
not 5 digits on the 5th line).

So it seems to me more like a buffer limit problem somewhere.

Of course, I just noticed that someone put up quite a number of new pages
successfully, so it is most likely my side that has the problem. Thanks.

\start
Date: Tue, 18 Jan 2005 01:15:24 -0500
From: Tim Daly
To: Bill Page
Subject: IssueTracker emails

Bill,

It isn't Vladimir, it's Tim

Everyone on the list says 2 things:

  1) this is a bug
  2) somebody should file a bug report

Well, since I'm clearly a "somebody" I've taken it upon myself to
walk thru the axiom email queue and record those things that are
bugs. The side effect, of course, is that it appears that I'm
spamming the list for those people who are subscribed. I can't
seem to help that, unfortunately.

I'm also updating the documentation (book volumes) and the FAQ.

It is important to get these bugs captured and recorded somewhere
and IssueTracker is the place of choice.

Once I complete this tedious task I'm going to flame people who post
bug emails and do not file a bug report on IssueTracker. We do need
to track and fix these bugs. I have not had the time (I still don't)
but we're nearing a point where axiom is escaping our developer
community. A quality piece of software needs bug tracking and bug
fixing so this is a necessary first step.

I don't have the time to properly format several thousand emails
so these are going to look rather poor in display but the content
is all there. It would be useful if I could turn off formatting
or quote the email somehow so it looks better.

My apologies for the spam-like quality of this activity.

\start
Date: Tue, 18 Jan 2005 00:11:56 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#28 GCL 2.6.5 on FC3] (new) 

\\Greetings!
\\
\\FC3 has made brk() added pages non-executable by default.  You need
\\this at the end of h/386-linux.h:
\\
\\#ifdef IN_SFASL
\\#include <sys/mman.h>
\\#define CLEAR_CACHE {\
\\   void *p,*pe; \
\\   p=(void *)((unsigned long)memory->cfd.cfd_start & ~(PAGESIZE-1)); \
\\   pe=(void *)((unsigned long)(memory->cfd.cfd_start+memory->cfd.cfd_size) & 
~(PAGESIZE-1)) + PAGESIZE-1; \
\\   if (mprotect(p,pe-p,PROT_READ|PROT_WRITE|PROT_EXEC)) {\
\\     fprintf(stderr,"%p %p\n",p,pe);\
\\     perror("");\
\\     FEerror("Cannot mprotect", 0);\
\\   }\
\\}
\\#endif
\\
\\Not sure what the overhead of this is on each load, but we might just
\\make it the Linux default across the board for simplicity.
\\Alternatively, would either need a runtime or compile time test to
\\detect when its needed.  I'll place this on the errata page for
\\inclusion in any possible 2.6.6, and do something easy in CVS head for
\\now. 
\\

\start
Date: Tue, 18 Jan 2005 00:02:32 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#27 Axiom on Windows GCL problems] (new) 

> 
> On Thursday, January 13, 2005 1:53 PM you wrote:
> > 
> > Greetings!  OK, how about
> > 
> > (format nil "~a -I~a ~a ~a -c -w ~s -o ~s"
> > 
> 
> Thanks, that works perfectly! I have added it to the
> Axiom patches in the axom--windows-1 branch.
> 
> Shouldn't this patch also apply to the linux version?
> (Some weird linux people might also use spaces in
> paths.)
> 

Linux used the single quotes, but I've changed in to -s for
consistency in the proposed possible 2.6.6.

\start
Date: Mon, 17 Jan 2005 23:59:59 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#26 Graphics in Solaris, patch 24, fixed!] (new) 

Ok, I fixed it, although the fix is not elegant :-)

In int/lib/openpty.c add the #define shown below:

#include "useproto.h"
#include <stdlib.h>
#include <unistd.h>
#include <stdio.h>
#include <fcntl.h>
#include <string.h>


#define SUN4OS5platform   <----------------



It seems to me this should be fixable by putting in 
src/sman/Makefile.pamphlet


CFLAGS= ${CCF} -DSUN4OS5platform


but somehow that definition doesn't seem to work.  I can't see it in the output 
of the make.


Anyhow, everything works now!

\start
Date: Tue, 18 Jan 2005 00:06:20 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#27 Axiom on Windows GCL problems] confirmation of fix

> 
> Greetings!  OK, how about
> 
> (format nil "~a -I~a ~a ~a -c -w ~s -o ~s"
> 

Thanks, that works perfectly! I have added it to the
Axiom patches in the axom--windows-1 branch.

Shouldn't this patch also apply to the linux version?
(Some weird linux people might also use spaces in
paths.)

\start
Date: Tue, 18 Jan 2005 00:06:31 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#27 Axiom on Windows GCL problems] property change

Status: open => closed 

\start
Date: Mon, 17 Jan 2005 23:56:03 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#9 )hist )write foo.input] additional comments

> 
> When saving files from within Axiom, say
> 
> )hist )write foo.input
> 
> The file saved is still using Unix convention. One has to use 
> unix2dos to convert it to insert the missing LF/CR (forget
> which) before editing with say Notepad.

Linux uses the unix convention of a LF code to mark the ends
of lines. Windows uses the combination of a CR and a LF code.
Legacy windows applications like Notepad and old MSDOS
applications do not support the unix format but almost all
newer windows applications (e.g. Wordpad) and ported linux
programs have no problem.

I recommend deleting "good old" Notepad from your system and
installing one of the many very good open source text editors
that support the unix convention and are available for free.
Some of these are configurable to produce either unix or
windows compatible line endings when saving files.

> 
> Can this be done automatically and transparently?
>

Yes, for the Windows version it is probably possible to make
sure that most things that are written out to files in text
format have the standard windows line endings.

> Of course, for portability, the reverse should be automatic 
> too (but linux users are more adept to make the conversion
> than Windows users and a few extra LF/CRs are easily removed
> manually for small files).

The windows version of Axiom already does this, i.e. it ignores
all CR codes in input text files. For portability the linux
version could also safely do this (maybe next release?). So it
wouldn't hurt to add the CR on the windows version for maximum
compatibility.

> 
> Not anything urgent, just a wishful request.
> 

I would like to hear from other windows users about how important
they think "Notepad compatibility" really is.

> Thanks very much for the Windows version.
> 

\start
Date: Tue, 18 Jan 2005 02:13:51 -0500
From: Tim Daly
To: Bill Page
Subject: Re: IssueTracker emails

> Vladimir,

Vladimir, I appreciate the fact that you've taken on the painful
task of testing. This has resulted in more attention on my part.
I failed to communicate this to the list, mostly because I was
unaware that the list would be copied on every bug report (which
is a good thing except when done all at once).

Please accept my apologies for actions and take it as a compliment
that Bill felt, of all of the people on this list, you were the
most likely one to care about bug tracking and quality issues.
If I'd been doing my job properly it would have been obvious
that I was submitting bug reports. And it would have happened
in a timely manner. 


> Well ok, but but ... If you let me know I could temparily disable
> the forwarding to the axiom-developer list.

Ummm, until I posted half-a-dozen in a row I didn't realize that
bug reports would hit the list. This activity is going to take
quite a few days as there are thousands of emails to read and
evaluate. Perhaps you might want to turn off forwarding until I
complete this task.

> But if what you are cutting and pasting into the issuetracker
> `Details' box is raw unformatted text, then after submitting
> the report you should click "edit" and change the `type:' to
> "Plain text", otherwise the content of the email will be
> interpreted as if it was coded as "Structured Text".

ok. I'll fix that.

\start
Date: Tue, 18 Jan 2005 01:20:46 -0500
From: Bill Page
To: Tim Daly, Vladimir Bondarenko
Subject: RE: IssueTracker emails

Vladimir,

The guilty party has confessed. I am very sorry to have made
a false accussation. I do appreciate the effort that you
are making in testing Axiom and I hope that you will submit
bug reports to issuetracker and continue to discuss them via
this email list.

My sincere apology for assumming that you were doing so
indiscriminantly.

Bill Page.

-----------

Tim!

(Now I know that it is you...)

Why are you spaming the issuetracker with so many poorly
formatted emails from axiom-developer email list? Keep in
might that everything you post on MathAction is also being
sent to the axiom-developer list.

Please be more selective and careful with the formatting.
Some of your reports are almost unreadable.

Also, it would be very nice if you would identify yourself
to the system by setting 'preferences' before issuing so
many messages so that we can be sure who to 'blame'.

Regards,
Bill Page.

--------

There. Now I feel a little less presumptuous. :)

--------

On Tuesday, January 18, 2005 1:15 AM Tim Daly wrote:
> 
> Bill,
> 
> It isn't Vladimir, it's Tim
> 
> Everyone on the list says 2 things:
> 
>   1) this is a bug
>   2) somebody should file a bug report
> 
> Well, since I'm clearly a "somebody" I've taken it upon myself
> to walk thru the axiom email queue and record those things
> that are bugs. The side effect, of course, is that it appears
> that I'm spamming the list for those people who are subscribed.
> I can't seem to help that, unfortunately.
>

Well ok, but but ... If you let me know I could temparily disable
the forwarding to the axiom-developer list.

> I'm also updating the documentation (book volumes) and the FAQ.
> 

I am sure that that does take a lot of time.

> It is important to get these bugs captured and recorded
> somewhere and IssueTracker is the place of choice.

I agree. My main concern is how they look as web pages.

> 
> Once I complete this tedious task I'm going to flame people who
> post bug emails and do not file a bug report on IssueTracker.
> We do need to track and fix these bugs. I have not had the time
> (I still don't) but we're nearing a point where axiom is escaping
> our developer community. A quality piece of software needs bug
> tracking and bug fixing so this is a necessary first step.
>

I agree.

> I don't have the time to properly format several thousand
> emails so these are going to look rather poor in display but
> the content is all there.

Yes, but ... (well, I suppose we can go back and fix the
formatting later)

Do you seriously intended to post several thousand unformatted
emails to issuetracker? ~~shudder~~

> It would be useful if I could turn off formatting or quote the
> email somehow so it looks better.

This is possible. By default, issuetracker assumes the formatting
is "Structured Text + LaTeX" (which also includes Axiom commands).
This follows some fairly simple but specific rules about the
input style so that headings, lists, tables, bold font etc. all
appear quite natural both in the "edit" format (which is also
sent as email) and on the final web page. This is the usual format
for online submission to issuetracker.

But if what you are cutting and pasting into the issuetracker
`Details' box is raw unformatted text, then after submitting
the report you should click "edit" and change the `type:' to
"Plain text", otherwise the content of the email will be
interpreted as if it was coded as "Structured Text".

> 
> My apologies for the spam-like quality of this activity.
> 

If you let me know in advance, I can disable the forwarding
temporarily. It might also be possible for me to change the
default format to "plain text". But I suppose that the result
of this activity is not really that bad, since the emails
themselves are not badly formatted - only the issuetracker
web pages. Since you have confessed and I know you *are*
veru busy with many other things, I will change the formatting
to "plain text" for all of those reports that you have already
submitted.

\start
Date: Tue, 18 Jan 2005 00:36:47 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#29 for i in 1..1 repeatprint(sin(i) :: Complex Float)] (new) 

Vladimir Bondarenko wrote:
> -> for i in 1..1 repeat print(sin(i) :: Complex Float)
>    sin(1)

Hmm, we need to understand this a bit more:

for i in 1..1 repeat print(a:=sin(i)::Complex Float)
for i in 1..1 repeat print(a:=(sin(i)::Complex Float))

all give

0.8414709848 0789650665

At least that is a work-around.

But 

for i in 1..1 repeat print((a:=sin(i))::Complex Float)

sin(1)

for i in 1..1 repeat (a:=sin(i); print(a::Complex Float))

sin(1)

print is from PrintPackage, which calls
print from OutputForm, which calls
mathprint$Lisp

but the problem lies in print inside a loop (any type, not just a for-loop). The
problem seems to be an interpreter problem in parsing. This is confirmed partly
by the following transcript.  When trying to code this as a package for the
compiler, it is not easy to figure out the sequence of functions to use to
coerce  sin(i) from EXPR INT to Complex Float. I finally found one way, but it
may not be what the interpreter is doing:

--%Printest
)abbrev package PRINTEST Printest
Printest: T==C where
  EXPR ==> Expression
  INT  ==> Integer
  CF   ==> Complex Float
  T == with
       foo:PositiveInteger->Void
  C == add
       import EXPR INT
       foo(k)==
         for i in 1..k repeat 
           a:=sin(i::INT::Float::CF::EXPR CF)$(EXPR CF)
           print(retract(a)$(EXPR CF)@CF::OutputForm)

Of course it makes no difference whether a:= is eliminated or not. And this
works correctly. So my tentative conclusion is that the interpreter is "lazy" in
(1) to try to figure out this rather involved coercion sequence (Hey, I got it
to EXPR INT and I have no idea how to go further to Complex Float, I think it is
good enough ...:-), but in (2), it is somehow forced to work harder (Now you
want to save the result and I have to type the variable a, ok, ...). Is it a
bug? Don't know. There are limitations to the interpreter.

Tim: Do you know if there is a system limitation on the level of coercion the
interpreter will try before quitting? Can this be reset?

This example shows why a large percent of time (my low estimate is 70% and my
high is 90%) writing compiled code is spent on coercion. 

Now, there is still the question: why does this happen only inside a loop?
Can one tell more from the way the libraries are loaded (see attached
print.out)? Notice in print.out, even after foo(3) is executed, (2) still needs
to load another bunch of libraries. Why?


William
----
Start with a fresh session:
Note that neither Float nor Complex is loaded in (1), only in (2). More
surprisingly, UniversalSegment is also not loaded in (1). (it does not matter if
the segment is 1..1 or 1..3).

(1) -> for i in 1..3 repeat print(sin(i)::Complex Float)
 
   sin(1)
   sin(2)
   sin(3)
                                                                   Type: Void
(2) -> for i in 1..3 repeat print(a:=sin(i)::Complex Float)
 
   0.8414709848 0789650665
   0.9092974268 256816954
   0.1411200080 598672221 + 0.3388131789 0172013563 E -20 %i
                                                                   Type: Void
(3) ->

\start
Date: Tue, 18 Jan 2005 00:34:29 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#16 Serious One Line Crashing Axiom] 


  AXIOM Computer Algebra System

  Version of Tuesday November 30, 2004 at 21:11:14

\begin{axiom}

)version

\end{axiom}

\begin{axiom}

typeOf(1)

typeOf(1)::OutputForm

print(typeOf(1)::OutputForm)

\end{axiom}


********** CRASH *************

 This happens on both Windows (above) and Fedora FC2 (October 25, 2004).
But NOT on NAG version::

 ***** Error stack overflow

 and NAG version did not crash, but still possibly a bug.

\start
Date: Tue, 18 Jan 2005 00:26:31 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#15 integrate(1/(1+z^4), z=0..1) :: Complex Float] 

\begin{axiom}
integrate(1/(1+z^4), z=0..1) :: Complex Float
\end{axiom}

\start
Date: Tue, 18 Jan 2005 00:24:24 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#13 AXIOM for Windows: )copyright and )s ummary]


RE: Re[4]: AXIOM for Windows: )copyright and )summary

\start
Date: Tue, 18 Jan 2005 00:54:53 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#29 for i in 1..1 repeatprint(sin(i) :: Complex Float)] 

Vladimir Bondarenko wrote:
> -> for i in 1..1 repeat print(sin(i) :: Complex Float)
>    sin(1)

Hmm, we need to understand this a bit more:

for i in 1..1 repeat print(a:=sin(i)::Complex Float)
for i in 1..1 repeat print(a:=(sin(i)::Complex Float))

all give

0.8414709848 0789650665

At least that is a work-around.

But 

for i in 1..1 repeat print((a:=sin(i))::Complex Float)

sin(1)

for i in 1..1 repeat (a:=sin(i); print(a::Complex Float))

sin(1)

print is from PrintPackage, which calls
print from OutputForm, which calls
mathprint$Lisp

but the problem lies in print inside a loop (any type, not just a for-loop). The
problem seems to be an interpreter problem in parsing. This is confirmed partly
by the following transcript.  When trying to code this as a package for the
compiler, it is not easy to figure out the sequence of functions to use to
coerce  sin(i) from EXPR INT to Complex Float. I finally found one way, but it
may not be what the interpreter is doing:

--%Printest
)abbrev package PRINTEST Printest
Printest: T==C where
  EXPR ==> Expression
  INT  ==> Integer
  CF   ==> Complex Float
  T == with
       foo:PositiveInteger->Void
  C == add
       import EXPR INT
       foo(k)==
         for i in 1..k repeat 
           a:=sin(i::INT::Float::CF::EXPR CF)$(EXPR CF)
           print(retract(a)$(EXPR CF)@CF::OutputForm)

Of course it makes no difference whether a:= is eliminated or not. And this
works correctly. So my tentative conclusion is that the interpreter is "lazy" in
(1) to try to figure out this rather involved coercion sequence (Hey, I got it
to EXPR INT and I have no idea how to go further to Complex Float, I think it is
good enough ...:-), but in (2), it is somehow forced to work harder (Now you
want to save the result and I have to type the variable a, ok, ...). Is it a
bug? Don't know. There are limitations to the interpreter.

Tim: Do you know if there is a system limitation on the level of coercion the
interpreter will try before quitting? Can this be reset?

This example shows why a large percent of time (my low estimate is 70% and my
high is 90%) writing compiled code is spent on coercion. 

Now, there is still the question: why does this happen only inside a loop?
Can one tell more from the way the libraries are loaded (see attached
print.out)? Notice in print.out, even after foo(3) is executed, (2) still needs
to load another bunch of libraries. Why?


William
----
Start with a fresh session:
Note that neither Float nor Complex is loaded in (1), only in (2). More
surprisingly, UniversalSegment is also not loaded in (1). (it does not matter if
the segment is 1..1 or 1..3).


                        AXIOM Computer Algebra System
              Version of Tuesday November 30, 2004 at 21:11:14
-----------------------------------------------------------------------------
   Issue )copyright to view copyright notices.
   Issue )summary for a summary of useful system commands.
   Issue )quit to leave AXIOM and return to shell.
-----------------------------------------------------------------------------

(1) -> for i in 1..3 repeat print(sin(i)::Complex Float)
   Loading j:/Program Files/axiom/mnt/windows/algebra/EXPR.o for domain
      Expression
   Loading j:/Program Files/axiom/mnt/windows/algebra/KERNEL.o for
      domain Kernel
   Loading j:/Program Files/axiom/mnt/windows/algebra/BOP.o for domain
      BasicOperator
   Loading j:/Program Files/axiom/mnt/windows/algebra/SCACHE.o for
      package SortedCache
   Loading j:/Program Files/axiom/mnt/windows/algebra/VOID.o for domain
      Void
   Loading j:/Program Files/axiom/mnt/windows/algebra/UPMP.o for
      package UnivariatePolynomialMultiplicationPackage
   Loading j:/Program Files/axiom/mnt/windows/algebra/AN.o for domain
      AlgebraicNumber
   Loading j:/Program Files/axiom/mnt/windows/algebra/IAN.o for domain
      InnerAlgebraicNumber
   Loading j:/Program Files/axiom/mnt/windows/algebra/ACFS-.o for
      domain AlgebraicallyClosedFunctionSpace&
   Loading j:/Program Files/axiom/mnt/windows/algebra/FS-.o for domain
      FunctionSpace&
   Loading j:/Program Files/axiom/mnt/windows/algebra/COMMONOP.o for
      package CommonOperators
   Loading j:/Program Files/axiom/mnt/windows/algebra/KDAGG-.o for
      domain KeyedDictionary&
   Loading j:/Program Files/axiom/mnt/windows/algebra/DIAGG-.o for
      domain Dictionary&
   Loading j:/Program Files/axiom/mnt/windows/algebra/BOP1.o for
      package BasicOperatorFunctions1
   Loading j:/Program Files/axiom/mnt/windows/algebra/PRINT.o for
      package PrintPackage
   Loading j:/Program Files/axiom/mnt/windows/algebra/EF.o for package
      ElementaryFunction
   Loading j:/Program Files/axiom/mnt/windows/algebra/ACF-.o for domain
      AlgebraicallyClosedField&
   Loading j:/Program Files/axiom/mnt/windows/algebra/ES-.o for domain
      ExpressionSpace&
   Loading j:/Program Files/axiom/mnt/windows/algebra/BASTYPE-.o for
      domain BasicType&
   Loading j:/Program Files/axiom/mnt/windows/algebra/FRETRCT-.o for
      domain FullyRetractableTo&
   Loading j:/Program Files/axiom/mnt/windows/algebra/EVALAB-.o for
      domain Evalable&
   Loading j:/Program Files/axiom/mnt/windows/algebra/TRANFUN-.o for
      domain TranscendentalFunctionCategory&
   Loading j:/Program Files/axiom/mnt/windows/algebra/IEVALAB-.o for
      domain InnerEvalable&
   Loading j:/Program Files/axiom/mnt/windows/algebra/TRIGCAT-.o for
      domain TrigonometricFunctionCategory&
   Loading j:/Program Files/axiom/mnt/windows/algebra/ATRIG-.o for
      domain ArcTrigonometricFunctionCategory&
   Loading j:/Program Files/axiom/mnt/windows/algebra/HYPCAT-.o for
      domain HyperbolicFunctionCategory&
   Loading j:/Program Files/axiom/mnt/windows/algebra/ELEMFUN-.o for
      domain ElementaryFunctionCategory&
   Loading j:/Program Files/axiom/mnt/windows/algebra/RADCAT-.o for
      domain RadicalCategory&
   Loading j:/Program Files/axiom/mnt/windows/algebra/AF.o for package
      AlgebraicFunction
   Loading j:/Program Files/axiom/mnt/windows/algebra/POLYROOT.o for
      package PolynomialRoots
   Loading j:/Program Files/axiom/mnt/windows/algebra/INTFACT.o for
      package IntegerFactorizationPackage
   Loading j:/Program Files/axiom/mnt/windows/algebra/IROOT.o for
      package IntegerRoots
   Loading j:/Program Files/axiom/mnt/windows/algebra/FACTFUNC.o for
      package FactoredFunctions
   Loading j:/Program Files/axiom/mnt/windows/algebra/POLYCATQ.o for
      package PolynomialCategoryQuotientFunctions
   Loading j:/Program Files/axiom/mnt/windows/algebra/FSAGG-.o for
      domain FiniteSetAggregate&
   Loading j:/Program Files/axiom/mnt/windows/algebra/FLASORT.o for
      package FiniteLinearAggregateSort
   Loading j:/Program Files/axiom/mnt/windows/algebra/IDPOAMS.o for
      domain IndexedDirectProductOrderedAbelianMonoidSup
   Loading j:/Program Files/axiom/mnt/windows/algebra/IDPOAM.o for
      domain IndexedDirectProductOrderedAbelianMonoid
   Loading j:/Program Files/axiom/mnt/windows/algebra/PGCD.o for
      package PolynomialGcdPackage
   sin(1)
   sin(2)
   sin(3)
                                                                   Type: Void
(2) -> for i in 1..3 repeat print(a:=sin(i)::Complex Float)
   Loading j:/Program Files/axiom/mnt/windows/algebra/FLOAT.o for
      domain Float
   Loading j:/Program Files/axiom/mnt/windows/algebra/COMPLEX.o for
      domain Complex
   Loading j:/Program Files/axiom/mnt/windows/algebra/COMPCAT-.o for
      domain ComplexCategory&
   Loading j:/Program Files/axiom/mnt/windows/algebra/FPS-.o for domain
      FloatingPointSystem&
   Loading j:/Program Files/axiom/mnt/windows/algebra/RNS-.o for domain
      RealNumberSystem&
   Loading j:/Program Files/axiom/mnt/windows/algebra/DFLOAT.o for
      domain DoubleFloat
   Loading j:/Program Files/axiom/mnt/windows/algebra/NUMERIC.o for
      package Numeric
   Loading j:/Program Files/axiom/mnt/windows/algebra/EXPR2.o for
      package ExpressionFunctions2
   Loading j:/Program Files/axiom/mnt/windows/algebra/FS2.o for package
      FunctionSpaceFunctions2
   Loading j:/Program Files/axiom/mnt/windows/algebra/POLYLIFT.o for
      package PolynomialCategoryLifting
   Loading j:/Program Files/axiom/mnt/windows/algebra/ES2.o for package
      ExpressionSpaceFunctions2
   Loading j:/Program Files/axiom/mnt/windows/algebra/MONOGEN-.o for
      domain MonogenicAlgebra&
   Loading j:/Program Files/axiom/mnt/windows/algebra/FRAMALG-.o for
      domain FramedAlgebra&
   Loading j:/Program Files/axiom/mnt/windows/algebra/FINRALG-.o for
      domain FiniteRankAlgebra&
   Loading j:/Program Files/axiom/mnt/windows/algebra/FEVALAB-.o for
      domain FullyEvalableOver&
   Loading j:/Program Files/axiom/mnt/windows/algebra/UNISEG.o for
      domain UniversalSegment
   0.8414709848 0789650665
   0.9092974268 256816954
   0.1411200080 598672221 + 0.3388131789 0172013563 E -20 %i
                                                                   Type: Void
(3) ->

\start
Date: Tue, 18 Jan 2005 01:23:22 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#29 for i in 1..1 repeatprint(sin(i) :: Complex Float)] 

\begin{axiom}
)set message autoload on
\end{axiom}

\begin{axiom}
for i in 1..1 repeat print(sin(i) :: Complex Float)
\end{axiom}

Note that neither Float nor Complex is loaded in (1), only in (2). More
surprisingly, UniversalSegment is also not loaded in (1). (it does not
matter if the segment is 1..1 or 1..3).

\begin{axiom}
for i in 1..3 repeat print(sin(i)::Complex Float)
for i in 1..3 repeat print(a:=sin(i)::Complex Float)
\end{axiom}

-)abbrev package PRINTEST Printest
-Printest: T==C where
-  EXPR ==> Expression
-  INT  ==> Integer
-  CF   ==> Complex Float
-  T == with
-       foo:PositiveInteger->Void
-  C == add
-       import EXPR INT
-       foo(k)==
-         for i in 1..k repeat 
-           a:=sin(i::INT::Float::CF::EXPR CF)$(EXPR CF)
-           print(retract(a)$(EXPR CF)@CF::OutputForm)
may not be what the interpreter is doing::

 --%Printest
 )abbrev package PRINTEST Printest
 Printest: T==C where
   EXPR ==> Expression
   INT  ==> Integer
   CF   ==> Complex Float
   T == with
        foo:PositiveInteger->Void
   C == add
        import EXPR INT
        foo(k)==
          for i in 1..k repeat 
            a:=sin(i::INT::Float::CF::EXPR CF)\$(EXPR CF)
            print(retract(a)\$(EXPR CF)@CF::OutputForm)

\start
Date: Tue, 18 Jan 2005 10:25:17 +0200
From: Vladimir Bondarenko
To: Bill Page
Subject: Clarification: IssueTracker?  NO, axiom-developer list, always.

I believe there might be a misunderstanding.

You write:

PB> Why are you spaming the issuetracker with so many poorly
PB> formatted emails from axiom-developer email list?

Actually, while I find some IssueTracker's features to be
nice findings (say, the hues of red to distinguish between
the severity levels), I still NEVER used IssueTracker's URL
or MathAction for sending anything.

What I do is ALWAYS the same, I post my messages to
list , plus, a CC to a person who might
be especially interested in this. I saw such a scheme of
posting at the messages I got from AXIOM Developers.

I have already seen today a big mess at IssueTracker (unreadable!)
and strongly support your idea of full, easy readability.

PB> Why are you spaming the issuetracker with so many poorly
PB> formatted emails from axiom-developer email list?

Do you mean that when I send messages to list
they go automatically to IssueTracker?

If it is the case, I certainly did not expect this. In such a case
what should I do to use only emails for correspondence and keep the
things clean? (I get accustomed to e-mail messages and at my slow &
costly dial-up I anyway cannot afford to fiddle around with
IssueTracker)

What is maybe free for you, I get out of my pocket to help the
Axiom Developers in their grand task.

PB> Also, it would be very nice if you would identify yourself
PB> to the system by setting 'preferences' before issuing so
PB> many messages so that we can be sure who to 'blame'.

What do you mean by 'preferences'?
What URL(s) should I use to do it?

Tuesday, January 18, 2005, 6:55:56 AM, you write:

PB> Vladimir!

PB> (I presume that it is you.)

PB> Why are you spaming the issuetracker with so many poorly
PB> formatted emails from axiom-developer email list? Keep in
PB> might that everything you post on MathAction is also being
PB> sent to the axiom-developer list.

PB> Please be more selective and careful with the formatting.
PB> Some of your reports are almost unreadable.

PB> Also, it would be very nice if you would identify yourself
PB> to the system by setting 'preferences' before issuing so
PB> many messages so that we can be sure who to 'blame'.

PB> Regards,
PB> Bill Page.

\start
Date: Tue, 18 Jan 2005 00:17:38 -0800
From: Bob McElrath
To: Martin Rubey
Subject: re: hyperdoc

Martin Rubey [Martin Rubey] wrote:
> Dear Bob, *
> 
> there are some things I really dislike about MathML (and html, in fact):
> 
> * I cannot read it without browser.
> 
> * I find it very hard to edit.
> 
> * I cannot convert it to readable LaTeX, if at all.
> 
> there are some things I really like about LaTeX:
> 
> * I can read it without any tools, if necessary.
> 
> * I can edit it easily. (even without AucTeX, if necessary)
> 
> * I can convert it to html.
> 
> * I can send it to www.arxiv.org.

MathML is an output-only form that should never be seen by humans.  XML
in general should only be used in ways that never passes human eyes.  It
is *only* an interface protocol between programs, such as axiom and a
web browser, axiom and a notebook interface, axiom and a plotting
widget, etc.

Input to axiom (that is actually typed by humans) should always be
something actually readable, such as latex or axiom's current input.
Likewise, tex output should *always* be supported as well.

\start
Date: Tue, 18 Jan 2005 03:43:46 -0500
From: Bill Page
To: Vladimir Bondarenko
Subject: RE: Clarification: IssueTracker?  NO,	axiom-developer list, alway s.

On January 18, 2005 3:25 AM you wrote:
> 
> I believe there might be a misunderstanding.

Yes. I was mistaken. In a later email you will see that I
made an apology to you.

> 
> You write:
> 
> PB> Why are you spaming the issuetracker with so many poorly
> PB> formatted emails from axiom-developer email list?
> 
> Actually, while I find some IssueTracker's features to be
> nice findings (say, the hues of red to distinguish between
> the severity levels), I still NEVER used IssueTracker's URL
> or MathAction for sending anything.
> 

I know. But I think that you *should* use IssueTracker. My
(incorrect) complaint was that I thought you were using it
but incorrectly. It is better to use it in any case.

> What I do is ALWAYS the same, I post my messages to
> list , plus, a CC to a person who might
> be especially interested in this. I saw such a scheme of
> posting at the messages I got from AXIOM Developers.
>

That is the correct procedure if you are unsure and would
like clarification before making a report in IssueTracker.
 
> I have already seen today a big mess at IssueTracker (unreadable!)
> and strongly support your idea of full, easy readability.

I have corrected the formatting of the Issues that were
posted to IssueTracker by Tim Daly. He was in a hurry and
did not let anyone no that he was going to copy emails
directly into the IssueTracker without reformatting.

> 
> PB> Why are you spaming the issuetracker with so many poorly
> PB> formatted emails from axiom-developer email list?
> 
> Do you mean that when I send messages to list
> they go automatically to IssueTracker?
> 

No. It was my mistake. Messages sent to axiom-developer do *not*
automatically go to IssueTracker. It is the other way around. All
postings to IssueTracker will also be forwarded to axiom-developer.

> If it is the case, I certainly did not expect this. In such a case
> what should I do to use only emails for correspondence and keep the
> things clean? (I get accustomed to e-mail messages and at my slow &
> costly dial-up I anyway cannot afford to fiddle around with
> IssueTracker)

You are doing the correct thing now except that once you are
satisfied that what you have discussed by email is a bug or is
potentially very confusing, then you should transfer a short
summary of the discussion to IssueTracker. IssueTracker is the
source of information for people who will (eventually) correct
the bugs. If there is no record in IssueTracker then it is quite
possible that the bug will be forgotten and never fixed - all
your hard work would then be lost.

> 
> What is maybe free for you, I get out of my pocket to help
> the Axiom Developers in their grand task.

Unfortunately not free for me either.

> 
> PB> Also, it would be very nice if you would identify yourself
> PB> to the system by setting 'preferences' before issuing so
> PB> many messages so that we can be sure who to 'blame'.
> 
> What do you mean by 'preferences'?
> What URL(s) should I use to do it?
> 

'preferences' is a menu item at the top of each page in MathAction.
If you are going to add a record to IssueTracker or edit some other
page on MathAction, you should (but it is not absolutely necessary
to) click on 'preferences' and then enter your name and email address.
That way a record is kept of who created or changed the record.

\start
Date: Tue, 18 Jan 2005 10:08:22 +0100
From: Martin Rubey
To: William Sit
Subject: re: Mathaction edit/preview/save problem
Cc: Bill Page

William Sit writes:

 > Martin, what type of response you have? Do you have to set the browser in
 > any special way?

No, but I use Konqueror, so maybe that does make a difference. Usually, the
response is immediate, *sometimes* however, it takes longer than I'm willing to
wait. In this case I usually press "stop" and do it again.

Using the external editor I never had any problems whatsoever.

\start
Date: Tue, 18 Jan 2005 04:06:48 -0500
From: Bill Page
To: Tim Daly
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

On January 17, 2005 10:31 PM you wrote:
> 
> Next we see the transition to compiling the non-BOOTSTRAP algebra.
> This is done in the interpsys image. It is also done in an image 
> that has access to only the BOOTSTRAP algebra code. Thus the 
> new compiler might not have all of the algebra-defined replacements
> available at compile time. Notice the autoload files that contain
> the optimizations.
>

What do you mean by "algebra-defined replacements". Where are
these replacements defined? How are they different than the
"optimizations" contained in the autoload files?
 
> A second or third round of compiles will expose the algebra-based
> optimizations and these will be compiled into the code.

What do you mean by "expose". Why does this cause interpsys to
be re-built? That is necessary if code is going to be generated
based on new optimizations isn't it?

> Since these are only optimizations the final results should not
> be affected.
>

But it could have an impact on overall performance, right?

In src/interp/Makefile.pamphlet you wrote:

"database.date is a marker file used to force a rebuild of
interpsys if the database is rebuilt (src/algebra/Makefile)."

But the marker file actually used in src/algebra/Makefile was
actually `dbcomplete' - that is, at least until I eliminated the
use of the marker file altogether and replaced it with a wild
card list of the `*.NRLIB/code.o' dependencies. So I don't know
if this ever worked quite in the manner expected.

We have the stanzas:

${SAVESYS}:	${DEPSYS} ${OBJS} ${OUT}/util.${O} ${OUT}/nocompil.${LISP} \
                ${OUT}/sys-pkg.${LISP} \
	        ${OUTINTERP} ${OCOBJS} ${OPOBJS} ${BROBJS} ${OUT}/obey.${O}
\
		${OUT}/database.date ${INOBJS} ${ASCOMP} ${ASAUTO} \
		${NAGBROBJS} ${TRANOBJS} \
	        ${LOADSYS} \
		${MNT}/${SYS}/algebra/exposed.${O} \
		${SRC}/doc/msgs/s2-us.msgs \
	        ${INT}/algebra/warm.data
...

${OUT}/database.date:
	@ echo 617 the database was updated...remaking interpsys
	@ touch ${OUT}/database.date

----------

Still after reading the interp and algebra Makefiles again,
I do not see why interpsys is being rebuilt after I delete
all the *.NRLIB's and repeat the 'make'. I am still missing
something somewhere. Is there some "missing link" that still
connects the algebra/Makefile back to the inter/Makefile?

\start
Date: Tue, 18 Jan 2005 03:40:42 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [ArchUsage] 


    tla my-id "First Last <addy@host.com>"

     work with Mark Murray <mark at grondar.org>

     work with Chuck Miller <cfm at ms.unimelb.edu.au>

     work with Kostas Oikonomou <ko at research.att.com>

     work with Mike Thomas <mike.thomas at brisbane.paradigmgeo.com>

     work with Stephen Wilson <wilsons at multiboard.com>

     work with Tim Daly Jr. <tim at tenkan.org> and
               Nate Daly <nate at tenkan.org>

     work with Jinzhong Niu <jniu at gc.cuny.edu>
               Xaiowei Xu <xuxw at yahoo.com>

of this file to Tim Daly so your interactions can be

  tla my-id "First Last <addy@host.com>"

\start
Date: Tue, 18 Jan 2005 10:53:19 +0100
From: Martin Rubey
To: Bob McElrath
Subject: re: hyperdoc

Dear Bob, Bill, *,

Bob McElrath writes:
 > Martin Rubey [Martin Rubey] wrote:
 > > Dear Bob, *
 > > 
 > > there are some things I really dislike about MathML (and html, in fact):
 > > 
 > > * I cannot read it without browser.
 > > 
 > > * I find it very hard to edit.
 > > 
 > > * I cannot convert it to readable LaTeX, if at all.
 > > 
 > > there are some things I really like about LaTeX:
 > > 
 > > * I can read it without any tools, if necessary.
 > > 
 > > * I can edit it easily. (even without AucTeX, if necessary)
 > > 
 > > * I can convert it to html.
 > > 
 > > * I can send it to www.arxiv.org.
 > 
 > MathML is an output-only form that should never be seen by humans.  XML in
 > general should only be used in ways that never passes human eyes.  It is
 > *only* an interface protocol between programs, such as axiom and a web
 > browser, axiom and a notebook interface, axiom and a plotting widget, etc.

OK.

 > Input to axiom (that is actually typed by humans) should always be something
 > actually readable, such as latex or axiom's current input.  Likewise, tex
 > output should *always* be supported as well.

In fact, I only care about the input method. Output doesn't bother me at all --
except for size and speed.

I'm happy as long as LaTeX is the default for documentation of the source code.

I'm sorry I misunderstood.

\start
Date: Tue, 18 Jan 2005 07:28:23 -0500
From: Tim Daly
To: Bill Page
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

> > Next we see the transition to compiling the non-BOOTSTRAP algebra.
> > This is done in the interpsys image. It is also done in an image 
> > that has access to only the BOOTSTRAP algebra code. Thus the 
> > new compiler might not have all of the algebra-defined replacements
> > available at compile time. Notice the autoload files that contain
> > the optimizations.
> >
> 
> What do you mean by "algebra-defined replacements". Where are
> these replacements defined? How are they different than the
> "optimizations" contained in the autoload files?

The BOOTSTRAP files contain lsp and spad code. The build steps
for the initial BOOTSTRAP layer use "depsys" to compile the lisp
code. So, in this case, we see VECTOR.lsp being compiled in the
depsys image. VECTOR.lsp is the last algebra file that contains
BOOTSTRAP code. So in this phase we see:

VECTOR.lsp (BOOTSTRAP) -> VECTOR.o

Once we leave the phase (shown in the printout) we start using
an "interpsys" image to compile spad code. Much later in the console
VECTOR.spad will be compiled and replaces the lisp. However the
"interpsys" environment in VECTOR.spad differs significantly from
the "depsys" environment that compiles VECTOR.lsp BOOSTRAP code. 
So we see

VECTOR.spad + SINT.NRLIB -> VECTOR.lsp -> VECTOR.o (replaced previous version)

Suppose VECTOR.spad used something from SINT.spad. When the
VECTOR.lsp BOOTSTRAP file is compiled by depsys it contains
(+ ... ...) and generates untyped and unoptimized code.

Later when VECTOR.spad is compiled and SINT.o is available 
then the spad compiler will use the optimization information
to generate (QSADD1 ... ...)

> What do you mean by "expose". Why does this cause interpsys to
> be re-built? That is necessary if code is going to be generated
> based on new optimizations isn't it?

expose == make available
Due to my lack of foresight in choosing the VECTOR.lsp BOOTSTRAP
code I did not use the most highly optimized version. But in the
algebra recompile of VECTOR.spad later in the build this gets
corrected because the operations are made available (exposed) by
previously compiled .spad code. So:

VECTOR.lsp (BOOTSTRAP) uses SINT.o

But the VECTOR.lsp has (+ ... ...) instead of (QSADD1 ... ...)
because the rewriting of "+" to "QSADD1" is done by the spad
compiler, not the GCL compiler and we are not yet in a position
to use the spad compiler.

Later when 

VECTOR.spad -> VECTOR.lsp -> VECTOR.o (replaced previous version)

the spad compiler was invoked and it gets a chance to change
"+" to "QSADD1". 

Because I grabbed the wrong version of .lsp file for BOOTSTRAP
code you are able to see this difference. The work you and steve
are doing is to find stable versions of the .lsp files.

> > Since these are only optimizations the final results should not
> > be affected.
> >
> 
> But it could have an impact on overall performance, right?

Oh, clearly. (QSADD1 ... ...) is faster than (+ ... ...)

Furthermore, there is another optimization step we could take
during the build but we do not (yet). When the GCL compiler
compiles VECTOR.lsp it generates VECTOR.fn. If you look in these
.fn files you'll find exact type information for each function call.

VECTOR.lsp -> VECTOR.o + VECTOR.fn (unoptimized, but type generated)

If this exact type information was available at compile time then
the GCL compiler can lay down faster code. However there is a 
bootstrap problem here also since the GCL compiler has to compile
the code one time in order to generate the .fn file.

VECTOR.lsp + VECTOR.fn -> VECTOR.o (type optimized)

So the full, proper procedure, which I have yet to do, would actually
call the GCL compile once to generate the .fn file with exact type
information for function calls, load the .fn file, and the recompile
the lisp file. Since the second compile has exact type information 
the generated code will be (potentially much) shorter.

For each lisp file do
(
  VECTOR.lsp -> VECTOR.o + VECTOR.fn (unoptimized, but type generated)
  VECTOR.lsp + VECTOR.fn -> VECTOR.o (type optimized)
)


> Still after reading the interp and algebra Makefiles again,
> I do not see why interpsys is being rebuilt after I delete
> all the *.NRLIB's and repeat the 'make'. I am still missing
> something somewhere. Is there some "missing link" that still
> connects the algebra/Makefile back to the inter/Makefile?

I have to think about this (I'm getting ready for work so I'll
give it some "drive-time cycles") but I believe that the issue
is related to using fresh databases. The databases are used 
during the algebra compiles to resolve algebra calls. However
recompiling the algebra generates NRLIBs and, from these NRLIBs 
a fresh database is built thus:

DATABASES -> NRLIBs -> FRESH DATABASES

This is yet a third bootstrap issue. There are more but not with
the algebra files.

\start
Date: Tue, 18 Jan 2005 07:55:01 -0500
From: Tim Daly
To: Bill Page
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

Yet one other opportunity for speed optimization is available at 
build time....

Remember that every lisp file generates a .fn file:

foo.lsp -> foo.o + foo.fn

and that a second compile with the .fn file loaded is faster:

foo.lsp + foo.fn -> faster foo.o

However if we look at the type information in the foo.fn file
we find that it only contains type information for functions
defined in foo.lsp. But suppose there are two lisp files with
functions from one using functions from the other. The sub-optimal
sequence is:

foo.lsp -> foo.o + foo.fn
foo.lsp + foo.fn -> faster foo.o

bar.lsp -> bar.o + bar.fn
bar.lsp + bar.fn -> faster bar.o

The optimal sequence is:

foo.lsp -> foo.o + foo.fn
bar.lsp -> bar.o + bar.fn

foo.lsp + (foo.fn + bar.fn) -> even faster foo.o
bar.lsp + (foo.fn + bar.fn) -> even faster bar.o

So, really what we should do is cache ALL of the .fn files from all of
the compiles, batch them into a big file, and the completely rebuild
the system with the batched .fn files loaded.

I've started this process but have not yet completed it. 
See the file src/boot/boot-proclaims.lisp

So there is a faster Axiom coming in the future but the build 
complexity will be even greater. And Camm, I believe, is doing
even more with type propagation which will improve things more.

\start
Date: Tue, 18 Jan 2005 07:17:54 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [AxiomDownload] 

  * "Windows (exe) version 0.1.4":http://page.axiom-developer.org/axiom-windows-0.1.4.exe  ** new test version**

    (20 Mb.) This version includes the additional C compiler (gcc)
    files needed to ')compile' spad library files. It also corrects
    some problems relating to installation of Axiom in paths
    containing spaces. The Axiom algebra files have been optimized
    using a *fixedPoint* iteration procedure which ensures consistency
    of the generated code in spite of the presence of cyclic
    dependencies (mutual recursion). Optimization includes inline code
    generation and greater use of type information.

  * "Windows (exe) version 0.1.3":http://page.axiom-developer.org/axiom-windows-0.1.3.exe ${\bf \longleftarrow}$ **Recommended Download** 

\start
Date: Tue, 18 Jan 2005 10:04:00 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [AxiomDownload] 

  * "Windows (exe) version 0.1.4":http://page.axiom-developer.org/axiom-windows-0.1.4.exe ${\bf \longleftarrow}$ **new test version**

\start
Date: Tue, 18 Jan 2005 12:38:54 -0500
From: Stephen Wilson
To: Tim Daly
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

I believe I understand the process by which optimized versions of the
bootstrap files are produced. However, I think that many of the
differences in the code we are seeing are not due to this process.

The fixed point build is causing the interpsys image to be
rebuilt. These images are different:

  -rwxr-xr-x  1 steve steve 15858720 2005-01-06 05:29  interpsys1
  -rwxr-xr-x  1 steve steve 16645152 2005-01-07 21:42  interpsys2

and they generate different code. 

Consider the following simple package:

)abbrev package Foo Foo
Foo(): E == I where
  E == with
    bar: () -> Void
  I == add
    SI ==> SingleInteger
    sint : SI := 2::SI
    bar(): Integer == 
       for j in 3.. repeat
         print(i::OutputForm)

When compiled using both images, with the same $AXIOM environment (so
we know the images are seeing the same algebra) we get these basic
differences:

  1) In iteration over the for loop, generic stepping code is replaced
     with fixnum arith
  2) Trivial coercions to SINT's coerce(Integer):% are being inlined. 


In wi1.boot we see an improved version of compCoerce. Likewise in
wi2.boot we see an improved version of compIterator. The improved
version of compIterator makes explicit attempts to decide when fixnum
arith should be generated for stepping code (a higher-level attempt
then the quick hack found in the definition of -REPEAT in
macros.lisp, see a previous email). 

My feeling is that somehow the new versions of these functions have
been loaded into the image in the second pass.  

\start
Date: Tue, 18 Jan 2005 13:46:08 -0500
From: Bill Page
To: Tim Daly
Subject: re: algebra Makefiles with explicit dependencies, bootstrap, fixed-points etc.

On Tuesday, January 18, 2005 7:28 AM Tim Daly wrote:
> ... 
> Suppose VECTOR.spad used something from SINT.spad. When the
> VECTOR.lsp BOOTSTRAP file is compiled by depsys it contains
> (+ ... ...) and generates untyped and unoptimized code.
> 
> Later when VECTOR.spad is compiled and SINT.o is available 
> then the spad compiler will use the optimization information
> to generate (QSADD1 ... ...)
>

So you are saying that the type information derived from the
object files `A_i' files on which some code X depends can affect
the actual code generated library file X because the compiler
attempts optimizations based on this information. The bootstrap
lisp files do not currently have any type information, therefore
any library file that depends on a bootstrap file (quite a large
number) might not be optimized during the initial build. The
bootstrap files themselves are re-compiled from the spad sources
but of course by then it is too late for any other library file
that has already been compiled.

After the first iteration of fixedPoint all of the library files
have been re-compiled using object files that do have type
information, so now everything is optimized as expected.

Your argument is that the missing optimizations are not that
critical because the "mathematics" is still correct. It is just
that the generated code is less than optimal.

Right?

But on Monday, January 17, 2005 9:38 PM Stephen Wilson wrote
> 
> On Mon, Jan 17, 2005 at 09:09:12PM -0500, Page, Bill wrote:
> > I wonder if both are necessary or is it only the change in
> > interpsys?
> 
> The bootstrap code does influence the generated code for RECLOS
> and ROIRC (SINT's missing `one?' is showing up here).
> 
> We know the bootstrap code is out of sync, so it would probably
> be a good idea to refresh it. Note that when I built a system
> with fresh bootstrap code, even though the generated lisp code
> was the same save for RECLOS and ROIRC, I did notice differences
> in how domains vectors were being instantiated at runtime (the
> vectors had the same layout, just that the runtime lookup of
> certain functions was proceeding differently).

Steve says that the code for `one?' was missing for SINT.lsp
Is this because it was coded as "onep$lisp" in the original
spad sources? I guess the actual symbols occurring in the
bootstrap lisp code would contain "hard coded" domain vector
`;offsets' as part of their names, corresponding to the old
coding of onep$lisp. But after SINT is recompiled from the
new spad code, the previous hardcoded offsets of any function
appearing after `one?' would become incorrect in any bootstrap
function that depends on SINT but was re-compiled before SINT.

Presumably this could lead to subtle (or not so subtle) run-
time errors. In other words, we have to be very careful of the
order in which we re-compile the bootstrap from the spad code.
If there are cyclic dependencies among the bootstrap files
(I think there are) then we are in trouble.

Of have I still got this wrong? My understanding of how
the compiler assigns and uses domain table offsets remains
very unclear to me.

\start
Date: Tue, 18 Jan 2005 13:43:11 -0500
From: Bill Page
To: Ralf Hemmecke
Subject: RE: [MutualRecursion] (new)

On Tuesday, January 18, 2005 12:22 PM you wrote:
> 
> Do you find the attached file relevant?
>

----------

#include "aldor"
#include "aldorio"

define Parity: Category == with {
	parity: Integer -> Boolean;
}

Odd: Parity == add {
	parity(n:Integer): Boolean == {
		(n>0) => parity(n-1)$Even;
		(n<0) => parity(n+1)$Even;
		false;
	}
}

Even: Parity == add {
	parity(n: Integer): Boolean == {
		n>0 => parity(n-1)$Odd;
		n<0 => parity(n+1)$Odd;
		true;
	}
}

main(): () == {
	import from Integer;
	stdout << "parity(   10)$Even=" << parity(  10)$Even << newline;
	stdout << "parity(    8)$Odd =" << parity(   8)$Odd  << newline;
	stdout << "parity(-1111)$Odd =" << parity(-111)$Odd  << newline;
}

main();

-----

Yes I do find it very relevant. Thank you!

I have tried for about 1/2 an hour without success to write
this same category in Axiom. Perhaps someone with more
experience with the Axiom compiler can help?
 
> It actually compiles with Aldor 1.0.2 and runs with the output
> 
> aldor -grun -laldor EvenOdd.as
> parity(   10)$Even=T
> parity(    8)$Odd =F
> parity(-1111)$Odd =T
> 
> I wonder how the Aldor compiler handles such mutual recursive 
> structures. Perhaps Peter Broadbery knows.

I would also like to know.

> 
> Maybe this example is easy, because both domains are in the
> same file> Do you know a good example where it makes sense
> to put the domains much more away from each other?

I can not give a simple example right now but I suspect that
this happens very frequently in Axiom's algebra.

> 
> BTW, who reads MathAction?

MathAction is the email address of the
MathAction wiki. The content of new web pages created there
be sent to the axiom-developer email list. So I suppose you
could say that everyone on axiom-developer reads these emails
from MathAction.

> What if I write a mail to this address?

If you send mail to this address you should delete the part
of the subject before [MutualRecursion] then your email will
be added to the MathAction page named [MutualRecursion].
Otherwise it will be added to the page named [Axiom-developer].
In both cases what you write will also be echoed back to the
Axiom-developer email list.

For greater control over the formatting of your reply you
can also click on the `forwarded from' link below. (Make sure
that it is not split by your email reader). It will take you
directly to the page on MathAction where you can make comments
online (essentially the same as email) or you can click `edit'
and make any changes to the page that you wish including adding
new Axiom commands and LaTeX mathematics.

> 
> Bill Page wrote:
> > Here is an example of defining functions by mutual 
> recursion in Axiom
> > 
> > We start with a "bootstrap" definition of 
> 'parity(n)\$Even'. All that is
> > really needed here is a package that exports a function 
> named 'parity'
> > with the right signature. This particular function will 
> never be called
> > and will be re-defined later. It's only purpose is as a 
> placeholder to
> > allow the later definition of **ODD**.
> > 
> > \begin{axiom}
> > )abbrev package EVEN Even
> > Even(): E == I where
> >   E == with
> >     parity: Integer -> Boolean
> >   I == add
> >     parity(n) == true
> > \end{axiom}
> > 
> > Now we can define 'parity(n)\$Odd'. It depends on **EVEN**.
> > 
> > \begin{axiom}
> > )abbrev package ODD Odd
> > Odd(): E == I where
> >   E == with
> >     parity: Integer -> Boolean
> >   I == add
> >     parity(n:Integer) ==
> > --    output("ODD",n::OutputForm)$OutputPackage
> >       (n>0) => parity(n-1)$Even
> >       (n<0) => parity(n+1)$Even
> >       false
> > \end{axiom}
> > 
> > But the bootstrap definition of **EVEN** is incomplete. It really
> > depends (recusively) on **ODD**. So finally we need the 
> full (re-)definition
> > of 'parity(n)\$Even'
> > 
> > \begin{axiom}
> > )abbrev package EVEN Even
> > Even(): E == I where
> >   E == with
> >     parity: Integer -> Boolean
> >   I == add
> >     parity(n) ==
> > --    output("EVEN",n::OutputForm)$OutputPackage
> >       n>0 => parity(n-1)$Odd
> >       n<0 => parity(n+1)$Odd
> >       true
> > \end{axiom}
> > 
> > Now we can test the new functions:
> > 
> > \begin{axiom}
> > parity(10)$Even
> > parity(8)$Odd
> > parity(-1111)$Odd
> > \end{axiom}

\start
Date: Tue, 18 Jan 2005 13:31:25 -0600
From: MathAction (billpage)
To: MathAction
Subject: [AxiomDownload] 

  * "Windows (exe) version 0.1.4":http://page.axiom-developer.org/axiom-windows-0.1.4.exe ${\bf \longleftarrow}$ **Recommended Download** 

    (49 Mb.) This version includes the additional C compiler (gcc) files needed

    consistency of the generated code in the presence of cyclic dependencies
    (mutual recursion). Optimizations include inline code generation for special
    cases and greater use of type information.

    All 1,800+ dvi files documenting the algebra and other parts of the system
    have been converted to PDF format. The use of PDF is the main reason for the
    increase in size. I would like to know the opinion of people who download this
    file whether conversion to PDF is a good idea. Is it more convenient? Would you
    prefer to save space and download time by omitting the files or is dvi format
    acceptible to most Windows users?

  * "Windows (exe) version 0.1.3":http://page.axiom-developer.org/axiom-windows-0.1.3.exe

\start
Date: Tue, 18 Jan 2005 14:35:41 -0600
From: MathAction (billpage)
To: MathAction
Subject: [MutualRecursion] 

Here we give two examples of defining functions by mutual recursion in Axiom

Recursion between Separate Domains

  First we show how to define two separate domains **EVEN** and **ODD**
both of which have an attribute represented by the polymorthic function
**parity**.

We must start with a "bootstrap" definition of 'parity(n)\$even'. All that
is really needed here is a package that exports a function named 'parity'

??changed:
-)abbrev package EVEN Even
-Even(): E == I where
)abbrev domain EVEN even
even(): E == I where

??changed:
-Now we can define 'parity(n)\$Odd'. It depends on **EVEN**.
Now we can define 'parity(n)\$odd'. It depends on **EVEN**.

??changed:
-)abbrev package ODD Odd
-Odd(): E == I where
)abbrev domain ODD odd
odd(): E == I where

??changed:
-      (n>0) => parity(n-1)$Even
-      (n<0) => parity(n+1)$Even
      (n>0) => parity(n-1)$even
      (n<0) => parity(n+1)$even

??changed:
-depends (recusively) on **ODD**. So finally we need the full (re-)definition
-of 'parity(n)\$Even'
depends (recusively) on **ODD**. So finally we need the full
(re-)definition of 'parity(n)\$even'

??changed:
-)abbrev package EVEN Even
-Even(): E == I where
)abbrev domain EVEN even
even(): E == I where

??changed:
-      n>0 => parity(n-1)$Odd
-      n<0 => parity(n+1)$Odd
      n>0 => parity(n-1)$odd
      n<0 => parity(n+1)$odd

??changed:
-Now we can test the new functions:
-
Now we can test the new function:

??changed:
-parity(10)$Even
-parity(8)$Odd
-parity(-1111)$Odd
parity(10)$even
parity(8)$odd
parity(-1111)$odd

++added:
Recursion within a Single Domain

  It is possible to write this same recursion as a domain that
exports two functions **Even** and **Odd**. In this case we do not
need to supply any initial *bootstrap* code because the compiler is
able to resolve both functions simultaneously.

\begin{axiom}
)abbrev domain PARITY Parity
Parity(): Exports == Implements where
  Exports == with
    Even: Integer -> Boolean
    Odd: Integer -> Boolean
  Implements == add
    Odd(n: Integer) ==
      n>0 => Even(n-1)
      n<0 => Even(n+1)
      false
    Even(n: Integer) ==
      n>0 => Odd(n-1)
      n<0 => Odd(n+1)
      true
\end{axiom}

Test
\begin{axiom}
Even(10)$Parity
Odd(8)$Parity
Odd(-1111)$Parity
\end{axiom}

\start
Date: Tue, 18 Jan 2005 20:50:27 +0000
From: Peter Broadbery
To: Bill Page
Subject: RE: [MutualRecursion] (new)

On Tue, 2005-01-18 at 13:43 -0500, Page, Bill wrote:
> Ralf,
> 
> On Tuesday, January 18, 2005 12:22 PM you wrote:
> > 
> > Do you find the attached file relevant?
> >
> 
> ----------
> 
> #include "aldor"
> #include "aldorio"
> 
> define Parity: Category == with {
> 	parity: Integer -> Boolean;
> }
> 
> Odd: Parity == add {
> 	parity(n:Integer): Boolean == {
> 		(n>0) => parity(n-1)$Even;
> 		(n<0) => parity(n+1)$Even;
> 		false;
> 	}
> }
> 
> Even: Parity == add {
> 	parity(n: Integer): Boolean == {
> 		n>0 => parity(n-1)$Odd;
> 		n<0 => parity(n+1)$Odd;
> 		true;
> 	}
> }
> 
> main(): () == {
> 	import from Integer;
> 	stdout << "parity(   10)$Even=" << parity(  10)$Even << newline;
> 	stdout << "parity(    8)$Odd =" << parity(   8)$Odd  << newline;
> 	stdout << "parity(-1111)$Odd =" << parity(-111)$Odd  << newline;
> }
> 
> main();
> 
> -----
> 
> Yes I do find it very relevant. Thank you!
> 
> I have tried for about 1/2 an hour without success to write
> this same category in Axiom. Perhaps someone with more
> experience with the Axiom compiler can help?
>  
> > It actually compiles with Aldor 1.0.2 and runs with the output
> > 
> > aldor -grun -laldor EvenOdd.as
> > parity(   10)$Even=T
> > parity(    8)$Odd =F
> > parity(-1111)$Odd =T
> > 
> > I wonder how the Aldor compiler handles such mutual recursive 
> > structures. Perhaps Peter Broadbery knows.
> 
> I would also like to know.

[Disclaimer: I'm not an expert on the type checking bit - and if you
want info, it is nicer to ask]

The key is that they are in the same file.  Otherwise the compiler (at
least back in '9x) will complain that it does not know about the other
domain.  The compiler will first determine the exports of mutually
referencing types, then compile the bodies - the aldor language is a bit
more careful than spad about what types are in scope (via import, etc)
so it can determine mutual references fairly easily.  Within a file,
types are compiled in an order determined by the types each one uses,
not the textual order. Various langauge constructs (nested domains,
conditionals) make this a bit tricker, but apparently doable.

If you have a situation with mutually referencing domains in separate
files, then you have to use the extend keyword, and build the defn. up
in steps - there may well be an example or two of this in the aldor
library sources shipped with the compiler.

The problem then shifts to the cateogory level, which can't be
extended. 

> > 
> > Maybe this example is easy, because both domains are in the
> > same file> Do you know a good example where it makes sense
> > to put the domains much more away from each other?
> 
> I can not give a simple example right now but I suspect that
> this happens very frequently in Axiom's algebra.
> 

All over - try OutputForm as an example.

\start
Date: Tue, 18 Jan 2005 17:42:35 -0500
From: Bill Page
To: Peter Broadbery
Subject: RE: [MutualRecursion] (new)

On Tuesday, January 18, 2005 3:50 PM Peter Broadbery wrote:
> ...
> > > 
> > > I wonder how the Aldor compiler handles such mutual
> > > recursive structures. Perhaps Peter Broadbery knows.
> > 
> > I would also like to know.
> 
> [Disclaimer: I'm not an expert on the type checking bit -
> and if you want info, it is nicer to ask]
>

It's great to find out that there is someone here to ask!
Thank you very much for taking the time to explain. In the
future I will try to ask in a more polite manner. :)

> ... 
> If you have a situation with mutually referencing domains
> in separate files, then you have to use the extend keyword,
> and build the defn. up in steps - there may well be an
> example or two of this in the aldor library sources shipped
> with the compiler.

The point of this discussion (for me at least) is to understand
the problem of attempting to build the Axiom library from spad
code alone. Apparently in the previous century Axiom had always
been built using a running system. (So says Tim Daly.) So it
seems that the Axiom algebra evolved incrementally over time,
gradually building one layer on top of another and (for the
most part) discarding the information about the path that
lead to the then current state of the library. Each port of
the system to a new environment was built with the resources
of the old and as a whole over time the library became more
tightly integrated and highly structured. This seems like a
remarkable thing to study from a historical perspective since
it seems to run counter to the evolution of most software.

Anyway, the short story is that at the present time we do
not "build the defn. up in steps". Instead we use a bootstrap
based on lisp code that maintains a tenuous but essential
historical link with the past that goes beyond the spad code
itself. This leave me with the concern that what Axiom is now
may be at least in part determined by the path that got it
where it is today (about which almost no detailed information
is available). Or viewed another way, some essential aspects
of Axiom may be hidden in the "low level" previously generated
bootstrap lisp code and not apparent in the current "high level"
spad code.

But with more than 1,000 strongly interdependent algebra domains,
categories and packages, building up the current algebra
incrementally by successive extensions of the kind supported
by Aldor seems like it would be a very time consuming and
largely uninteresting task. From what I have seen so far, only
a small part of the Axiom algebra has so far been implemented
in Aldor.

So instead of using a series of incremental extensions, my
current proposal is that we can define the compilation of the
Axiom algebra library as a particular type of fixed point,
namely that point in the iterated re-compilation of the entire
library where the compiler generated lisp code does not change
from one iteration to the next. All the lisp code (and of
course the object code compiled from the lisp code) is then
determined only by the spad code itself and not from the any
remnant of the bootstrap lisp code.

There is the formal problem of the uniqueness of the particular
"solution", i.e. for example is it a "least" fixed point?
Perhaps starting with a somewhat different set of bootstrap
lisp code could yield a different fixed point solution? But
in practice I think that having at least one self-consistent
compilation of the mutually recursive mathematical definitions
in the Axiom library will be adequate for most purposes.
Ultimately the kind of things that I can imagine would be to
support the proof of the formal correctness of substantial
parts of Axiom's library.

Given the "flexibility" of the Axiom compiler (some might call
it a weakness), perhaps there is some practical half-way point
where some parts of the Axiom library are defined by a fixed
point iteration and other parts by the Aldor-like method of
formal extensions. I think that the little experiment at

http://page.axiom-developer.org/zope/mathaction/MutualRecursion

shows that this is possible in principle.

> 
> The problem then shifts to the category level, which can't
> be extended.

Are you speaking about the Aldor language or about some formal
limitation? Is it true that there are no circular definitions
(cyclic dependencies) among the Axiom categories?

> 
> > > 
> > > Maybe this example is easy, because both domains are in the
> > > same file. Do you know a good example where it makes sense
> > > to put the domains much more away from each other?
> > 
> > I can not give a simple example right now but I suspect that
> > this happens very frequently in Axiom's algebra.
> > 
> 
> All over - try OutputForm as an example.
> 

So then it is remarkable is it not, that it is possible at all
to compile this whole tangled mess of code into a (mostly)
consistent computer algebra system?

\start
Date: Tue, 18 Jan 2005 16:58:22 -0600
From: MathAction (Billinghurst,	David (CALCRTS))
To: MathAction
Subject: [Axiom-mail] Building axiom on windows

I would like to try and build axiom under windows/mingw. I already know how to:
 - compile gcl-2.6.5 and gcl-2.6.6pre (from CVS)
 - compile, test and package maxima
 - compile and test ACL2

Can someone point me to the latest set of instructions.  I have googled around and am quite confused.

\start
Date: Tue, 18 Jan 2005 17:42:08 -0600
From: MathAction (billpage)
To: MathAction
Subject: [MikTex] (new) 

MiKTeX is an up-to-date TeX implementation for the Windows operating system.

TeX is a typesetting system written by Donald E. Knuth, who says that it is
"intended for the creation of beautiful books - and especially for books that
contain a lot of mathematics".

MiKTeX offers a complete set of utilities, macro packages and fonts, e.g.,
LaTeX, pdfTeX, ConTeXt, just to name a few.

http://www.miktex.org

\start
Date: Tue, 18 Jan 2005 17:44:39 -0600
From: MathAction (billpage)
To: MathAction
Subject: [MinGW] 

http://www.mingw.org


  MSYS was created out of a long-lived desire to provide the MinGW
  community a Minimal !SYStem, with which a configure script could be
  executed. MSYS or Minimal !SYStem is a POSIX and Bourne shell
  environment use with MinGW. It provides a hand picked set of tools
  to allow a typical configuration script with Bourne syntax to
  execute. This allows most of the GNU packages to create a Makefile
  just from executing the typical configure script which can then be
  used to build the package using the native MinGW version of GCC.

\start
Date: Tue, 18 Jan 2005 17:40:28 -0600
From: MathAction (billpage)
To: MathAction
Subject: [MinGW] (new) 

What is MinGW?

  MinGW ("Minimalistic GNU for Windows") refers to a set of runtime
  headers, used in building a compiler system based on the GNU GCC and
  binutils projects. It compiles and links code to be run on Win32
  platforms... providing C, C++ and Fortran compilers plus other
  related tools. If you see references to "mingw32" instead of
  "MinGW", they are referring to the same compiler system. The
  project's name changed from mingw32 to MinGW is to prevent the
  implication that MinGW will only works on 32 bit systems (as 64 and
  higher bit machines become more common, MinGW will evolve to work
  with them). MinGW uses the Microsoft runtime libraries, distributed
  with the Windows operating system. Unlike other ports of GCC to
  Windows, the runtime libraries are not distributed using Gnu's
  General Public License (GPL). You, therefore, do not have to
  distribute your source code with your programs unless, of course,
  you use a GPL library in your programs.

What is MSYS?

  MSYS or Minimal SYStem is a POSIX and Bourne shell environment use
  with MinGW. It provides a hand picked set of tools to allow a
  typical configuration script with Bourne syntax to execute. This
  allows most of the GNU packages to create a Makefile just from
  executing the typical configure script which can then be used to
  build the package using the native MinGW version of GCC.

The POSIX layer used by MSYS is a fork of the 1.3.3 version of Cygwin
. Cygwin is a full POSIX layer and UNIX-like environment for Win32
providing both server and client utilites.

\start
Date: Tue, 18 Jan 2005 17:37:54 -0600
From: MathAction (billpage)
To: MathAction
Subject: [build Axiom] (new) 

How I Built Axiom on Windows

  I installed a completely new MinGW/MSYS configuration from the
'current' file list at:

http://www.mingw.org/download.shtml#hdr2

In the following order:

1   MinGW-3.1.0-1.exe

    http://prdownloads.sf.net/mingw/MinGW-3.1.0-1.exe?download

2   MSYS-1.0.10.exe

    http://prdownloads.sf.net/mingw/MSYS-1.0.10.exe?download

3   msysDTK-1.0.1.exe

    http://prdownloads.sf.net/mingw/msysDTK-1.0.1.exe?download

4   Then untarred the following:
 
    cd /mingw; tar xzvf /home/bpage/... 

    gcc-core-3.4.2-20040916-1.tar.gz
 
    http://prdownloads.sf.net/mingw/gcc-core-3.4.2-20040916-1.tar.gz?download

5   binutils-2.15.91-20040904-1.tar.gz
 
    http://prdownloads.sf.net/mingw/binutils-2.15.91-20040904-1.tar.gz?download

6   w32api-3.1.tar.gz

    http://prdownloads.sf.net/mingw/w32api-3.1.tar.gz?download

7   mingw-runtime-3.5.tar.gz

    http://prdownloads.sf.net/mingw/mingw-runtime-3.5.tar.gz?download

8   You will also need tla for windows from

    http://download.sipsolutions.de/tla-setup.exe

9   and the windows LaTeX packaged called MikTex

    http://www.miktex.org/setup.html

    The "Small MiKTeX" package is sufficient if your windows box is
    connected to the Internet. Or if you want you can install the
    complete system.

10  download the axiom--windows--1 branch

    See deteails instructions at ArchUsage

    1  tla my-id "First Last <email@host.com>"

    2  tla register-archive arch@axiom-developer.org--axiom http://axiom-developer.org/archive/axiom

    3  tla my-default-archive arch@axiom-developer.org--axiom

    4  tla get axiom--windows--1 axiom--windows--1

    Or see ArchUsage to use 'sftp://' protocol if you intend to submit changes.

11  configure and make

    cd axiom--windows--1

    ./configure  -- Cut-and-paste environmnet variables to avoid typing errors

    make         -- the build takes between 3 to 6 hours on 2.4 GHz Windows XP

\start
Date: Tue, 18 Jan 2005 17:52:10 -0600
From: MathAction (Page, Bill)
To: MathAction
Subject: [Axiom-mail] Building axiom on windows

On Tuesday, January 18, 2005 5:52 PM Billinghurst, David (CALCRTS)
wrote:

> 
> I would like to try and build axiom under windows/mingw. I 
> already know how to:
>  - compile gcl-2.6.5 and gcl-2.6.6pre (from CVS)
>  - compile, test and package maxima
>  - compile and test ACL2
> 
> Can someone point me to the latest set of instructions.  I 
> have googled around and am quite confused.
> 

David, maybe this web page will help. Where it doesn't,
please ask questions and we (you and I) can update it:

http://page.axiom-developer.org/zope/mathaction/BuildAxiom

\start
Date: Tue, 18 Jan 2005 18:24:27 -0600
From: MathAction (Page, Bill)
To: MathAction
Subject: [Axiom-mail] list of MinGW gcc files that I have included in Axiom for Windows

David,

Based on the file list that you see me earlier, here is a list
of MinGW gcc files that I have included in the most recent
Axiom for Windows:

In ...\mnt\windows\

	bin\gcc.exe
	bin\as.exe
	libexec\gcc\mingw32\3.4.2\cc1.exe
	lib\gcc\
	lib\gcc\mingw32\
	lib\gcc\mingw32\3.4.2\
	lib\gcc\mingw32\3.4.2\include\
	lib\gcc\mingw32\3.4.2\include\emmintrin.h
	lib\gcc\mingw32\3.4.2\include\float.h
	lib\gcc\mingw32\3.4.2\include\gmp.h
	lib\gcc\mingw32\3.4.2\include\iso646.h
	lib\gcc\mingw32\3.4.2\include\limits.h
	lib\gcc\mingw32\3.4.2\include\mmintrin.h
	lib\gcc\mingw32\3.4.2\include\pmmintrin.h
	lib\gcc\mingw32\3.4.2\include\stdarg.h
	lib\gcc\mingw32\3.4.2\include\stdbool.h
	lib\gcc\mingw32\3.4.2\include\stddef.h
	lib\gcc\mingw32\3.4.2\include\syslimits.h
	lib\gcc\mingw32\3.4.2\include\unwind.h
	lib\gcc\mingw32\3.4.2\include\varargs.h
	lib\gcc\mingw32\3.4.2\include\xmmintrin.h
	lib\gcc-lib\
	lib\gcc-lib\specs
	include\
	include\_mingw.h
	include\getopt.h
	include\io.h
	include\math.h
	include\process.h
	include\setjmp.h
	include\stddef.h
	include\stdio.h
	include\stdlib.h
	include\unistd.h
	include\varargs.h
	include\sys\
	include\sys\fcntl.h
	include\sys\file.h
	include\sys\locking.h
	include\sys\param.h
	include\sys\stat.h
	include\sys\time.h
	include\sys\timeb.h
	include\sys\types.h
	include\sys\unistd.h
	include\sys\utime.h

All files come from `C:\MinGW\' of the standard MinGW
installation. As you said it has a slightly different
layout compared to the earlier version. This list seems
sufficient to compile Axiom spad libary programs. I am
not sure whether it can be paired down any more.

See the download information here:

http://page.axiom-developer.org/zope/mathaction/AxiomDownload

Regards,
Bill Page.

On Friday, January 14, 2005 7:05 AM Billinghurst, David (CALCRTS)
wrote:

> > 
> > So this would be the minimum list of files that are needed
> > by GCL in order to do a compile and where to put them?
> > 
> > I would also prefer to include these files in the Axiom
> > installation program so that no other software installations
> > are required by the user to get a fully functional system.
> > 
>
 
> This is the setup for maxima-5.9.1, using gcc-3.3.1.  There
> will be slight variation for other versions of gcc.
> 
> First we need to put gcc.exe somewhere in the path.
> I think that the logical place is axiom/mnt/windows/bin.  
> 
> The other files are located relative to gcc.exe
> 
> ../include/getopt.h
> ../include/io.h
> ../include/math.h
> ../include/process.h
> ../include/setjmp.h
> ../include/stddef.h
> ../include/stdio.h
> ../include/stdlib.h
> ../include/sys
> ../include/sys/fcntl.h
> ../include/sys/file.h
> ../include/sys/locking.h
> ../include/sys/param.h
> ../include/sys/stat.h
> ../include/sys/time.h
> ../include/sys/timeb.h
> ../include/sys/types.h
> ../include/sys/unistd.h
> ../include/sys/utime.h
> ../include/unistd.h
> ../include/varargs.h
> ../include/_mingw.h
> 
> ../lib/gcc-lib/mingw32/3.3.1
> ../lib/gcc-lib/mingw32/3.3.1/as.exe
> ../lib/gcc-lib/mingw32/3.3.1/cc1.exe
> ../lib/gcc-lib/mingw32/3.3.1/include
> ../lib/gcc-lib/mingw32/3.3.1/include/float.h
> ../lib/gcc-lib/mingw32/3.3.1/include/g2c.h
> ../lib/gcc-lib/mingw32/3.3.1/include/iso646.h
> ../lib/gcc-lib/mingw32/3.3.1/include/limits.h
> ../lib/gcc-lib/mingw32/3.3.1/include/mmintrin.h
> ../lib/gcc-lib/mingw32/3.3.1/include/stdarg.h
> ../lib/gcc-lib/mingw32/3.3.1/include/stdbool.h
> ../lib/gcc-lib/mingw32/3.3.1/include/stddef.h
> ../lib/gcc-lib/mingw32/3.3.1/include/syslimits.h
> ../lib/gcc-lib/mingw32/3.3.1/include/unwind.h
> ../lib/gcc-lib/mingw32/3.3.1/include/varargs.h
> ../lib/gcc-lib/mingw32/3.3.1/include/xmmintrin.h
> ../lib/gcc-lib/mingw32/3.3.1/specs
> 

\start
Date: Wed, 19 Jan 2005 01:08:57 +0000
From: Peter Broadbery
To: Bill Page
Subject: RE: [MutualRecursion] (new)

On Tue, 2005-01-18 at 17:42 -0500, Page, Bill wrote:
> On Tuesday, January 18, 2005 3:50 PM Peter Broadbery wrote:
> > ...
> > > > 
> > > > I wonder how the Aldor compiler handles such mutual
> > > > recursive structures. Perhaps Peter Broadbery knows.
> > > 
> > > I would also like to know.
> > 
> > [Disclaimer: I'm not an expert on the type checking bit -
> > and if you want info, it is nicer to ask]
> >
> 
> It's great to find out that there is someone here to ask!
> Thank you very much for taking the time to explain. In the
> future I will try to ask in a more polite manner. :)

No worries.  I replied mostly on aldor issues - I know that area much
better than I do axiom.

> > ... 
> > If you have a situation with mutually referencing domains
> > in separate files, then you have to use the extend keyword,
> > and build the defn. up in steps - there may well be an
> > example or two of this in the aldor library sources shipped
> > with the compiler.
> 
> The point of this discussion (for me at least) is to understand
> the problem of attempting to build the Axiom library from spad
> code alone. Apparently in the previous century Axiom had always
> been built using a running system. (So says Tim Daly.) So it
> seems that the Axiom algebra evolved incrementally over time,
> gradually building one layer on top of another and (for the
> most part) discarding the information about the path that
> lead to the then current state of the library. Each port of
> the system to a new environment was built with the resources
> of the old and as a whole over time the library became more
> tightly integrated and highly structured. This seems like a
> remarkable thing to study from a historical perspective since
> it seems to run counter to the evolution of most software.

I'd say this is how most s/w behaves - gradually accumulating layers of
stuff.  Just that it isn't hidden in axiom's case.

> .. MutualRecursion...

Much of the circularity comes mainly from exported signatures - It _may_
be possible to statically determine all the type signatures from
the .spad files, write out as a bootstrap definition, then compile
against these definitions. 

This won't handle code changes caused by the inliner making different
decisions based on domain implementation knowledge (replacing function
calls with their defintion where possible), but these should always be
conservative.

\start
Date: Tue, 18 Jan 2005 21:17:34 -0500
From: Tim Daly
To: list
Subject: Sprint Day for Axiom End-User Conference on April 22, 2005

*,

We continue planning a conference focusing on the end user of Axiom.
It is intended to appeal to the various math and science programs at
universities.

The last announcement on this mailing list generated a request for a
"sprint day", that is, a day when we can all get together and work on
Axiom in the same room.

The conference is on a Friday in New York City. Perhaps we can have
the sprint day on thursday as that will leave your weekend free for
sight-seeing if you've never been here.

I'm trying to arrange for funding for the sprint day and it looks 
like a strong possibility with a lot of dependent variables.

If you have any interest in showing up for a day of programming on
Axiom in the same room, or even to chat about and make a plan for
future directions, now is the time to speak up.

\start
Date: Tue, 18 Jan 2005 23:01:26 -0500
From: Camm Maguire
To: list
Subject: GCL 2.6.6 is released

Greetings!  The GCL team is happy to announce the release of version
2.6.6, the latest achievement in the 'stable' (as opposed to
'development') series.  Please see http://www.gnu.org/software/gcl for
downloading information.

This release is a minor modification of 2.6.5,
incorporating the known bug fixes that had accumulated on the GCL
errata page together with a few other fixes required for building axiom
on Windows.  From the changelog:

gcl (2.6.6-1) unstable; urgency=high

  * New upstream release
  * Allow .data section to be first in executable, as on solaris.  Also
    allow for new bfd section size semantics
  * Don't try to write map file when not using GNU ld.  Also allow
    compile-file to process pathnames with whitespace on Windows
  * Fix corner case fixnum arithmetic on 64bit machines
  * Rework gmp_wrappers semantics for older gcc
  * Explicitly mprotect loaded code pages PROT_EXEC on x86 Linux, as FC3
    now requires it.
  * lisp-implementation-version is GCL
  * Reader extension patch allowing for foo::(bar foobar) semantics
  * a shell script variable fix in "unixport/makefile" for MSYS
  * __MINGW32__ malloc initialization fix in "o/alloc.c"
  * Windows file/directory fixes in "o/unixfsys.c"
  * MinGW32 -march in configure - removes deprecation warnings
  * MinGW32 directory fix - "o/mingfile.c".
  * Allow for sysconf to determine clock granularity at compile time to
    fix time errors on the Itanium
  * Disable SGC on macosx until the sgc/save problem can be fixed.
  * Fix fixnum print bug on 64bit
  * Fix nil types in room report
  * 64bit fixes to fixnum_add and fixnum_sub
  * Fix Mac SGC/save bug, at least in part

For the latest information, capabilities, and status of GCL stable,
please see http://www.gnu.org/software/gcl/RELEASE-2.6.2.html.

\start
Date: Tue, 18 Jan 2005 22:41:07 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#32 Debian Sarge GCL configure parameters] (new)

> > bft.h? or bfd?
> > 
> > what system are you running on?
> 
> fat_string.c:17:17: bfd.h: No such file or directory
> fat_string.c:18:21: bfdlink.h: No such file or directory
> fat_string.c:229: error: parse error before "bfd_combined_table_update"
> fat_string.c:229: error: parse error before "PTR"
> 
> uname -a
> Linux rose 2.4.25-1-386 #2 Wed Apr 14 19:38:08 EST 2004 i686 GNU/Linux
> It's Debian Sarge.

I'd have expected GCL to build on Debian with no problem since
that's Cammm's development environment.

try this:

make clean
edit lsp/Makefile.pamphlet
find the ./configure line and change the options to:

--enable-vssize=65536*2 --enable-locbfd --disable-dynsysbfd 
--disable-statsysbfd --enable-maxpage=128*1024

and see if that cures it.

\start
Date: Tue, 18 Jan 2005 22:38:14 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#31 Hyperdoc segfault] (new) 

Actually this problem should be fixed in main--patch-24.


The segfault is caused by an attempt to close a closed file in hypertex.
Steve Wilson and Bob McElrath cornered the problem and fixed it.


You should be able to


cd axiom--main--1--patch-23
tla update
export AXIOM=`pwd`/mnt/solaris9
export PATH=$AXIOM/bin:$PATH
make


and it should not need to rebuild the world. Of course, it never hurts
to build cleanly.


Let me know if you get it to work.


Ok, I updated and rebuilt (only what needed to be rebuilt).


The result is that I have hypertex, which appears to work.  At least I
can run the "hypertex" command, and I can browse, and the graphics
work. (The mouse seems to be over-accelerated, but that's a detail.)


However,


(1) I can't get hypertex to connect to the Axiom server.  I get:


(HyperDoc) Warning: Not connected to AXIOM Server!


I have AXIOM and PATH set correctly.


(2) If I run "axiom -ht -go" I get (I've done "set -x" at the top of the axiom 
script)
...
+ exec /home/build/axiom--main--1--patch-23/mnt/sol9gcc/bin/sman -ht -ws 
/home/build/axiom--main--1--patch-23/mnt/sol9gcc/bin/AXIOMsys
fork_Axiom: Failed to reopen server: No such file or directory
clef trying to get the initial terminal settings: Invalid argument


(3) The command "sman -debug -noclef -nonag -noht" still dumps core:


bash-2.05$ sman -debug -noclef -nonag -noht
  sman -noclef -gr -nonag -noht -noiw -ihere -ihere -ws '$AXIOM/bin/AXIOMsys' 
-grprog '$AXIOM/lib/viewman' -nagprog '$AXIOM/lib/nagman' -htprog 
'$AXIOM/bin/hypertex -s' -clefprog '' -sessionprog '$AXIOM/lib/session' 
-clientprog '$AXIOM/lib/spadclient' -rm Segmentation Fault (core dumped)
bash-2.05$

\start
Date: Tue, 18 Jan 2005 22:33:40 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#30 make install: no such file or directory]	(new) 

First of all, let me thank everybody for the work you are doing.


I downloaded the latest version of axiom (but the following problem was there also with the previous version).
I compiled it correctly, even if with some "warning" every now and then.
When installing, I get:

---
address@bogus.example.com:/home/stumbo/tmp/axiom]# make install
78 installing Axiom in /usr/local/axiom
/bin/sh: line 1: /usr/local/axiom/mnt//bin/axiom: No such file or directory
make: *** [install] Error 1
---

If I create the directory:


---
address@bogus.example.com:/home/stumbo/tmp/axiom]# mkdir -p /usr/local/axiom/mnt/bin
---


then everything works fine:


---
address@bogus.example.com:/home/stumbo/tmp/axiom]# make install
78 installing Axiom in /usr/local/axiom
79 Axiom installation finished.


Please add /usr/local/axiom/mnt//bin to your PATH variable
Start Axiom with the command axiom
---


Nevertheless, the correct path to be added to PATH is
/usr/local/axiom/mnt/linux/bin


I end with a shell script axiom in the directory /usr/local/axiom/mnt/bin
which is useless (it seems to me).


I guess that this script should go in /usr/local/bin, and maybe it could be modified in such a way that it takes care of modifying the PATH upon its launching, so that there will not be any longer the need of a system-wide modification.

Anyway, the programm works!


Of course, I am talking about a linux installation. My distribution is a Mandrake 9.0 with kernel 2.4.26.

Best regards


Fabio Stumbo


PS: I am also wondering if there exists a syntax hilight file for vim to be used with *.input files.

\start
Date: Tue, 18 Jan 2005 22:29:10 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#29 for i in 1..1 repeatprint(sin(i) :: Complex Float)] additional information

 > -> for i in 1..1 repeat print(sin(i) :: Complex Float)
 >    sin(1)
 >
 > The same behavior with many other functions.
 > 
 > for i in 1..1 repeat print(sqrt(i) :: Complex Float)
 > for i in 1..1 repeat print(exp(i) :: Complex Float)
 > for i in 1..1 repeat print(log(i) :: Complex Float)
 > for i in 1..1 repeat print(atan(i) :: Complex Float)

I'd say that it's a bug. A workaround (not a fix...) is to say

for i in 1..1 repeat print(sqrt(i) @ Complex Float)

It is quite clear that Axioms behaviour will be the same for all operators
(defined in op.spad).

Tracing the call with

)set message bottom on

yields

for i in 1..3 repeat print((sin(i))::Complex Float)

 Function Selection for sin
      Arguments: PI 
   -> no appropriate sin found in PositiveInteger 
   -> no appropriate sin found in Integer 
   -> no appropriate sin found in PositiveInteger 
   -> no appropriate sin found in Integer 

 Modemaps from Associated Packages 
   no modemaps

 Remaining General Modemaps 
   [1] D -> D from D if D has TRIGCAT
   [2] FortranExpression(D1,D2,D3) -> FortranExpression(D1,D2,D3)
            from FortranExpression(D1,D2,D3)
            if D1: LIST SYMBOL and D2: LIST SYMBOL and D3 has FMTC
 
 [1]  signature:   EXPR INT -> EXPR INT
      implemented: slot $$ from EXPR INT
 
 Function Selection for print
      Arguments: COMPLEX FLOAT 
   -> no appropriate print found in Complex Float 
   -> no appropriate print found in Complex Float 

 Modemaps from Associated Packages 
   no modemaps

 Remaining General Modemaps 
   [1] OutputForm -> Void from PrintPackage
 
 [1]  signature:   OUTFORM -> VOID
      implemented: slot (Void)(OutputForm) from PRINT
 

   sin(1)
   sin(2)
   sin(3)
                                                                   Type: Void

which looks quite strange: Axiom is looking for a function print with argument
of type Complex Float, but the thing it prints is not of this type...

\start
Date: Tue, 18 Jan 2005 23:06:43 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#17 algebra BOOTSTRAP fixed point] yet another wrinkle

Tim, 

I believe I understand the process by which optimized versions of the
bootstrap files are produced. However, I think that many of the
differences in the code we are seeing are not due to this process.

The fixed point build is causing the interpsys image to be
rebuilt. These images are different:

  -rwxr-xr-x  1 steve steve 15858720 2005-01-06 05:29  interpsys1
  -rwxr-xr-x  1 steve steve 16645152 2005-01-07 21:42  interpsys2

and they generate different code. 

Consider the following simple package:

)abbrev package Foo Foo
Foo(): E == I where
  E == with
    bar: () -> Void
  I == add
    SI ==> SingleInteger
    sint : SI := 2::SI
    bar(): Integer == 
       for j in 3.. repeat
         print(i::OutputForm)

When compiled using both images, with the same $AXIOM environment (so
we know the images are seeing the same algebra) we get these basic
differences:

  1) In iteration over the for loop, generic stepping code is replaced
     with fixnum arith
  2) Trivial coercions to SINT's coerce(Integer):% are being inlined. 


In wi1.boot we see an improved version of compCoerce. Likewise in
wi2.boot we see an improved version of compIterator. The improved
version of compIterator makes explicit attempts to decide when fixnum
arith should be generated for stepping code (a higher-level attempt
then the quick hack found in the definition of -REPEAT in
macros.lisp, see a previous email). 

My feeling is that somehow the new versions of these functions have
been loaded into the image in the second pass.  

\start
Date: Tue, 18 Jan 2005 23:05:24 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#17 algebra BOOTSTRAP fixed point] more questions

On Tuesday, January 18, 2005 7:28 AM Tim Daly wrote:
> ... 
> Suppose VECTOR.spad used something from SINT.spad. When the
> VECTOR.lsp BOOTSTRAP file is compiled by depsys it contains
> (+ ... ...) and generates untyped and unoptimized code.
> 
> Later when VECTOR.spad is compiled and SINT.o is available 
> then the spad compiler will use the optimization information
> to generate (QSADD1 ... ...)
>

So you are saying that the type information derived from the
object files `A_i' files on which some code X depends can affect
the actual code generated library file X because the compiler
attempts optimizations based on this information. The bootstrap
lisp files do not currently have any type information, therefore
any library file that depends on a bootstrap file (quite a large
number) might not be optimized during the initial build. The
bootstrap files themselves are re-compiled from the spad sources
but of course by then it is too late for any other library file
that has already been compiled.

After the first iteration of fixedPoint all of the library files
have been re-compiled using object files that do have type
information, so now everything is optimized as expected.

Your argument is that the missing optimizations are not that
critical because the "mathematics" is still correct. It is just
that the generated code is less than optimal.

Right?

But on Monday, January 17, 2005 9:38 PM Stephen Wilson wrote
> 
> On Mon, Jan 17, 2005 at 09:09:12PM -0500, Page, Bill wrote:
> > I wonder if both are necessary or is it only the change in
> > interpsys?
> 
> The bootstrap code does influence the generated code for RECLOS
> and ROIRC (SINT's missing `one?' is showing up here).
> 
> We know the bootstrap code is out of sync, so it would probably
> be a good idea to refresh it. Note that when I built a system
> with fresh bootstrap code, even though the generated lisp code
> was the same save for RECLOS and ROIRC, I did notice differences
> in how domains vectors were being instantiated at runtime (the
> vectors had the same layout, just that the runtime lookup of
> certain functions was proceeding differently).

Steve says that the code for `one?' was missing for SINT.lsp
Is this because it was coded as "onep$lisp" in the original
spad sources? I guess the actual symbols occurring in the
bootstrap lisp code would contain "hard coded" domain vector
`;offsets' as part of their names, corresponding to the old
coding of onep$lisp. But after SINT is recompiled from the
new spad code, the previous hardcoded offsets of any function
appearing after `one?' would become incorrect in any bootstrap
function that depends on SINT but was re-compiled before SINT.

Presumably this could lead to subtle (or not so subtle) run-
time errors. In other words, we have to be very careful of the
order in which we re-compile the bootstrap from the spad code.
If there are cyclic dependencies among the bootstrap files
(I think there are) then we are in trouble.

Of have I still got this wrong? My understanding of how
the compiler assigns and uses domain table offsets remains
very unclear to me.

\start
Date: Tue, 18 Jan 2005 22:47:11 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#33 GCL fails to compile on Fedora Core 3] (new)

Has anyone gotten GCL to run on Fedora Core 3?

Tim

------- Start of forwarded message -------

Hi Tim,

I have acquired PC laptop (dell latitude d600) running dual boot
with Windows XP Pro (rarely) and Fedora Core 3 (most of the time).
My general intention is to help you bring magnus into a useable
atate since I think there is some useful stuff there that shouldn't
be lost.

.....[snip].....

I also tried to compile axiom - and gcl of course - but the gcl
part fails as follows (both 2.6.2 and 2.6.5):

gcc -c -Wall -DVOL=volatile -fsigned-char -pipe -O3 -fomit-frame-pointer
- -I/home/cfm/axiom-dev/axiom/lsp/gcl-2.6.5/o -I../h -I../gcl-tk sfasl.c
In file included from sfasl.c:40:
sfaslbfd.c: In function `fasload':
sfaslbfd.c:266: error: structure has no member named `_raw_size'
sfaslbfd.c:291: error: structure has no member named `_raw_size'
sfaslbfd.c:356: error: structure has no member named `_raw_size'
make[4]: *** [sfasl.o] Error 1
make[4]: Leaving directory `/home/cfm/axiom-dev/axiom/lsp/gcl-2.6.5/o'

I get the same error when I try to compile gcl separately.
The "_raw_size" should be "rawsize" according to the header files
but when I try to make this change to sfaslbfd.c and continue,
the original sfaslbfd.c gets restored by the tyrannical make process.

So I am mystified as to how one can get gcl and axiom to compile.

All help and suggestions welcome.

\start
Date: Tue, 18 Jan 2005 23:51:47 -0500
From: William Sit
To: Peter Broadbery
Subject: Re: [MutualRecursion] (new)

Peter Broadbery wrote:

> > I can not give a simple example right now but I suspect that
> > this happens very frequently in Axiom's algebra.
> >
> 
> All over - try OutputForm as an example.

Yes, that is probably (that is, not yet investigated) the cause for the oneliner
stack overflow crash (wonder if it would also cause Aldor to have a stack
overflow):

print(anydomain::OutputForm)

such as

print(Integer()::OutputForm)

and more reasonably (actual code for debugging, say):

print(typeOf(1)::OutputForm)

This seems to be mutual recursion with no end, thus stack overflow.

\start
Date: Tue, 18 Jan 2005 23:36:42 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#34 Axiom missing rm, cat ] (new) 

Yes, this is a bug in the Windows version of Axiom caused
by the fact that the Axiom code expects to be able to run
unix system commands like `rm' (which means delete file).
In this case it is calling a program called rm.exe that
was previously installed on your system in a directory
called `dostools'. This is non-standard for Windows -
usually there is no rm.exe file anywhere unless you have
installed some other package that contains it. Like you
said, this would be ok if the location of Axiom was in
a Path that did not contain any spaces.

\start
Date: Wed, 19 Jan 2005 09:12:47 +0200
From: Vladimir Bondarenko
To: list
Subject: How to convert %i*log(-%i) - %i*log(%i) into %pi ?

Hi *,

Is the following a case of total simplification failure (a certain
bug from the user's point... unless AXIOM is not targeted for
Martians who as known have no need in simplification whatsoever :)

or

it is still possible to get  %pi  out of the lengthy expression
%i*log(-%i) - %i*log(%i)

?

Given my previous posting about complexForm, I mean maybe just a way
to expel those nasty logarithms and see the real and imaginary parts
not intertwined rather than a correct answer.

Any, maybe even a very cumbersome way?

.....................................................................

-> simplify(%i*log(-%i) - %i*log(%i))

     %i log(- %i) - %i log( %i)

-> normalize(%i*log(-%i) - %i*log(%i))

     %i log(- %i) - %i log( %i)
     
-> complexNormalize(%i*log(-%i) - %i*log(%i))

     %i log(- %i) - %i log( %i)
     
.....................................................................


Much thanks for any help in advance.

\start
Date: Wed, 19 Jan 2005 09:04:25 +0200
From: Vladimir Bondarenko
To: list
Subject: Bug in complexForm : complexForm(log(%i) - log(-%i)) -> 0

Hi *,

>From my teen years I got accustomed to see a simple
thing a certain way, but now I am amazed.

It would be great that an AXIOM connoisseur commented
the stuff, me, the outsider consider to be a sure bug.

Please confirm it or tell me why I am wrong here.


AXIOM Version of Wednesday December 15, 2004 at 00:50:38

AXIOM ->         complexForm(log(%i) - log(-%i))

                 0

COMPARE:

Derive 6.1>      LOG(#i) - LOG(-#i)
Maple 9.5.2>     ln(I) - ln(-I);
MuPAD 3.1>       ln(I) - ln(-I);
Mathematica 5.1> Log[I] - Log[-I]
Maxima 5.9.1>    RECTFORM(LOG(%I) - LOG(-%I));

                 #i*pi
                 I*Pi
                 I*PI
                 I*Pi
                 %I %PI

Much thanks for your comments in advance.

\start
Date: Wed, 19 Jan 2005 10:38:34 +0200
From: Vladimir Bondarenko
To: list
Subject: Literature on AXIOM's applications

Hi *,

Is there a full enough or at least a partial list of
AXIOM applications in any field (say, in math etc)?

If not, any hints about at least scattered links, any?

\start
Date: Wed, 19 Jan 2005 12:30:48 +0100
From: Ralf Hemmecke
To: list
Subject: Re: [MutualRecursion] (new)

One cannot do

 > print(typeOf(1)::OutputForm)

in Aldor, because OutputForm does not exist. Also I would not know what 
typeOf(1) should be. The Aldor compiler determines the type of the 
literal 1 according to what is in scope at the moment. That is why
The compiler will complain for the following file.

$ aldor one.as
"one.as", line 4: stdout << 1;
                   .......^
[L4 C8] #1 (Error) There are 2 meanings for the operator `<<'.
         Meaning 1: (TextWriter, AldorInteger) -> TextWriter
         Meaning 2: (TextWriter, MachineInteger) -> TextWriter

--- one.as
#include "aldor"
import from TextWriter, Integer, MachineInteger;
stdout << 1;
-- end one.as

It cannot determine the type of 1 since there it could be 1@Integer or 
1@MachineInteger (which is SingleInteger in Axiom speak).

Saying

stdout << 1@Integer;

will compile and output 1.
Leaving out 'import from MachineInteger' would be fine, too.

I agree, that this behaviour leads to more typing sometimes to make the 
types clear to the compiler, but I appreciate very much that there is 
nobody in the middle (like an interpreter) who decides for me. The 
interpreter might guess my intentions and be right in most cases, but 
what if not? How am I going to find this out then? Who is going to point 
me to the problematic code?

Ralf


William Sit wrote:
> 
> Peter Broadbery wrote:
> 
> 
>>>I can not give a simple example right now but I suspect that
>>>this happens very frequently in Axiom's algebra.
>>>
>>
>>All over - try OutputForm as an example.
> 
> 
> Yes, that is probably (that is, not yet investigated) the cause for the oneliner
> stack overflow crash (wonder if it would also cause Aldor to have a stack
> overflow):
> 
> print(anydomain::OutputForm)
> 
> such as
> 
> print(Integer()::OutputForm)
> 
> and more reasonably (actual code for debugging, say):
> 
> print(typeOf(1)::OutputForm)
> 
> This seems to be mutual recursion with no end, thus stack overflow.

\start
Date: Wed, 19 Jan 2005 16:55:21 +0100
From: Martin Rubey
To: Vladimir Bondarenko
Subject: Re: Bug in complexForm : complexForm(log(%i) -	log(-%i)) -> 0

Dear Vladimir,

Vladimir Bondarenko writes:
 > AXIOM ->         complexForm(log(%i) - log(-%i))
 > 
 >                  0

could you please file this as a bug on issuetracker? The problem is in the
operation "argument":

(8) -> argument(%i)

        %pi
   (8)  ---
         2
                                                     Type: Expression Integer
(9) -> argument(-%i)

        %pi
   (9)  ---
         2
                                                     Type: Expression Integer

the latter should be -pi/2, of course. The problem is in gaussian.spad,
COMPCAT:

       if R has TranscendentalFunctionCategory then
         half := recip(2::R)::R

         if R has RealNumberSystem then
           atan2loc(y: R, x: R): R ==
               pi1 := pi()$R
               pi2 := pi1 * half
               x = 0 => if y >= 0 then pi2 else -pi2

               -- Atan in (-pi/2,pi/2]
               theta := atan(y * recip(x)::R)
               while theta <= -pi2 repeat theta := theta + pi1
               while theta >   pi2 repeat theta := theta - pi1

               x >= 0 => theta      -- I or IV

               if y >= 0 then
                   theta + pi1      -- II
               else
                   theta - pi1      -- III

           argument x == atan2loc(imag x, real x)

         else
           -- Not ordered so dictate two quadrants
           argument x ==
             zero? real x => pi()$R * half
             atan(imag(x) * recip(real x)::R)

so the problem occurs if R does not have "RealNumberSystem":

(15) -> argument(-%i*1.0)

   (15)  - 1.5707963267 948966192

since Float does have RNS, but INT does not. I'm not quite sure what the
condition should be. OrderedSet?

\start
Date: Wed, 19 Jan 2005 09:45:24 -0500
From: Tim Daly
To: Ralf Hemmecke
Subject: Re: [MutualRecursion] (new)

The upside of axiom's interpreter is that it can help you decide
what type and what functions might be applicable. In compiled code
you get to (and are required to) be explicit about the types. Of
course, the interpreter doesn't always succeed.

When I'm struggling with the compiler over a type issue I try to 
remember my thesis advisor constantly asking... "But what do you
MEAN when you say that?". 

\start
Date: Wed, 19 Jan 2005 09:54:11 -0500
From: Tim Daly
To: Martin Rubey, Vladimir Bondarenko
Subject: Re: Bug in complexForm : complexForm(log(%i) -	log(-%i)) -> 0

Vladimir, Martin, Everyone,

In fact, everyone should consider posting "issues", which are not
necessarily bugs, directly to IssueTracker:

http://page.axiom-developer.org/zope/mathaction/FrontPage/issuetracker

If you post the first complaint you "own" the issue and have the
responsibility to make sure that the various posters who reply
also update issuetracker. IssueTracker will cross-post to the mailing
list so your post will still be seen by everyone.

Vladimir, please put your initial post on IssueTracker and, once
you do please let Martin know so he can post his reply.

I KNOW it is tedious but we have to start doing this otherwise we
will lose these issues. I'm working my way back over the last two
years of email to capture the outstanding bugs so I understand the
pain.

\start
Date: Wed, 19 Jan 2005 08:55:16 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#6 wrong integration result] I think this is a math bug!

I disagree. There is something fundamentally wrong here. The result of
\begin{axiom}
integrate(x^2*(exp(-x^2)), x=0..%plusInfinity)
\end{axiom}

Not only prints oddly without conversion to proper LaTeX but also it
is not actually recognized "mathematically" as Gamma().

Further, there is something wrong with the implementation of Gamma()
itself because it only works numerically and is of no use symbolically.
It seems like there are two separate Gamma functions. The one produced
by the integrage is "symbolic" but does not seem to be connected to
any appropriate logic.

\start
Date: Wed, 19 Jan 2005 08:56:33 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#6 wrong integration result] I think this is a math bug!

by the integration is "symbolic" but does not seem to be connected to

\start
Date: Wed, 19 Jan 2005 08:34:22 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [#6 wrong integration result] this is not a math bug, only the output is not as nice as it could be

Category: Axiom Mathematics => Axiom User Interface 
Severity: normal => minor 

\start
Date: Wed, 19 Jan 2005 10:16:02 -0500
From: Bill Page
To: Tim Daly
Subject: RE: nightly bug binge

Tim,

Sorry I was "off" for the night catching up on some zleep
 . z . z . z :)

Actually, now that you are changing the page type to
Plain Text and the formatting looks good on the web page,
I am less concerned about the duplication of emails. If
your practice is going to be to do, say about a dozen of
these per night, then I think that echoing them to the
email list might even have a good effect of reminding readers
of the problems and may result in useful input if some
progress has been made.

I wonder what other people on the list think?

I did look to see if forwarding could be easily turned off
and on selectively but it appears not. One can turn it off
for the whole site and back on again rather awkwardly using
the Zope Management Interface (ZMI). But if you haven't been
exposed to ZMI before, this procedure might seem a little
complicated.  Would you like me to write up instuctions about
how to do that?

Regards,
Bill Page.


> -----Original Message-----
> From: root [mailto:Tim Daly] 
> Sent: Wednesday, January 19, 2005 12:34 AM
> To: Bill Page
> Cc: Tim Daly
> Subject: nightly bug binge
> 
> 
> Bill,
> 
> I'm off on my nightly bug-binge. Is there a way to turn off 
> message forwarding for a while?

\start
Date: Wed, 19 Jan 2005 09:24:53 -0600
From: MathAction (billpage)
To: MathAction
Subject: [#6 wrong integration result] 

> 
> Category: Axiom Mathematics => Axiom User Interface 
> Severity: normal => minor 
> 

    :)

This shows where your priorities are Martin! But, thanks.

Some User Interface issue is involved here, but I don't
think that it is quite correct to classify it this way.
The issue is really what symbollic computations are
possible in Axiom involving Gamma? I would say that this
is more of a deficiency in the mathmatics.

\start
Date: Wed, 19 Jan 2005 09:55:24 -0600
From: MathAction (billpage)
To: MathAction
Subject: [#37 )co aldor file does not work] property change

Category: Axiom User Interface => Axiom Compiler 

\start
Date: Wed, 19 Jan 2005 11:03:25 -0500
From: Tim Daly
To: Bill Page
Subject: Re: nightly bug binge

re: ZMI instructions. 

nope. got more than enough to do without selectively breaking mathaction.

\start
Date: Wed, 19 Jan 2005 10:49:31 -0500
From: Bill Page
To: list
Subject: IssueTracker property changes

*,

I just noticed an unfortunate side-effect of using the
Plain Text page type for issues. It also seems to eliminate
the coding that allows one to change the priority or other
status information associated with the issue.

In order to do this, it is necessary to first change the
page type to something else, change the status or whatever,
and then change it back to PlainText. Of course, if the
contents does not really require PlainText, i.e. it doesn't
contain anything that could be mis-interpreted as a formating
command, then it is not necessary to change it back. Often
one can make a few simple changes to correct formating
problems, add live example code etc, and then it will look
nicer anyway.

This handling of PlainText a bug in issuetracker. I will submit
a bug report and copy it to the ZWiki issuetracker.

\start
Date: Wed, 19 Jan 2005 10:30:22 -0500
From: Bill Page
To: list
Subject: RE: [FrontPage] this is not a mathbug,	only the output is not as nice as it could be

*,

I guess this shows what happens when you reply to a message
from MathAction and improperly edit the subject line.
MathAction could not determine to what page I was replying
so it just posted my reply to FrontPage. (I have since moved
it manually to were it belongs. But this is not something
that a user should have to do.) I think it is possible to
configure the "dead letter" default page to be something
other than FrontPage, I will look into this.

> -----Original Message-----
> > 
> > Category: Axiom Mathematics => Axiom User Interface 
> > Severity: normal => minor 
> > 
> 
>     :)
> 
> This shows where your priorities are Martin! But, thanks.
> 
> Some User Interface issue is involved here, but I don't
> think that it is quite correct to classify it this way.
> The issue is really what symbollic computations are
> possible in Axiom involving Gamma? I would say that this
> is more of a deficiency in the mathmatics.

\start
Date: Wed, 19 Jan 2005 09:41:31 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#34 Axiom missing rm, cat ] property change

Severity: normal => serious 

\start
Date: Wed, 19 Jan 2005 09:36:00 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#34 Axiom missing rm,	cat ] windows/unix compatibility

The most recent version of Axiom for Windows at AxiomDownload
includes windows compatible versions of these utilities that
work properly for paths including spaces. This is only a
short-term fix. The proper solution of these windows/unix
compatibility issues is to eliminate the use of system
commands and write simple replacement code directly in
lisp. That way portability becomes a GCL (or other lisp)
issue - where it belongs. I think we should give this
issue a high priority.

\start
Date: Wed, 19 Jan 2005 09:38:34 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#36 sman/graphics connection hang] (new) 

> 
> This is what's in the CHANGELOG:
> 
> 20041208 tpd src/input/Makefile enable graphics input file
> testing
> 
> Does it mean that graphics are supposed to work?
> 

Yes.

> If the build tested graphics and they didn't work,
> I assume it would have stopped, but it didn't.

No it doesn't stop if graphics is missing. The draw function
in Axiom attempts to send data to a separate graphics display
process but no error is returned if the display process is
not present. Probably there should be better checking.

\start
Date: Wed, 19 Jan 2005 09:37:11 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#35 Aldor compiler won't build] (new) 

I tried to build aldor last night. I succeeded in building the compiler
but not the libraries. I have a CVS checkout from May 16.

I've been reading the Makefiles but they all seem to dissolve into
home-grown tools (makeon, docc, etc) which undermines my ability to
figure out what is happening. It's been years since I built aldor.

Peter, could you provide the required steps to build a working
compiler? e.g.

edit Makefile.globals to change....
make aldorcompiler

\start
Date: Wed, 19 Jan 2005 09:48:02 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#37 )co aldor file does not work] (new) 

Peter Broadbery writes:
 > On Tue, 2005-01-11 at 14:30 +0100, Martin Rubey wrote:
 > > Dear Peter,
 > > 
 > > this is just great stuff -- nearly... I had to try it out right away, but I
 > > experienced two problems.
 > > 
 > > the minor one is, that )co inside axiom still does not work:
 > > 
 > > (1) -> 
 > > (1) -> )co test.as
 > >    Compiling AXIOM source code from file 
 > >       /home/rubey/martin/Axiom/test.as using AXIOM-XL compiler and 
 > >       options 
 > > -O -Fasy -Fao -Flsp -laxiom -Mno-AXL_W_WillObsolete -DAxiom -Y 
 > > $AXIOM/algebra
 > >       Use the system command )set compiler args to change these 
 > >       options.
 > >  
 > >    >> System error:
 > >    NIL is not of type STRING.
 > 
 > 
 > ln -s $ALDORROOT $AXIOM/compiler may help here.  fixing i-syscmd.boot to
 > produce a nice error would be nice, I guess.

I tried that, but it won't work. Tim, is there a way to trace what's happening?

Note that both $ALDORROOT and $AXIOM were set correctly. In other words, the
link above produced a directory "compiler" in "axiom/mnt/linux", containing the
following directories of Aldor: bin/ doc/ include/ lib/ src/ tests/

 > The .as file isn't in CVS (the file is compiled - don't be fooled by the
 > readable coding style)

Sorry, my mistake. Only lsp files. By the way, there i *lots* of stuff in the
directories under /lsp/ccl/src, some look like they could be really useful...

Tim: could you rename them to .pamphlet and correct the \usepackage line in
each one of them? Thanks!

 > > (1) -> fact(5)$Test
 > > 
 > >    (1)  120
 > >                                                         Type: 
 > > PositiveInteger
 > > (2) -> fact(4)$Test
 > >  
 > >    >> System error:
 > >    #<vector 08cf4150> is not of type LIST.
 > > 
 > 
 > Fixed by the patch I send earlier (I hope)...

Yes indeed! (I found that there was only one line you had to comment out?)

 > The significant bit is removing an unbound variable from as.boot, the
 > rest is to fix the )co command (obviously not bullet proof), and the .ap
 > file generation.  
 > 
 > In terms of aldor internal knowledge, you don't need that much, the hard
 > work is on the axiom side. The trick is to load all the aldor runtime
 > env interpreted and see what breaks (this includes daase.lisp, as.clisp
 > & interop.clisp, plus the aldor .lsp files).  This stuff used to vaguely
 > work, so putting it back in shape can't be too bad.  

In another mail, you wrote:

 > As long as you don't use the sig. from the interpreter, you will be ok
 > (which misses the point,, I know).  As far as fixing the error, not really,
 > I don't know the axiom interpreter that well. Finding how & where the type
 > is substituted would be a good start [There must be someone who does...]

Who could this be? It would be just wonderful to get this working!

Thanks a million times,

\start
Date: Wed, 19 Jan 2005 09:20:15 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [FrontPage] this is not a mathbug, only the output is not as nice as it could be

> 
> Category: Axiom Mathematics => Axiom User Interface 
> Severity: normal => minor 
> 

    :)

This shows where your priorities are Martin! But, thanks.

Some User Interface issue is involved here, but I don't
think that it is quite correct to classify it this way.
The issue is really what symbollic computations are
possible in Axiom involving Gamma? I would say that this
is more of a deficiency in the mathmatics.

\start
Date: Wed, 19 Jan 2005 11:02:57 -0500
From: Bill Page
To: list
Subject: issuetracker property change: Category

*,

I just added the new issue category: Axiom Compiler

If you are working with issuetracker and would like to
suggest new categories or new status codes etc. Please let
me know. I can add these quite easily.

I think we should try to define catgory names that are
easy to understand and fairly general but not too general.
Of course this can be quite subjective.

> -----Original Message-----
> 
> Category: Axiom User Interface => Axiom Compiler 
> 

\start
Date: Wed, 19 Jan 2005 11:49:06 -0500
From: Bill Page
To: Vladimir Bondarenko
Subject: RE: Literature on AXIOM's applications

Vladimir,

On Wednesday, January 19, 2005 3:39 AM you asked:
> 
> Is there a full enough or at least a partial list of
> AXIOM applications in any field (say, in math etc)?
> 
> If not, any hints about at least scattered links, any?
> 
> Much thanks in advance.
> 

If you haven't already seen this, check out

http://page.axiom-developer.org/zope/Plone/refs

see especially the Axiom Bibliography.

\start
Date: Wed, 19 Jan 2005 12:35:00 -0500
From: Tim Daly
To: Bill Page
Subject: touchgraph

I tried Touchgraph. Awesome tool. Of course I had to install a whole 
new browser and new plugins to do it.

This would be an interesting way to browse the algebra.
But you knew that.

\start
Date: Wed, 19 Jan 2005 11:23:20 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#37 )co aldor file does not work] additional info

On Tue, 2005-01-11 at 14:30 +0100, Martin Rubey wrote:
> Dear Peter,
> 
> this is just great stuff -- nearly... I had to try it out right away, but I
> experienced two problems.
> 
> the minor one is, that )co inside axiom still does not work:
> 
> (1) -> 
> (1) -> )co test.as
>    Compiling AXIOM source code from file 
>       /home/rubey/martin/Axiom/test.as using AXIOM-XL compiler and 
>       options 
> -O -Fasy -Fao -Flsp -laxiom -Mno-AXL_W_WillObsolete -DAxiom -Y $AXIOM/algebra
>       Use the system command )set compiler args to change these 
>       options.
>  
>    >> System error:
>    NIL is not of type STRING.


ln -s $ALDORROOT $AXIOM/compiler may help here.  fixing i-syscmd.boot to
produce a nice error would be nice, I guess.


> (1) -> 
> 
> Never mind.
> 
> Unfortunately, there is a more severe issue. I put the following simple domain
> in a file "test.as" and compiled it using 
> 
> aldor -O -Fasy -Fao -Flsp -laxiom -Mno-AXL_W_WillObsolete -DAxiom test.as
> 
> without any problem. There is only the warning
> 
> #1 (Warning) Deprecated message prefix: use `ALDOR_' instead of `_AXL'
> 
> but I suspect that this is of no importance.

Yep.



> 
> 
> -------------------------------------------------------------------------------
> #include "axiom.as"
> 
> Test: with { fact: PositiveInteger -> PositiveInteger }
>    == add  { fact(n: PositiveInteger): PositiveInteger == 
>               { n <= 1 => 1;
>                 res: PositiveInteger := 1;
>                 while n > 1 repeat {
>                   res := res * n;
>                   n := n-1; }
>                 res } }
> -------------------------------------------------------------------------------
> 
> After this I start axiom and load runtime and axextend. By the way axextend
> *is* in the distribution, it's only a little hidden... There is even more
> obscure stuff in theis directory, maybe it's of use to you!
> 

The .as file isn't in CVS (the file is compiled - don't be fooled by the
readable coding style)

> (1) -> )sh Test
>  Test  is a domain constructor
>  Abbreviation for Test is TEST 
>  This constructor is exposed in this frame.
>  Issue )edit test.as to see algebra source code for TEST 
> 
> ------------------------------- Operations --------------------------------
>  fact : PositiveInteger -> PositiveInteger
> 
> (1) -> fact(5)$Test
> 
>    (1)  120
>                                                         Type: PositiveInteger
> (2) -> fact(4)$Test
>  
>    >> System error:
>    #<vector 08cf4150> is not of type LIST.
> 

Fixed by the patch I send earlier (I hope)...


> By the way, could you explain what your patches are doing? It's just a mystery
> to me! I suspect that one needs some knowledge of Aldor internals?

The significant bit is removing an unbound variable from as.boot, the
rest is to fix the )co command (obviously not bullet proof), and the .ap
file generation.  

In terms of aldor internal knowledge, you don't need that much, the hard
work is on the axiom side. The trick is to load all the aldor runtime
env interpreted and see what breaks (this includes daase.lisp, as.clisp
& interop.clisp, plus the aldor .lsp files).  This stuff used to vaguely
work, so putting it back in shape can't be too bad.  

\start
Date: Wed, 19 Jan 2005 11:26:42 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#37 )co aldor file does not work] additional	information

I just tried another example, which is in fact the reason why I would love to
have Aldor working. I did not expect it to work, and it does not, but it works
*almost*. The code is as follows:

#include "axiom"

Test: with { f: (n: PositiveInteger) -> PrimeField(n) } 
   == add { f(n: PositiveInteger): PrimeField(n) == 
              10::Integer::PrimeField(n) }

Note that such a construction -- the resulting domain depending on the function
parameter -- is currently illegal in Axiom. In Aldor it is fine.

I compiled it with Aldor as usual, and then loaded it into Axiom. As signature
I got the slightly unusual

(1) -> )di op f

There is one unexposed function called f :
   [1] PositiveInteger -> PrimeField n from Test

and trying it out I obtained

(1) -> f(5)$Test
   Loading /home/rubey/axiom/mnt/linux/algebra/PF.o for domain 
      PrimeField 
   Loading /home/rubey/axiom/mnt/linux/algebra/IPF.o for domain 
      InnerPrimeField 
   Loading /home/rubey/axiom/mnt/linux/algebra/TABLE.o for domain Table
      
   Loading /home/rubey/axiom/mnt/linux/algebra/HASHTBL.o for domain 
      HashTable 
   Loading /home/rubey/axiom/mnt/linux/algebra/INTABL.o for domain 
      InnerTable 
   Loading /home/rubey/axiom/mnt/linux/algebra/ZMOD.o for domain 
      IntegerMod 

 
   >> System error:
   |n| is not of type NUMBER.

protected-symbol-warn called with (NIL)

which is roughly what I expected. However, to my great surprise, if you turn on
the debugger (beforehand. You always have to start a fresh axiom because of the
error I told you about in my previous message) with

)lisp (setq |$monitorNewWorld| t)

and thus trace

(1) -> f(1783)$Test

the final bit reads

protected-symbol-warn called with (NIL)..IntegerMod 1783 wants
   positiveRemainder : (%,%) -> % from  Integer
---->Integer----> searching op table for:
   positiveRemainder : (%,%) -> % from  Integer
<----#<compiled-function |INT;positiveRemainder;3$;28|> Integer
goget stuffing slot 47 of IntegerMod 1783
<------#<compiled-function |INT;positiveRemainder;3$;28|> Integer

PrimeField n activating lazy slot 8: Integer
PrimeField n activating lazy slot 9: IntegerPrimesPackage Integer

..PrimeField n wants
   prime? : Integer -> Boolean from  IntegerPrimesPackage Integer
---->IntegerPrimesPackage Integer----> searching op table for:
   prime? : Integer -> Boolean from  IntegerPrimesPackage Integer
<----#<compiled-function |PRIMES;prime?;IB;4|>(IntegerPrimesPackage,Integer)
goget stuffing slot 10 of PrimeField n
<------#<compiled-function |PRIMES;prime?;IB;4|>(IntegerPrimesPackage,Integer)
 

which clearly tells you, that the calculation is done alright, only the
signature interferes with success.

\start
Date: Wed, 19 Jan 2005 11:30:50 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#37 )co aldor file does not work] additional info

I've been playing with the aldor/axiom stuff a little, and the following
patch may help get things going(I used to work on it, and thought it'd
be fun to get it going again).

There are further problems:
- aldor "extend" does not work - it ought to, I think
- The algebra defined in libaxiom.al is not current, and for it to be
rebuilt various .as files need to be available to the build process
(axextend.as and friends) - any reason why they're left out of the
distribution?
- exported attributes from aldor domains are explicitly killed off by
this patch (it's probably easy to fix, just no time atm).
- Only tested the most trivial domains I could find.  

\start
Date: Wed, 19 Jan 2005 11:29:11 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#37 )co aldor file does not work] additional info

this is just great stuff -- nearly... I had to try it out right away, but I
experienced two problems.

the minor one is, that )co inside axiom still does not work:

                        AXIOM Computer Algebra System 
                   Version: Axiom 3.0 Beta (February 2005)
              Timestamp: Tuesday January 11, 2005 at 14:02:04 
-----------------------------------------------------------------------------
   Issue )copyright to view copyright notices.
   Issue )summary for a summary of useful system commands.
   Issue )quit to leave AXIOM and return to shell.
-----------------------------------------------------------------------------
 
   Re-reading compress.daase   Re-reading interp.daase
   Re-reading operation.daase
   Re-reading category.daase
   Re-reading browse.daase
(1) -> 
(1) -> )co test.as
   Compiling AXIOM source code from file 
      /home/rubey/martin/Axiom/test.as using AXIOM-XL compiler and 
      options 
-O -Fasy -Fao -Flsp -laxiom -Mno-AXL_W_WillObsolete -DAxiom -Y $AXIOM/algebra
      Use the system command )set compiler args to change these 
      options.
 
   >> System error:
   NIL is not of type STRING.

protected-symbol-warn called with (NIL)
(1) -> )co test
   Compiling AXIOM source code from file 
      /home/rubey/martin/Axiom/test.as using AXIOM-XL compiler and 
      options 
-O -Fasy -Fao -Flsp -laxiom -Mno-AXL_W_WillObsolete -DAxiom -Y $AXIOM/algebra
      Use the system command )set compiler args to change these 
      options.
 
   >> System error:
   NIL is not of type STRING.

protected-symbol-warn called with (NIL)
(1) -> 

Never mind.

Unfortunately, there is a more severe issue. I put the following simple domain
in a file "test.as" and compiled it using 

aldor -O -Fasy -Fao -Flsp -laxiom -Mno-AXL_W_WillObsolete -DAxiom test.as

without any problem. There is only the warning

#1 (Warning) Deprecated message prefix: use `ALDOR_' instead of `_AXL'

but I suspect that this is of no importance.


-------------------------------------------------------------------------------
#include "axiom.as"

Test: with { fact: PositiveInteger -> PositiveInteger }
   == add  { fact(n: PositiveInteger): PositiveInteger == 
              { n <= 1 => 1;
                res: PositiveInteger := 1;
                while n > 1 repeat {
                  res := res * n;
                  n := n-1; }
                res } }
-------------------------------------------------------------------------------

After this I start axiom and load runtime and axextend. By the way axextend
*is* in the distribution, it's only a little hidden... There is even more
obscure stuff in theis directory, maybe it's of use to you!

                        AXIOM Computer Algebra System 
                   Version: Axiom 3.0 Beta (February 2005)
              Timestamp: Tuesday January 11, 2005 at 14:02:04 
-----------------------------------------------------------------------------
   Issue )copyright to view copyright notices.
   Issue )summary for a summary of useful system commands.
   Issue )quit to leave AXIOM and return to shell.
-----------------------------------------------------------------------------
 
   Re-reading compress.daase   Re-reading interp.daase
   Re-reading operation.daase
   Re-reading category.daase
   Re-reading browse.daase
(1) -> 
(1) -> )lisp (load "/home/rubey/aldor/linux/1.0.2/lib/runtime.lsp")

Value = T
(1) -> )lisp (load 
"/home/rubey/axiom--main--1--patch-24/lsp/ccl/src/axbase/compiler/lib/axextend.lsp")

Value = T
(1) -> )lib test
   Reading /home/rubey/martin/Axiom/test.asy
   Loading /home/rubey/axiom/mnt/linux/autoload/bc-matrix.
   Loading /home/rubey/axiom/mnt/linux/autoload/bc-misc.
   Loading /home/rubey/axiom/mnt/linux/autoload/bc-solve.
   Loading /home/rubey/axiom/mnt/linux/autoload/bc-util.
   Loading /home/rubey/axiom/mnt/linux/autoload/ht-util.
   Loading /home/rubey/axiom/mnt/linux/autoload/htsetvar.
   Loading /home/rubey/axiom/mnt/linux/autoload/ht-root.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-con.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-data.
   Loading /home/rubey/axiom/mnt/linux/autoload/showimp.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-op1.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-op2.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-search.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-util.
   Loading /home/rubey/axiom/mnt/linux/autoload/topics.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-prof.
   Loading /home/rubey/axiom/mnt/linux/autoload/br-saturn.
   Test is now explicitly exposed in frame frame0 
   Test will be automatically loaded when needed from 
      /home/rubey/martin/Axiom/test
(1) -> )sh Test
 Test  is a domain constructor
 Abbreviation for Test is TEST 
 This constructor is exposed in this frame.
 Issue )edit test.as to see algebra source code for TEST 

------------------------------- Operations --------------------------------
 fact : PositiveInteger -> PositiveInteger

(1) -> fact(5)$Test

   (1)  120
                                                        Type: PositiveInteger
(2) -> fact(4)$Test
 
   >> System error:
   #<vector 08cf4150> is not of type LIST.

protected-symbol-warn called with (NIL)


:-(

I am already very very happy, but another patch and/or explanation would
greatly improve this...

By the way, could you explain what your patches are doing? It's just a mystery
to me! I suspect that one needs some knowledge of Aldor internals?

\start
Date: Wed, 19 Jan 2005 11:32:09 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#37 )co aldor file does not work] the patch document

? Makefile
? Makefile.dvi
Index: as.boot.pamphlet
===================================================================
RCS file: /cvsroot/axiom/axiom/src/interp/as.boot.pamphlet,v
retrieving revision 1.3
diff -u -r1.3 as.boot.pamphlet
--- as.boot.pamphlet	24 May 2004 22:53:49 -0000	1.3
+++ as.boot.pamphlet	8 Jan 2005 19:01:23 -0000
@@ -389,7 +389,8 @@
     HPUT(ht,id,[entry,:HGET(ht,id)])
   opalist := [[op,:REMDUP HGET(ht,op)] for op in HKEYS ht]
   --HPUT($opHash,con,[ancestorAlist,attributeAlist,:opalist])
-  HPUT($opHash,con,[ancestorAlist,attributeAlist,:opalist])
+  --HPUT($opHash,con,[ancestorAlist,attributeAlist,:opalist])
+  HPUT($opHash,con,[ancestorAlist,nil,:opalist])
 
 hackToRemoveAnd p ==
 ---remove this as soon as .asy files do not contain forms (And pred) forms
Index: ax.boot.pamphlet
===================================================================
RCS file: /cvsroot/axiom/axiom/src/interp/ax.boot.pamphlet,v
retrieving revision 1.3
diff -u -r1.3 ax.boot.pamphlet
--- ax.boot.pamphlet	24 May 2004 22:53:49 -0000	1.3
+++ ax.boot.pamphlet	8 Jan 2005 19:01:26 -0000
@@ -80,11 +80,29 @@
      axForms :=
         [['Foreign, ['Declare, 'dummyDefault, 'Exit], 'Lisp], :axForms]
   axForms := APPEND(axDoLiterals(), axForms)
-  axForm := ['Sequence, ['Import, [], 'AxiomLib], :axForms]
+  axForm := ['Sequence, ['Import, [], 'AxiomLib], ['Import, [], 'Boolean], :axForms]
   st := MAKE_-OUTSTREAM(filename)
   PPRINT(axForm,st)
   CLOSE st
 
+makeAxExportForm(filename, constructors) ==
+  $defaultFlag : local := false
+  $literals := []
+  axForms :=
+     [modemapToAx(modemap) for cname in constructors |
+            (modemap:=GETDATABASE(cname,'CONSTRUCTORMODEMAP)) and
+              (not cname in '(Tuple Exit Type)) and
+                not isDefaultPackageName cname]
+  if $baseForms then
+     axForms := [:$baseForms, :axForms]
+  if $defaultFlag then
+     axForms :=
+        [['Foreign, ['Declare, 'dummyDefault, 'Exit], 'Lisp], :axForms]
+  axForms := APPEND(axDoLiterals(), axForms)
+  axForm := ['Sequence, ['Import, [], 'AxiomLib], ['Import, [], 'Boolean], :axForms]
+  axForm
+
+
 stripType type ==
   $stripTypes =>
      categoryForm? type => 'Type
Index: i-syscmd.boot.pamphlet
===================================================================
RCS file: /cvsroot/axiom/axiom/src/interp/i-syscmd.boot.pamphlet,v
retrieving revision 1.4
diff -u -r1.4 i-syscmd.boot.pamphlet
--- i-syscmd.boot.pamphlet	28 Dec 2004 07:42:45 -0000	1.4
+++ i-syscmd.boot.pamphlet	8 Jan 2005 19:01:36 -0000
@@ -642,7 +642,7 @@
     if ^beQuiet then sayKeyedMsg("S2IZ0038A",[namestring args, asharpArgs])
 
     command :=
-     STRCONC(TRUENAME(STRCONC(GETENV('"AXIOM"),'"/compiler/bin/")),"axiomxl ", asharpArgs, '" ", namestring args)
+     STRCONC(STRCONC(GETENV('"AXIOM"),'"/compiler/bin/"),"axiomxl ", asharpArgs, '" ", namestring args)
     rc := OBEY command
 
     if (rc = 0) and doCompileLisp then

\start
Date: Wed, 19 Jan 2005 13:45:41 -0500
From: Tim Daly
To: list
Subject: axiom--main--1--patch-26

added Peter Broadbery's changes for Aldor connection

20050119 pab src/interp/i-syscmd.boot remove TRUENAME call
20050119 pab src/interp/ax.boot add makeAxExportForm function
20050119 pab src/interp/ax.boot add additional forms to makeAxFile return
20050119 pab src/interp/as.boot remove attributeAlist from opHash table

\start
Date: Wed, 19 Jan 2005 13:22:17 -0500
From: Bill Page
To: Tim Daly
Subject: RE: touchgraph

Tim,

On Wednesday, January 19, 2005 12:35 PM you wrote:
> 
> I tried Touchgraph. Awesome tool. Of course I had to install
> a whole new browser and new plugins to do it.

?? What were you using before? These days I highly recommend
Firefox on both Windows and Linux but almost every browser
I have tried seems to work well with TouchgGraph provided
that you have java somewhere and a fast enough machine.

> 
> This would be an interesting way to browse the algebra.
> But you knew that.
> 

Ah, well ya ... duh!

Actually the hold up with making this really nice is the
ability to use the pamphlet format directly as a MathAction
page type. I have 95% of this ready to go but SO MANY other
things have been distracting me.

The idea then would be to load all of the *.spad.pamphlet
files as editable and searchable web page that could be
navigated by TouchGraph. Compiling the spad files and
parsing the `Loading' message can be used to create the
navigation links. If changes are made to the spad code,
they can be tested on-line and then extracted for patching
the Axiom distribution ... etc. etc.

\start
Date: Wed, 19 Jan 2005 14:01:10 -0500
From: Bill Page
To: William Sit
Subject: RE: [MutualRecursion] (new)
Cc: Peter Broadbery

On Tuesday, January 18, 2005 11:52 PM William Sit wrote:
> 
> Peter Broadbery wrote:
> > 
> > All over - try OutputForm as an example.
> 
> Yes, that is probably (that is, not yet investigated) the 
> cause for the oneliner stack overflow crash (wonder if it
> would also cause Aldor to have a stack overflow):
> 
> print(anydomain::OutputForm)
> 
> such as
> 
> print(Integer()::OutputForm)
> 
> ... 
> This seems to be mutual recursion with no end, thus stack
> overflow.

I think "cause" is too strong a word here. Actually mutual
recursion is often a very good thing. The cause of the stack
overflow is still bug in implementation - not necessarily a
criticism of the design. In fact, I think that if we can find
the right tools for dealing with mutual recursion in Axiom,
this could represent a major advantage of Axiom for the direct
representation of mathematical concepts over all other computer
algebra systems.

\start
Date: Wed, 19 Jan 2005 14:17:21 -0500
From: Bill Page
To: Tim Daly
Subject: RE: [Axiom-math] Sprint Day for Axiom End-User	Conference on April 22, 2005

On Tuesday, January 18, 2005 9:18 PM Tim Daly wrote:
> ... 
> The last announcement on this mailing list generated a request
> for a "sprint day", that is, a day when we can all get together
> and work on Axiom in the same room.
> 
> The conference is on a Friday in New York City. Perhaps we can
> have the sprint day on thursday as that will leave your weekend
> free for sight-seeing if you've never been here.

Thursday sounds like a good choice to me.

> 
> I'm trying to arrange for funding for the sprint day and it
> looks like a strong possibility with a lot of dependent
> variables.
> 
> If you have any interest in showing up for a day of programming
> on Axiom in the same room, or even to chat about and make a
> plan for future directions, now is the time to speak up.
> 

Yes! Please, let's plan to do this.

\start
Date: Wed, 19 Jan 2005 14:15:51 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#41 fresh databases are not copied back for build] (new) 

> > With the fixedPoint script, I noticed that the old database
> > directories, DEPENDENTS.DAASE and USERS.DAASE, under int/algebra,
> > are not removed in preparation for the second iteration. Am
> > I mistaken in thinking that this will influence the subsequent
> > compilation?
> 
> You are correct. The src/algebra/Makefile.pamphlet that I am using
> on the axiom--windows--1 branch has been updated to properly rebuild
> the databases if any of the *.NRLIBS/code.o files change. In the
> linux branches (e.g. axiom--main--1) the database build is still
> done via a kludge that requires you to delete the file called
> `dbcomplete' in order to force a rebuild. Alternately you could
> also delete the int/*.spad files which will force them to be
> re-extracted from the pamphlet files and also trigger deletion of
> the dbcomplete file.

The database files were intended to be copied back into the source
tree (by hand) as algebra was added to the standard build.

\start
Date: Wed, 19 Jan 2005 14:13:35 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#40 broken input file testing ] (new) 

> > Ah. The easy part. But you missed the hard part. There are 
> > input files listed in src/input/Makefile.pamphlet that do not
> > currently get built. They have various errors which I have not
> > had time to track yet. If we are going to change the basic
> > algebra we need to check each of these files to either make
> > sure they are still broken in the same way or are fixed.
> >
> 
> Ok, great. Is there an easy way to run these in the current
> build?

Bill, in order to run these you can either do it by modifying the
makefile to require the targets or, the easier path is to just
run the document command on the pamphlet, e.g.

given test.input.pamphlet you would type:

document test.input

and then you can start axiom and try to run the input file.
One of the "todo" tasks is to run the graphics input files in
the latest version because they should generate correct graphs now.

I'd be overjoyed to find that some of the problems have been solved.
Some of those bugs are from the original scratchpad system.

\start
Date: Wed, 19 Jan 2005 14:06:57 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#39 catdef.spad.pamphlet EUCDOM-; expressIdealMember; LSU; 10] (new) 

On Mon, Jan 10, 2005 at 09:39:22PM -0500, root wrote:
> It appears that expressIdealMember is not mentioned in the signature
> list for EuclideanDomain() and was not used locally so the compiler
> did not generate code for it.

I noticed this too but Im not confident that this is the case. The
catdef.spad.pamphlet has a stanza `<<EUCDOM-.lsp BOOTSTRAP>>=' which
includes the (nonexistent) chunk `<<EUCDOM-;expressIdealMember;LSU;10>>'. 
The bootstrap code for EUCDOM mentions this function explicitly, as
does bootstrap code in INT and SINT. Moreover, the code for this
function is generated at the end of a normal build. I really think
this a missing chunk (or, perhaps, I'm missing one :).

\start
Date: Wed, 19 Jan 2005 14:04:05 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#38 triset.spad.pamphlet TSETCAT-.lsp BOOTSTRAP missing] (new) 

On Mon, Jan 10, 2005 at 09:45:04PM -0500, root wrote:
> I don't understand this. The TSETCAT- BOOTSTRAP is in triset.spad.pamphlet.
> The TSETCAT-.o is in the bootstrap list. The TSETCAT-.o file is generated.

I think this because the bootstrap code in TSETCAT-.o reads,
literally:

<<TSETCAT-.lsp BOOTSTRAP>>=
@

Perhaps the .o file is being generated only on the second pass?

\start
Date: Wed, 19 Jan 2005 23:53:24 -0500
From: Tim Daly
To: Bill Page
Subject: contact at ibm

Bill,

I've downloaded the TouchGraph software. 
I want to use it to browse the hypertex pages pile.
I'm in the process of rewriting the pages and it would be great
to have an overview.

How do I feed this thing data for the graph? 
There are no docs, just java source.

\start
Date: Thu, 20 Jan 2005 01:10:38 -0500
From: Bill Page
To: Tim Daly
Subject: touchgraph

Tim,

On Thursday, January 20, 2005 1:44 AM you wrote:
> 
> Thanks. I've decoded the java and have a small graph running.
> I'm writing lisp code to process the hypertex pages now so 
> I can generate the required nodes and edges data. There are
> several hundred pages that are highly linked so this will
> be an interesting graph.
> 
> The file format is a simple flat file.
> 

Are you running it as an java applet in a web browser or
stand alone?

I am not sure what TouchGraph code you are working with, but
you must be a certainly be a "Java Wizard - First Class"... :O)

\start
Date: Thu, 20 Jan 2005 00:52:43 -0500
From: Bill Page
To: Tim Daly
Subject: touchgraph, hypertex, hypergraph

On Wednesday, January 19, 2005 11:53 PM you wrote:
> 
> I've downloaded the TouchGraph software. 
> I want to use it to browse the hypertex pages pile.

What are you planning to use as a browser? Unless radically
modified, the TouchGraph program expects to run as an applet
within a web browser.

> I'm in the process of rewriting the pages and it would
> be great to have an overview.

I have a feeling you are not going to find this as easy as you
would like. One simple way maybe would be if you can find a
way to load the hypertex pages themselves onto MathAction.
You would have to do some conversion of the links between
pages because the syntax wont correspond to what Zwiki/LatexWiki
is going to expect by maybe the LaTeX code in the pages could
be rendered in a viewable manner.

> 
> How do I feed this thing data for the graph? 
> There are no docs, just java source.
> 

I agree that documentation for TouchGraph is really sketchy
and I didn't find it of much use.  There are more complaints
on the web about the poor quality of the documentation for
TouchGraph then there is documentation. Luckily there was a
fairly easy recipe for using TouchGraph with ZWiki written by
the developers of the "LiverWiki" web site. But it tells you
very little about how it works. The tweaks that I did to it
were all quite limited.

One thing that I did look at though was the Python code which
runs under Zope to produce the graph layout data. It is called
by XMLRPC (XML remote procedure call) which is one of the
standard protocols that Zope supports. The data is returned to
the java applet in a TouchGraph-specific XML format.

If you want, I can find this code and send it to you. But a
warning: decoding everything you need to run TouchGraph on
it's own is not likely to be easy. And the web site information
for the original developers of TouchGraph doesn't seem to have
been updated since 2002, so I am not sure how easy it would
be to find help on the web. There was some serious discussion
about TouchGraph at

http://tikiwiki.org

Try searching for "touchgraph".

----------

There is another project called HyperGraph that is quite similar
to TouchGraph but uses a hyperbolic layout. See

http://hypergraph.sourceforge.net

You might find it more useful for your purposes and a little
better documented. HyperGraph uses a standard graph file format
called GraphXML. Yes, it is another XML based standard! :) But it
is quite simple.

I played with HyperGraph recently in yet another attempt to draw
the Axiom algebra dependency graph. It works for simple graphs
like this:

http://page.axiom-developer.org/algebra/my-graph.html

But when I gave it the full 1300 node graph, what it drew was
a graph so dense that all the edges overlapped into something
that looked just like a big ball of wool and the program took
a very long time to redraw the graph if you even touched it
anywhere - even on the 3.2 GHz machine I was using for the
test. If you are adventuresome and have a fast computer you
can try (not recommended):

http://page.axiom-developer.org/algebra/index.html

Clearly in order to draw the Axiom algebra graph, we are going
to have to do it in some hierarchical manner but hopefuly one
that can be computed from the structure of the graph - not
imposed manually like the current layers in the Axiom makefiles.
Some day real soon now I hope to find a source for some cookbook
graph theory programs what can manipulate graphs of this size,
find strongly connected component, prune redundant edges, etc.

--------

The "my-graph" input file looks like this

http://page.axiom-developer.org/algebra/my-graph.xml

<?xml version="1.0"?>
<!DOCTYPE GraphXML SYSTEM "GraphXML.dtd">
<GraphXML>
<graph id="My First Graph" directed="1">

<!-- Here come your nodes -->
<node name="node1">
<label>node 1</label>
</node>

<node name="node2">
<label>node 2</label>
</node>
<node name="a">
    <label>a</label>
</node>
<node name="b">
    <label>b</label>
</node>
<node name="c">
    <label>c</label>
</node>
<!-- Here come the edges -->
<edge source="a" target="b" />
<edge source="a" target="c" />
<edge source="node1" target="node2" />
<edge source="c" target="a" />
<edge source="node1" target="a" />
</graph>
</GraphXML>

----------

You can add hyperlinks, colors etc. as XML attributes.

Here is the graph data for the Axiom algebra (2.2 Mb)

http://page.axiom-developer.org/algebra/algebra.xml

\start
Date: Thu, 20 Jan 2005 01:43:41 -0500
From: Tim Daly
To: Bill Page
Subject: contact at ibm

Thanks. I've decoded the java and have a small graph running.
I'm writing lisp code to process the hypertex pages now so 
I can generate the required nodes and edges data. There are
several hundred pages that are highly linked so this will
be an interesting graph.

The file format is a simple flat file.

\start
Date: Thu, 20 Jan 2005 02:00:18 -0500
From: Tim Daly
To: Bill Page
Subject: contact at ibm

I'm running it standalone. I've modified the java somewhat
and have written a routine to process the input file. I'm
in the process of creating the input file now.

I'd forgotten how much fun it is to code in lisp!

\start
Date: Thu, 20 Jan 2005 18:15:25 +1100
From: Jason White
To: list
Subject: Graphics and Axiom (was Re: touchgraph, hypertex, hypergraph)

While graphics software is under discussion there are a few questions
I would like to raise:

With Axiom's current graphics system, is it possible to generate
graphs of Postscript (or encapsulated Postscript) non-interactively,
without having the X Window System running? There are circumstances in
which this functionality would be desirable, including server-side
applications of Axiom that convert and deliver the graphical output to
a client via a Web page or similar interface. Some users with
vision-related disabilities might want to generate a graph of a
function and emboss it to create a tactile version, or simply include
it in a document written in TeX/LaTeX, in which case non-interactive
operation is needed.

As a more general issue, is it currently anticipated that Axiom will
continue to maintain its own graphics functions, or would it be
preferable to integrate support for an externally developed graphics
language? These two options aren't entirely mutually exclusive, of
course. Regarding the latter possibility, projects such as
http://asymptote.sourceforge.net/ are worth watching (they may be
other, comparable efforts - I haven't tried to conduct a thorough
search).

\start
Date: Thu, 20 Jan 2005 10:03:24 +0100
From: Martin Rubey
To: Tim Daly
Subject: Re: axiom--main--1--patch-26

Wow, great that you integrated this!

Martin

root writes:
 > added Peter Broadbery's changes for Aldor connection
 > 
 > 20050119 pab src/interp/i-syscmd.boot remove TRUENAME call
 > 20050119 pab src/interp/ax.boot add makeAxExportForm function
 > 20050119 pab src/interp/ax.boot add additional forms to makeAxFile return
 > 20050119 pab src/interp/as.boot remove attributeAlist from opHash table

\start
Date: Thu, 20 Jan 2005 04:04:02 -0500
From: Tim Daly
To: Jason White
Subject: Re: Graphics and Axiom (was Re: touchgraph, hypertex, hypergraph)

> While graphics software is under discussion there are a few questions
> I would like to raise:
> 
> With Axiom's current graphics system, is it possible to generate
> graphs of Postscript (or encapsulated Postscript) non-interactively,
> without having the X Window System running? There are circumstances in
> which this functionality would be desirable, including server-side
> applications of Axiom that convert and deliver the graphical output to
> a client via a Web page or similar interface. Some users with
> vision-related disabilities might want to generate a graph of a
> function and emboss it to create a tactile version, or simply include
> it in a document written in TeX/LaTeX, in which case non-interactive
> operation is needed.

Interesting question, actually. I suspect that it is not possible but
only because of the way it is architected.  I looked at the code and
it creates a "graphics context" for the postscript code. The "PS"
button will actually write out the graph as drawn. There may be
a path that skips all of this but I don't see it.

Clearly though it would be possible to output graphics directly to
postscript. Not in the short term though... see below.

> 
> As a more general issue, is it currently anticipated that Axiom will
> continue to maintain its own graphics functions, or would it be
> preferable to integrate support for an externally developed graphics
> language? These two options aren't entirely mutually exclusive, of
> course. Regarding the latter possibility, projects such as
> http://asymptote.sourceforge.net/ are worth watching (they may be
> other, comparable efforts - I haven't tried to conduct a thorough
> search).

I looked at removing the graphics from axiom entirely and using 
gnuplot. The idea was to merge gnuplot and axiom functionality
so both programs benefit. There were a couple obstacles which made
me back off that path. Most notable among the reasons is that graphical
display of data is very intuitive and current programs are incredibly weak.

I found that I'd like more generality in the graphics for several
reasons. For instance,

a) Axiom's graphics are currently oriented toward functions rather
   than fully general geometric primitives. However the geometry and 
   algebra fields are merging. We should be able to do constructive
   solid geometry primitives in the algebra and display them.

b) Axiom should be able to work with models (solid, for engineering),
   (stick, for chemistry), etc where you'd like to be able to compute
   things like beam loadings or binding strengths and not only show
   the function graphs but the physical models. BRL/CAD is a possible
   candidate for use. Students could construct bridges, create vectors
   as test loads, and see when beam parameters are exceeded causing
   bridge failures. Matrix algebra can handle the required differential
   transformations.

c) Axiom's graphics need to be able to handle more general types of
   graphs like Cayley graphs or Thompson graphs of a group. We'd like 
   to be able to do this for our encryption research at CAISS.

d) Axiom's graphs should at least be self-referential. That is, they
   should be able to support the kind of graphs we need like graphs
   of the algebra hierarchy. This would be useful for network flows,
   embedding trees in graphs, etc.

e) Axiom should be able to get direct input from the graphs by allowing
   the user to construct graphs in various ways. For instance you could
   allow the user to construct feynman graphs and write the equations
   from the graphs (each graph is a term in the equation). Or use an
   edge-finding algorithm to find the edge of a strangely shaped 
   object and then integrate to get the volume.

f) Done correctly the graphs should share data structures and memory with
   the algebra. Thus you should be able to create data structures of many
   kinds in Axiom (which you can) and have an isomorphic mapping of the
   data structure and the graph. Thus manipulations of the graph become
   manipulations of the data structure and data structure manipulations
   are reflected in a modified graph. 

   This would allow interactive algorithms for more experimental
   mathematics where you could display results, let the user use their
   intuition to guide the program by manipulating the graph, and
   continuing the computation. For instance, you could guide a
   root-finding algorithm in many dimensions by using visual cues to find
   intervals that contain points of intersections.  You could see
   floating-point polynomial fitting tubes wrapped around a curve and
   find points where the floating point values were unstable.  You could
   see the branch cuts in function terms of an equation and dynamically 
   choose the cuts which overlap in the result.

In short, graphics needs to be more tightly integrated not less.

On the practical, near-term front I've got to get graphics (and
hypertex) running on windows. To that end I'm rewriting the C code
into common lisp and using TK as the front-end. This will make the
graphics instantly portable and much more maintainable. But the long
term effect will be that the graphics code is written in the same 
language and can be run in the same image as the algebra.

This, of course, is not the graphics conversation between Bill Page
and me. Bill pointed me to TouchGraph which allows you to look at
a wiki in a graphical way. The graph dynamically reorganizes on the
screen.

I'm using the code for a similar, standalone version to help me
understand the page layout for hypertex. Hypertex currently contains
a couple hundred pages and about as many links. I need to modify
this tangled pile so it is brought up to date, is better organized,
and is more maintainable.

The TouchGraph graphics for this is written in Java, not lisp.
I'm hacking the code to see if I can make it display something
useful for me at the moment. This is just a subgoal of the hypertex
problem and I have no plan to use this kind of graph in axiom, at
least not the java version. This would be so much easier to integrate
if it were in lisp.

\start
Date: Thu, 20 Jan 2005 05:11:51 -0500
From: Tim Daly
To: Bill Page
Subject: hacked-up touchgraph for browser pages

I managed to get this thing to display the touchgraph of the browser
pages. It is actually very interesting to watch it work. It shows me
the busy pages and also highlights that there are orphan pages which
cannot be reached. That will allow me to write lisp code to detect
this case at page-dictionary build time and complain.

I'm going to mod it to let me center a page, scroll around, and get
properties on right-click.

That said, it is a useful idea if not yet a completely useful program.

Along the way my program found a few typos in the browser pages.

\start
Date: Thu, 20 Jan 2005 21:08:30 +1100
From: Jason White
To: Tim Daly
Subject: Re: Graphics and user interfaces

With thanks to Tim for setting out the short-term and longer-term
plans, I now understand where Axiom is headed in the graphics
department.

In the medium term I would consider both Postscript and SVG to be
desirable output formats for the purpose of integrating Axiom into the
infrastructure of the Web. However, I am also cognisant of Tim's
concerns, as expressed on the mailing list recently, that there is
little advantage to be gained from integrating XML too tightly into
Axiom. On the other hand, there are interoperability-related
advantages in having XML import/export capabilities at least
sufficient to cover OpenMath/MathML and SVG. This is of course
distinct from the question that initially arose of what languages,
software and standards should be used to construct future user
interfaces for Axiom. That is, one could decide to have XML
import/export facilities without necessarily building default user
interfaces on Web-based components such as Zope.

My personal inclination would be to retain as much flexibility as
possible in the design of the system to accommodate a variety of user
interface options, including the execution of Axiom in a Web server
environment for interaction via a Web user agent, as a straightforward
text terminal application and integrated into a graphical user
interface.

As to tactile and auditory interfaces, I don't have much to offer at
present. Various projects are working on the production of braille and
speech output from MathML input, but this hasn't been integrated into
Mozilla or any of the other free/open-source solutions as yet.
Consequently there isn't a reliable platform in this area to which
Axiom can connect. The most straightforward (admittedly primitive)
improvement I can think of would be to allow Axiom to produce output
in the same language that is used as input, since in a linear medium
this is more readable than TeX, Fortran or the default output format.
It isn't clear whether being able to feed Axiom output expressions
back into Axiom (in a later session) would have broader advantages to
the general user, however.

\start
Date: Thu, 20 Jan 2005 11:03:42 +0100
From: Pierre Doucy
To: Bill Page
Subject: Re: touchgraph, hypertex, hypergraph

Hi all,

I'm not sure I fully understand what you what to do w/ graphs and if
you really need the "click somewhere to move the graph", but here we
go

> There is another project called HyperGraph that is quite similar
> to TouchGraph but uses a hyperbolic layout. See
>
> [...] 

Graphviz ( http://www.graphviz.org/ ) might help too. I won't give you
a java applet, but just any graphic file format (PDF, PS, JPG, ...),
and is available both from a standalone command-line program, or
through a programmatic interface.

> 
> But when I gave it the full 1300 node graph, what it drew was
> a graph so dense that all the edges overlapped into something
> that looked just like a big ball of wool and the program took
> a very long time to redraw the graph if you even touched it
> anywhere [...]

Depending on the complexity of your graph, graphviz is able to draw
huge graphs without too much pain, and the layout is generally very
readable.

>
>
> Clearly in order to draw the Axiom algebra graph, we are going
> to have to do it in some hierarchical manner but hopefuly one
> that can be computed from the structure of the graph - not
> imposed manually like the current layers in the Axiom makefiles.
> Some day real soon now I hope to find a source for some cookbook
> graph theory programs what can manipulate graphs of this size,
> find strongly connected component, prune redundant edges, etc.

There's a (C++) library - boost (www.boost.org,
http://www.boost.org/libs/graph/doc/table_of_contents.html), which is
a generic programming library, allowing you to represent a graph in
any manner (adjacency lists, adjacency matrix,...) , and provides some
basic algorithms.
The paradigm behind boost - generic programming - is somewhat weird,
but it actually allows great flexibility. I used it in a project
related to random graphs/social networks. If I remember well, someone
I used to work with (and who reads this list) implemented the
algorithm to find strongly connected components.
Besides, it integrates with graphviz, in the sense that you can import
and export from the graphviz format to boost (see
http://www.boost.org/libs/graph/doc/write-graphviz.html,
http://www.boost.org/libs/graph/doc/read-graphviz.html )

\start
Date: Thu, 20 Jan 2005 06:45:53 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [#8 (Savannah bug #9297) output misses some parenthesis] different patch difficult

I'm now pretty confident that a better fix will be rather difficult. In OUTFORM, "+" takes two arguments, each of type OUTFORM. Hence, at this stage we cannot check anymore whether the first would be a sum or a product.

I also would like to add that the obvious mathematical blunder in (1) should be fixed in axiom--main--1--patch-25.

\start
Date: Thu, 20 Jan 2005 07:43:11 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [#8 (Savannah bug #9297) output misses some parenthesis] also Tex needs patching


                0,  0,   0]\$(L I)

  +    plexPrecs     : L I := [    700, 800,    700, 800,           700]\$(L I)

\start
Date: Thu, 20 Jan 2005 07:29:05 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [#19 D(0^z, z) fails] patch

The offending code is in combfunc.spad, here is a patch. Note however, that strictly speaking 0^z is not differentiable at 0...

@@ -405,7 +417,10 @@
       iipow l == ipow l

     if F has ElementaryFunctionCategory then
-      dvpow2 l == log(first l) * first(l) ** second(l)
+      dvpow2 l == if zero?(first l) then
+                    0
+                  else
+                    log(first l) * first(l) ** second(l)

     evaluate(opfact, iifact)$BasicOperatorFunctions1(F)
     evaluate(oppow, iipow)

\start
Date: Thu, 20 Jan 2005 07:29:55 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [#19 D(0^z, z) fails] patch


The offending code is in combfunc.spad, here is a patch. Note however, that strictly speaking 0^z is not differentiable at 0::

  @@ -405,7 +417,10 @@
         iipow l == ipow l

       if F has ElementaryFunctionCategory then
  -      dvpow2 l == log(first l) * first(l) ** second(l)
  +      dvpow2 l == if zero?(first l) then
  +                    0
  +                  else
  +                    log(first l) * first(l) ** second(l)

       evaluate(opfact, iifact)$BasicOperatorFunctions1(F)
       evaluate(oppow, iipow)

\start
Date: Thu, 20 Jan 2005 07:41:58 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [#8 (Savannah bug #9297) output misses some parenthesis] also Tex needs patching

Note that there is a tiny bug in Tex too -- in axioms domain, of course:

\begin{axiom}
  product(product(i*j, i=a..b),j=c..d)
\end{axiom}

The offending code is in tex.spad, here is a patch::

  --- tex.spad    2005-01-03 18:14:33.000000000 +0100
  +++ /home/rubey/martin/Axiom/tex.spad   2005-01-20 15:35:45.000000000 +0100
  @@ -144,8 +144,8 @@
                0,  0,   0]$(L I)
       naryNGOps     : L S := ["ROW","&"]$(L S)
  
  -    plexOps       : L S := ["SIGMA","SIGMA2","PI","INTSIGN","INDEFINTEGRAL"]$(L S)
  -    plexPrecs     : L I := [    700, 800,      700,            700]$(L I)
  +    plexOps       : L S := ["SIGMA","SIGMA2","PI","PI2", "INTSIGN","INDEFINTEGRAL"]$(L S)
  +    plexPrecs     : L I := [    700, 800,    700, 800,           700]$(L I)
  
       specialOps    : L S := ["MATRIX","BRACKET","BRACE","CONCATB","VCONCAT",  _
                               "AGGLST","CONCAT","OVERBAR","ROOT","SUB","TAG", _
  @@ -456,8 +456,9 @@
         (n ^= 2) and (n ^= 3) => error "wrong number of arguments for plex"
         s : S :=
           op = "SIGMA"   => "\sum"
  -        op = "SIGMA2"   => "\sum"
  +        op = "SIGMA2"  => "\sum"
           op = "PI"      => "\prod"
  +        op = "PI2"     => "\prod"
           op = "INTSIGN" => "\int"
           op = "INDEFINTEGRAL" => "\int"
           "????"


Tex transforms OutputForm to TeX, so it translates literally. OutputForm displays "PI2" as a definite products, so we have to add it here, analogously to "SIGMA2".

Note however, that I don't really understand plexPrecs, so I'm not sure what's the correct value there...

\start
Date: Thu, 20 Jan 2005 08:26:06 -0500
From: Cliff Yapp
To: Tim Daly
Subject: Re: contact at ibm

On Thursday 20 January 2005 02:00 am, root wrote:
> Bill,
>
> I'm running it standalone. I've modified the java somewhat
> and have written a routine to process the input file. I'm
> in the process of creating the input file now.

Impressive!

> I'd forgotten how much fun it is to code in lisp!
>
> Tim

Tim, is there any chance the edge and node code could be
applied to other codebases?  I've often wished there was 
some way to generate a call tree for lisp code bases, but
I'm not aware of a good one currently.  (Sooner or later I'll
probably get off my butt and see about getting Albert to 
produce graphviz output in addition to it's docbook output, but
touchgraph looks like a more convenient way for interactively
exploring.  I'd hoped someday to be able to generate a manual
for the Maxima code base that contained a call graph for each
function, and eventually use that information to modularize the
code into lisp packages.)

\start
Date: Thu, 20 Jan 2005 07:46:42 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [#42 Escaping $ is tedious...] 

On MathAction, '::' doesn't work as promised: '$' signs need to be escaped with a '\'.

\start
Date: Thu, 20 Jan 2005 07:44:43 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [#8 (Savannah bug #9297) output misses some parenthesis] also Tex needs patching


       naryNGOps     : L S := ["ROW","&"]\$(L S)

  +    plexOps       : L S := ["SIGMA","SIGMA2","PI","PI2", "INTSIGN","INDEFINTEGRAL"]\$(L S)

\start
Date: Thu, 20 Jan 2005 07:46:11 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [#42 Escaping $ is tedious...] (nouveau) 

On MathAction, '::' doesn't work as promised, '$' signs need to be escaped with a '\'.

\start
Date: Thu, 20 Jan 2005 07:47:19 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [#42 Escaping $ is tedious...] 


On MathAction, '::' doesn't work as promised: '$' signs need to be escaped with a '\'::

  ThisWontWork$MathAction

\start
Date: Thu, 20 Jan 2005 15:42:06 +0100
From: Pierre Doucy
To: list
Subject: MacOS X development

Hi all,

I have had the occasion to try Axiom, and liked it a lot, making it a
viable replacement for mathematica as for as I'm concerned. The only
thing is that I have a Mac (and no PC) so I can't use it by now.
Having some programming skills, and probably some time to give in the
new couple of months, I'd like to contribute to the project, and
especially the MacOS X port.
I have seen the MACOSX branch, but there doesn't seem to be any work
done on it. Are there any people already working on this, having
identified the main problems, or am I on my own ?
More clearly : how can I be useful ?

\start
Date: Thu, 20 Jan 2005 06:55:34 -0800 (PST)
From: Cliff Yapp
To: Tim Daly, Jason White
Subject: Re: Graphics and Axiom (was Re: touchgraph, hypertex, hypergraph)

> Jason,
>
> Interesting question, actually. I suspect that it is not possible but
> only because of the way it is architected.  I looked at the code and
> it creates a "graphics context" for the postscript code. The "PS"
> button will actually write out the graph as drawn. There may be
> a path that skips all of this but I don't see it.
> 
> Clearly though it would be possible to output graphics directly to
> postscript. Not in the short term though... see below.

Just curious - are long term graphics discussions planned as part of
the Axiom conference, or is that too far down the road as yet? 
 
> I looked at removing the graphics from axiom entirely and using 
> gnuplot. The idea was to merge gnuplot and axiom functionality
> so both programs benefit. There were a couple obstacles which made
> me back off that path. Most notable among the reasons is that
> graphical display of data is very intuitive and current programs 
> are incredibly weak.

Amen.

> I found that I'd like more generality in the graphics for several
> reasons. For instance,
> 
> a) Axiom's graphics are currently oriented toward functions rather
>    than fully general geometric primitives. However the geometry and 
>    algebra fields are merging. We should be able to do constructive
>    solid geometry primitives in the algebra and display them.

Hmm.  Can you give an example of the Tim?  I'm not sure what you mean
by geometric primitives - triangles?  pentagons?  buckeyballs? ;-)

> b) Axiom should be able to work with models (solid, for engineering),
>    (stick, for chemistry), etc where you'd like to be able to compute
>    things like beam loadings or binding strengths and not only show
>    the function graphs but the physical models. BRL/CAD is a possible
>    candidate for use. Students could construct bridges, create
>    vectors as test loads, and see when beam parameters are exceeded
>    causing bridge failures. Matrix algebra can handle the required
>    differential transformations.

That sounds like almost entirely numerical work, except for simple
cases - almost a Matlab+ type setup - I take it the long term goal is
to provide Axiom with robust, optimized numerical abilities?  What a
fascinating idea to combine all these abilities.  You could have a
worksheet where people work their way from manipulations of the basic
physics equations describing oscillations on a symbolic level, and then
provide a model of a real spring for them to simulate numerically.  Or
if you could tie to some high energy physics libraries, you could
perhaps do the symbolic calculations to define your theory, and then
define and simulate an experiment to test it in the same document!  Or
you could include abilities of programs like Igor for data processing
and manipulation.

> c) Axiom's graphics need to be able to handle more general types of
>    graphs like Cayley graphs or Thompson graphs of a group. We'd like
>    to be able to do this for our encryption research at CAISS.

One type of program I've wondered about is Pigale http://pigale.sf.net 
I'm not up on the theory of what it's trying to do, but it has always
impressed me as an interesting program.  There was some talk a while
back about adding some abilities into Maxima to work with it, but
nothing came of it at that time.  I wonder if Axiom would be a good
match for it. 

> d) Axiom's graphs should at least be self-referential. That is, they
>    should be able to support the kind of graphs we need like graphs
>    of the algebra hierarchy. This would be useful for network flows,
>    embedding trees in graphs, etc.

You mean combine function and call-graph styles of plotting?  That
might have some interesting possibilities.  You could show the change
of a function at each step of a calculation (if that is of use for
anything besides maybe making a poster.)

> e) Axiom should be able to get direct input from the graphs by
>    allowing the user to construct graphs in various ways. For 
>    instance you could allow the user to construct feynman graphs 
>    and write the equations from the graphs (each graph is a term in 
>    the equation). Or use an edge-finding algorithm to find the edge 
>    of a strangely shaped object and then integrate to get the volume.

That would be NEAT.  If Axiom ever gains the ability to solve PDEs,
perhaps you could use this mechanism to graphically define boundary
conditions.
 
> f) Done correctly the graphs should share data structures and memory
>    with the algebra. Thus you should be able to create data 
>    structures of many kinds in Axiom (which you can) and have an 
>    isomorphic mapping of the data structure and the graph. Thus 
>    manipulations of the graph become manipulations of the data 
>    structure and data structure manipulations are reflected in a 
>    modified graph. 

This is one of those little mundane questions, but for 3D plots do you
want to do just wire frame or also have the option of camera and
lighting as in VTK or Izic?  (or a variety of molecular display
programs, if we get into chemistry, or solid views thinking about
brl-cad, etc.).  If we want to be capable of "presentation graphics",
where would that information be stored?
 
>    This would allow interactive algorithms for more experimental
>    mathematics where you could display results, let the user use
>    their intuition to guide the program by manipulating the graph, 
>    and continuing the computation. For instance, you could guide a
>    root-finding algorithm in many dimensions by using visual cues to
>    find intervals that contain points of intersections.  You could 
>    see floating-point polynomial fitting tubes wrapped around a 
>    curve and find points where the floating point values were 
>    unstable.  You could see the branch cuts in function terms of an 
>    equation and dynamically choose the cuts which overlap in the 
>    result.

Powerful stuff.  That reminds me (not sure why) - is there a "standard"
way to display a Dirac delta function?  Or is that something Axiom even
knows about?  In physics they show up a lot, but I don't know how
common or useful they are/would be in typical Axiom work.

> In short, graphics needs to be more tightly integrated not less.
> 
> On the practical, near-term front I've got to get graphics (and
> hypertex) running on windows. To that end I'm rewriting the C code
> into common lisp and using TK as the front-end. This will make the
> graphics instantly portable and much more maintainable. But the long
> term effect will be that the graphics code is written in the same 
> language and can be run in the same image as the algebra.

\start
Date: Thu, 20 Jan 2005 10:44:34 -0500
From: Stephen Wilson
To: Bill Page
Subject: Re: touchgraph, hypertex, hypergraph

Bill,

On Thu, Jan 20, 2005 at 12:52:43AM -0500, Bill Page wrote:
> Some day real soon now I hope to find a source for some cookbook
> graph theory programs what can manipulate graphs of this size,
> find strongly connected component, prune redundant edges, etc.


In addition to the boost libs, you might want to check out the
programs in Knuths `Stanford GraphBase'. The source code (literate
programs, of course) can be freely downloaded. See

         http://www-cs-faculty.stanford.edu/~knuth/sgb.html

These algorithms have been used on truly enormous graphs.

\start
Date: Thu, 20 Jan 2005 11:38:49 -0500
From: Tim Daly
To: Jason White
Subject: Re: Graphics and user interfaces

> Axiom can connect. The most straightforward (admittedly primitive)
> improvement I can think of would be to allow Axiom to produce output
> in the same language that is used as input, since in a linear medium
> this is more readable than TeX, Fortran or the default output format.
> It isn't clear whether being able to feed Axiom output expressions
> back into Axiom (in a later session) would have broader advantages to
> the general user, however.

See FAQ 19: How can I get equations written on one line
for a way to get linear output.

It is unlikely that axiom will ever have read-write equivalence
although that would be very nice. However it would require decorating
the output terms with type information so that the reader could
reconstruct it.

The commercial version of axiom had a MathML front-end. That code
was not released but was sold to another company. It is now a
browser-plugin.

\start
Date: Thu, 20 Jan 2005 11:46:06 -0500
From: Tim Daly
To: Cliff Yapp
Subject: Re: contact at ibm

> Tim, is there any chance the edge and node code could be
> applied to other codebases?  I've often wished there was 
> some way to generate a call tree for lisp code bases, but
> I'm not aware of a good one currently.  (Sooner or later I'll
> probably get off my butt and see about getting Albert to 
> produce graphviz output in addition to it's docbook output, but
> touchgraph looks like a more convenient way for interactively
> exploring.  I'd hoped someday to be able to generate a manual
> for the Maxima code base that contained a call graph for each
> function, and eventually use that information to modularize the
> code into lisp packages.)

All I do is process the input files (in lisp ) to write a flat file 
with format:


NODE nodename1
NODE nodename2
NODE nodename3
....
EDGE nodename1 nodename2
EDGE nodename1 nodename3
....

and then I wrote java to read the flat file, create and hash the
nodes, and then create the edges.

Perhaps I'll put the codepile up on arch so others can play.

\start
Date: Thu, 20 Jan 2005 10:43:07 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#19 D(0^z, z) fails] fixed in Feb 2005 

Status: open => closed 

\start
Date: Thu, 20 Jan 2005 10:43:21 -0600
From: MathAction (Bob McElrath)
To: MathAction
Subject: [#42 Escaping $ is tedious...] 

This is due to some fundamental limitations of STX.  It has no escape
mechanism *at* *all*.  I am working on fixing these limitations by
"rewriting stx":http://mcelrath.org:9675/newstx .

There is another request to add a true escape to STX:

    http://zwiki.org/877StructuredTextIgnoreFlagsNeeded

...that I am still considering adding to STX.

Future pagetypes that are true-latex and pamphlet will of course have
the latex escape mechanism using backslashes.

\start
Date: Thu, 20 Jan 2005 11:28:33 -0500
From: Eugene Surowitz
To: Pierre Doucy
Subject: Re: MacOS X development

A possibility ( at least for me ) is to try running Axiom in a virtual
PC on a MAC.  This might work if you can get the VirtualPC product
which provides an environment to create and run virtual PCs on MacOS
X.  It's a Microsoft product ever since they bought Connectrix(?)
which created it.

Currently I have a G4 Powerbook running VirtualPC with these virtual PCs:

MS Windows XP Pro
Mandrake 8.0
Redhat 9. (the Redhat has problems dealing with the 17" screen)

I plan to get around to trying to get Axiom onto virtual XP soon but 
schedule.

Cheers, Eugene Surowitz

Pierre Doucy wrote:

>Hi all,
>
>I have had the occasion to try Axiom, and liked it a lot, making it a
>viable replacement for mathematica as for as I'm concerned. The only
>thing is that I have a Mac (and no PC) so I can't use it by now.
>Having some programming skills, and probably some time to give in the
>new couple of months, I'd like to contribute to the project, and
>especially the MacOS X port.
>I have seen the MACOSX branch, but there doesn't seem to be any work
>done on it. Are there any people already working on this, having
>identified the main problems, or am I on my own ?
>More clearly : how can I be useful ?

\start
Date: Thu, 20 Jan 2005 12:16:22 -0500
From: Tim Daly
To: Martin Rubey
Subject: Re: [#19 D(0^z, z) fails] patch

> The offending code is in combfunc.spad, here is a patch. Note however, that strictly speaking 0^z is not differentiable at 0...
> 
> @@ -405,7 +417,10 @@
>        iipow l == ipow l
> 
>      if F has ElementaryFunctionCategory then
> -      dvpow2 l == log(first l) * first(l) ** second(l)
> +      dvpow2 l == if zero?(first l) then
> +                    0
> +                  else
> +                    log(first l) * first(l) ** second(l)
> 
>      evaluate(opfact, iifact)$BasicOperatorFunctions1(F)
>      evaluate(oppow, iipow)
 
Patch applied.
This will be fixed in the Feb release.

\start
Date: Thu, 20 Jan 2005 11:29:28 -0500
From: Bill Page
To: Tim Daly, Jason White
Subject: RE: Graphics and Axiom (was Re: touchgraph, hypertex, hypergraph)

On Thursday, January 20, 2005 4:04 AM Tim Daly wrote:
Jason White wrote:
> 
> > While graphics software is under discussion there are a few 
> > questions I would like to raise:
> > 
> > With Axiom's current graphics system, is it possible to
> > generate graphs of Postscript (or encapsulated Postscript)
> > non-interactively, without having the X Window System running?

No it is not possible without X Windows running. But it is
possible to do it non-interactively. The commands look like
this:

   viewPort:=draw(sin x, x=-%pi..%pi)
   write(viewPort,"your-file.ps","postscript")

> > There are circumstances in which this functionality would be
> > desirable, including server-side applications of Axiom that
> > convert and deliver the graphical output to a client via a
> > Web page or similar interface.

Yes, we have exactly this problem on MathAction. In this case
to get around this limitation what I am planning to do in fact is
to install X Windows on the axiom-developer.org server using the
X Windows framebuffer virtual graphics device (fbdev). Yes, this
is possible even though we will not have access to a graphics
console. `fbdev' is often used to allow remote access via VNC.
I use this very successfully with a remote debian server. Having
this kind of remote access to axiom-developer.org will be useful
for other reasons.

So on MathAction, the above commands will actually start Axiom
graphics in a local X-server environment (even though it will
never be viewed directly via a remote VNC session) and then it
write the postscript that is then processed by LatexWiki (or
perhaps be converted directly to png format) to display the
graph on the web page.

Doing this in MathAction is still all "in theory" of course.
I am not sure what sort of overhead will be involved in doing
this on the server. (The usual solution I guess is buy a bigger
server. Buying hardware is still a lot easier than writing
software.)

We have a similar problem with integrating Axiom graphics into
TeXmacs although in this case the workstation running TeXmacs
(on linux at least) will already be running in an X environment.
I guess what will happen is that the Axiom graphics window will
pop-up, write out the postscript file, then close. TeXmacs will
get the contents of the postscript file and do it's thing.

> > Some users with vision-related disabilities might want to
> > generate a graph of a function and emboss it to create a
> > tactile version, or simply include it in a document written
> > in TeX/LaTeX, in which case non-interactive operation is needed.

Yes, this will be possible on MathAction.

> 
> Interesting question, actually. I suspect that it is not possible
> but only because of the way it is architected.  I looked at the
> code and it creates a "graphics context" for the postscript code.
> The "PS" button will actually write out the graph as drawn. There
> may be a path that skips all of this but I don't see it.

Don't forget the `write' command in Axiom graphics.

> 
> Clearly though it would be possible to output graphics directly to
> postscript. Not in the short term though... see below.
> 

??? This *is* possible now - provided you do have an X windows
environment available.

> > 
> > As a more general issue, is it currently anticipated that Axiom
> > will continue to maintain its own graphics functions, or would
> > it be preferable to integrate support for an externally developed
> > graphics language? These two options aren't entirely mutually
> > exclusive, of course. Regarding the latter possibility, projects
> > such as http://asymptote.sourceforge.net/ are worth watching (they
> > may be other, comparable efforts - I haven't tried to conduct a
> > thorough search).

Thanks for the reference. Asymptote looks VERY interesting to me.

> 
> I looked at removing the graphics from axiom entirely and using 
> gnuplot. The idea was to merge gnuplot and axiom functionality
> so both programs benefit. There were a couple obstacles which made
> me back off that path. Most notable among the reasons is that 
> graphical display of data is very intuitive and current programs
> are incredibly weak.

I think we should be open to the idea of integrating such programs
as Asymptote and even tools like gnuplot. Even though in some cases
they may do less than we may want in general. Reduce already has an
gnuplot interface. It is possible to use Reduce and gnuplot on
MathAction. See:

http://test.axiom-developer.org/Members/billpage/ReduceTest1

I would like to be able to do the same with Axiom and gnuplot.

> 
> I found that I'd like more generality in the graphics for several
> reasons. For instance,
> 
> a) Axiom's graphics are currently oriented toward functions rather
>    than fully general geometric primitives. However the geometry
>    and algebra fields are merging. We should be able to do
>    constructive solid geometry primitives in the algebra and
>    display them.
>

Asymptote sounds like a good choice for this.

> b) Axiom should be able to work with models (solid, for engineering),
>    (stick, for chemistry), etc where you'd like to be able to
>    compute things like beam loadings or binding strengths and not
>    only show the function graphs but the physical models. BRL/CAD
>    is a possible candidate for use. Students could construct bridges,
>    create vectors as test loads, and see when beam parameters are
>    exceeded causing bridge failures. Matrix algebra can handle the
>    required differential transformations.

I am worried when a system like Axiom begins to try to be "all
things for all people". I think this approach is already starting
to kill other computer algebra systems like Maple and Mathematica.

> 
> c) Axiom's graphics need to be able to handle more general types
>    of graphs like Cayley graphs or Thompson graphs of a group.
>    We'd like to be able to do this for our encryption research at
>    CAISS.
> 
> d) Axiom's graphs should at least be self-referential. That is,
>    they should be able to support the kind of graphs we need like
>    graphs of the algebra hierarchy. This would be useful for network
>    flows, embedding trees in graphs, etc.

This seems like it is confusing general graphics with plotting
functions. Yes I agree they are related, but trying to do this
in an "all-in-one" approach seems wrong to me. Instead we should
be making use of other tools by integrating them with Axiom
where licensing conditions allow.

> 
> e) Axiom should be able to get direct input from the graphs by
>    allowing  the user to construct graphs in various ways. For
>    instance you could allow the user to construct feynman graphs
>    and write the equations from the graphs (each graph is a term
>    in the equation). Or use an edge-finding algorithm to find the
>    edge of a strangely shaped object and then integrate to get
>    the volume.

For the visualization part, Asymptote seems like a good tool
to me.

> 
> f) Done correctly the graphs should share data structures and 
>    memory with the algebra. Thus you should be able to create
>    data structures of many kinds in Axiom (which you can) and
>    have an isomorphic mapping of the data structure and the graph.
>    Thus manipulations of the graph become manipulations of the
>    data structure and data structure manipulations are reflected
>    in a modified graph.

Of course there is no problem with this in principle, all it
takes is some Axiom programming. This sort of integration of data
structures and algebra is already part of the basic design of
Axiom.

> 
>    This would allow interactive algorithms for more experimental
>    mathematics where you could display results, let the user use
>    their intuition to guide the program by manipulating the graph,
>    and continuing the computation. For instance, you could guide a
>    root-finding algorithm in many dimensions by using visual cues
>    to find intervals that contain points of intersections.  You
>    could see floating-point polynomial fitting tubes wrapped around
>    a curve and find points where the floating point values were
>    unstable. You could see the branch cuts in function terms of an
>    equation and dynamically choose the cuts which overlap in the
>    result.
> 
> In short, graphics needs to be more tightly integrated not less.

I don't see any conflict between these goals and integrating other
software.

> 
> On the practical, near-term front I've got to get graphics (and
> hypertex) running on windows. To that end I'm rewriting the C code
> into common lisp and using TK as the front-end. This will make the
> graphics instantly portable and much more maintainable. But the
> long term effect will be that the graphics code is written in the
> same language and can be run in the same image as the algebra.

Well you are the lisp programmer, Tim, but this sort of re-writing
of existing code seems like the wrong choice for a "near-term"
solution. Is it really practical for one person to do this sort
of conversion from C to lisp? Realistically, how many lines of
code are we talking about? How many graphics primitives will
need to be translated? Etc. etc. :(

\start
Date: Thu, 20 Jan 2005 11:50:24 -0500
From: Bill Page
To: Pierre Doucy
Subject: RE: touchgraph, hypertex, hypergraph

On Thursday, January 20, 2005 5:04 AM Pierre Doucy wrote:
>
> I'm not sure I fully understand what you what to do w/ graphs and
> if you really need the "click somewhere to move the graph", but
> here we go
>
> > There is another project called HyperGraph that is quite similar
> > to TouchGraph but uses a hyperbolic layout. See
> >
> > [...]
>
> Graphviz ( http://www.graphviz.org/ ) might help too. I won't give
> you a java applet, but just any graphic file format (PDF, PS, JPG,
> ...), and is available both from a standalone command-line program,
> or through a programmatic interface.

Yes, we experimented with graphviz earlier in this project. See the
axiom-developer archives:

http://lists.gnu.org/archive/cgi-bin/namazu.cgi?query=graphviz&submit==
Search
%21&idxname=axiom-developer&max=10&result=normal&sort=date%3Alate=


Basically it has similar problems as hypergraph when dealing with
very large graphs. Also it is strictly speaking not open source
software, so that was a bit discouraging.

>
> >
> > But when I gave it the full 1300 node graph, what it drew was
> > a graph so dense that all the edges overlapped into something
> > that looked just like a big ball of wool and the program took
> > a very long time to redraw the graph if you even touched it
> > anywhere [...]
>
> Depending on the complexity of your graph, graphviz is able to draw
> huge graphs without too much pain, and the layout is generally very
> readable.
>

You are very welcome to try this again. I can provide you will a file
in graphviz format that contains Axiom's algebra dependencies.

> >
> >
> > Clearly in order to draw the Axiom algebra graph, we are going
> > to have to do it in some hierarchical manner but hopefully one
> > that can be computed from the structure of the graph - not
> > imposed manually like the current layers in the Axiom makefiles.
> > Some day real soon now I hope to find a source for some cookbook
> > graph theory programs what can manipulate graphs of this size,
> > find strongly connected component, prune redundant edges, etc.
>
> There's a (C++) library - boost (www.boost.org,
> http://www.boost.org/libs/graph/doc/table_of_contents.html), which
> is a generic programming library, allowing you to represent a
> graph in any manner (adjacency lists, adjacency matrix,...) , and
> provides some basic algorithms. The paradigm behind boost - generic
> programming - is somewhat weird, but it actually allows great
> flexibility. I used it in a project related to random graphs/social
> networks. If I remember well, someone I used to work with (and who
> reads this list) implemented the algorithm to find strongly connected
> components. Besides, it integrates with graphviz, in the sense that
> you can import and export from the graphviz format to boost (see
> http://www.boost.org/libs/graph/doc/write-graphviz.html,
> http://www.boost.org/libs/graph/doc/read-graphviz.html )
>
> Hope that helps...
>

Great. The Boost Graph Library looks quite complete. Thank you for
the reference. Would you or anyone else here be interested in
helping me get started with this, say finding the strongly connected
components in the Axiom algebra dependency graph? Can someone sketch
what would have to be done, e.g. starting like this:

  1) download the boost distribution from here
     http://sourceforge.net/project/showfiles.php?group_id=7586

  2) convert the Axiom algebra dependency graph to format X?

  3) run program Y? to load the graph

  4) run program Z? to list the strongly connected components.

\start
Date: Thu, 20 Jan 2005 12:01:25 -0500
From: Bill Page
To: Cliff Yapp, Tim Daly, Jason White
Subject: RE: Graphics and Axiom (was Re: touchgraph, hypertex, hypergraph)

On Thursday, January 20, 2005 9:56 AM C Y wrote:
> ... 
> Just curious - are long term graphics discussions planned as
> part of the Axiom conference, or is that too far down the road
> as yet? 

I think the proposed "spring" before the main Axiom meeting in
April would be great time to discuss Axiom graphics and even
to demonstrate some things and experiment with others.

> Tim Daly wrote: 
> > c) Axiom's graphics need to be able to handle more general types
> >    of graphs like Cayley graphs or Thompson graphs of a group. 
> >    We'd like to be able to do this for our encryption research at
> >    CAISS.
> 
> One type of program I've wondered about is Pigale 
> http://pigale.sf.net 
> I'm not up on the theory of what it's trying to do, but it has
> always impressed me as an interesting program.  There was some talk
> a while back about adding some abilities into Maxima to work with
> it, but nothing came of it at that time.  I wonder if Axiom would
> be a good match for it.

Another excellent reference! Thanks. Man, we have so much wonderful
open source software available now and so little TIME ... :O) I don't
see that there is any other option than to find ways to integrate many
of these tools into an environment what makes them easier to use and
reduces the amount one needs to learn just to get started. Providing
a web interface like MathAction has to Axiom is one possible way.

\start
Date: Thu, 20 Jan 2005 11:57:58 -0600
From: MathAction (anonimo)
To: MathAction
Subject: [AxiomInterface] 

\begin{axiom}
integrate(x,x)
\end{axiom}

\start
Date: Thu, 20 Jan 2005 13:15:11 -0500
From: Bill Page
To: list
Subject: RE: Graphics and Axiom (was Re: touchgraph, hypertex,	hypergraph)

On Thursday, January 20, 2005 12:01 PM my spellchecker wrote:
> 
> I think the proposed "spring" before the main Axiom meeting in
> April would be great time to discuss Axiom graphics and even
> to demonstrate some things and experiment with others.
> 

Make that:

I think the proposed "sprint" before the main Axiom meeting in
April would be great time to discuss Axiom graphics and even
to demonstrate some things and experiment with others.

http://plone.org/events/sprints/whatis

explains that "A sprint is a three to five day focused development
session, in which developers pair in a room and focus on building
a particular subsystem ..."

This seems to have worked very well for the development of Plone.
We don't have the luxury of "three to five days", but I think
we can get some useful things started even in just one day. So
it could be a kind of Axiom mini-sprint - a 100 meter dash
so-to-speak.

\start
Date: Thu, 20 Jan 2005 11:13:03 -0800 (PST)
From: Cliff Yapp
To: Bill Page
Subject: RE: Graphics and Axiom

You're gonna hate me for this Bill, but here are some other interesting
toys: 

http://telgarsky.com/matusacode/cug.html - Yes the fog is cheezy, but I
wonder if it might not be used to represent probability clouds for
electron orbitals or some such...
http://labplot.sourceforge.net/index.html
http://www.chaosreigns.com/code/springgraph/
http://www.tulip-software.org/
http://www.jcoppens.com/soft/linsmith/index.en.php
http://surf.sourceforge.net/
http://perso.wanadoo.fr/obrecht/
http://www.cmap.polytechnique.fr/~jouve/xd3d/
http://beam.helsinki.fi/~frantz/software/g3data.php
http://tacal.apinc.org/english_index.html
http://salstat.sourceforge.net/
http://vis5d.sourceforge.net/

\start
Date: Thu, 20 Jan 2005 15:23:45 -0500
From: Tim Daly
To: Bill Page
Subject: simplified makefile fails

> Note that there is a tiny bug in Tex too -- in axioms domain, of course:
> 
> \begin{axiom}
>   product(product(i*j, i=a..b),j=c..d)
> \end{axiom}
> 
> The offending code is in tex.spad, here is a patch::
> 
>   --- tex.spad    2005-01-03 18:14:33.000000000 +0100
>   +++ /home/rubey/martin/Axiom/tex.spad   2005-01-20 15:35:45.000000000 +0100
>   @@ -144,8 +144,8 @@
>                 0,  0,   0]$(L I)
>        naryNGOps     : L S := ["ROW","&"]$(L S)
>   
>   -    plexOps       : L S := ["SIGMA","SIGMA2","PI","INTSIGN","INDEFINTEGRAL"]$(L S)
>   -    plexPrecs     : L I := [    700, 800,      700,            700]$(L I)
>   +    plexOps       : L S := ["SIGMA","SIGMA2","PI","PI2", "INTSIGN","INDEFINTEGRAL"]$(L S)
>   +    plexPrecs     : L I := [    700, 800,    700, 800,           700]$(L I)
>   
>        specialOps    : L S := ["MATRIX","BRACKET","BRACE","CONCATB","VCONCAT",  _
>                                "AGGLST","CONCAT","OVERBAR","ROOT","SUB","TAG", _
>   @@ -456,8 +456,9 @@
>          (n ^= 2) and (n ^= 3) => error "wrong number of arguments for plex"
>          s : S :=
>            op = "SIGMA"   => "\sum"
>   -        op = "SIGMA2"   => "\sum"
>   +        op = "SIGMA2"  => "\sum"
>            op = "PI"      => "\prod"
>   +        op = "PI2"     => "\prod"
>            op = "INTSIGN" => "\int"
>            op = "INDEFINTEGRAL" => "\int"
>            "????"
> 
> 
> Tex transforms OutputForm to TeX, so it translates literally. OutputForm displays "PI2" as a definite products, so we have to add it here, analogously to "SIGMA2".
> 
> Note however, that I don't really understand plexPrecs, so I'm not sure what's the correct value there...
> 

This is fixed in the February build.
Note that plexPrecs is a list of lexical precedent values.
Of course there is no documentation to capture the meaning of '700'.

\start
Date: Thu, 20 Jan 2005 13:44:32 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#8 (Savannah bug #9297) output misses some parenthesis] fixed in February build

Status: open => closed 

\start
Date: Thu, 20 Jan 2005 15:12:53 -0500
From: Tim Daly
To: Bill Page
Subject: simplified makefile fails

Bill,

I'm going to have to back out the changes for the "simplified"
makefile. The change is failing and I don't understand why.

It appears, from the line:
===========================================================================
Cannot open the file /home/axiom--main--1--patch-26/int/algebra/drwxr-xr-x    2 root         4096 Jan 19 14:31 ZMOD.NRLIB/index.KAF.
===========================================================================

that 'make' is expanding the 

${INT}/algebra/*.NRLIB/code.o 

constraint to include the long directory listing. Notice that it 
includes the permission bits, time stamp, etc. 

How can this be?

=============================================================================
37 making /home/axiom--main--1--patch-26/src/etc
make[3]: Entering directory `/home/axiom--main--1--patch-26/src/etc'
4 rebuilding databases...
(cd /home/axiom--main--1--patch-26/int/algebra ; \
           echo  ; \
           echo ')lisp (make-databases "" nil)' | /home/axiom--main--1--patch-26/obj/linux/bin/interpsys )

                        AXIOM Computer Algebra System 
                   Version: Axiom 3.0 Beta (February 2005)
              Timestamp: Thursday January 20, 2005 at 13:10:38 
-----------------------------------------------------------------------------
   Issue )copyright to view copyright notices.
   Issue )summary for a summary of useful system commands.
   Issue )quit to leave AXIOM and return to shell.
-----------------------------------------------------------------------------
 
   Using local database /home/axiom--main--1--patch-26/src/share/algebra/compress.daase..   Using local database /home/axiom--main--1--patch-26/src/share/algebra/interp.daase..
   Using local database /home/axiom--main--1--patch-26/src/share/algebra/operation.daase..
   Using local database /home/axiom--main--1--patch-26/src/share/algebra/category.daase..
   Using local database /home/axiom--main--1--patch-26/src/share/algebra/browse.daase..

"running /root/.axiom.input"
Value = NIL
Value = NIL
(1) -> 
Error: Cannot open the file /home/axiom--main--1--patch-26/int/algebra/drwxr-xr-x    2 root         4096 Jan 19 14:31 ZMOD.NRLIB/index.KAF.
Fast links are on: do (si::use-fast-links nil) for debugging
Error signalled by RESTART.
Broken at APPLY.  Type :H for Help.
BOOT>>make[3]: *** [/home/axiom--main--1--patch-26/mnt/linux/algebra/browse.daase] Error 255

\start
Date: Thu, 20 Jan 2005 15:30:08 -0500
From: Tim Daly
To: Pierre Doucy, Charles Miller
Subject: Re: MacOS X development

> I have had the occasion to try Axiom, and liked it a lot, making it a
> viable replacement for mathematica as for as I'm concerned. The only
> thing is that I have a Mac (and no PC) so I can't use it by now.
> Having some programming skills, and probably some time to give in the
> new couple of months, I'd like to contribute to the project, and
> especially the MacOS X port.
> I have seen the MACOSX branch, but there doesn't seem to be any work
> done on it. Are there any people already working on this, having
> identified the main problems, or am I on my own ?
> More clearly : how can I be useful ?
> 
> Pierre
 
 
I suggest you contact Chuck Miller who is trying to port Axiom to
the MAC. His userid is Charles Miller

I, unfortunately, have little experience with code development
on a MAC whereas Chuck does.

If you follow the instructions at the bottom of the page
http://arch.axiom-developer.org
on getting read/write access you can send me your key
and I'll set you up so you can make changes.

\start
Date: Thu, 20 Jan 2005 15:34:44 -0500
From: Tim Daly
To: list, axiom-math@nongnu.org
Subject: [Matt Kaufmann: TPHOLs 2005 2nd Call for Papers]

fyi.....


------- Start of forwarded message -------

            ********************************************
            *               TPHOLs 2005                *
            *                                          *
            *  Theorem Proving in Higher Order Logics  *
            *                                          *
            *           2nd Call for Papers            *
            ********************************************

TPHOLs 2005
Oxford, UK
22-25 August 2005
http://web.comlab.ox.ac.uk/TPHOLs2005/

SECOND CALL FOR PAPERS

TOPICS

The program committee welcomes submissions on all aspects of theorem
proving in higher order logics, on related topics in theorem proving
and verification, and on relevant applications. The topics include,
but are not limited to, the following:

 * Specification and verification of hardware: microprocessors, memory
   systems, buses, pipelines, etc; formal semantics of hardware design
   languages; synthesis; formal design flows.

 * Specification and verification of software: program verification,
   refinement, and synthesis for functional, declarative and
   imperative languages; formal semantics of programming languages;
   proof carrying code.

 * Industrial application of theorem provers.

 * Formalization of mathematical theories.

 * Advances in theorem prover technology: proof automation and
   decision procedures, induction, combination of deductive and
   algorithmic approaches, incorporation of theorem provers into
   larger systems, combination of theorem provers with other provers
   and tools.

 * Other topics, including: security algorithms, properties, and
   policies; specification and requirements analysis of systems; user
   interfaces for theorem provers; development and extension of higher
   order logics.

 * Proof Pearls: concise and elegant presentations of interesting
   examples.

Relevant research involving interactive first-order systems, such as
ACL2 and Mizar, is also welcome. All authors are reminded that their
work should be presented in a way that users of other systems can
understand.

SUBMISSIONS

Submissions are invited in the following categories: Mature Work and
Emerging Trends.

                          Mature Work               Emerging Trends
Submission deadline       Friday 18 February 2005   Friday 27 May 2005
Acceptance notification   Friday 15 April 2005      Friday 13 June 2005
Camera-ready copy due     Friday 13 May 2005        Friday 15 July 2005

Submissions under Mature Work will be fully refereed, and the accepted
papers will be published in a volume of Springer's Lecture Notes in
Computer Science series, which will be available at the conference.
Authors of accepted papers are expected to present their work at the
conference.

Submissions under Emerging Trends will not be formally refereed, but
their content and relevance will be reviewed. Those submissions
accepted will be published in a University of Oxford technical report,
which will be available at the conference. Authors of accepted papers
are expected to present a brief outline of their work at the
conference and to prepare a poster for display at the conference
venue. Unless otherwise requested, submissions rejected under Mature
Work will also be considered for inclusion under Emerging Trends.

Papers should be no more than 16 pages in length and should be written
using LaTeX2e and the LNCS style file. Instructions on how to submit
papers will be made available on the conference web site. For all
enquiries concerning the conference, please use the email address
tphols2005@comlab.ox.ac.uk

PROGRAM COMMITTEE

Mark Aagaard (Waterloo)
Clark Barrett (NYU)
David Basin (ETH Zurich)
Yves Bertot (INRIA)
Ching-Tsun Chou (Intel)
Thierry Coquand (Chalmers)
Amy Felty (Ottawa)
Jean-Christophe Filliatre (Paris Sud)
Jacques Fleuriot (Edinburgh)
Jim Grundy (Intel)
Elsa Gunter (UIUC)
John Harrison (Intel)
Jason Hickey (Caltech)
Peter Homeier (US DoD)
Joe Hurd (Oxford) (PC Chair)
Paul Jackson (Edinburgh)
Thomas Kropf (Tubingen & Bosch)
Pete Manolios (Georgia Tech)
John Matthews (Galois)
Cesar Munoz (National Institute of Aerospace)
Tobias Nipkow (Muenchen)
Sam Owre (SRI)
Christine Paulin-Mohring (Paris Sud)
Lawrence Paulson (Cambridge)
Frank Pfenning (CMU)
Konrad Slind (Utah)
Sofiene Tahar (Concordia)
Burkhart Wolff (ETH Zurich)
- ------- End of forwarded message -------

\start
Date: Thu, 20 Jan 2005 16:01:39 -0500
From: Tim Daly
To: Bill Page
Subject: Re: Graphics and Axiom (was Re: touchgraph, hypertex, hypergraph)

The sprint day on April 21 and the Axiom conference on April 22
at City College of New York will be days when we can discuss the
future directions of Axiom and even lay out a plan of sorts.
Bring your wish list and a burning need to program.

\start
Date: Thu, 20 Jan 2005 21:40:26 -0500
From: Bill Page
To: list
Subject: RE: [#8 (Savannah bug #9297) output misses some parenthesis] fixed in February build

I don't understand what you are doing here. It doesn't make
sense to close this bug. The patch that Martin is proposing
is not general enough. We have discussed this previously on
this list. There is more wrong here than just parenthesis
and LaTex.

Bill Page.

> -----Original Message-----
>
> Status: open => closed

> -----Original Message-----
>
> > Note that there is a tiny bug in Tex too -- in axioms
> domain, of course:
> >
> > \begin{axiom}
> >   product(product(i*j, i=a..b),j=c..d)
> > \end{axiom}
> >
> > The offending code is in tex.spad, here is a patch::
> >
> >   --- tex.spad    2005-01-03 18:14:33.000000000 +0100
> >   +++ /home/rubey/martin/Axiom/tex.spad   2005-01-20
> 15:35:45.000000000 +0100
> >   @@ -144,8 +144,8 @@
> >                 0,  0,   0]$(L I)
> >        naryNGOps     : L S := ["ROW","&"]$(L S)
> >  
> >   -    plexOps       : L S :=
> ["SIGMA","SIGMA2","PI","INTSIGN","INDEFINTEGRAL"]$(L S)
> >   -    plexPrecs     : L I := [    700, 800,      700,     
>       700]$(L I)
> >   +    plexOps       : L S := ["SIGMA","SIGMA2","PI","PI2",
> "INTSIGN","INDEFINTEGRAL"]$(L S)
> >   +    plexPrecs     : L I := [    700, 800,    700, 800,  
>         700]$(L I)
> >  
> >        specialOps    : L S :=
> ["MATRIX","BRACKET","BRACE","CONCATB","VCONCAT",  _
> >                               
> "AGGLST","CONCAT","OVERBAR","ROOT","SUB","TAG", _
> >   @@ -456,8 +456,9 @@
> >          (n ^= 2) and (n ^= 3) => error "wrong number of
> arguments for plex"
> >          s : S :=
> >            op = "SIGMA"   => "\sum"
> >   -        op = "SIGMA2"   => "\sum"
> >   +        op = "SIGMA2"  => "\sum"
> >            op = "PI"      => "\prod"
> >   +        op = "PI2"     => "\prod"
> >            op = "INTSIGN" => "\int"
> >            op = "INDEFINTEGRAL" => "\int"
> >            "????"
> >
> >
> > Tex transforms OutputForm to TeX, so it translates
> literally. OutputForm displays "PI2" as a definite products,
> so we have to add it here, analogously to "SIGMA2".
> >
> > Note however, that I don't really understand plexPrecs, so
> I'm not sure what's the correct value there...
> >
>
> This is fixed in the February build.
> Note that plexPrecs is a list of lexical precedent values.
> Of course there is no documentation to capture the meaning of '700'.

\start
Date: Thu, 20 Jan 2005 22:08:22 -0500
From: Bill Page
To: Tim Daly
Subject: RE: [#8 (Savannah bug #9297) output misses some parenthesis] fixed in February build

On Thursday, January 20, 2005 10:33 PM you wrote:
> 
> ok. perhaps i missed it.
> please reopen it and, if you can, give an input that fails
> so i can test it later.
> 

This issue is the first of the 4 patches previously submitted
by Martin to Savannah that I did not include in my December
changes to axiom--windows--1. In all, Martin submitted 8 patches.
I implemented 4 of them and you transferred these to axiom--main--1
when you did the merge from axiom--windows--1. But there were 4
more that I have not implemented because in my opinion there has
not been enough analysis of their impact. I think that the proposed
patches are "quick fixes" that are not sufficiently general.

I suppose we should have input files for all of the reported
bugs. Besides these 4 patches (which have corresponding bug
reports on Savannah) there are about 10 more bug reports on
Savannah that do not yet have patches. But transferring these
to issuetracker and making up input files etc. is going to
take some time.

In the case of this particular issue, the "input file" is
already present right in the bug report itself. It contains
some

\begin{axiom}
...
\end{axiom}

commands that illustrate the problem.

\start
Date: Thu, 20 Jan 2005 21:58:16 -0500
From: Bill Page
To: Tim Daly
Subject: RE: simplified makefile fails

On Thursday, January 20, 2005 3:13 PM you wrote:

> I'm going to have to back out the changes for the "simplified"
> makefile. The change is failing and I don't understand why.

This is not a problem with the implicit `make' stanza's. The
error:

"Cannot open the file
/home/axiom--main--1--patch-26/int/algebra/drwxr-xr-"

is apparently being generated by the make-databases function. Since
ZMOD is near the end of the list of object files that are being
loaded, it looks like some kind of memory management problem.

> 
> It appears, from the line:
> ==============================================================
> =============
> Cannot open the file 
> /home/axiom--main--1--patch-26/int/algebra/drwxr-xr-x    2 
> root         4096 Jan 19 14:31 ZMOD.NRLIB/index.KAF.
> ==============================================================
> =============
> 
> that 'make' is expanding the 
> 
> ${INT}/algebra/*.NRLIB/code.o 
> 
> constraint to include the long directory listing. Notice that it 
> includes the permission bits, time stamp, etc. 
> 
> How can this be?

No `make' is not doing this. Your analysis is not correct.

This is not coming from the the wild-card expansion. This list
is not passed to the commands of this stanza. It is somehow
being generated in the make-databases program.

Is there anything "funny" in your .axiom.input file? I don't
recall seeing this message in the log before.

> "running /root/.axiom.input"

I am building the new axiom--main--1 right now on my debian
system, but it hasn't got to the build databases yet. I will
let you know if I get this same error.

Regards,
Bill Page.


> 
> ==============================================================
> ===============
> 37 making /home/axiom--main--1--patch-26/src/etc
> make[3]: Entering directory `/home/axiom--main--1--patch-26/src/etc'
> 4 rebuilding databases...
> (cd /home/axiom--main--1--patch-26/int/algebra ; \
>            echo  ; \
>            echo ')lisp (make-databases "" nil)' | 
> /home/axiom--main--1--patch-26/obj/linux/bin/interpsys )
> 
>                         AXIOM Computer Algebra System 
>                    Version: Axiom 3.0 Beta (February 2005)
>               Timestamp: Thursday January 20, 2005 at 13:10:38 
> --------------------------------------------------------------
> ---------------
>    Issue )copyright to view copyright notices.
>    Issue )summary for a summary of useful system commands.
>    Issue )quit to leave AXIOM and return to shell.
> --------------------------------------------------------------
> ---------------
>  
>    Using local database 
> /home/axiom--main--1--patch-26/src/share/algebra/compress.daas
> e..   Using local database 
> /home/axiom--main--1--patch-26/src/share/algebra/interp.daase..
>    Using local database 
> /home/axiom--main--1--patch-26/src/share/algebra/operation.daase..
>    Using local database 
> /home/axiom--main--1--patch-26/src/share/algebra/category.daase..
>    Using local database 
> /home/axiom--main--1--patch-26/src/share/algebra/browse.daase..
> 
> "running /root/.axiom.input"
> Value = NIL
> Value = NIL
> (1) -> 
> Error: Cannot open the file 
> /home/axiom--main--1--patch-26/int/algebra/drwxr-xr-x    2 
> root         4096 Jan 19 14:31 ZMOD.NRLIB/index.KAF.
> Fast links are on: do (si::use-fast-links nil) for debugging
> Error signalled by RESTART.
> Broken at APPLY.  Type :H for Help.
> BOOT>>make[3]: *** 
> [/home/axiom--main--1--patch-26/mnt/linux/algebra/browse.daase
> ] Error 255

\start
Date: Thu, 20 Jan 2005 22:32:47 -0500
From: Tim Daly
To: Bill Page
Subject: Re: [#8 (Savannah bug #9297) output misses some parenthesis] fixed in February build

ok. perhaps i missed it.
please reopen it and, if you can, give an input that fails
so i can test it later.

\start
Date: Thu, 20 Jan 2005 22:26:07 -0500
From: Bill Page
To: Tim Daly
Subject: RE: [#8 (Savannah bug #9297) output misses some parenthesis] fixed in February build

On Thursday, January 20, 2005 10:33 PM you wrote:

> please reopen it and, if you can, give an input that fails
> so i can test it later.

Instead of changing the status to `closed' when you include
the patch relating to an issue in a new release, I think we
should use the state `pending'. I have changed the wording of
this status to `pending (next release)' to make it's meaning
more clear.

I think having a list of `pending' issues will be convenient
since it will make it possible to easily locate those issues
that are being addressed in the next release.

After the release containing the fix becomes available (and
provided there are no further reports of problems) then the
status should be changed from `pending' to `closed'.

\start
Date: Thu, 20 Jan 2005 21:18:29 -0600
From: MathAction (billpage)
To: MathAction
Subject: [#8 (Savannah bug #9297) output misses some parenthesis] Only the patch for the TeX coding will be in next release

Status: closed => open 

\start
Date: Thu, 20 Jan 2005 23:56:58 -0500
From: Tim Daly
To: Bill Page
Subject: Re: [#8 (Savannah bug #9297) output misses some parenthesis] fixed in February build

re: pending. ok

\start
Date: Thu, 20 Jan 2005 23:17:08 -0500
From: Bill Page
To: Tim Daly
Subject: GCL 2.6.6 and Axiom

Have you built Axiom with the new GCL 2.6.6 yet? As I understand
it GCL 2.6.6 includes the patches to GCL 2.6.5 that were needed
for building Axiom on Windows plus a few other pending errata
patches. So in principle the unmodified GCL 2.6.6 should build
Axiom on both linux and Windows.

I just tried this with the axiom--windows--1 sources modfied to
include the zips/GCL-2.6.6.tgz tarball and new lsp/Makefile.pamphlet
stanzas. Everything looked pretty good until I got a "memory may
be damaged" error during the first spad compile. I am going to try
this one more time, first building with the old GCLVERSION=gcl-2.6.5w
(GCL-2.6.5 with windows specific patches) to make sure everything
is ok and then changing the GCLVERSION=gcl-2.6.6 again and see if
it fails at the same point. If it does fail I will Cc a more
detailed report to gcl-devel and Camm.

\start
Date: Thu, 20 Jan 2005 23:39:21 -0500
From: Tim Daly
To: Bill Page
Subject: Re: simplified makefile fails

I'm rebuilding the system from scratch with a clean copy.
I was working in a shell and creating a lot of random shell
variables. It is possible I stepped on something that Make
uses internally that has some special meaning. I'll let you
know if it finishes.

Actually, though, that might not be a sufficient test. The
system did build all the way thru the first time. I was working
in the newly built system, making changes to the algebra for
Martin's bug fixes, and typing 'make' to update the system
without rebuilding. That's the first time this has happened.
All of the "build from scratch" builds have always worked.

\start
Date: Thu, 20 Jan 2005 23:21:54 -0500
From: Bill Page
To: Tim Daly
Subject: RE: simplified makefile fails

On Thursday, January 20, 2005 11:39 PM you wrote:
> 
> I'm rebuilding the system from scratch with a clean copy.
> I was working in a shell and creating a lot of random shell
> variables. It is possible I stepped on something that Make
> uses internally that has some special meaning. I'll let you
> know if it finishes.

Ok. But as far as I tell, the problem did not occur in Make.
Your log output shows that it was already in interpsys building
the databases when the error occurred.

> 
> Actually, though, that might not be a sufficient test. The
> system did build all the way thru the first time. I was working
> in the newly built system, making changes to the algebra for
> Martin's bug fixes, and typing 'make' to update the system
> without rebuilding. That's the first time this has happened.
> All of the "build from scratch" builds have always worked.
> 

I have had no problem making changes and repeating 'make' on
Windows. In fact, that is what the fixedPoint build does
several times in a row.

\start
Date: Fri, 21 Jan 2005 00:13:47 -0500
From: Tim Daly
To: Bill Page
Subject: Re: GCL 2.6.6 and Axiom

nope. haven't gotten to 2.6.6 yet. still trying to clean up the system
as we have only 9 more days left. 

the browser database is a train wreck.
i want to get some known bugs fixed. 
i'm trying to get IssueTracker firmly implanted in everyone's work habits.
i'm collecting emails that are informative and adding them to the books.
they need to be written into real examples and properly wordsmithed.

In march we need to
  move to 2.6.6 
  finalize the fixed-point issue fix
  make the linux+windows+solaris merged version
  package the windows version for user vs developer
  have more bug fixes
  have the tutorial volume polished
  make progress on the other 3 volumes (programming, reference, developer)

\start
Date: Thu, 20 Jan 2005 23:43:17 -0500
From: Bill Page
To: Tim Daly
Subject: RE: GCL 2.6.6 and Axiom

Tim,

I hear you... It is good to have a plan :)

On Friday, January 21, 2005 12:14 AM Tim Daly wrote:
> 
> nope. haven't gotten to 2.6.6 yet. still trying to clean
> up the system as we have only 9 more days left. 
> 
> the browser database is a train wreck.
> i want to get some known bugs fixed. 
> i'm trying to get IssueTracker firmly implanted in everyone's 
> work habits.
> i'm collecting emails that are informative and adding them to 
> the books.
> they need to be written into real examples and properly wordsmithed.
> 
> In march we need to
>   move to 2.6.6 
>   finalize the fixed-point issue fix
>   make the linux+windows+solaris merged version
>   package the windows version for user vs developer
>   have more bug fixes
>   have the tutorial volume polished
>   make progress on the other 3 volumes (programming, 
>   reference, developer)

\start
Date: Fri, 21 Jan 2005 00:28:09 -0500
From: Tim Daly
To: Mike Dewar
Subject: .pht files

What is a .pht file? How is it supposed to be displayed?
It looks like it was supposed to change other pages after
the fact. Was there ever any documentation on how to write one?

\start
Date: Thu, 20 Jan 2005 22:57:41 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [patch #2074] (new) Bug #4733 (rounding of negative numbers)


This is an automated notification sent by Savannah.
It relates to:
		patch #2074, project Axiom Computer Algebra System

==============================================================================
 LATEST MODIFICATIONS of patch #2074:
==============================================================================

               Posted by: Bill Page <billpage1>
               Posted on: 2005-01-21 04:57 (Canada/Eastern)
    _______________________________________________________

                  Status:                    None -> Applied                


==============================================================================
 OVERVIEW of patch #2074:
==============================================================================

URL:
  <http://savannah.nongnu.org/patch/?func=detailitem&item_id74>

                 Summary: Bug #4733 (rounding of negative numbers)
                 Project: Axiom Computer Algebra System
            Submitted by: billpage1
            Submitted on: Wed 10/15/2003 at 04:07
                Category: None
                Priority: 5 - Normal
                  Status: Applied
                 Privacy: Public
             Assigned to: billpage1
        Originator Email: 
             Open/Closed: Open

    _______________________________________________________


Just adding Dylan's name, since he did most of the analysis work ...

    _______________________________________________________

Follow-up Comments:


-------------------------------------------------------
Date: Sat 10/18/2003 at 15:35       By: Dylan Thurston <dpt>
I think this patch could be improved: the definition of shift2 could be
modified to not do multiplications (and so presumably be faster).

I also wonder how much the original authors worried about rounding behaviour
in some of these calls.

In the function 'normalize', for instance, the old semantics gave 'round
towards 0' behaviour; using the new semantics of shift, it would be easy to
give 'round towards -infinity' behaviour.  But both are wrong: the right
method for normalizing floating point numbers, to avoid accumulation of
errors, is 'round towards even'.







    _______________________________________________________

File Attachments:


-------------------------------------------------------
Date: Wed 10/15/2003 at 04:07  Name: patch_item_2074.patch  Size: 5.37KB  
By: billpage1
patch item 2074
<http://savannah.nongnu.org/patch/download.php?item_id74&item_file_id73>

==============================================================================

This item URL is:
  <http://savannah.nongnu.org/patch/?func=detailitem&item_id74>

\start
Date: Thu, 20 Jan 2005 23:19:59 -0600
From: MathAction (billpage)
To: MathAction
Subject: [#43 when is broken] 

++added:
Originally Savannah bug #6490

\start
Date: Thu, 20 Jan 2005 23:06:26 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#43 when is broken] (new) 

The NAG interpreter and the Axiom interpreter do not
accept the when and otherwise verbs when defining
piecewise functions.

There are no library operations named 'when'

\begin{axiom}
ch : Integer -> UnivariatePolynomial(x,FRAC(INT))
ch(0) == 1
ch(1) == x
ch(n) == 2 * x * ch(n-1) - ch(n-2) when n > 1
ch(2)
\end{axiom}

The parser is broken

\start
Date: Thu, 20 Jan 2005 23:24:40 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [bugs #6490] (new) when is broken


This is an automated notification sent by Savannah.
It relates to:
		bugs #6490, project Axiom Computer Algebra System

==============================================================================
 LATEST MODIFICATIONS of bugs #6490:
==============================================================================

               Posted by: Bill Page <billpage1>
               Posted on: 2005-01-21 05:24 (Canada/Eastern)
    _______________________________________________________

                  Status:                    None -> transferred            


==============================================================================
 OVERVIEW of bugs #6490:
==============================================================================

URL:
  <http://savannah.nongnu.org/bugs/?func=detailitem&item_id=6490>

                 Summary: when is broken
                 Project: Axiom Computer Algebra System
            Submitted by: axiom
            Submitted on: Wed 11/12/2003 at 03:36
                Category: interpreter
                Severity: 5 - Average
              Item Group: code bug
                  Status: transferred
                 Privacy: Public
             Assigned to: axiom
         Originator Name: Tim Daly
        Originator Email: Tim Daly
             Open/Closed: Open
                 Release: 20031110
         Reproducibility: None
           Fixed Release: 
           Error message: There are no library operations named when
Example of code trigerring the bug: ch : Integer ->
UnivariatePolynomial(x,FRAC(INT))
ch(0) == 1
ch(1) == x
ch(n) == 2 * x * ch(n-1) - ch(n-2) when n > 1
ch(2)
          Internal cause: The parser is broken

    _______________________________________________________


The NAG interpreter and the Axiom interpreter do not
accept the when and otherwise verbs when defining
piecewise functions.

\start
Date: Thu, 20 Jan 2005 23:27:24 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [bugs #7585] (new) The current free Axiom has no complete documentation


This is an automated notification sent by Savannah.
It relates to:
		bugs #7585, project Axiom Computer Algebra System

==============================================================================
 OVERVIEW of bugs #7585:
==============================================================================

URL:
  <http://savannah.nongnu.org/bugs/?func=detailitem&item_id=7585>

                 Summary: The current free Axiom has no complete
documentation
                 Project: Axiom Computer Algebra System
            Submitted by: dmentre
            Submitted on: Wed 02/04/2004 at 18:13
                Category: documentation
                Severity: 9 - Blocker
              Item Group: documentation bug
                  Status: None
                 Privacy: Public
             Assigned to: axiom
         Originator Name: David MENTRE
        Originator Email: David Mentre
             Open/Closed: Open
                 Release: 2004-02-04
         Reproducibility: None
           Fixed Release: 
           Error message: 
Example of code trigerring the bug: 
          Internal cause: Tim is overbooked. ;-)


    _______________________________________________________


Most potential user can't use Axiom because of lack of documentation. Having
the Axiom Book freely available would allow us to have our first stable
release.

\start
Date: Thu, 20 Jan 2005 23:27:53 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [bugs #7585] The current free Axiom has no complete documentation


This is an automated notification sent by Savannah.
It relates to:
		bugs #7585, project Axiom Computer Algebra System

==============================================================================
 LATEST MODIFICATIONS of bugs #7585:
==============================================================================

               Posted by: Bill Page <billpage1>
               Posted on: 2005-01-21 05:27 (Canada/Eastern)
    _______________________________________________________

             Open/Closed:                    Open -> Closed                 


==============================================================================
 OVERVIEW of bugs #7585:
==============================================================================

URL:
  <http://savannah.nongnu.org/bugs/?func=detailitem&item_id=7585>

                 Summary: The current free Axiom has no complete
documentation
                 Project: Axiom Computer Algebra System
            Submitted by: dmentre
            Submitted on: Wed 02/04/2004 at 18:13
                Category: documentation
                Severity: 9 - Blocker
              Item Group: documentation bug
                  Status: None
                 Privacy: Public
             Assigned to: axiom
         Originator Name: David MENTRE
        Originator Email: David Mentre
             Open/Closed: Closed
                 Release: 2004-02-04
         Reproducibility: None
           Fixed Release: 
           Error message: 
Example of code trigerring the bug: 
          Internal cause: Tim is overbooked. ;-)


    _______________________________________________________


Most potential user can't use Axiom because of lack of documentation. Having
the Axiom Book freely available would allow us to have our first stable
release.

\start
Date: Thu, 20 Jan 2005 23:42:00 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [bugs #9648] (new) algebra creates the file 'code.lsp', this needs to be renamed before compile


This is an automated notification sent by Savannah.
It relates to:
		bugs #9648, project Axiom Computer Algebra System

==============================================================================
 LATEST MODIFICATIONS of bugs #9648:
==============================================================================

               Posted by: Bill Page <billpage1>
               Posted on: 2005-01-21 05:41 (Canada/Eastern)
    _______________________________________________________

                  Status:                    None -> transferred            


==============================================================================
 OVERVIEW of bugs #9648:
==============================================================================

URL:
  <http://savannah.nongnu.org/bugs/?func=detailitem&item_id=9648>

                 Summary: algebra creates the file 'code.lsp', this needs to
be renamed before compile
                 Project: Axiom Computer Algebra System
            Submitted by: axiom
            Submitted on: Thu 07/15/2004 at 03:13
                Category: build process
                Severity: 3 - Ordinary
              Item Group: feature request
                  Status: transferred
                 Privacy: Public
             Assigned to: axiom
         Originator Name: Tim Daly
        Originator Email: Tim Daly
             Open/Closed: Open
                 Release: current
         Reproducibility: None
           Fixed Release: 
           Error message: 
Example of code trigerring the bug: 
          Internal cause: 

    _______________________________________________________


Greetings!  Just a quick note on an observation I've made in putting
together the latest Debian package.  As you may recall, we are
skipping the database rebuilding step on ia64, alpha, hppa, mips and
mipsel, as we cannot natively relocate objects on these machines yet,
and they therefore use dlopen, which takes up too many file handles in
this step.  Even were this surmounted, another difficulty would arise
-- all the algebra files are compiled with the filename "code.lsp"
before renaming the .o file as appropriate.  This names the lisp
initialization function in each object "init_code", causing a linker
conflict, and results in a failure to find the sought init functions
determined by filename at load time, e.g. init_AHYB, etc.

We do intend to  get native relocation on these machines, but it will
likely take considerable time.  Might it be quicker to rename the
code.lsp before compiling?

\start
Date: Thu, 20 Jan 2005 23:39:44 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [bugs #9582] (new) XSLT style sheet to convert	OpenMath to MathML


This is an automated notification sent by Savannah.
It relates to:
		bugs #9582, project Axiom Computer Algebra System

==============================================================================
 LATEST MODIFICATIONS of bugs #9582:
==============================================================================

               Posted by: Bill Page <billpage1>
               Posted on: 2005-01-21 05:39 (Canada/Eastern)
    _______________________________________________________

                  Status:                    None -> transferred            


==============================================================================
 OVERVIEW of bugs #9582:
==============================================================================

URL:
  <http://savannah.nongnu.org/bugs/?func=detailitem&item_id=9582>

                 Summary: XSLT style sheet to convert OpenMath to MathML
                 Project: Axiom Computer Algebra System
            Submitted by: axiom
            Submitted on: Wed 07/07/2004 at 10:48
                Category: interpreter
                Severity: 3 - Ordinary
              Item Group: feature request
                  Status: transferred
                 Privacy: Public
             Assigned to: axiom
         Originator Name: Jason White
        Originator Email: jasonjwg@pacific.net.au
             Open/Closed: Open
                 Release: current
         Reproducibility: None
           Fixed Release: 
           Error message: 
Example of code trigerring the bug: 
          Internal cause: 

    _______________________________________________________


Bob McElrath writes:
 > 
 > MathML adoption has been glacially slow due to the chicken and egg
 > problem between browsers and page creators.  I encourage the AXIOM
 > project to make use of MathML and help push this!

Axiom includes support for OpenMath (http://www.openmath.org/) but it
isn't clear from the mailing list discussion whether anyone has
managed to get it to work with any of the open-source axiom releases.

At http://www.openmath.org/ there is an XSLT style sheets intended to
transform OpenMath into presentation MathML. This could perhaps be
used to process output from Axiom in the absence of support for
generating presentation MathML directly.

\start
Date: Thu, 20 Jan 2005 23:44:03 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [bugs #6357] (new) sqrt(-1/abs(x))-1/sqrt(-abs(x))=>0


This is an automated notification sent by Savannah.
It relates to:
		bugs #6357, project Axiom Computer Algebra System

==============================================================================
 LATEST MODIFICATIONS of bugs #6357:
==============================================================================

               Posted by: Bill Page <billpage1>
               Posted on: 2005-01-21 05:43 (Canada/Eastern)
    _______________________________________________________

                  Status:                    None -> transferred            


==============================================================================
 OVERVIEW of bugs #6357:
==============================================================================

URL:
  <http://savannah.nongnu.org/bugs/?func=detailitem&item_id=6357>

                 Summary: sqrt(-1/abs(x))-1/sqrt(-abs(x))=>0
                 Project: Axiom Computer Algebra System
            Submitted by: kratt5
            Submitted on: Tue 11/04/2003 at 13:26
                Category: algebra
                Severity: 5 - Average
              Item Group: code bug
                  Status: transferred
                 Privacy: Public
             Assigned to: billpage1
         Originator Name: kratt5
        Originator Email: 
             Open/Closed: Open
                 Release: CVS 3.11.2003
         Reproducibility: None
           Fixed Release: 
           Error message: 
Example of code trigerring the bug: sqrt(-1/abs(x))-1/sqrt(-abs(x))
          Internal cause: 

    _______________________________________________________


should be 2%i/sqrt(x)

    _______________________________________________________

Follow-up Comments:


-------------------------------------------------------
Date: Fri 06/11/2004 at 10:43       By: Martin Rubey <kratt6>
patched by patch #3089

-------------------------------------------------------
Date: Tue 11/04/2003 at 14:43       By: Martin Rubey <kratt5>
The error occurs, because

sqrt(1/x::Expression Integer)=>1/sqrt(x)

but I don't see why this happens.

\start
Date: Thu, 20 Jan 2005 23:38:43 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [bugs #9581] (new) )spool does not capture )sys output


This is an automated notification sent by Savannah.
It relates to:
		bugs #9581, project Axiom Computer Algebra System

==============================================================================
 LATEST MODIFICATIONS of bugs #9581:
==============================================================================

               Posted by: Bill Page <billpage1>
               Posted on: 2005-01-21 05:38 (Canada/Eastern)
    _______________________________________________________

                  Status:                    None -> transferred            


==============================================================================
 OVERVIEW of bugs #9581:
==============================================================================

URL:
  <http://savannah.nongnu.org/bugs/?func=detailitem&item_id=9581>

                 Summary: )spool does not capture )sys output
                 Project: Axiom Computer Algebra System
            Submitted by: axiom
            Submitted on: Wed 07/07/2004 at 10:42
                Category: None
                Severity: 3 - Ordinary
              Item Group: feature request
                  Status: transferred
                 Privacy: Public
             Assigned to: axiom
         Originator Name: William Sit
        Originator Email: William Sit
             Open/Closed: Open
                 Release: current
         Reproducibility: None
           Fixed Release: 
           Error message: 
Example of code trigerring the bug: 
          Internal cause: )spool captures lisp i/o
)sys starts a shell with its own i/o


    _______________________________________________________


I am not sure if it is a bug, but I think it would be better if the
"feature" below is modified.

As one knows, it takes quite a few compiles to get a spad file in the right
form, especially when one is learning. I also like to keep a record of the
mistakes I made as well as to document any possible bugs. So what I want to
do
is this:

)spool mytest.output
)sys cat mytest.spad
)comp mytest.spad
-- go make some changes
-- repeat the previous two commands
)spool

At the console the file is displayed. However, spool does not capture
any output from the )sys cat command.

I lost all the changes I made to mytest.spad even though eventually, I
got it working.

My request therefore: Is it difficult to modify spool so it will also
capture all the output from a system command like cat? (I don't expect
spool to capture other than "terminal" type output streams.)

\start
Date: Fri, 21 Jan 2005 01:11:55 -0500
From: Bill Page
To: list
Subject: the bugs # ... messages

*,

The numerous emails with subjects like

  [bugs #1234] ...

are being generated by the process I am using to transfer bugs
previously reported on Savannah to IssueTracker on MathAction.
I hope that these messages are not too much of an annoyance to
you. I plan to transfer 5 or 10 of these bug reports per night
over the next few weeks. There are currently 50 bug reports on
Savannah that will eventually be moved to IssueTracker.

If I get some complaints, it is possible for me to change my
procedure to do this transfer in a quieter but somewhat more
complex manner.

\start
Date: Thu, 20 Jan 2005 23:52:12 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [bugs #6357] (new) sqrt(-1/abs(x))-1/sqrt(-abs(x))=>0

Example of code trigerring the bug:

\begin{axiom}
sqrt(-1/abs(x))-1/sqrt(-abs(x))
\end{axiom}

should be:
\begin{axiom}
 2*%i/sqrt(x)
\end{axiom}

The error occurs, because::

  sqrt(1/x::Expression Integer)=>1/sqrt(x)

\start
Date: Fri, 21 Jan 2005 01:21:31 -0500
From: Bill Page
To: Camm Maguire
Subject: GCL 2.6.6 does not build Axiom on Windows

Camm,

You will recall that some of the fixes included in GCL 2.6.6
were motivated by patches that Mike Thomas made to 2.6.5 in
order to build Axiom on windows. I think that one of your
goals of releasing 2.6.6 was so that the GCL source used to
build Axiom on both linux and windows would be the same.
Unfortunately it seems that we have not quite reached that
state yet.

Being optimistic, I added GCL 2.6.6 to the Axiom build in
the usual way (added zips/gcl-2.6.6.tgz, new GCL 2.6.6 stanza
in lsp/Makefile.pamphlet, and change GCLVERSION in Makefile).
The build proceeds normally all the way to the beginning of
the algebra compiles but fails on the first spad file with
the message:

   Caught fatal error [memory may be damaged]

The current Axiom build on Windows does succeed with the original
patches supplied by Mike Thomas when applied to GCL-2.6.5.

Given limited resources and the current set of priorities for
the next scheduled release of Axiom (February), Tim Daly has
indicated that it probably wont be until at least the March
release before we can try again to merge the linux and windows
builds. But in the mean time, if someone with more experience
than me with GCL on Windows has the time to take a closer look
at this, please let me know and I will try to help.

Regards,
Bill Page.

----------

Here's the output of the compile step:

                        AXIOM Computer Algebra System
              Version of Thursday January 20, 2005 at 02:09:19
-------------------------------------------------------------------------=
---
-
   Issue )copyright to view copyright notices.
   Issue )summary for a summary of useful system commands.
   Issue )quit to leave AXIOM and return to shell.
-------------------------------------------------------------------------=
---
-

   Using local database
C:/msys/1.0/home/Administrator/axiom--windows--1/src/share/algebra/compre=
ss.
daase..   Using local database
C:/msys/1.0/home/Administrator/axiom--windows--1/src/share/algebra/interp=
.da
ase..
   Using local database
C:/msys/1.0/home/Administrator/axiom--windows--1/src/share/algebra/operat=
ion
.daase..
   Using local database
C:/msys/1.0/home/Administrator/axiom--windows--1/src/share/algebra/catego=
ry.
daase..
   Using local database
C:/msys/1.0/home/Administrator/axiom--windows--1/src/share/algebra/browse=
.da
ase..
(1) ->    Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/app=
ly.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/c-d=
oc.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/c-u=
til
.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/pro=
fil
e.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/cat=
ego
ry.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/com=
pil
er.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/def=
ine
.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/fun=
cto
r.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/inf=
o.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/ite=
rat
or.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/mod=
ema
p.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/nru=
nco
mp.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/pac=
kag
e.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/htc=
hec
k.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/xru=
nco
mp.
   Compiling AXIOM source code from file
      =
C:/msys/1.0/home/Administrator/axiom--windows--1/int/algebra/AHYP.spad
      using old system compiler.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/par=
sin
g.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/boo=
tle
x.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/def=
.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/fne=
wme
ta.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/met=
ale
x.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/met=
ame
ta.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/par=
se.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/pos=
tpa
r.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/pos=
tpr
op.
   Loading
C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/pre=
par
se.
   AHYP abbreviates category ArcHyperbolicFunctionCategory
------------------------------------------------------------------------
   initializing NRLIB AHYP for ArcHyperbolicFunctionCategory

   >> System error:
   Caught fatal error [memory may be damaged]

protected-symbol-warn called with (NIL)
(1) ->

\start
Date: Fri, 21 Jan 2005 02:07:31 -0500
From: Tim Daly
To: Bill Page
Subject: Re: the bugs # ... messages

It's not a problem for me. 
We need to centralize the bugs and IssueTracker is the place.

\start
Date: Fri, 21 Jan 2005 10:45:46 +0100
From: Pierre Doucy
To: Bill Page
Subject: Re: touchgraph, hypertex, hypergraph

> 
> You are very welcome to try this again. I can provide you will a file
> in graphviz format that contains Axiom's algebra dependencies.
> 

OK, send it ot me and I'll see what I can do.


> [...]
> Great. The Boost Graph Library looks quite complete. Thank you for
> the reference. Would you or anyone else here be interested in
> helping me get started with this, say finding the strongly connected
> components in the Axiom algebra dependency graph? Can someone sketch
> what would have to be done, e.g. starting like this:
> 
>   1) download the boost distribution from here
>      http://sourceforge.net/project/showfiles.php?group_id=7586
> 
>   2) convert the Axiom algebra dependency graph to format X?
> 
>   3) run program Y? to load the graph
> 
>   4) run program Z? to list the strongly connected components.

I guess I can to it, but probably not before the beginning of february.
I've got quite a lot of material related to big graphs and their algorithms.
The graphviz format should be ok to work w/ your graph (unless you
have specific needs that graphviz can't meet).

\start
Date: Fri, 21 Jan 2005 05:59:47 -0500
From: Tim Daly
To: list
Subject: cell processor
Cc: Gilbert Baumslag

Sony, Toshiba, and IBM are getting close to announcing the Cell processor.

I've been following this with interest as

  "The first Cell based desktop computer will be the fastest desktop
   computer in the industry by a very large margin."

  "Cell is going to turn the industry upside down, nobody has ever
   produced such a leap in performance in one go and certainly not
   at a low price"

I've been muttering about what I call the "PetaMachine", that is, a
machine with a petabyte of disk, a gig of memory, and a terahertz
of cpu. This is the machine I expect to have on a desktop in 30 years.

The Cell processor has the potential to deliver that kind of horsepower
within a MUCH shorter time span.

This article gives some idea from the patent application information:
http://www.blachford.info/computer/Cells/Cell0.html

So, what would you do with a petamachine? How will a computational
science platform use such horsepower effectively? 50K element matrix?
1M term polynomials? Petaflop-per-second floating point? Massively
pipelined graphics? Symbolically model a whole bridge?

I can store all of written mathematics on this machine (estimated to
be less than a terabyte and i have a petabyte). I can massively
search the literature allocating dozens of processors doing speculative
searches (think clippy on drugs). Hugely fast graphics allows me to do
the crystal project (many views of the same problem thru different
facets all kept up to date in real time). 

Why it may even compile axiom in under an hour :-)

Clearly we need to dream "in the large".

\start
Date: Fri, 21 Jan 2005 12:15:57 +0100
From: Martin Rubey
To: Bill Page
Subject: RE: Graphics and Axiom (was Re: touchgraph, hypertex,	hypergraph)

 > On Thursday, January 20, 2005 9:56 AM C Y wrote:

 > > One type of program I've wondered about is Pigale http://pigale.sf.net I'm
 > > not up on the theory of what it's trying to do, but it has always
 > > impressed me as an interesting program.  There was some talk a while back
 > > about adding some abilities into Maxima to work with it, but nothing came
 > > of it at that time.  I wonder if Axiom would be a good match for it.

I can (and in fact I did already) recommend pigale as a program to draw graphs
(in the graph theoretic sense). Once upon a time a wrote a (very buggy)
graph-package for maxima which used pigale to display them.

The key feature of pigale is that it has excellent algorithms to draw --
especially small, planar -- graphs, and the user can try out various algorithms
interactively.

For large graphs I'd like to recommend tulip (from the same department, in
fact). 

I know the developers, so if anybody is going to write a domain "graphs"
(belonging to the category "matroids"...) he should look at it.

I also would like to express my agreement with Bill: we should not try to
deliver an all in one package! There is a lot of very specialised software
around, we should interface with it, but not rewrite it! And I think that axiom
should run independently of it.

\start
Date: Fri, 21 Jan 2005 04:37:33 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [#8 (Savannah bug #9297) output misses some parenthesis] Why?

Dear Bill,

did you read my latest comment rearding this bug?

I really don't understand why you think that it could be improved. (OK,
certainly it can be improved, but only with *a lot* of work, including possibly
a rewrite of the way OUTFORM works.

Currently, OUTFORM is coded in a decentral fashion: every object
"knows" how to display itself, by setting the property
'%specialDisp'::

    setProperty(opdsum,  SPECIALDISP,  ddsum@(List F -> O) pretend None)
    setProperty(opdprod, SPECIALDISP, ddprod@(List F -> O) pretend None)

Only some common operations, such as '+' are coded in OUTFORM
itself. However, the routine displaying '+' does not know anything
about the semantics of its arguments anymore, since they are already
in OUTFORM then. So, you could only introduce an ugly *hack*, parsing
the first argument of '+\$OUTFORM' and looking wether it is a sum or a
product or a limit or ... Well, any time a new operator is introduced,
'+\$OUTFORM' (and of course, also '-\$OUTFORM', '*\$OUTFORM', ...)
would have to be readjusted.

Currently the design is very clean, hacking this would be a nightmare,
and on top of all, what for?

Please provide an example where you dislike the result using the
patched version! I find

$$
\left(
\sum \sb{\displaystyle {i=1}} \sp{\displaystyle n} {{f 
\left(
{i} 
\right)}+1}
\right)
\leqno(4)
$$

perfectly alright.

\start
Date: Fri, 21 Jan 2005 04:48:15 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [#44 IssueTracker needs to be able to use old Axiom versions] (nouveau) 

One day the Axiom running on MathAction will be updated, which is
fine, but then all the "live failures" provided on IssueTracker will
vanish. Thus I propose to provide an optional argument to the
axiom-environment, which specifies which axiom to run::

  \begin{axiom}[25]
  \end{axiom}

should run the axiom build from 'axiom--main--1--patch-25'.

\start
Date: Fri, 21 Jan 2005 10:20:55 -0500
From: Bill Page
To: Martin Rubey
Subject: RE: [#8 (Savannah bug #9297) output misses some parenthesis] Why?

Martin,

I am taking this discussion back over to axiom-developer
to avoid extending the issuetracker page for now.

On Friday, January 21, 2005 5:38 AM you wrote:
> 
> did you read my latest comment rearding this bug?
> 

Yes.

> I really don't understand why you think that it could be 
> improved. (OK, certainly it can be improved, but only with
> *a lot* of work, including possibly a rewrite of the way
> OUTFORM works.

Why is it that the LaTeX output for this example:
\begin{axiom}
product(summation(i*j, i=a..b),j=c..d)
\end{axiom}

gets the parenthesis right but the text output version does
not?

> 
> Currently, OUTFORM is coded in a decentral fashion: every 
> object "knows" how to display itself, by setting the property 
> '%specialDisp'::
> 
>     setProperty(opdsum,  SPECIALDISP,  ddsum@(List F -> O) 
> pretend None)
>     setProperty(opdprod, SPECIALDISP, ddprod@(List F -> O) 
> pretend None)
> 
> Only some common operations, such as '+' are coded in OUTFORM 
> itself. However, the routine displaying '+' does not know 
> anything about the semantics of its arguments anymore, since 
> they are already in OUTFORM then. So, you could only 
> introduce an ugly *hack*, parsing the first argument of 
> '+\$OUTFORM' and looking wether it is a sum or a product or a 
> limit or ... Well, any time a new operator is introduced, 
> '+\$OUTFORM' (and of course, also '-\$OUTFORM', '*\$OUTFORM', 
> ...)  would have to be readjusted.
>

In order to properly decide when parenthesis are required, it
is necessary for Axiom to know something about the conventions
for precedence of known operations. This is determined in

COMMONOP.spad

Surely COMBF.spad can be written to use operator precedence
information to determin when paren() is required?
 
> Currently the design is very clean, hacking this would be a 
> nightmare, and on top of all, what for?
> 

For what? That seems like a strange question to me.

> Please provide an example where you dislike the result using 
> the patched version! I find
> 
> $$
> \left(
> \sum \sb{\displaystyle {i=1}} \sp{\displaystyle n} {{f 
> \left(
> {i} 
> \right)}+1}
> \right)
> \leqno(4)
> $$
> 
> perfectly alright.
> 

No, it looks silly to me. But I agree this is at least in part
subjective. The point is that everytime we have a problem like
this, it is the wrong approach to solve it in a one-off fashion
that detracts from Axiom's apparent "intellegence" about
mathematical conventions.

But you are right to ask for more examples. I will work this
a little more and perhaps add some examples on MathAction.

\start
Date: Fri, 21 Jan 2005 15:51:25 -0500
From: Tim Daly
To: list, axiom-math@nongnu.org, axiom-mail@nongnu.org
Subject: Axiom Conference]

From: Gilbert Baumslag
Subject: Axiom Conference
Date: Fri, 21 Jan 2005 11:15:14 -0500


Axiom Conference Announcement
_____________________________

When:    April 22, 2005
Where:   The City College of New York
Contact: Bernice Ravitz

There will be a Conference on Axiom on April 22, 2005 at the City
College of New York. The focus of the conference will be to
demonstrate the power and scope of Axiom to a general scientific
audience. The conference is being hosted by CAISS, the Center for
Algorithmic and Interactive Scientific Software. Timothy Daly, a
senior research scientist at CAISS and a Research Associate in the
Computer Science Department of CCNY has been heavily involved in the
development of AXIOM over many years.

Axiom, developed by IBM and released as open source software by NAG,
has now been rebuilt by many developers into its original form
together with a new version for Windows. Preceding the conference, on
April 21st, will be a "sprint" day devoted to defining future
directions and a marathon programming session in the CAISS Open
Software Lab. Everyone is encouraged to participate. Help will be
available for new developers.

The Acting Dean of Engineering, Joe Barba and the Dean of Science,
Maria Tamargo, are sponsoring the conference, which is also supported
by the National Science Foundation. Further funding has been made
available by the Chancellor of the City University of New York, Dr.
Matthew Goldstein and the Provost of the City College of New York,
Zeev Dagan, for both travel and accommodation for some participants
and attendees of one or other or both events.

Details of the talks on April 22nd and the get-together on April 21st
will be posted on the CAISS web-site, www.caissny.org in the next few
weeks.

Anyone interested in attending should email
Bernice Ravitz.

The conference is being organized by Gilbert Baumslag, Timothy Daly,
Gretchen Ostheimer, William Sit and Douglas Troeger.  

\start
Date: Fri, 21 Jan 2005 15:47:32 -0500
From: Tim Daly
To: Bill Page
Subject: re: [#8 (Savannah bug #9297) output misses some parenthesis] Why?

Bill, Martin,

In the fix for printing there was a list of numbers
(mostly 700 and 800) which I believe were the precedence
information you seek. What the correct numbers should be
is unknown and will require reverse engineering.

\start
Date: Fri, 21 Jan 2005 14:26:50 -0600
From: MathAction (root)
To: MathAction
Subject: [Axiom-mail] Axiom Conference]


From: Gilbert Baumslag
Subject: Axiom Conference
Date: Fri, 21 Jan 2005 11:15:14 -0500


Axiom Conference Announcement
_____________________________

When:    April 22, 2005
Where:   The City College of New York
Contact: Bernice Ravitz

There will be a Conference on Axiom on April 22, 2005 at the City
College of New York. The focus of the conference will be to
demonstrate the power and scope of Axiom to a general scientific
audience. The conference is being hosted by CAISS, the Center for
Algorithmic and Interactive Scientific Software. Timothy Daly, a
senior research scientist at CAISS and a Research Associate in the
Computer Science Department of CCNY has been heavily involved in the
development of AXIOM over many years.

Axiom, developed by IBM and released as open source software by NAG,
has now been rebuilt by many developers into its original form
together with a new version for Windows. Preceding the conference, on
April 21st, will be a "sprint" day devoted to defining future
directions and a marathon programming session in the CAISS Open
Software Lab. Everyone is encouraged to participate. Help will be
available for new developers.

The Acting Dean of Engineering, Joe Barba and the Dean of Science,
Maria Tamargo, are sponsoring the conference, which is also supported
by the National Science Foundation. Further funding has been made
available by the Chancellor of the City University of New York, Dr.
Matthew Goldstein and the Provost of the City College of New York,
Zeev Dagan, for both travel and accommodation for some participants
and attendees of one or other or both events.

Details of the talks on April 22nd and the get-together on April 21st
will be posted on the CAISS web-site, www.caissny.org in the next few
weeks.

Anyone interested in attending should email
Bernice Ravitz.

The conference is being organized by Gilbert Baumslag, Timothy Daly,
Gretchen Ostheimer, William Sit and Douglas Troeger.  

\start
Date: Fri, 21 Jan 2005 16:21:56 -0500
From: Tim Daly
To: Pierre Doucy, Charles Miller
Subject: MacOS X development

see 

http://developer.apple.com/darwin/runningX11.html

"Configuring and Running X11 Applications on MAC OSX"

\start
Date: Fri, 21 Jan 2005 23:16:14 +0100
From: David Mentre
To: Tim Daly
Subject: Re: .pht files
Cc: Mike Dewar

Tim Daly writes:

> What is a .pht file? How is it supposed to be displayed?
> It looks like it was supposed to change other pages after
> the fact. Was there ever any documentation on how to write one?

On the Zaurus? 

Apparently, a kind of hypertext file: "These files require the PILI
Z-Text program (ZTEXT.BIN) to run. You must install Z-Text on your
Zaurus just like any other PILI .BIN program. When you run it you will
be shown a list of files from your Zaurus "PC Files / More" area, select
the .PHT file you want to run from the file list and it will then
start."
 http://www.murraymoffatt.com/zaurus.html   (at the bottom)

\start
Date: Fri, 21 Jan 2005 17:26:23 -0500
From: Bill Page
To: Tim Daly
Subject: re: [#8 (Savannah bug #9297) output misses someparenthesis] Why?

Tim,

On Friday, January 21, 2005 3:48 PM you wrote:
> 
> In the fix for printing there was a list of numbers
> (mostly 700 and 800) which I believe were the precedence
> information you seek. What the correct numbers should be
> is unknown and will require reverse engineering.

These precedence numbers seem to apply only to the generation
of LaTeX code for this case, i.e. )set output tex on. The LaTeX
coding was (almost) correct. Martin's patch of tex.spad corrects
an error in the special case of nested products.

But the real problem is in the generation of the text, i.e
)set output algebra on, case. This is produced in a different
manner than the LaTeX output and does not seem to use these
precedence numbers. Am I wrong? I am still trying to see how
it actual does work.

\start
Date: Sat, 22 Jan 2005 09:15:16 +1000
From: Mike Thomas
To: Bill Page, Camm Maguire
Subject: RE: [Gcl-devel] GCL 2.6.6 does not build Axiom on Windows

Hi Bill.

I'll try and look into it sometime in the next fortnight.  One way to
proceed without my help might be to take 'make clean'ed source trees for the
_patched_ Axiom GCL 2.6.5, and the as delivered GCL 2.6.6 and do a recursive
diff then perhaps altering the GCL 2.6.6 source part by part until the
offending code is discovered.  Perhaps I missed a patch, or perhaps one of
the Unix specific changes has affected the Windows build in some way.

Sorry to dump and run.

| -----Original Message-----
|
| Camm,
|
| You will recall that some of the fixes included in GCL 2.6.6
| were motivated by patches that Mike Thomas made to 2.6.5 in
| order to build Axiom on windows. I think that one of your
| goals of releasing 2.6.6 was so that the GCL source used to
| build Axiom on both linux and windows would be the same.
| Unfortunately it seems that we have not quite reached that
| state yet.
|
| Being optimistic, I added GCL 2.6.6 to the Axiom build in
| the usual way (added zips/gcl-2.6.6.tgz, new GCL 2.6.6 stanza
| in lsp/Makefile.pamphlet, and change GCLVERSION in Makefile).
| The build proceeds normally all the way to the beginning of
| the algebra compiles but fails on the first spad file with
| the message:
|
|    Caught fatal error [memory may be damaged]
|
| The current Axiom build on Windows does succeed with the original
| patches supplied by Mike Thomas when applied to GCL-2.6.5.
|
| Given limited resources and the current set of priorities for
| the next scheduled release of Axiom (February), Tim Daly has
| indicated that it probably wont be until at least the March
| release before we can try again to merge the linux and windows
| builds. But in the mean time, if someone with more experience
| than me with GCL on Windows has the time to take a closer look
| at this, please let me know and I will try to help.
|
| Regards,
| Bill Page.
|
| ----------
|
| Here's the output of the compile step:
|
|                         AXIOM Computer Algebra System
|               Version of Thursday January 20, 2005 at 02:09:19
| ------------------------------------------------------------------
| ----------
| -
|    Issue )copyright to view copyright notices.
|    Issue )summary for a summary of useful system commands.
|    Issue )quit to leave AXIOM and return to shell.
| ------------------------------------------------------------------
| ----------
| -
|
|    Using local database
| C:/msys/1.0/home/Administrator/axiom--windows--1/src/share/algebra
| /compress.
| daase..   Using local database
| C:/msys/1.0/home/Administrator/axiom--windows--1/src/share/algebra
| /interp.da
| ase..
|    Using local database
| C:/msys/1.0/home/Administrator/axiom--windows--1/src/share/algebra
| /operation
| .daase..
|    Using local database
| C:/msys/1.0/home/Administrator/axiom--windows--1/src/share/algebra
| /category.
| daase..
|    Using local database
| C:/msys/1.0/home/Administrator/axiom--windows--1/src/share/algebra
| /browse.da
| ase..
| (1) ->    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/apply.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/c-doc.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/c-util
| .
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/profil
| e.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/catego
| ry.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/compil
| er.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/define
| .
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/functo
| r.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/info.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/iterat
| or.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/modema
| p.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/nrunco
| mp.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/packag
| e.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/htchec
| k.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/xrunco
| mp.
|    Compiling AXIOM source code from file
|
| C:/msys/1.0/home/Administrator/axiom--windows--1/int/algebra/AHYP.spad
|       using old system compiler.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/parsin
| g.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/bootle
| x.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/def.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/fnewme
| ta.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/metale
| x.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/metame
| ta.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/parse.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/postpa
| r.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/postpr
| op.
|    Loading
| C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
| oad/prepar
| se.
|    AHYP abbreviates category ArcHyperbolicFunctionCategory
| ------------------------------------------------------------------------
|    initializing NRLIB AHYP for ArcHyperbolicFunctionCategory
|
|    >> System error:
|    Caught fatal error [memory may be damaged]
|
| protected-symbol-warn called with (NIL)
| (1) ->

\start
Date: Fri, 21 Jan 2005 18:57:01 -0500
From: Tim Daly
To: Bill Page
Subject: re: [#8 (Savannah bug #9297) output missessomeparenthesis] Why?

> But the real problem is in the generation of the text, i.e
> )set output algebra on, case. This is produced in a different
> manner than the LaTeX output and does not seem to use these
> precedence numbers. Am I wrong? I am still trying to see how
> it actual does work.

ah. Are you wrong? Not bloody likely :-)
If you try to figure it out please document what you learn
so I can steal from you.

\start
Date: Fri, 21 Jan 2005 18:55:14 -0500
From: Tim Daly
To: David Mentre
Subject: Re: .pht files
Cc: Mike Dewar

No, a .pht file is one of the two filetypes accepted by hyperdoc.
However the .pht files were created at NAG and I don't understand
how they work.

\start
Date: 21 Jan 2005 19:06:38 -0500
From: Camm Maguire
To: Mike Thomas
Subject: Re: [Gcl-devel] GCL 2.6.6 does not build Axiom on Windows

Greetings!  Are there any known Windows/gcl/axiom patches which are
not in 2.6.6?

Take care,

Mike Thomas writes:

> Hi Bill.
> 
> I'll try and look into it sometime in the next fortnight.  One way to
> proceed without my help might be to take 'make clean'ed source trees for the
> _patched_ Axiom GCL 2.6.5, and the as delivered GCL 2.6.6 and do a recursive
> diff then perhaps altering the GCL 2.6.6 source part by part until the
> offending code is discovered.  Perhaps I missed a patch, or perhaps one of
> the Unix specific changes has affected the Windows build in some way.
> 
> Sorry to dump and run.
> 
> Cheers
> 
> Mike Thomas.
> 
> 
> 
> | -----Original Message-----
> | From: gcl-devel-bounces+miketh=brisbane.paradigmgeo.com@gnu.org
> | [mailto:gcl-devel-bounces+miketh=brisbane.paradigmgeo.com@gnu.org]On
> | Behalf Of Bill Page
> | Sent: Friday, 21 January 2005 4:22 PM
> | To: 'Camm Maguire'
> | Cc: list; gcl-devel@gnu.org
> | Subject: [Gcl-devel] GCL 2.6.6 does not build Axiom on Windows
> |
> |
> | Camm,
> |
> | You will recall that some of the fixes included in GCL 2.6.6
> | were motivated by patches that Mike Thomas made to 2.6.5 in
> | order to build Axiom on windows. I think that one of your
> | goals of releasing 2.6.6 was so that the GCL source used to
> | build Axiom on both linux and windows would be the same.
> | Unfortunately it seems that we have not quite reached that
> | state yet.
> |
> | Being optimistic, I added GCL 2.6.6 to the Axiom build in
> | the usual way (added zips/gcl-2.6.6.tgz, new GCL 2.6.6 stanza
> | in lsp/Makefile.pamphlet, and change GCLVERSION in Makefile).
> | The build proceeds normally all the way to the beginning of
> | the algebra compiles but fails on the first spad file with
> | the message:
> |
> |    Caught fatal error [memory may be damaged]
> |
> | The current Axiom build on Windows does succeed with the original
> | patches supplied by Mike Thomas when applied to GCL-2.6.5.
> |
> | Given limited resources and the current set of priorities for
> | the next scheduled release of Axiom (February), Tim Daly has
> | indicated that it probably wont be until at least the March
> | release before we can try again to merge the linux and windows
> | builds. But in the mean time, if someone with more experience
> | than me with GCL on Windows has the time to take a closer look
> | at this, please let me know and I will try to help.
> |
> | Regards,
> | Bill Page.
> |
> | ----------
> |
> | Here's the output of the compile step:
> |
> |                         AXIOM Computer Algebra System
> |               Version of Thursday January 20, 2005 at 02:09:19
> | ------------------------------------------------------------------
> | ----------
> | -
> |    Issue )copyright to view copyright notices.
> |    Issue )summary for a summary of useful system commands.
> |    Issue )quit to leave AXIOM and return to shell.
> | ------------------------------------------------------------------
> | ----------
> | -
> |
> |    Using local database
> | C:/msys/1.0/home/Administrator/axiom--windows--1/src/share/algebra
> | /compress.
> | daase..   Using local database
> | C:/msys/1.0/home/Administrator/axiom--windows--1/src/share/algebra
> | /interp.da
> | ase..
> |    Using local database
> | C:/msys/1.0/home/Administrator/axiom--windows--1/src/share/algebra
> | /operation
> | .daase..
> |    Using local database
> | C:/msys/1.0/home/Administrator/axiom--windows--1/src/share/algebra
> | /category.
> | daase..
> |    Using local database
> | C:/msys/1.0/home/Administrator/axiom--windows--1/src/share/algebra
> | /browse.da
> | ase..
> | (1) ->    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/apply.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/c-doc.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/c-util
> | .
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/profil
> | e.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/catego
> | ry.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/compil
> | er.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/define
> | .
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/functo
> | r.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/info.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/iterat
> | or.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/modema
> | p.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/nrunco
> | mp.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/packag
> | e.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/htchec
> | k.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/xrunco
> | mp.
> |    Compiling AXIOM source code from file
> |
> | C:/msys/1.0/home/Administrator/axiom--windows--1/int/algebra/AHYP.spad
> |       using old system compiler.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/parsin
> | g.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/bootle
> | x.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autoload/def.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/fnewme
> | ta.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/metale
> | x.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/metame
> | ta.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/parse.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/postpa
> | r.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/postpr
> | op.
> |    Loading
> | C:/msys/1.0/home/Administrator/axiom--windows--1/mnt/windows/autol
> | oad/prepar
> | se.
> |    AHYP abbreviates category ArcHyperbolicFunctionCategory
> | ------------------------------------------------------------------------
> |    initializing NRLIB AHYP for ArcHyperbolicFunctionCategory
> |
> |    >> System error:
> |    Caught fatal error [memory may be damaged]
> |
> | protected-symbol-warn called with (NIL)
> | (1) ->

\start
Date: Fri, 21 Jan 2005 19:32:00 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#45 regression testing is not being checked]	(new) 

I created a new directory called `int/output' and I copied all
the files named `int/input/*.output' to int/output and deleted
them from int/input. These files were created when I did the
initial build of Axiom using the bootstrap files.

Then I ran 'make' again to create a new set of `int/input/*.output'
files. These output files are generated using the last *.o algebra
files that were built during the fixedPoint iteration.

Comparing the two sets of files using the command

  $ diff -au  -I 'Version' -I 'Time' -x '*\.input' int/output int/input

there are no differences.

The extra options -I on diff say to ignore any lines containing
the word 'Version' (since the version of Axiom that generated these
files are always different) and also to ignore any lines containing
'Time' since the timing changed slightly between the two different
versions (the fixedPoint version is apparently very slightly faster),
and finally the option -x says to not compare the *.input files
since I didn't copy them to int/output.

\start
Date: Fri, 21 Jan 2005 20:03:57 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [other Computer Algebra systems] (new) 

Maxima
Yacas
Maple
Mathematica
MathCAD

\start
Date: Fri, 21 Jan 2005 21:42:29 -0500
From: Tim Daly
To: Terrie Phoenix
Subject: professional services
Cc: Gilbert Baumslag

Terrie,

Just to follow up on our discussion of contributing your 
public relations skills...

Axiom is becoming much better known and has a worldwide audience.
We are nearing the point of having a full, nearly feature complete
release. There are several things we need to accomplish on the
technical aspects such as bug-tracking.

However we are very weak in various "real-world" aspects. We are
working on publishing a book and will soon have a conference
devoted to Axiom. Both of these activities could benefit from
your professional skills and advice.

We have a subgroup called the Axiom Foundation which is involved
in fund-raising activities. Your advice would be very valuable.
The members of the committee are:
  Camm Maguire
  Bob McElrath
  Martin Rubey
  Bill Page    <Bill Page>
If you'd like we can even create a separate mailing list for the
Axiom Foundation.

In any case, the main mailing list is list
and you can subscribe to it at 
https://savannah.nongnu.org/mail/?group=axiom

Oh, yes, and about your normal and expected fees. We pay 
rates which are competitive for most other open source projects.

\start
Date: Fri, 21 Jan 2005 23:52:59 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [bugs #4578] (new) Underlying common lisp system should have a binding to OpenMATH library


This is an automated notification sent by Savannah.
It relates to:
		bugs #4578, project Axiom Computer Algebra System

==============================================================================
 LATEST MODIFICATIONS of bugs #4578:
==============================================================================

               Posted by: Bill Page <billpage1>
               Posted on: 2005-01-22 05:52 (Canada/Eastern)
    _______________________________________________________

                  Status:                    None -> transferred            


==============================================================================
 OVERVIEW of bugs #4578:
==============================================================================

URL:
  <http://savannah.nongnu.org/bugs/?func=detailitem&item_id=4578>

                 Summary: Underlying common lisp system should have a binding
to OpenMATH library
                 Project: Axiom Computer Algebra System
            Submitted by: dmentre
            Submitted on: Sat 08/02/2003 at 09:38
                Category: lisp system
                Severity: 3 - Ordinary
              Item Group: feature request
                  Status: transferred
                 Privacy: Public
             Assigned to: camm
         Originator Name: Tim Daly
        Originator Email: axiom@tenkan.org
             Open/Closed: Open
                 Release: Sat Aug  2 11:38:18 CEST 2003
         Reproducibility: None
           Fixed Release: 
           Error message: 
Example of code trigerring the bug: 
          Internal cause: 

\start
Date: Fri, 21 Jan 2005 23:51:33 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [bugs #10069] (new) cot(0.0), csc(0.0), asec(0.0), acsc(0.0), asech(0.0), acsch(0.0), cot(0.0), coth(0.0), acoth(0.0)


This is an automated notification sent by Savannah.
It relates to:
		bugs #10069, project Axiom Computer Algebra System

==============================================================================
 LATEST MODIFICATIONS of bugs #10069:
==============================================================================

               Posted by: Bill Page <billpage1>
               Posted on: 2005-01-22 05:51 (Canada/Eastern)
    _______________________________________________________

                  Status:                    None -> transferred            


==============================================================================
 OVERVIEW of bugs #10069:
==============================================================================

URL:
  <http://savannah.nongnu.org/bugs/?func=detailitem&item_id=10069>

                 Summary: cot(0.0), csc(0.0), asec(0.0),
acsc(0.0),asech(0.0),acsch(0.0),cot(0.0),coth(0.0),acoth(0.0)
                 Project: Axiom Computer Algebra System
            Submitted by: None
            Submitted on: Fri 08/20/2004 at 02:21
                Category: algebra
                Severity: 5 - Average
              Item Group: code bug
                  Status: transferred
                 Privacy: Public
             Assigned to: billpage1
         Originator Name: 
        Originator Email: 
             Open/Closed: Open
                 Release: 
         Reproducibility: None
           Fixed Release: 
           Error message: >> Error detected within library code:
   (1 . failed) cannot be coerced to mode (Float)
Example of code trigerring the bug: cot(0.0)
          Internal cause: Has to handle failed with a 'case'

    _______________________________________________________


Example:

cot(0.0) =>

>> Error detected within library code:
   (1 . failed) cannot be coerced to mode (Float)

Has to handle failed with a 'case'

I haven't tested all, just (a)sec(h),(a)csc(h) and (a)cot(h)

\start
Date: Fri, 21 Jan 2005 23:53:48 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [bugs #4551] (new) duplicate functions exists. optimizer complains during rebuild


This is an automated notification sent by Savannah.
It relates to:
		bugs #4551, project Axiom Computer Algebra System

==============================================================================
 LATEST MODIFICATIONS of bugs #4551:
==============================================================================

               Posted by: Bill Page <billpage1>
               Posted on: 2005-01-22 05:53 (Canada/Eastern)
    _______________________________________________________

                  Status:                    None -> transferred            


==============================================================================
 OVERVIEW of bugs #4551:
==============================================================================

URL:
  <http://savannah.nongnu.org/bugs/?func=detailitem&item_id=4551>

                 Summary: duplicate functions exists. optimizer complains
during rebuild
                 Project: Axiom Computer Algebra System
            Submitted by: dmentre
            Submitted on: Thu 07/31/2003 at 17:02
                Category: build process
                Severity: 5 - Average
              Item Group: code bug
                  Status: transferred
                 Privacy: Public
             Assigned to: None
         Originator Name: Tim Daly
        Originator Email: axiom@tenkan.org
             Open/Closed: Open
                 Release: Thursday June 5, 2003 at 14:52:04
         Reproducibility: None
           Fixed Release: 
           Error message: Warn foo redefined in #pX.fn. Originally in #pY.fn
Example of code trigerring the bug: -- assuming Axiom has already been built.

-- >rm /spad/obj/linux/bin/interpsys
-- >cd /spad
-- >make

\start
Date: Fri, 21 Jan 2005 23:52:33 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [bugs #10312] (new) Problems raising a UTS to a negative integer power


This is an automated notification sent by Savannah.
It relates to:
		bugs #10312, project Axiom Computer Algebra System

==============================================================================
 LATEST MODIFICATIONS of bugs #10312:
==============================================================================

               Posted by: Bill Page <billpage1>
               Posted on: 2005-01-22 05:51 (Canada/Eastern)
    _______________________________________________________

                  Status:                    None -> transferred            


==============================================================================
 OVERVIEW of bugs #10312:
==============================================================================

URL:
  <http://savannah.nongnu.org/bugs/?func=detailitem&item_id=10312>

                 Summary: Problems raising a UTS to a negative integer power
                 Project: Axiom Computer Algebra System
            Submitted by: kratt6
            Submitted on: Tue 09/07/2004 at 14:28
                Category: algebra
                Severity: 5 - Average
              Item Group: code bug
                  Status: transferred
                 Privacy: Public
             Assigned to: billpage1
         Originator Name: 
        Originator Email: 
             Open/Closed: Open
                 Release: 
         Reproducibility: None
           Fixed Release: 
           Error message:  >> Error detected within library code:
   ** rational power of coefficient undefined

protected-symbol-warn called with (NIL)
Example of code trigerring the bug: p:=(1/2+n)::UTS(FRAC INT, 'n, 0)
(p**(-1))$UTS(FRAC INT, 'n, 0)

          Internal cause: 

    _______________________________________________________


The code below raises an unnecessary error. The problem 
is in sttaylor.spad/powern, where no distinction between rational and integer
powers are made.

The fix is easy. In fact, I just realize that the problem does not exist in
SUPS, so we can just take the definition there. I'll submit a patch tomorrow.

\start
Date: Fri, 21 Jan 2005 23:51:10 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [bugs #9057] (new) product over product or sum fails


This is an automated notification sent by Savannah.
It relates to:
		bugs #9057, project Axiom Computer Algebra System

==============================================================================
 LATEST MODIFICATIONS of bugs #9057:
==============================================================================

               Posted by: Bill Page <billpage1>
               Posted on: 2005-01-22 05:50 (Canada/Eastern)
    _______________________________________________________

                  Status:                    None -> transferred            


==============================================================================
 OVERVIEW of bugs #9057:
==============================================================================

URL:
  <http://savannah.nongnu.org/bugs/?func=detailitem&item_id=9057>

                 Summary: product over product or sum fails
                 Project: Axiom Computer Algebra System
            Submitted by: kratt6
            Submitted on: Sat 05/22/2004 at 14:12
                Category: interpreter
                Severity: 5 - Average
              Item Group: code bug
                  Status: transferred
                 Privacy: Public
             Assigned to: billpage1
         Originator Name: Martin Rubey
        Originator Email: rubey@geometrie.tuwien.ac.at
             Open/Closed: Open
                 Release: tla from may 2004
         Reproducibility: None
           Fixed Release: 
           Error message:    >> Error detected within library code:
   not a kernel
Example of code trigerring the bug: f==n+->product(sum(1/i,i=1..j),j=1..n)
f(1)

f==n+->product(product(1/i,i=1..j),j=1..n)
f(1)

f==n+->sum(sum(1/i,i=1..j),j=1..n)
f(1)
          Internal cause: it might be that the problem is in iidprod in
combfunc.spad: if I understand correctly, its last line 

 */[eval(first l,k::K,i::F) for i in r1::Z .. r2::Z]

evaluates product's first argument for each value of the product variable and
then multiplies the resulting list together. However, for some reason the eval
fails. I was unable to find out why eval fails. A hint might be that the
operation "summation" is not called anymore. I don't even know which
operation "eval" is called...

Same thing for iidsum.

    _______________________________________________________


it seems that products and sums cannot be nested. However, the following
works:

 g:=operator 'g
 f==n+->sum(g(j),j=1..n)
 f(1)

\start
Date: Fri, 21 Jan 2005 23:58:35 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [bugs #4553] (new) one? function calls need to be restored

This is an automated notification sent by Savannah.
It relates to:
		bugs #4553, project Axiom Computer Algebra System

==============================================================================
 LATEST MODIFICATIONS of bugs #4553:
==============================================================================

               Posted by: Bill Page <billpage1>
               Posted on: 2005-01-22 05:58 (Canada/Eastern)
    _______________________________________________________

                  Status:                    None -> transferred            


==============================================================================
 OVERVIEW of bugs #4553:
==============================================================================

URL:
  <http://savannah.nongnu.org/bugs/?func=detailitem&item_id=4553>

                 Summary: one? function calls need to be restored
                 Project: Axiom Computer Algebra System
            Submitted by: dmentre
            Submitted on: Thu 07/31/2003 at 17:05
                Category: algebra
                Severity: 3 - Ordinary
              Item Group: code bug
                  Status: transferred
                 Privacy: Public
             Assigned to: None
         Originator Name: Tim Daly
        Originator Email: axiom@tenkan.org
             Open/Closed: Open
                 Release: Thursday June 5, 2003 at 14:52:04
         Reproducibility: None
           Fixed Release: 
           Error message: 
Example of code trigerring the bug: 
          Internal cause: 

    _______________________________________________________




    _______________________________________________________

Follow-up Comments:


-------------------------------------------------------
Date: Tue 10/14/2003 at 21:44       By: Dylan Thurston <dpt>
I don't understand this bug: is there a problem with the current behaviour? 
There are many commented out calls to 'one?' in the tree; should they just be
restored, now that 'onep' has been defined as a macro in the lisp?

\start
Date: Fri, 21 Jan 2005 23:58:18 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [bugs #4552] (new) protect* functions should be #:NAG only

This is an automated notification sent by Savannah.
It relates to:
		bugs #4552, project Axiom Computer Algebra System

==============================================================================
 LATEST MODIFICATIONS of bugs #4552:
==============================================================================

               Posted by: Bill Page <billpage1>
               Posted on: 2005-01-22 05:57 (Canada/Eastern)
    _______________________________________________________

                  Status:                    None -> transferred            


==============================================================================
 OVERVIEW of bugs #4552:
==============================================================================

URL:
  <http://savannah.nongnu.org/bugs/?func=detailitem&item_id=4552>

                 Summary: protect* functions should be #:NAG only
                 Project: Axiom Computer Algebra System
            Submitted by: dmentre
            Submitted on: Thu 07/31/2003 at 17:03
                Category: interpreter
                Severity: 5 - Average
              Item Group: code bug
                  Status: transferred
                 Privacy: Public
             Assigned to: None
         Originator Name: Tim Daly
        Originator Email: axiom@tenkan.org
             Open/Closed: Open
                 Release: Thursday June 5, 2003 at 14:52:04
         Reproducibility: None
           Fixed Release: 
           Error message: 
Example of code trigerring the bug: 
          Internal cause: 

\start
Date: Sat, 22 Jan 2005 04:56:11 -0500
From: Tim Daly
To: list
Subject: Re: MacOS X development

Chuck,

(Please be sure to copy list as there are
 others on this list who know a lot more than I do and can help)

> I managed to get gcl-2.6.6 to compile on Mac OS X (10.3.7).
> Initially it hung up for not finding libintl.h which seems
> to be part of the GNU gettext package.  So I downloaded and
> and tried to install gettext and libconv which are related
> (circularly).  The gettext package never finished making 
> because of not finding the javac compiler.  But enough did
> so that "make install" provided whatever gcl needed to finish.
> 
> As I understand it these packages are primarily for 
> "internationalization" which sounds worthy but I don't think
> should be allowed to abort a gcl make - just do it with
> fewer facilities.  But I may not know what is going on.
> 
> I then tried axiom again hoping it would use the gcl-2.6.6
> that I installed.  Previously axiom was hanging at the same 
> place gcl did.  But this time it hung quickly as follows:
> 
> ----snipped end of output ----
> 
> 1 making /Users/cfm/dev-nobu-extra/axiom/src/scripts
> 17 making /Users/cfm/dev-nobu-extra/axiom/src/lib
> 18 making /Users/cfm/dev-nobu-extra/axiom/obj/linux/lib/fnct_key.o from
> /Users/cfm/dev-nobu-extra/axiom/int/lib/fnct_key.c
> /Users/cfm/dev-nobu-extra/axiom/int/lib/fnct_key.c: In function
> `handle_function_key':
> /Users/cfm/dev-nobu-extra/axiom/int/lib/fnct_key.c:339: error: `SIGCLD'
> undeclared (first use in this function)
> /Users/cfm/dev-nobu-extra/axiom/int/lib/fnct_key.c:339: error: (Each
> undeclared identifier is reported only once
> /Users/cfm/dev-nobu-extra/axiom/int/lib/fnct_key.c:339: error: for each
> function it appears in.)
> make[3]: *** [/Users/cfm/dev-nobu-extra/axiom/obj/linux/lib/fnct_key.o]
> Error 1
> make[2]: *** [libdir] Error 2
> make[1]: *** [srcsetup] Error 2
> make: *** [all] Error 2



in src/lib/fnct_key.c.pamphlet there should be some text at the top
that reads:

\section{MAC OSX port}
On the MAC OSX the signal [[SIGCLD]] has been renamed to [[SIGCHLD]].
In order to handle this change we need to ensure that the platform
variable is set properly and that the platform variable is changed
everywhere.
<<mac os signal rename>>=
 #if defined(MACOSXplatform)
        bsdSignal(SIGCHLD, null_fnct,RestartSystemCalls);
#else
        bsdSignal(SIGCLD, null_fnct,RestartSystemCalls);
#endif
@

In the top level Makefile.pamphlet at around line 1687 you'll see that
there is a subsection for the MACOSX. At line 1702 you'll see that it
defines the shell variable 'PLF' thus:

# Platform variable
PLF=MACOSXplatform

So you should be setting your AXIOM shell variable like:

export AXIOM=`pwd`/mnt/MACOSX

This will invoke the code in the Makefile.MACOSX subsection
during build which will define the proper PLF.


======================================================================
(Pierre, I suspect you're new to axiom development. Pamphlet files
are "literate programs". They are basically latex files that use
two additional features. 

Feature 1 is that you can quote text by enclosing it in [[ ]] pairs
This is used to protect things like pathnames in explanations.

Feature 2 is that you can inline source code (the point of a literate
program) by defining "chunks". A chunk is defined by enclosing code
in << >>= where the text between can be anything. A chunks is multi-line
and ends with an '@' in column 1. Thus in the above we see:

<<mac os signal rename>>=
   code we are defining
@

and when you want to insert the code you make a reference by leaving
off the trailing '=' sign. A preprocessor (notangle) will expand this
before latex see it so both of these features are transparent to latex.
Thus in the file, where the code should be we will see:

<<mac os signal rename>>

\start
Date: Sat, 22 Jan 2005 02:53:23 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#17 algebra BOOTSTRAP fixed point] ONEP removed globally

The ONEP change is mine. ONEP is a CCL function, not a common lisp function.
The question that needs to be answered in order to implement ONEP in
common lisp is what is the representation of '1' in various domains?

Notice that in a domain 'foo = 1' is a spad way of asking the question.
This used to be the way it was done but NAG changed it in the CCL 
implementation (probably for efficiency). 

Since I couldn't decide what the exact semantics of ONEP are I took
the safest route.

\start
Date: Sat, 22 Jan 2005 04:30:02 -0500
From: Tim Daly
To: list
Subject: book--main--1--patch-6

book--main--1--patch-6

I've uploaded changes to vol1 (tutorial), vol3 (reference) and 
vol 4 (developer) to add a new section about ideas that need
to be integrated into the text.

I'm working my way back thru the axiom-developer emails and as
I find emails that should be covered in the books these get 
copied verbatim into the end of the texts. These need to be
rewritten.

20050122 tpd rewrote README
20050122 tpd added email to bookvol4
20050122 tpd added email to bookvol2
20050122 tpd added email to bookvol1

\start
Date: Sat, 22 Jan 2005 03:53:38 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#46 termio vs ptermio] (new) 

On Tue, 4 Jan 2005, root wrote:

| > Is this a known issue?
|
| it is now :-)
|
| i'll have to check what versions of the compiler i'm using.
| i'll also check whether ptermio is used.

Well, I think my brain is now somewhere in the middle of the atlantic
ocean, so I'm getting  better :-)  I looked into edible.c.
The code at issue is:

#ifdef logterm
    {
      struct termio ptermio;
      char pbuff[1024];
      tcgetattr(contNum, &ptermio);
      sprintf(pbuff, "child's settings: Lflag = %d, Oflag = %d, Iflag = %d\n",
              ptermio.c_lflag, ptermio.c_oflag, ptermio.c_iflag);
      write(logfd, pbuff, strlen(pbuff));
    }
#endif

line 276 is
      struct termio ptermio;

so:
  (1) it looks to me that the error is a mispelling:
      'struct termios' should 'struct termio'.

  (2) ptermio is indeed used.

Correcting (1) as indicated led to a successful compilation.
The whole axiom build is still underway.

\start
Date: Sat, 22 Jan 2005 03:55:35 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#46 termio vs ptermio] further info

| On Tue, 4 Jan 2005, root wrote:
| 
| | > Is this a known issue?
| |
| | it is now :-)
| |
| | i'll have to check what versions of the compiler i'm using.
| | i'll also check whether ptermio is used.
| 
| Well, I think my brain is now somewhere in the middle of the atlantic
| ocean, so I'm getting  better :-)  I looked into edible.c.

No, not better ;-/

| The code at issue is:
| 
| #ifdef logterm
|     {
|       struct termio ptermio;
|       char pbuff[1024];
|       tcgetattr(contNum, &ptermio);
|       sprintf(pbuff, "child's settings: Lflag = %d, Oflag = %d, Iflag = %d\n",
|               ptermio.c_lflag, ptermio.c_oflag, ptermio.c_iflag);
|       write(logfd, pbuff, strlen(pbuff));
|     }
| #endif
| 
| line 276 is
|       struct termio ptermio;
| 
| so:
|   (1) it looks to me that the error is a mispelling:
|       'struct termios' should 'struct termio'.

That is inverted:  it is 'struct termio' (current code) that should be
'struct termios'. 

\start
Date: Sat, 22 Jan 2005 03:58:46 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#46 termio vs ptermio] yet more info

| Gabriel,
| 
| Steve Wilson points out that the CHANGELOG contains the lines:
| 
| 20041116 tpd src/clef/edible.c termios -> termio
| 20040730 sxw src/clef/edible.c termio -> termios
| 
| so it appears that on some systems we need termio and
| on others we need termios.

I see.  I can confirm that on GNU/Linux, and generally (recent) glibc
systems, one needs termios.  I also looked on solaris plateforms
(apparently currently not supported by axiom), one needs termios there
too. 
I guess that is something one would need to test for at configure time. 

| Steve believes that this is dead code because at the top
| of the file we see:
| 
| #ifdef unlikely
| ...
| #define logterm
| 
| and the termios code is protected by 
| #ifdef logterm

I can see that the fragment is guarded by 
  
   #ifdef logterm

but for some reasons that code is reached on my system (SuSE-9.0, 
with glibc-2.3.2).

GCC with the option -dM dumps macros that are defined.  I can confirm
that gcc -E -dM edible.c shows a line where logterm is defined.  More
precisely, I have the following

   [....]
   #define _SC_2_PBS_MESSAGE _SC_2_PBS_MESSAGE
   #define _GCC_SIZE_T 
   #define CEOT CEOF
   #define logterm 1  /* <===== here */
   #define __INO64_T_TYPE __UQUAD_TYPE
   #define _SC_AVPHYS_PAGES _SC_AVPHYS_PAGES
   #define _IO_LINKED 0x80
   [....]

so my gut feeling is that that macro gets defined as internal to some
system header files.  

That gut feeling turns out to be wrong, as replacing logterm with
AXIOM_LOGTERM throughout edible.c still leads to the same problem.
So I operated on a second assumption: the macro "unlikely" must have
been defined somewhere else.  Bingo!  With the help of gcc -E -dM, I
could spot

    [...]
    #define __KEY_T_TYPE __S32_TYPE
    #define sigev_notify_function _sigev_un._sigev_thread._function
    #define likely(x) __builtin_expect((x),1)   /* <==== here */
    #define FAPPEND O_APPEND
    #define _XOPEN_ENH_I18N 1
    [...] 
    #define F_ULOCK 0
    #define errno (*__errno_location ())
    #define unlikely(x) __builtin_expect((x),0) /* <=== here too */
    #define EL2NSYNC 45
    #define _IO_off64_t _G_off64_t
    [...]

I can't tell you right now which system header files define those
questionable macros (I know what they mean, but I don't see what they
are doing there).  It seems that some glibc-based systems have taken
the right to hijack those names.  
Maybe Axiom might prefer to spell its macros all in caps, and probably
prefixed with AXIOM_ ...

| still checking....

I hope the above helps.

\start
Date: Sat, 22 Jan 2005 04:00:35 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#46 termio vs ptermio] continuing

| Gabriel,
| 
| Ok. I'm closer.
| I was working on a BSD port at the time and it is likely that
| BSD wants termio while linux wants termios.

ah, that is the most likely reason.

| 
| Can you modify the pamphlet file back to the original form,
| type make, and send me the console log?

\start
Date: Sat, 22 Jan 2005 11:16:01 +0100
From: Pierre Doucy
To: Tim Daly
Subject: re: MacOS X development

OK, in order,

I'm confortable with X11, and using it extensively, so no problem from there.

I had already tried to build axiom with 'linux' as a platform, and was
able to correct the few problems you talk about in the past few
messages of this thread. I also noticed the MACOSX target (as
discussed in a previous thread in the mailing list) - which should be
advertised by configure, by the way.

I'm now working with the axiom--MACOSX--1 branch, which seems to
correct the libintl and SIGCHLD problems. Now my problem is in wct.c,
with errors related to time.h. Quite weird because if I compile the
same code somewhere else it just works...

I'm also confortable with literate programming, so no problem here either.

My questions were more like : 
- "how should the patches be made; i.e. in a gentle manner so that the
MACOSX and main branches can be merged, or can they remain separate ?"
If I understand well the past few messages, main and MACOSX have to be
able to be merged at some point.

- Is there a defined plans, or is there already some people working
seriously on it, who have gone further in the process of building
axiom in a Mac, but haven't commited it yet, so that I don't duplicate
their work ?

\start
Date: Sat, 22 Jan 2005 03:57:08 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#46 termio vs ptermio] more info

| Gabriel,
| 
| hmm, can you do me a favor and try the following:
| 
| cd obj/linux/clef
| gcc -E edible.c
| 
| and look for the lines:
| 
| /usr/include/termios.h

The directive

    #include <termios.h> 

gets expanded as expected.

| 
| and
| 
| struct termios

that strucrure is defined as expected -- it is at several place in
edible.c.  The only problematic place is at line 276, where "struct
termio" (without 's') used used instead of of "struct termios".

Correcting what I believe to be the missing "s", allowed me to build
and install axiom. 

| these must be included in your system somewhere or the build
| would fail at the include step.

Indeed.

| In fact, it would be interesting to see the output of the gcc -E edible.c
| line.

see attached.

\start
Date: Sat, 22 Jan 2005 04:20:27 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#47 complexForm(log(%i) - log(-%i))] (new) 

Is the following a case of total simplification failure (a certain
bug from the user's point... unless AXIOM is not targeted for
Martians who as known have no need in simplification whatsoever :)

or

it is still possible to get  %pi  out of the lengthy expression
%i*log(-%i) - %i*log(%i)

?

Given my previous posting about complexForm, I mean maybe just a way
to expel those nasty logarithms and see the real and imaginary parts
not intertwined rather than a correct answer.

Any, maybe even a very cumbersome way?

.....................................................................

-> simplify(%i*log(-%i) - %i*log(%i))

     %i log(- %i) - %i log( %i)

-> normalize(%i*log(-%i) - %i*log(%i))

     %i log(- %i) - %i log( %i)
     
-> complexNormalize(%i*log(-%i) - %i*log(%i))

     %i log(- %i) - %i log( %i)
     
.....................................................................

======================================================================



AXIOM Version of Wednesday December 15, 2004 at 00:50:38

AXIOM ->         complexForm(log(%i) - log(-%i))

                 0

COMPARE:

Derive 6.1>      LOG(#i) - LOG(-#i)
Maple 9.5.2>     ln(I) - ln(-I);
MuPAD 3.1>       ln(I) - ln(-I);
Mathematica 5.1> Log[I] - Log[-I]
Maxima 5.9.1>    RECTFORM(LOG(%I) - LOG(-%I));

                 #i*pi
                 I*Pi
                 I*PI
                 I*Pi
                 %I %PI

======================================================================

Vladimir Bondarenko writes:
 > AXIOM ->         complexForm(log(%i) - log(-%i))
 > 
 >                  0

could you please file this as a bug on issuetracker? The problem is in the
operation "argument":

(8) -> argument(%i)

        %pi
   (8)  ---
         2
                                                     Type: Expression Integer
(9) -> argument(-%i)

        %pi
   (9)  ---
         2
                                                     Type: Expression Integer

the latter should be -pi/2, of course. The problem is in gaussian.spad,
COMPCAT:

       if R has TranscendentalFunctionCategory then
         half := recip(2::R)::R

         if R has RealNumberSystem then
           atan2loc(y: R, x: R): R ==
               pi1 := pi()$R
               pi2 := pi1 * half
               x = 0 => if y >= 0 then pi2 else -pi2

               -- Atan in (-pi/2,pi/2]
               theta := atan(y * recip(x)::R)
               while theta <= -pi2 repeat theta := theta + pi1
               while theta >   pi2 repeat theta := theta - pi1

               x >= 0 => theta      -- I or IV

               if y >= 0 then
                   theta + pi1      -- II
               else
                   theta - pi1      -- III

           argument x == atan2loc(imag x, real x)

         else
           -- Not ordered so dictate two quadrants
           argument x ==
             zero? real x => pi()$R * half
             atan(imag(x) * recip(real x)::R)

so the problem occurs if R does not have "RealNumberSystem":

(15) -> argument(-%i*1.0)

   (15)  - 1.5707963267 948966192

since Float does have RNS, but INT does not. I'm not quite sure what the
condition should be. OrderedSet?

\start
Date: Sat, 22 Jan 2005 06:14:41 -0500
From: Tim Daly
To: Kostas Oikonomou
Subject: uname -s

Kostas,

Pierre brought up an item about configure.
Currently configure only knows about linux and the windows port.
The information is gathered from the output of uname -s

Could you run uname -s and send me the output so I can fix configure
to work on solaris?

\start
Date: Sat, 22 Jan 2005 06:12:24 -0500
From: Tim Daly
To: Pierre Doucy
Subject: re: MacOS X development

Pierre,

> I had already tried to build axiom with 'linux' as a platform, and was
> able to correct the few problems you talk about in the past few
> messages of this thread. I also noticed the MACOSX target (as
> discussed in a previous thread in the mailing list) - which should be
> advertised by configure, by the way.

configure is just a shell script. If you look at the first four lines
they say:

# The sysname function uses uname -s to try to decode what kind of
# system to build. Currently the return value of uname is mapped as
#       Linux          --> linux
#       MINGW32_NT-5.1 --> windows

which is information generated by 'uname -s'

If you send me the output from that call I can fix the script.


> I'm now working with the axiom--MACOSX--1 branch, which seems to
> correct the libintl and SIGCHLD problems. Now my problem is in wct.c,
> with errors related to time.h. Quite weird because if I compile the
> same code somewhere else it just works...

Post the failure to list as see if anyone 
has a clue.

> My questions were more like : 
> - "how should the patches be made; i.e. in a gentle manner so that the
> MACOSX and main branches can be merged, or can they remain separate ?"
> If I understand well the past few messages, main and MACOSX have to be
> able to be merged at some point.

Patches are actually made by hand. I don't use a patching program.
The main point of a patch is that it needs to be documented. The
last merge I did, from axiom--windows, was a real horror show as
there was almost no documentation.

Basically I do a recursive diff, find every difference in every file
and look at the modification. If the mod makes sense (documentation
helps here) and the change seems reasonable I hand-apply the change
to the axiom--main branch, rebuild and test. If the change passes
testing then it remains. Rinse and repeat...

> - Is there a defined plans, or is there already some people working
> seriously on it, who have gone further in the process of building
> axiom in a Mac, but haven't commited it yet, so that I don't duplicate
> their work ?

Chuck Miller is the only other MAC person that I'm aware of.
He and I worked on his machine originally which is where the SIGCHLD
and libintl issues were first found. Not being a MAC person myself
I did not know how to install new software so the library issue was
a show-stopper for me.

As to defined plans.... my plan is to follow you and Chuck. When
you have a working version for the MAC and upload the changes
then I'll diff the axiom--MACOSX branch and merge it back into
the axiom--main branch.

\start
Date: Sat, 22 Jan 2005 06:14:40 -0600
From: MathAction (HPW)
To: MathAction
Subject: [DefiniteIntegration] 

Another definite integral
\begin{axiom}
integrate(x^n*exp(-x^2/2), x=0..%plusInfinity,"noPole")
\end{axiom}

\start
Date: Sat, 22 Jan 2005 06:22:35 -0600
From: MathAction (HPW)
To: MathAction
Subject: [DefiniteIntegration] 

??changed:
-What if the positive Integer is declare as a positiveInteger
What if the positive Integer is declare as a positiveInteger 
or even chosen, say, as 2:

++added:
integrate(x^2*exp(-x^2/2), x=0..%plusInfinity)

\start
Date: Sat, 22 Jan 2005 06:20:44 -0600
From: MathAction (HPW)
To: MathAction
Subject: [DefiniteIntegration] 

++added:

What if the positive Integer is declare as a positiveInteger
\begin{axiom}
n:PositiveInteger
integrate(x^n*exp(-x^2/2), x=0..%plusInfinity)
\end{axiom}

\start
Date: Sat, 22 Jan 2005 09:40:07 -0500
From: Kostas Oikonomou
To: Tim Daly
Subject: Re: uname -s

bash-2.05$ uname -s
SunOS
bash-2.05$

And the more informative
bash-2.05$ uname -a
SunOS wiley 5.9 Generic_112233-08 sun4u sparc SUNW,Ultra-60
bash-2.05$

> Kostas,
>
> Pierre brought up an item about configure.
> Currently configure only knows about linux and the windows port.
> The information is gathered from the output of uname -s
>
> Could you run uname -s and send me the output so I can fix configure
> to work on solaris?

\start
Date: Sat, 22 Jan 2005 09:58:00 -0500
From: Kostas Oikonomou
To: list
Subject: Re: Graphics and Axiom (was Re: touchgraph, hypertex,

Tim,

In "Re: Graphics and Axiom (was Re: touchgraph, hyperte=
x,"
you wrote, among other things,

> On the practical, near-term front I've got to get graphics (and
> hypertex) running on windows. To that end I'm rewriting the C code
> into common lisp and using TK as the front-end. This will make the
> graphics instantly portable and much more maintainable. But the long
> term effect will be that the graphics code is written in the samelangua=
ge and can be run in the same image as the algebra.

Using TK for at least hypertex sounds like a great idea to me.  Hypertex =
as
it is looks definitely dated. Will the TK version be available to the Uni=
x Axiom also?

\start
Date: 22 Jan 2005 10:41:59 -0500
From: Camm Maguire
To: Ralf Hemmecke
Subject: re: Axiom/Aldor

Greetings!

Ralf Hemmecke writes:

> I run Debian/Sarge and unfortunately binutils-dev was not installed.
> How should I have guessed the package name if 'make' just tells me
> that bfd.h is missing?
> 
> Is it somewhere explicitly written which packages I have to install in
> order to compile something like axiom--main--1--patch-24? Ehm, I guess
> this branch is different from the debian axiom-source package, right?
> 

Yes.  In the latter, the build-dependencies are listed at the head of
the file debian/control, and apt-get -b source axiom will abort with a
descriptive error if any dependencies are not installed.

> A good place for a description of required software would be
> arch.axiom-developer.org or even in a README in the root of the Axiom
> source tree. Better still would be if ./configure tells you that the
> compilation will not succeed since there is something to install
> beforehand.

Agreed.

Take care,

> 
> Ralf
> 
> 
> 
> Camm Maguire wrote:
> > Greetings!
> > Tim Daly writes:
> >
> >>>>bft.h? or bfd?
> >>>>
> >>>>what system are you running on?
> >>>
> >>>fat_string.c:17:17: bfd.h: No such file or directory
> >>>fat_string.c:18:21: bfdlink.h: No such file or directory
> >>>fat_string.c:229: error: parse error before "bfd_combined_table_update"
> >>>fat_string.c:229: error: parse error before "PTR"
> >>>
> >>>uname -a
> >>>Linux rose 2.4.25-1-386 #2 Wed Apr 14 19:38:08 EST 2004 i686 GNU/Linux
> >>>It's Debian Sarge.
> >>
> >>I'd have expected GCL to build on Debian with no problem since
> >>that's Cammm's development environment.
> >>
> >>try this:
> >>
> >>make clean
> >>edit lsp/Makefile.pamphlet
> >>find the ./configure line and change the options to:
> >>
> >>--enable-vssize=65536*2 --enable-locbfd --disable-dynsysbfd --disable-statsysbfd --enable-maxpage=128*1024
> >>
> >>and see if that cures it.
> >>
> > This should do it, as well as installing binutils-dev which the user
> > appears to be missing.  The build-dependencies for all Debian packages
> > are listed in the head of the debian/control file.  If one really
> > wants automated building on Debian, 'apt-get -q -b source gcl' will
> > either produce an installable .deb or fail listing the
> > build-dependencies which are missing.  Take care,

\start
Date: 22 Jan 2005 11:37:40 -0500
From: Camm Maguire
To: Tim Daly
Subject: re: MacOS X development

Greetings!

Just a note -- gcl requires several GNU tools to compile on macosx at
present.  Fortunately these are routinely available via the 'fink'
mechanism.  Here are the environment variables that need setting in a
typical configuration:

export PATH=/sw/bin:/sw/sbin:/usr/local/bin:$PATH # I don't think these are actually
export LIBRARY_PATH=/sw/lib
export C_INCLUDE_PATH=/sw/include
export CPPFLAGS="-no-cpp-precomp"


Take care,

Tim Daly writes:

> Chuck,
> 
> (Please be sure to copy list as there are
>  others on this list who know a lot more than I do and can help)
> 
> > I managed to get gcl-2.6.6 to compile on Mac OS X (10.3.7).
> > Initially it hung up for not finding libintl.h which seems
> > to be part of the GNU gettext package.  So I downloaded and
> > and tried to install gettext and libconv which are related
> > (circularly).  The gettext package never finished making 
> > because of not finding the javac compiler.  But enough did
> > so that "make install" provided whatever gcl needed to finish.
> > 
> > As I understand it these packages are primarily for 
> > "internationalization" which sounds worthy but I don't think
> > should be allowed to abort a gcl make - just do it with
> > fewer facilities.  But I may not know what is going on.
> > 
> > I then tried axiom again hoping it would use the gcl-2.6.6
> > that I installed.  Previously axiom was hanging at the same 
> > place gcl did.  But this time it hung quickly as follows:
> > 
> > ----snipped end of output ----
> > 
> > 1 making /Users/cfm/dev-nobu-extra/axiom/src/scripts
> > 17 making /Users/cfm/dev-nobu-extra/axiom/src/lib
> > 18 making /Users/cfm/dev-nobu-extra/axiom/obj/linux/lib/fnct_key.o from
> > /Users/cfm/dev-nobu-extra/axiom/int/lib/fnct_key.c
> > /Users/cfm/dev-nobu-extra/axiom/int/lib/fnct_key.c: In function
> > `handle_function_key':
> > /Users/cfm/dev-nobu-extra/axiom/int/lib/fnct_key.c:339: error: `SIGCLD'
> > undeclared (first use in this function)
> > /Users/cfm/dev-nobu-extra/axiom/int/lib/fnct_key.c:339: error: (Each
> > undeclared identifier is reported only once
> > /Users/cfm/dev-nobu-extra/axiom/int/lib/fnct_key.c:339: error: for each
> > function it appears in.)
> > make[3]: *** [/Users/cfm/dev-nobu-extra/axiom/obj/linux/lib/fnct_key.o]
> > Error 1
> > make[2]: *** [libdir] Error 2
> > make[1]: *** [srcsetup] Error 2
> > make: *** [all] Error 2
> 
> 
> 
> in src/lib/fnct_key.c.pamphlet there should be some text at the top
> that reads:
> 
> \section{MAC OSX port}
> On the MAC OSX the signal [[SIGCLD]] has been renamed to [[SIGCHLD]].
> In order to handle this change we need to ensure that the platform
> variable is set properly and that the platform variable is changed
> everywhere.
> <<mac os signal rename>>=
>  #if defined(MACOSXplatform)
>         bsdSignal(SIGCHLD, null_fnct,RestartSystemCalls);
> #else
>         bsdSignal(SIGCLD, null_fnct,RestartSystemCalls);
> #endif
> @
> 
> In the top level Makefile.pamphlet at around line 1687 you'll see that
> there is a subsection for the MACOSX. At line 1702 you'll see that it
> defines the shell variable 'PLF' thus:
> 
> # Platform variable
> PLF=MACOSXplatform
> 
> So you should be setting your AXIOM shell variable like:
> 
> export AXIOM=`pwd`/mnt/MACOSX
> 
> This will invoke the code in the Makefile.MACOSX subsection
> during build which will define the proper PLF.
> 
> 
> ======================================================================
> (Pierre, I suspect you're new to axiom development. Pamphlet files
> are "literate programs". They are basically latex files that use
> two additional features. 
> 
> Feature 1 is that you can quote text by enclosing it in [[ ]] pairs
> This is used to protect things like pathnames in explanations.
> 
> Feature 2 is that you can inline source code (the point of a literate
> program) by defining "chunks". A chunk is defined by enclosing code
> in << >>= where the text between can be anything. A chunks is multi-line
> and ends with an '@' in column 1. Thus in the above we see:
> 
> <<mac os signal rename>>=
>    code we are defining
> @
> 
> and when you want to insert the code you make a reference by leaving
> off the trailing '=' sign. A preprocessor (notangle) will expand this
> before latex see it so both of these features are transparent to latex.
> Thus in the file, where the code should be we will see:
> 
> <<mac os signal rename>>
> ======================================================================

\start
Date: Sat, 22 Jan 2005 14:21:30 -0500
From: Tim Daly
To: Kostas Oikonomou
Subject: Re: Graphics and Axiom (was Re: touchgraph, hypertex,

> Using TK for at least hypertex sounds like a great idea to me.
> Hypertex as it is looks definitely dated. Will the TK version be
> available to the Unix Axiom also?

yes, it is intended to completely replace the current version.
the limited goal is to reproduce the look, feel, and content.
once that is done we can take it anywhere we're willing to implement.

\start
Date: Sat, 22 Jan 2005 12:24:36 -0800 (PST)
From: Cliff Yapp
To: Kostas Oikonomou,
Subject: Re: Graphics and Axiom (was Re: touchgraph, hypertex,

--- Kostas Oikonomou wrote:

> Using TK for at least hypertex sounds like a great idea to me. 
> Hypertex as it is looks definitely dated. Will the TK version be 
> available to the Unix Axiom also?

Correct me if I'm wrong Tim, but you're using this library to interface
with tk from lisp, correct?

http://www.peter-herth.de/ltk/

If so, it looks like ltk currently works on Linux and OSX already. 
Windows will probably (as usual) be the tricky part?

\start
Date: Sat, 22 Jan 2005 16:39:01 -0500
From: Tim Daly
To: Cliff Yapp
Subject: Re: Graphics and Axiom (was Re: touchgraph, hypertex,
Cc: Kostas Oikonomou

> > Using TK for at least hypertex sounds like a great idea to me. 
> > Hypertex as it is looks definitely dated. Will the TK version be 
> > available to the Unix Axiom also?
> 
> Correct me if I'm wrong Tim, but you're using this library to interface
> with tk from lisp, correct?
> 
> http://www.peter-herth.de/ltk/
> 
> If so, it looks like ltk currently works on Linux and OSX already. 
> Windows will probably (as usual) be the tricky part?

There is no such thing as a simple job.

There are several 'tricky' parts since I'm not a TK user. For example,
I have yet to figure out how to put an image in a window. Trivial things
like that take a while to figure out.

Yes, that is the package I'm using. Currently it uses facilities that
are not yet available in gcl so I'm using clisp. Either GCL will 
eventually support the defclass, etc or I'll rewrite ltk to stop
using defclass.

It works on linux and windows, runs on clisp, and lives in a separate
process so it hardly matters which lisp is used (that being the point).

\start
Date: Sat, 22 Jan 2005 15:38:34 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomGraphics] how graphics install windows

draw doesn't work,why

\start
Date: Sat, 22 Jan 2005 15:38:29 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomGraphics] how graphics install windows

draw doesn't work,why

\start
Date: Sat, 22 Jan 2005 16:08:43 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [AxiomGraphics] Axiom graphics needs X-windows

Axiom graphics requires an X-windows environment (unix/linux).
This is not available under native windows. Axiom graphics
may be re-written to no longer depend on X-windows and/or
it may be eventually be possible to build Axiom graphics in
CygWin with XWindows installed. But with the current version
for Axiom for windows, Axiom graphics is not available.

\start
Date: Sat, 22 Jan 2005 16:12:13 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [CygWin] (new) 

http://www.cygwin.com

What Is Cygwin?

  - Cygwin is a Linux-like environment for Windows.
    It consists of two parts: A DLL (cygwin1.dll) which
    acts as a Linux API emulation layer providing substantial
    Linux API functionality.

  - A collection of tools, which provide Linux look and feel.

The Cygwin DLL works with all non-beta, non "release candidate",
ix86 32 bit versions of Windows since Windows 95, with the
exception of Windows CE.

\start
Date: Sun, 23 Jan 2005 01:50:06 -0500
From: Bill Page
To: Pierre Doucy
Subject: RE: touchgraph, hypertex, hypergraph

On Friday, January 21, 2005 4:46 AM Pierre Doucy wrote:
>
> Bill Page wrote:
> > 
> > You are very welcome to try this again. I can provide you 
> > will a file in graphviz format that contains Axiom's algebra
> > dependencies.
> > 
> 
> OK, send it to me and I'll see what I can do.
>

Here is the Axiom algebra directed graph is Graphviz (dot)
format (158 Kb compressed):

http://page.axiom-developer.org/axiom-algebra.dot.gz

It contains a little over 50,000 arcs. Because of the way the
Axiom compiler reports the dependencies (i.e. the Loading ...
messages) many of these arcs are redundant. For example if we
have the arcs (dependencies):

  A -> B
  B -> C

then when compiling module A, the compiler may also include
the message "Loading C", resulting in the redundant arc:

  A -> C

Pruning these redundant arcs should reduce the size of
the graph considerably.

> 
> > [...]
> > Great. The Boost Graph Library looks quite complete. Thank you for
> > the reference. Would you or anyone else here be interested in
> > helping me get started with this, say finding the strongly connected
> > components in the Axiom algebra dependency graph? Can someone sketch
> > what would have to be done, e.g. starting like this:
> > 
> >   1) download the boost distribution from here
> >      http://sourceforge.net/project/showfiles.php?group_id=7586
> > 
> >   2) convert the Axiom algebra dependency graph to format X?
> > 
> >   3) run program Y? to load the graph
> > 
> >   4) run program Z? to list the strongly connected components.
> 
> I guess I can to it, but probably not before the beginning of 
> February.

Of course as your time permits.

> I've got quite a lot of material related to big graphs and 
> their algorithms.
> The graphviz format should be ok to work w/ your graph (unless
> you have specific needs that graphviz can't meet).
>

I think graphviz format is fine. For now all we need to do is
very simple (bug large) graph manipulations and visualization.
Later perhaps we might want to do much fancier things with
symbols, text and clickable links etc., but don't worry about
that now.

------

Having taken a closer look at Graphviz, I think it would be
quite nice to have Graphviz as an input format for MathAction
so that one could include Graphviz output in web pages like
this

\begin{graphviz}
 ... graphviz commands ...
\end{graphviz}

I notice that TeXmacs already includes a plug-in for
incorporating Graphviz graphs into documents. Neat.

----------

While looking for a quick way to convert GraphXML format
(what I am using now for the Axiom algebra graph) to the
Graphviz dot format, I stumbled across two things that
I found very interesting:

http://www.compendiumdev.co.uk/stareast2003/practical1_2.htm

Practical Experiences in Graph-Based Testing

Alan Richardson

Abstract
 
Herein you are introduced to different structural diagramming
techniques, but primarily the generic directed graph. Graph
usage is explained as part of a structured testing process
and during exploratory testing. The thought processes and
models of testing which have led to my usage of graphs are
examined. I will also list, review and comment on free and
inexpensive tools which you can use to incorporate graph based
tests into your testing process. 

-------

I also was fascinated by:
 
http://catamaran.labs.cs.uu.nl/twiki/pt/bin/view/Transform/WebHome

 The Program Transformation Wiki

Program transformation techniques are used in a many areas of
software engineering ranging from program synthesis, via program
optimization and program refactoring, to reverse engineering and
documentation generation. Many theories, tools and applications
have been developed over the last 30 years. Often the results of
these efforts are used only in the community that developed them.

-----

Here I found a program called GraphXML2dot. It turned out however
that although this was the "simple solution" that I was looking
for, it was not this program itself that was so interesting but
rather the language in which it was written called "Stratego".

http://catamaran.labs.cs.uu.nl/twiki/pt/bin/view/Stratego/WebHome

Stratego is a modular language for the specification of fully
automatic program transformation systems based on the paradigm of
rewriting strategies. The construction of transformation systems
with Stratego is supported by the XT bundle of transformation tools.
The Stratego/XT distribution integrates Stratego and XT.

---------

So typical of the web, my search for a simple solution lead to
investigating something quite different - more intelligent software
tools that might eventually be very useful for future development
of Axiom.

I have stated several times that I think further development of
Axiom reached a significant plateau some years based on it's
overall complexity, the available tools and basic human limitations.
Stratego and related tools might be one important way overcome some
of these limitations and let us get on with the job of testing,
debugging and improving Axiom.

\start
Date: Sun, 23 Jan 2005 07:12:15 -0600
From: MathAction (Martin Rubey)
To: MathAction
Subject: [#47 complexForm(log(%i) - log(-%i))] [#47 complexForm(log(%i) - log(-%i))] (new) 

OrderedRing probably. OrderedSet wouldn't make sense...

\start
Date: Sun, 23 Jan 2005 15:06:41 +0100
From: Martin Rubey
To: Bill Page
Subject: RE: [#8 (Savannah bug #9297) output misses some parenthesis] Why?

Bill Page writes:
 > Martin,
 > 
 > I am taking this discussion back over to axiom-developer to avoid extending
 > the issuetracker page for now.

Hm. I wouldn't do that, but it's ok for me. I think the discussion belongs to
issuetracker. axiom-developer gets a copy anyway. Never mind.

 > > I really don't understand why you think that it could be improved. (OK,
 > > certainly it can be improved, but only with *a lot* of work, including
 > > possibly a rewrite of the way OUTFORM works.
 > 
 > Why is it that the LaTeX output for this example:
 > \begin{axiom}
 > product(summation(i*j, i=a..b),j=c..d)
 > \end{axiom}
 > 
 > gets the parenthesis right but the text output version does not?


Ok, I looked at it more closely. Consider the two example-pairs:

-------------------------------------------------------------------------------
(9) -> product(summation(i*j, i=a..b),j=c..d)::OUTFORM::SEX

   (9)  (** (SIGMA2 (= i a) b (** i 2)) (+ d (+ (- c) 1)))
                                                            Type: SExpression
(10) -> summation(i^2^(d-c+1),i=a..b)::OUTFORM::SEX

   (10)  (SIGMA2 (= i a) b (** i (** 2 (+ d (+ (- c) 1)))))
                                                            Type: SExpression
-------------------------------------------------------------------------------

and

-------------------------------------------------------------------------------
 (11) -> sum(operator(f)(i)+1,i=1..n)::OUTFORM::SEX

   (11)  (SIGMA2 (= i 1) n (+ (f i) 1))
                                                            Type: SExpression

(12) -> (sum(operator(f)(i),i=1..n)+1)::OUTFORM::SEX

   (12)  (+ (SIGMA2 (= i 1) n (f i)) 1)
                                                            Type: SExpression
-------------------------------------------------------------------------------

So in both cases, the OUTFORM internally is different. The domain Tex works on
OUTFORM, and in the case of exponentiation "^" it seems to work well, in the
case of "+" this is not the case. I don't understand the algorithm.

I don't really understand how the interpreter converts OUTFORM to something
which is displayed on the screen. Very probably, this is done in
src/interp/i-output.boot, however, I find the code very difficult to read.

So I have to agree that OUTFORM is not simply broken. However, I still think
that my patch is better than none. I would never release Axiom without fixing
this somehow. 

There is another issue. What would you like as output? It seems to me, that the
only exceptional case is, if nothing appears to the right of sum or
product. Only in this case, parenthesis might be unnecessary. On the other
hand, how would you intuitively interpret an output like

   n
  --+
  >     f(i) + 1 ?
  --+
 i= 1

Is it (\sum_{i=1}^n f(i) ) + 1 or \sum_{i=1}^n (f(i) + 1) ?

Could we agree on adopting the quick fix for the first public release, but
leaving the issue open?

It's important to me, since my guessing program will very often produce this
ambigouus output.

\start
Date: Sun, 23 Jan 2005 10:23:01 -0600
From: MathAction (Kostas Oikonomou)
To: MathAction
Subject: [Axiom-mail] beginner question about sum(...)

I am trying to make Axiom evaluate sum(1/k^2, k=1..n).  It returns the sum
unevaluated.  I suspect that I should be using the sum functions defined
in package SUMRF, RationalFunctionSum, but how do I make Axiom use those
functions?  For example, I tried

(1) -> sum(1/k^2, k=1..n)$SUMRF

    Although RationalFunctionSum is the name of a constructor, a full
       type must be specified in the context you have used it. Issue
       )show RationalFunctionSum for more information.
(1) ->

I don't understand what I have to do here.  My understanding of Axiom's types,
domains, and packages is limited, but shouldn't sum(...) be smart enough by itself
to invoke the right "sum"?

\start
Date: Sun, 23 Jan 2005 13:13:17 -0500
From: Tim Daly
To: Kostas Oikonomou
Subject: Re: [Axiom-mail] beginner question about sum(...)

Kostas,

You can do some lower level debugging by first doing:

)set message bottomup on

\start
Date: Sun, 23 Jan 2005 13:21:07 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [Axiom-mail] beginner question about sum(...)

Kostas,

On Sunday, January 23, 2005 11:08 AM you wrote:
> 
> I am trying to make Axiom evaluate sum(1/k^2, k=1..n).  It 
> returns the sum unevaluated.  I suspect that I should be
> using the sum functions defined in package SUMRF,
> RationalFunctionSum, but how do I make Axiom use those
> functions?  For example, I tried
> 
> (1) -> sum(1/k^2, k=1..n)$SUMRF
> 
>   Although RationalFunctionSum is the name of a constructor,
>   a full type must be specified in the context you have used
>   it. Issue
>        )show RationalFunctionSum for more information.
> (1) ->
> 
> I don't understand what I have to do here.

You should follow the instructions that Axiom gives you. :)

)show RationalFunctionSum

says:

(2) -> )show RationalFunctionSum
 RationalFunctionSum R: Join(IntegralDomain,OrderedSet,
    RetractableTo Integer) is a package constructor
 Abbreviation for RationalFunctionSum is SUMRF
 This constructor is exposed in this frame.
 Issue )edit C:/Program Files/axiom/mnt/windows/../../src/algebra/SUMRF.spad
 to see algebra source code for SUMRF

------------------------------- Operations --------------------------------
 sum : (Polynomial R,Symbol) -> Fraction Polynomial R
 sum : (Fraction Polynomial R,Symbol) ->
       Union(Fraction Polynomial R,Expression R)
 sum : (Polynomial R,SegmentBinding Polynomial R) ->
       Fraction Polynomial R
 sum : (Fraction Polynomial R,SegmentBinding Fraction Polynomial R) ->
        Union(Fraction Polynomial R,Expression R)

--------

If you look carefully you will see that RationalFunctionSum requires
a paramter R that is one of IntegralDomain, OrderedSet, or at least
RetractableTo Integer

 RationalFunctionSum R: Join(IntegralDomain,OrderedSet,
                             RetractableTo Integer)

So try this:

(1) -> sum(1/k^2, k=1..n)$SUMRF INT

         n
        --+    1
   (1)  >     --
        --+    2
        k= 1  k
                                 Type: Union(Expression Integer,...)
(2) ->




>  My understanding of Axiom's types, domains, and packages is
> limited, but shouldn't sum(...) be smart enough by itself to
> invoke the right "sum"?

First, it is important to remember that Axiom types often have
parameters. SUMRF is a "constructor" - that means that it is a
"function" that expects to take as a parameter another type,
e.g. RationalFunctionSum(Integer), and returns a new type.

Second, there are many different "sum" functions in Axiom,
each with a different signature. Sometimes you have to specify
exactly which one you mean.

(2) -> )display op sum

There are 6 exposed functions called sum :
   [1] (D1,Symbol) -> D1 from FunctionSpaceSum(D3,D1)
            if D3 has Join(IntegralDomain,OrderedSet,RetractableTo
            Integer,LinearlyExplicitRingOver Integer) and D1 has Join(
            FunctionSpace D3,CombinatorialOpsCategory,
            AlgebraicallyClosedField,TranscendentalFunctionCategory)

   [2] (D1,SegmentBinding D1) -> D1 from FunctionSpaceSum(D3,D1)
            if D1 has Join(FunctionSpace D3,CombinatorialOpsCategory,
            AlgebraicallyClosedField,TranscendentalFunctionCategory)
            and D3 has Join(IntegralDomain,OrderedSet,RetractableTo
            Integer,LinearlyExplicitRingOver Integer)
   [3] (Polynomial D4,Symbol) -> Fraction Polynomial D4
            from RationalFunctionSum D4
            if D4 has Join(IntegralDomain,OrderedSet,RetractableTo
            Integer)
   [4] (Fraction Polynomial D4,Symbol) -> Union(Fraction Polynomial D4,
            Expression D4)
            if D4 has Join(IntegralDomain,OrderedSet,RetractableTo
            Integer)
   [5] (Polynomial D4,SegmentBinding Polynomial D4) -> Fraction
            Polynomial D4
            from RationalFunctionSum D4
            if D4 has Join(IntegralDomain,OrderedSet,RetractableTo
            Integer)
   [6] (Fraction Polynomial D4,SegmentBinding Fraction Polynomial D4)
             -> Union(Fraction Polynomial D4,Expression D4)
            from RationalFunctionSum D4
            if D4 has Join(IntegralDomain,OrderedSet,RetractableTo
            Integer)

There are 5 unexposed functions called sum :
   [1] (D2,D3,Segment D2) -> Record(num: D2,den: Integer)
            from InnerPolySum(D5,D3,D6,D2)
            if D2 has POLYCAT(D6,D5,D3) and D5 has OAMONS and D3 has
            ORDSET and D6 has INTDOM
   [2] (D2,D3) -> Record(num: D2,den: Integer) from InnerPolySum(D4,D3,
            D5,D2)
            if D4 has OAMONS and D3 has ORDSET and D5 has INTDOM and D2
            has POLYCAT(D5,D4,D3)
   [3] (OutputForm,OutputForm,OutputForm) -> OutputForm from OutputForm

   [4] (OutputForm,OutputForm) -> OutputForm from OutputForm
   [5] OutputForm -> OutputForm from OutputForm
(2) ->

----------

But if you don't need to specify which one, Axiom can often make
a reasonable choice based on default assumptions about types.

(2) -> sum(1/k^2, k=1..n)

         n
        --+    1
   (2)  >     --
        --+    2
        k= 1  k
                                          Type: Union(Expression
Integer,...)
(3) ->

-----------

Regards,
Bill Page.



_______________________________________________
Axiom-mail mailing list
Axiom-mail@nongnu.org
http://lists.nongnu.org/mailman/listinfo/axiom-mail

--
forwarded from http://page.axiom-developer.org/zope/mathaction/AxiomMail#msg000001c5017d$eb7ee970$6501a8c0@Asus



\start
Date: Sun, 23 Jan 2005 13:21:59 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [Axiom-mail] beginner question about sum(...)

Kostas,

My previous reply did not address the issue of the reason why
Axiom returns the sum unevaluated. Here is what I could find out:

On Sunday, January 23, 2005 11:08 AM you wrote:
> 
> I am trying to make Axiom evaluate sum(1/k^2, k=1..n).  It 
> returns the sum unevaluated.

I expect the reason that it returns unevaluated is because Axiom
is simply incomplete. For example Maple gives:

> sum(1/k^2, k=1..n);
                                      1   2
                     -Psi(1, n + 1) + - Pi 
                                      6    

Axiom does have the Polygamma function, so we can write:

(3) -> f1(n)==sum(1/k^2, k=1..n)
                                                                   Type:
Void
(4) -> f2(n)==-polygamma(1,n+1)+1/6*%pi^2
                                                                   Type:
Void
(5) -> f2(5)
   Compiling function f2 with type PositiveInteger -> DoubleFloat

   (5)  1.463611111111111
                                                            Type:
DoubleFloat
(6) -> f1(5)
   Compiling function f1 with type PositiveInteger -> Union(Fraction
      Polynomial Integer,Expression Integer)

        5269
   (6)  ----
        3600
                                          Type: Union(Expression
Integer,...)
(7) -> %::DFLOAT

   (7)  1.4636111111111112
                                                            Type:
DoubleFloat
(8) -> 

\start
Date: Sun, 23 Jan 2005 13:48:06 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#8 (Savannah bug #9297) output misses some parenthesis] 


??changed:
-Martin
Bill Page wrote:

Why is it that the LaTeX output for this example:
\begin{axiom}
)set output algebra off
product(summation(i*j, i=a..b),j=c..d)
\end{axiom}
 
gets the parenthesis right but the text output version does not?

Martin Rubey wrote: 
 
Ok, I looked at it more closely. Consider the two example-pairs:

\begin{axiom}
product(summation(i*j, i=a..b),j=c..d)::OUTFORM::SEX
summation(i^2^(d-c+1),i=a..b)::OUTFORM::SEX
\end{axiom}

and

\begin{axiom}
sum(operator(f)(i)+1,i=1..n)::OUTFORM::SEX
(sum(operator(f)(i),i=1..n)+1)::OUTFORM::SEX
\end{axiom}

So in both cases, the OUTFORM internally is different. The domain
Tex works on OUTFORM, and in the case of exponentiation "^" it
seems to work well, in the case of "+" this is not the case. I don't
understand the algorithm.
 
I don't really understand how the interpreter converts OUTFORM to
something which is displayed on the screen. Very probably, this is
done in src/interp/i-output.boot, however, I find the code very 
difficult to read.
 
So I have to agree that OUTFORM is not simply broken. 
However, I still think that my patch is better than none. I would
never release Axiom without fixing this somehow. 
 
There is another issue. What would you like as output? It seems to
me, that the only exceptional case is, if nothing appears to the
right of sum or product. Only in this case, parenthesis might be
unnecessary.  On the other hand, how would you intuitively interpret
an output like::
 
    n
   --+
   >     f(i) + 1 ?
   --+
  i= 1
 
Is it $(\sum_{i=1}^n f(i) ) + 1$ or $\sum_{i=1}^n (f(i) + 1)$ ?

Could we agree on adopting the quick fix for the first public 
release, but leaving the issue open?
 
It's important to me, since my guessing program will very 
often produce this ambigouus output.

\start
Date: Sun, 23 Jan 2005 14:42:34 -0500
From: Bill Page
To: Martin Rubey
Subject: RE: [#8 (Savannah bug #9297) output misses some parenthesis] Why?

On Sunday, January 23, 2005 9:07 AM Martin Rubey wrote:
> 
> Bill Page writes:
> > Martin,
> > 
> > I am taking this discussion back over to axiom-developer 
> > to avoid extending the issuetracker page for now.
> 
> Hm. I wouldn't do that, but it's ok for me. I think the
> discussion belongs to issuetracker. axiom-developer gets a
> copy anyway. Never mind.

You are right. I agree that it belongs on issuetracker. I was
wrong to change this. You said "never mind" but now that I
think about it, it bothers me that I did this. It may be
exactly this attitude that keeps people from using MathAction
interactively. Now I have caught even myself doing this!
Why is it so hard to think of using a web system in this way???
Apparently I do not even always understand my own perceptions
about this. :(

Anyway, I will copy your comments back over to issuetracker
and continue there.

\start
Date: Sun, 23 Jan 2005 14:01:53 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#8 (Savannah bug #9297) output misses some parenthesis] interpreting sums, quick fix

I think most people would agree only with the first interpretation
$(\sum_{i=1}^n f(i) ) + 1$

Since $\sum_{i=1}^n$ is an unary operator, e.g. like '-' in $-f(i)+1$,
it has higher precedence than any binary operator.

I have explained why I am (usually) very strongly opposed to
"quick fixes" - because then have a habbit of collecting and
never being really fixed. As soon as you do something expedient
it removes the pressure to find the proper solution and your
efforts are diverted by other "more important" things. If this
happens many times over, then all of these "quick fixes" become
frozen-in because to change any one of them means a major
re-design. My point of view is that better not to fix something
until you are quite sure that you have the most general solution.
But of course it is important to make such "errata" publically
available. Once an error like this is recognized, it can be
handled in the short term simply by giving a brief warning of
the problem.

\start
Date: Sun, 23 Jan 2005 17:54:38 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [Macsyma] (new) 

diff(x^2,x);<br>
<br>

\start
Date: Sun, 23 Jan 2005 19:42:28 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [Macsyma] 

In Axiom it's done like this:
\begin{axiom}
differentiate(x^2,x)
\end{axiom}

\start
Date: Mon, 24 Jan 2005 07:09:17 -0500
From: Tim Daly
To: Mike Dewar
Subject: Re: .pht files

just another one of those things that would benefit from a few
lines of documentation. sadly, it's THE system intended to 
document axiom. sigh.

\start
Date: Mon, 24 Jan 2005 10:54:33 +0000
From: Mike Dewar
To: Tim Daly
Subject: Re: .pht files

> What is a .pht file? How is it supposed to be displayed?
IIRC, it contains the textual output from running an AXIOM command.  If
you go into the examples section of hyperdoc you'll see examples of
AXIOM comamnds.  Clicking on the command itself causes a new interpreter
frame to be created which will execute the command.  Clicking on the
button to the left loads the saved output from the patch file.  The
patch files were generated automatically as part of the hyperdoc build 
process.

> It looks like it was supposed to change other pages after
> the fact. Was there ever any documentation on how to write one?
I don't think so.  It was one of those arcane things which "just worked"
when we got the system from you guys at IBM :-)

\start
Date: Mon, 24 Jan 2005 06:05:32 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] mmph

\begin{axiom}
((x + c)^2 + (k / (x + c))^2)/(x^2 + 1/x^2)
\end{axiom}

\start
Date: Mon, 24 Jan 2005 06:07:11 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] again

\begin{axiom}
((x + c)**2 + (k / (x + c))**2)/(x**2 + 1/x**2)
\end{axiom}

\start
Date: Mon, 24 Jan 2005 06:09:20 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] simplify?

\begin{axiom}
simplify(((x + c)**2 + (k / (x + c))**2)/(x**2 + 1/x**2))
\end{axiom}

\start
Date: Mon, 24 Jan 2005 06:33:15 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] solve?

\begin{axiom}
solve((((x + c)**2 + (k / (x + c))**2)/(x**2 + 1/x**2)), x + c = x * sqrt(k))
\end{axiom}

\start
Date: Mon, 24 Jan 2005 08:24:55 -0600
From: MathAction (Kostas Oikonomou)
To: MathAction
Subject: [Axiom-mail] beginner question about sum(...)

Bill,

Thanks very much for the elucidation.  By way of background, I have
been using Mathematica for about 10 years, and I'm contemplating a
switch to Axiom.

It seems that Axiom is, let's say, "conceptually", very advanced in
the sense of its domains, types, categories, etc.  Perhaps we could
call that its abstract mathematical knowledge.  This is notably absent
from Mathematica, until at least v5.0, which is almost current.

But I was disappointed by the sum(1/k^2, k=1..n) example.  I saw that
Gosper's method is implemented in sum.spad.pamphlet, but this (rather
simple) sum needs symbolic manipulation of gamma and psi functions,
which is not there.  More generally, special functions seem to be
handled only numerically.  At least for my prospective use of Axiom,
this points to a rather big "hole". And I wonder how many others of
this sort there are.

I also tried sum(1/(k*(k+a)), k=1..n).  That was also returned
unevaluated, although Gosper's method should handle it.  Why is that?
I don't mind reading the book, so if somewhere there is a discussion
of (limitations of) symbolic evaluation, please point me there.

					Kostas


> Kostas,
>
> My previous reply did not address the issue of the reason why
> Axiom returns the sum unevaluated. Here is what I could find out:
>
> On Sunday, January 23, 2005 11:08 AM you wrote:
>>
>> I am trying to make Axiom evaluate sum(1/k^2, k=1..n).  It
>> returns the sum unevaluated.
>
> I expect the reason that it returns unevaluated is because Axiom
> is simply incomplete. For example Maple gives:
>
>> sum(1/k^2, k=1..n);
>                                       1   2
>                      -Psi(1, n + 1) + - Pi
>                                       6
>
> Axiom does have the Polygamma function, so we can write:
>
> (3) -> f1(n)==sum(1/k^2, k=1..n)
>                                                                    Type:
> Void
> (4) -> f2(n)==-polygamma(1,n+1)+1/6*%pi^2
>                                                                    Type:
> Void
> (5) -> f2(5)
>    Compiling function f2 with type PositiveInteger -> DoubleFloat
>
>    (5)  1.463611111111111
>                                                             Type:
> DoubleFloat
> (6) -> f1(5)
>    Compiling function f1 with type PositiveInteger -> Union(Fraction
>       Polynomial Integer,Expression Integer)
>
>         5269
>    (6)  ----
>         3600
>                                           Type: Union(Expression
> Integer,...)
> (7) -> %::DFLOAT
>
>    (7)  1.4636111111111112
>                                                             Type:
> DoubleFloat
> (8) ->

\start
Date: Mon, 24 Jan 2005 12:05:23 -0600
From: Tim Daly
To: list
Subject: Freshmeat Axiom page

Does anyone know who owns the Axiom page on Freshmeat?

\start
Date: Mon, 24 Jan 2005 10:37:14 -0800
From: Bob McElrath
To: Tim Daly
Subject: Re: Freshmeat Axiom page

root [Tim Daly] wrote:
> Does anyone know who owns the Axiom page on Freshmeat?

No, but you can email him/her through freshmeat:

  http://freshmeat.net/email/kratt6  

his email is axiomize at yahoo dot de.

\start
Date: Mon, 24 Jan 2005 13:22:46 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [AxiomInterface] 


++added:
The first thing in your reply should not be an Axiom command

++added:
You have to put Axiom commands between !\begin{axiom} ... \end{axiom}
\begin{axiom}
integrate(x^2,x)
\end{axiom}

++added:
Put some explanation first, then the Axiom command. Also since
the variable name 'k' was used previously on this page it is a
good idea to put the command
\begin{axiom}
)clear all
\end{axiom}
before your new commands.

++added:
Again, it is important that the first line of your reply not be !\begin{axiom}

++added:
This was ok because the first line was a blank line.

++added:
I wonder what you are trying to do here?

\start
Date: Mon, 24 Jan 2005 14:12:04 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [DefiniteIntegration] declaring 'n' as	PositiveInteger

I think the idea that one should be able to "declare the type" of a
variable in Axiom by the command
\begin{axiom}
n:PositiveInteger
\end{axiom}

is a frequent expectation of new users of Axiom - especially if one
have used other computer algebra systems, after all Axiom is supposed
to be a "strongly typed" system, right? Certainly I was surprized (and
disappointed) by Axiom's limitations in this reguard.

Unfortunately Axiom does not attempt to use this type information
when forming expressions - but worse - declaring the type actually
interferes with the use of the variable to form expressions!

When you write
\begin{axiom}
n:PositiveInteger
\end{axiom}
what this tells Axiom is that 'n' will be assigned an integer
value greater than 0 - only that. After it is actually assigned
some value, then it can be used exactly like that value, but
not before.

To me, this is a tremedous waste of an opportunity in Axiom to
to deal with "domain of computation" issues such as are
addressed in other untyped computer algebra systems by the use
of "assumptions" such as::

  assume(x,PositiveInteger);

Such knowledge can be used to considerably improve the quality
and generality of the computations.

\start
Date: Mon, 24 Jan 2005 15:03:25 -0500 (EST)
From: Daniel Stoica
To: list
Subject: Trying a fresh build and the errors!

I have been trying to make a fresh build of Axiom,
so:

1. get the sources from CVS
2. trying to build
3. I get errors listed below:

--- this is the last part of the make logs -----
....
gcc -c -Wall -DVOL=volatile -fsigned-char -pipe -O3
-fomit-frame-pointer 
-I/vmware/works/axiom/works/axiom/lsp/gcl-2.6.5/o
-I../h -I../gcl-tk plt.c
gcc -c -Wall -DVOL=volatile -fsigned-char -pipe -O3
-fomit-frame-pointer 
-I/vmware/works/axiom/works/axiom/lsp/gcl-2.6.5/o
-I../h -I../gcl-tk 
fat_string.c
fat_string.c:17:17: bfd.h: No such file or directory
fat_string.c:18:21: bfdlink.h: No such file or
directory
fat_string.c:229: error: parse error before
"bfd_combined_table_update"
fat_string.c:229: error: parse error before "PTR"
fat_string.c:229: warning: `struct
bfd_link_hash_entry' declared inside 
parameter list
fat_string.c:229: warning: its scope is only this
definition or declaration, 
which is probably not what you want
fat_string.c:229: warning: return type defaults to
`int'
fat_string.c: In function `bfd_combined_table_update':
fat_string.c:231: error: `ct' undeclared (first use in
this function)
fat_string.c:231: error: (Each undeclared identifier
is reported only once
fat_string.c:231: error: for each function it appears
in.)
fat_string.c:232: error: `false' undeclared (first use
in this function)
fat_string.c:234: error: `h' undeclared (first use in
this function)
fat_string.c:234: error: `bfd_link_hash_defined'
undeclared (first use in this 
function)
fat_string.c:235: error: `true' undeclared (first use
in this function)
fat_string.c: In function `fSset_up_combined':
fat_string.c:297: error: invalid use of undefined type
`struct bfd_link_info'
fat_string.c:300: warning: implicit declaration of
function 
`bfd_link_hash_traverse'
fat_string.c:300: error: invalid use of undefined type
`struct bfd_link_info'
fat_string.c:307: error: invalid use of undefined type
`struct bfd_link_info'
fasdump.c: At top level:
../h/ptable.h:53: error: storage size of `link_info'
isn't known
make[4]: *** [fat_string.o] Error 1
make[4]: Leaving directory
`/vmware/works/axiom/works/axiom/lsp/gcl-2.6.5/o'
make[3]: *** [unixport/saved_pre_gcl] Error 2
make[3]: Leaving directory
`/vmware/works/axiom/works/axiom/lsp/gcl-2.6.5'
/bin/sh: line 1: unixport/saved_gcl: No such file or
directory
make[2]: *** [gcldir] Error 127
make[2]: Leaving directory
`/vmware/works/axiom/works/axiom/lsp'
make[1]: *** [lspdir] Error 2
make[1]: Leaving directory
`/vmware/works/axiom/works/axiom'
make: *** [all] Error 2
-----------------------------------------------------

I am using a Mandrake 10 with kernel 2.6.3 that
allowed me to have a successful build in October last
year. But now !?!

I will be hacking around trying to understand what is
wrong, maybe later or this days!

\start
Date: Mon, 24 Jan 2005 15:30:49 -0500
From: Bill Page
To: Baniel Stoica
Subject: RE: Trying a fresh build and the errors!

Searching the axiom-developer archives:

http://lists.gnu.org/archive/cgi-bin/namazu.cgi?query=fat_string&submi=
t=Sear
ch%21&idxname=axiom-developer&max=10&result=normal&sort=date%3Al=
ate

shows 15 messages on this subject. Probably the most relevant is

http://lists.gnu.org/archive/html/axiom-developer/2005-01/msg00522.html

>...
> make clean
> edit lsp/Makefile.pamphlet
> find the ./configure line and change the options to:
>
> --enable-vssize=65536*2 --enable-locbfd --disable-dynsysbfd
> --disable-statsysbfd --enable-maxpage=128*1024

-------

I hope that helps.

Regards,
Bill Page.

> -----Original Message-----
> From: Daniel Stoica [mailto:Daniel Stoica]
> Sent: Monday, January 24, 2005 3:03 PM
> To: AXIOM Developer
> Subject: Trying a fresh build and the errors!
>
>
> I have been trying to make a fresh build of Axiom,
> so:
>
> 1. get the sources from CVS
> 2. trying to build
> 3. I get errors listed below:
>
> --- this is the last part of the make logs -----
> ....
> gcc -c -Wall -DVOL=volatile -fsigned-char -pipe -O3
> -fomit-frame-pointer =A0
> -I/vmware/works/axiom/works/axiom/lsp/gcl-2.6.5/o
> -I../h -I../gcl-tk plt.c
> gcc -c -Wall -DVOL=volatile -fsigned-char -pipe -O3
> -fomit-frame-pointer =A0
> -I/vmware/works/axiom/works/axiom/lsp/gcl-2.6.5/o
> -I../h -I../gcl-tk
> fat_string.c
> fat_string.c:17:17: bfd.h: No such file or directory
> fat_string.c:18:21: bfdlink.h: No such file or
> directory
> fat_string.c:229: error: parse error before
> "bfd_combined_table_update"
> ...
> make: *** [all] Error 2
> -----------------------------------------------------
>
> I am using a Mandrake 10 with kernel 2.6.3 that
> allowed me to have a successful build in October last
> year. But now !?!
>
> I will be hacking around trying to understand what is
> wrong, maybe later or this days!

\start
Date: Mon, 24 Jan 2005 16:47:48 -0500
From: Bill Page
To: Tim Daly
Subject: RE: uname -s

On Saturday, January 22, 2005 6:15 AM you wrote:
> 
> Pierre brought up an item about configure.
> Currently configure only knows about linux and the windows
> port. The information is gathered from the output of uname -s
> 

Did you merge of axiom--windows--1 with axiom--main--1
succeed? I.e. Can one build axiom--main--1 Windows? Are
there any differences with axiom--windows--1?

\start
Date: Mon, 24 Jan 2005 18:16:38 -0500
From: Tim Daly
To: Bill Page
Subject: Re: uname -s

The merge of axiom--windows and axiom--main is partially complete.
I'm trying to build axiom on windows from the --main sources as
making a list of "missing" items. I've also reorganized a couple
things to make the build more general (e.g. the list of directories
to build in the src directory is now a system-dependent list. Thus,
for windows, we don't build sman, hypertex, or graphics.

Work continues on this front.

\start
Date: Mon, 24 Jan 2005 18:19:09 -0500
From: Tim Daly
To: Bill Page
Subject: Re: uname -s

One flaw of using axiom-developer.org for messaging is that
I have no idea who wrote the message so I can't figure out who
to help since the mail no longer has a correct "From:" line
and the mail isn't signed.

\start
Date: Mon, 24 Jan 2005 18:02:10 -0500
From: Bill Page
To: Tim Daly
Subject: RE: uname -s

On Monday, January 24, 2005 6:19 PM you wrote:
> 
> One flaw of using axiom-developer.org for messaging is that
> I have no idea who wrote the message so I can't figure out who
> to help since the mail no longer has a correct "From:" line
> and the mail isn't signed.
> 

I don't understand what you mean by "using axiom-developer.org
for messaging". Are you referring to your Tim Daly
email address? If so, what reader are you using to read email from
axiom-developer.org? What "From:" line do you see? Why do you
expect it to be "signed"? In fact, what do you mean by "signed"?
What people put at the end of their messages is just a matter
of habbit isn't it? (or maybe a configuration option of the email
software).

If your email reader is configured properly you should have no
problems just because the mail is coming from axiom-developer.
In my case I set up an alias so that mail sent to
page@axiom-developer.org is forwarded to where I usually read
it at Bill Page. I can set an alias for you also
if you have another place where you would prefer to read your
mail - but then I guess you moved to axiom-developer.org because
of problems with your isp.

Or are you referring to emails sent by MathAction? In some cases
the From: line says Anonymous. That is because whoever made the
change or reply at MathAction did not bother to first set
Preferences from the menu to identify themselves.

\start
Date: Mon, 24 Jan 2005 18:56:13 -0500 (EST)
From: Daniel Stoica
To: list
Subject: RE: Trying a fresh build and the errors!

Thanks Bill,

It worked; now with the proper options it had a 
build of the GCL engine.

Now, I wonder if this is a sysytem specific glich or
is it general? If the later applies I think it should
be included in the CVS!

Secondly, again a question: What is the status of
HyperDoc and the graphing functions (mentioned in
the book). Are they included for now in the default 
build?

\start
Date: Mon, 24 Jan 2005 18:41:58 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#48 #define unlikely defined in linux/compiler.h] (new) 

I finally nailed its origin down to /usr/include/linux/compiler.h
In that file, we have

=====
/* Somewhere in the middle of the GCC 2.96 development cycle, we implemented
   a mechanism by which the user can annotate likely branch directions and
   expect the blocks to be reordered appropriately.  Define __builtin_expect
   to nothing for earlier compilers.  */

#if __GNUC__ == 2 && __GNUC_MINOR__ < 96
#define __builtin_expect(x, expected_value) (x)
#endif

#define likely(x)       __builtin_expect((x),1)
#define unlikely(x)     __builtin_expect((x),0)
=====
  

Notice that those defines are not guarded by __KERNEL__.

I would suggest that, Axiom spells its C MACROS all in CAPS, and
prefix them with AXIOM_.
Is that workable?

\start
Date: Mon, 24 Jan 2005 20:08:16 -0500
From: Tim Daly
To: Daniel Stoica
Subject: Re: Trying a fresh build and the errors!

What kind of system were you building on? Intel? Linux Redhat?
The configure options are system specific.

Hyperdoc and graphics will be available in the Feb 1 build.
Graphics is already available in your build but not yet integrated. 
If you want to use graphics in that build you need to start axiom
by typing 'sman' or 'sman 2>/dev/null' if you don't want to see
the debugging messages.

\start
Date: Mon, 24 Jan 2005 18:46:36 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#49 GCL argument list too long] (new) 

root <address@bogus.example.com> writes:

> From: root <address@bogus.example.com>
> Subject: address@bogus.example.com: Problem with patch 23 and Solaris 
> 9 identified]
> To: address@bogus.example.com, "Kostas Oikonomou" <address@bogus.example.com>
> Cc: address@bogus.example.com, address@bogus.example.com
> Date: Sat, 8 Jan 2005 12:49:44 -0500
> Reply-to: address@bogus.example.com
> 
> Camm,
> 
> Kostas has found a problem on the solaris 9 platform. The argument list
> given has 154 items.
> 

Yes, and I believe the reason is that his build loaded the
...NAG..chapter function interpreted, as opposed to compiled
(i.e. util.lisp not util.o) as I noted in a earlier post.
Fortunately, GCL's inliner expanded the apply therein and place all
args on the lisp value stack (as opposed to the limited C stack), thus
circumventing the argument limitation.  I've also posted two versions
which avert the problem at the lisp source level, which is preferable,
as the inliner depends on compilation safety options, etc.  Please let
me know if those functions don't fix the problem.  I still don't know
why Kostas' build loaded util.lisp interpreted.

> There used to be a similar problem in AKCL. Do you know what the
> current arg limits are and whether they can be changed?
> 

63, and yes.  In fact, it can be made to be unlimited via libffi (if
memory serves).  We discussed this before, and it was deemed of lower
priority.  Please let me know if we now feel otherwise.  Expanding the
existing code further, which has a huge switch/case branch on the
argument number, would not seem advisable, though of course could be
done.  We could even generate the switch at configure time and put in
another configure options, but there are already too many of these
IMHO.

> Kostas,
> 
> 
> Try loading the function interpreted. There are two possible ways to
> do this. Either start the image and load the file "util.lisp" (rather
> than "util.o"). Or move the function into the file "nocompil.lisp"
> which contains functions which are never compiled. 
> 

In this case, I believe, the advise should go the other way around.
compiling the function and load it would/should be an immediate
workaround, though this is just fortuitous in this case.

> As I recall, the interpreter can handle very long argument lists but
> the compiler cannot.
> 

Calling apply from the interpreter will be limited, and calling any C
function with more that 63 args will trigger this error too.  As we
see here, this can come from either the interpreter or compiler
depending on the inlining performed.  The best solution is to avoid
the situation at the lisp level, which should be straightforward.
Even that JoinInner in nocompil.lisp could be written to take a single
list as an arg, I think, but we shouldn't fool with this at the
present.

Take care,

> Tim
> 
> 
> - ------- Start of forwarded message -------
> X-Original-To: address@bogus.example.com
> Received-SPF: pass (spamd.bsdwebsolutions.com: domain of nongnu.org 
> designates 199.232.76.165 as permitted sender) client-ip=199.232.76.165; 
> address@bogus.example.com; helo=lists.gnu.org;
> To: "Axiom developers" <address@bogus.example.com>
> Date: Sat, 08 Jan 2005 11:20:05 -0500
> From: "Kostas Oikonomou" <address@bogus.example.com>
> Content-Type: text/plain; format=flowed; delsp=yes; charset=iso-8859-1
> User-Agent: Opera M2/7.54 (SunOS, build 751)
> Subject: Problem with patch 23 and Solaris 9 identified
> X-BeenThere: address@bogus.example.com
> X-Mailman-Version: 2.1.5
> Precedence: list
> List-Id: Axiom Developers <axiom-developer.nongnu.org>
> List-Unsubscribe: <http://lists.nongnu.org/mailman/listinfo/axiom-developer>, 
>       <address@bogus.example.com">mailto:address@bogus.example.com>
> List-Archive: <http://lists.gnu.org/pipermail/axiom-developer>
> List-Post: <address@bogus.example.com">mailto:address@bogus.example.com>
> List-Help: <address@bogus.example.com">mailto:address@bogus.example.com>
> List-Subscribe: <http://lists.nongnu.org/mailman/listinfo/axiom-developer>,
>       <address@bogus.example.com">mailto:address@bogus.example.com>
> Sender: address@bogus.example.com
> X-BSD-MailFrom: address@bogus.example.com
> X-BSD-RcptTo: address@bogus.example.com
> X-MIME-Character-set: iso-8859-1
> X-BSD-AntiVirus: No Virus Found
> X-BSD-MIME-Status: Safe
> X-BSD-Spam-Info: Spam detection software, provided by BSD WebSolutions, Inc.
> X-BSD-Spam-Info: Has scanned this message. If this is believed to be spam
> X-BSD-Spam-Info: A tag has been added to the subject for you own filtering 
> purposes.
> X-BSD-Spam-Info: Please call us at: (845) 485.4818 if you have any questions.
> X-BSD-Spam-Score: 0.5 (/)
> X-BSD-Spam-Report: The following tests were performed:
>       0.6 J_CHICKENPOX_34        BODY: 3alpha-pock-4alpha
>       -0.1 AWL                    AWL: From: address is in the auto white-list
> X-MIME-Autoconverted: from quoted-printable to 8bit by localhost.localdomain 
> id j08HS5x02181
> 
> 
> I just discovered that the problem I reported a few days ago is caused by
> the function "get-NAG-chapter" in "util.lisp".
> 
> Here is a test file "bug.lisp":
> 
> ==========================================================================
> (setq ch "c02")
> (setq fl
>   '("LOADNAG" "|c02aff|" "|c02agf|" "|c05adf|" "|c05nbf|" "|c05pbf|" 
> "|c06eaf|" "|c06ebf|" "|c06ecf|" "|c06ekf|" "|c06fpf|" "|c06fqf|" "|c06frf|" 
> "|c06fuf|" "|c06gbf|" "|c06gcf|" "|c06gqf|" "|c06gsf|" "|d01ajf|" "|d01akf|" 
> "|d01alf|" "|d01amf|" "|d01anf|" "|d01apf|" "|d01aqf|" "|d01asf|" "|d01bbf|" 
> "|d01fcf|" "|d01gaf|" "|d01gbf|" "|d02bbf|" "|d02bhf|" "|d02cjf|" "|d02ejf|" 
> "|d02gaf|" "|d02gbf|" "|d02kef|" "|d02raf|" "|d03edf|" "|d03eef|" "|d03faf|" 
> "|e01baf|" "|e01bef|" "|e01bff|" "|e01bgf|" "|e01bhf|" "|e01daf|" "|e01saf|" 
> "|e01sbf|" "|e01sef|" "|e02adf|" "|e02aef|" "|e02agf|" "|e02ahf|" "|e02ajf|" 
> "|e02akf|" "|e02baf|" "|e02bbf|" "|e02bcf|" "|e02bdf|" "|e02bef|" "|e02daf|" 
> "|e02dcf|" "|e02ddf|" "|e02def|" "|e02dff|" "|e02gaf|" "|e02zaf|" "|e04dgf|" 
> "|e04fdf|" "|e04gcf|" "|e04jaf|" "|e04mbf|" "|e04naf|" "|e04ucf|" "|e04ycf|" 
> "|f01brf|" "|f01bsf|" "|f01maf|" "|f01mcf|" "|f01qcf|" "|f01qdf|" "|f01qef|" 
> "|f01rcf|" "|f01rdf|" "|f01ref|" "|f02aaf|" "|f02abf|" "|f02adf|" "|f02ae!
> f|"  
> "|f02aff|" "|f02agf|" "|f02ajf|" "|f02akf|" "|f02awf|" "|f02axf|" "|f02bbf|" 
> "|f02bjf|" "|f02fjf|" "|f02wef|" "|f02xef|" "|f04adf|" "|f04arf|" "|f04asf|" 
> "|f04atf|" "|f04axf|" "|f04faf|" "|f04jgf|" "|f04maf|" "|f04mbf|" "|f04mcf|" 
> "|f04qaf|" "|f07adf|" "|f07aef|" "|f07fdf|" "|f07fef|" "|s01eaf|" "|s13aaf|" 
> "|s13acf|" "|s13adf|" "|s14aaf|" "|s14abf|" "|s14baf|" "|s15adf|" "|s15aef|" 
> "|s17acf|" "|s17adf|" "|s17aef|" "|s17aff|" "|s17agf|" "|s17ahf|" "|s17ajf|" 
> "|s17akf|" "|s17dcf|" "|s17def|" "|s17dgf|" "|s17dhf|" "|s17dlf|" "|s18acf|" 
> "|s18adf|" "|s18aef|" "|s18aff|" "|s18dcf|" "|s18def|" "|s19aaf|" "|s19abf|" 
> "|s19acf|" "|s19adf|" "|s20acf|" "|s20adf|" "|s21baf|" "|s21bbf|" "|s21bcf|" 
> "|s21bdf|")
> )
> 
> (defun get-NAG-chapter (chapter function-list)
>    (apply 'append
>    (mapcar
>     #'(lambda (f)
>       (cond ((equalp chapter (subseq (string f) 0 (length chapter))) (list f 
> ))))
>     function-list)))
> 
> (si::use-fast-links nil)
> (get-NAG-chapter ch fl)
> ==========================================================================
> 
> 
> bash-2.05$ /home/build/axiom--main--1--patch-23/obj/sol9gcc/bin/lisp
> > (load "bug.lisp")
> Loading bug.lisp
> 
> Error:  Lisps arglist maximum surpassed
> Error signalled by APPLY.
> Broken at SYSTEM::BREAK-LEVEL.  Type :H for Help.
> >> :q
> Top level.
> > (quit)
> bash-2.05$
> 
> 

\start
Date: Mon, 24 Jan 2005 18:42:59 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#48 #define unlikely defined in linux/compiler.h] property change

Category: Axiom Compiler => building Axiom from source 

\start
Date: Mon, 24 Jan 2005 19:48:48 -0500
From: Bill Page
To: Baniel Stoica
Subject: RE: Trying a fresh build and the errors!

Daniel,

On Monday, January 24, 2005 6:56 PM you wrote:
> 
> Thanks Bill,
> 
> It worked; now with the proper options it had a build of
> the GCL engine.

Great.

> 
> Now, I wonder if this is a system specific glich or is it
> general? If the later applies I think it should be included
> in the CVS!

It is specific to some versions of linux/unix.

The Axiom build process specifies certain options to the GCL
./configure (the ones you changed) during the build of GCL
without checking for specific hardware and operating system
versions. Perhaps it is not being sufficiently careful. The
GCL ./configure does check for many things but I am not sure
if the default ./configure options for GCL would have correctly
built GCL on your system in a manner compatible with Axiom.

> 
> Secondly, again a question: What is the status of HyperDoc
> and the graphing functions (mentioned in the book). Are they
> included for now in the default build?

Axiom graphics is included in the version that you downloaded
from CVS. To use Axiom graphics with this version you have to
start Axiom with the command:

  sman

Hyperdoc and graphics are available in the newest (still
experimental) version of Axiom is available in another archive.
See

http://page.axiom-developer.org/zope/mathaction/ArchUsage

The current plan is that this new version of Axiom will be
"pubished" on the Savannah CVS on February 1.

\start
Date: Mon, 24 Jan 2005 18:53:42 -0600
From: MathAction (Page, Bill)
To: MathAction
Subject: [Axiom-mail] beginner question about sum(...)

Kostas

On Monday, January 24, 2005 9:19 AM you wrote:
> 
> Thanks very much for the elucidation.  By way of background, 
> I have been using Mathematica for about 10 years, and I'm
> contemplating a switch to Axiom.

I have been using Maple for more than 10 years and I am also
contemplating a switch to Axiom. Of course you know that I have
been helping to make Axiom available, but I continue to use
Maple for most research. I find that there are many things I
know immediately how to do in Maple but discovering how to do
them in Axiom takes time. However I remain convinced that my
time spent with Axiom will be beneficial to me (and hopefully
to others) in the long term.

> 
> It seems that Axiom is, let's say, "conceptually", very 
> advanced in the sense of its domains, types, categories, etc.
> Perhaps we could call that its abstract mathematical knowledge.
> This is notably absent from Mathematica, until at least v5.0, 
> which is almost current.

I agree. In it's approach to the formal representation of
mathematics Axiom is probably "conceptually" superior to any
other computer algebra system.

> 
> But I was disappointed by the sum(1/k^2, k=1..n) example.  I 
> saw that Gosper's method is implemented in sum.spad.pamphlet,
> but this (rather simple) sum needs symbolic manipulation of
> gamma and psi functions, which is not there.  More generally,
> special functions seem to be handled only numerically.  At
> least for my prospective use of Axiom, this points to a rather
> big "hole".

I agree. And now comes my pitch: Axiom is open source. This
means that having identified and documented this deficiency

(The best place to do this is:
http://page.axiom-developer.org/zope/mathaction/FrontPage/issuetracker
)

anyone with sufficient knowledge and motivation can extend Axiom
to solve these problems. These extensions will become part of
the free Axiom distribution. That's why creating the environment
where such contributions are encouraged is so important.

> And I wonder how many others of this sort there are.

I am sure there are many. For reasons that have nothing at all
to do with Axiom's "conceptually" advanced mathematics, Axiom
has remained essentially static since about 1995, while during
the last 10 years both Mathematica and Maple have made steady
advances. (But perhaps not as much as we would like. :)

On the other hand, there are also some things which Axiom
implements which have not found there way into any commerical
system yet.

> 
> I also tried sum(1/(k*(k+a)), k=1..n).  That was also returned
> unevaluated, although Gosper's method should handle it.  Why
> is that?

I don't know, but I think this is exactly the kind of thing
that should be reported at

http://page.axiom-developer.org/zope/mathaction/FrontPage/issuetracker

> I don't mind reading the book, so if somewhere there is
> a discussion of (limitations of) symbolic evaluation, please 
> point me there.
> 

I am not aware of any discussions on the limitations of symbolic
evaluation in Axiom except here, on the axiom-developer email
list and on MathAction:

http://page.axiom-developer.org

\start
Date: Mon, 24 Jan 2005 23:32:56 +0100
From: Frederic Lehobey
To: list
Subject: Bug tracking tools...

Hi,

On Sun, Jan 23, 2005 at 02:42:34PM -0500, Bill Page wrote:
> On Sunday, January 23, 2005 9:07 AM Martin Rubey wrote:
> >
> > Bill Page writes:
> > > Martin,
> > >
> > > I am taking this discussion back over to axiom-developer
> > > to avoid extending the issuetracker page for now.
> >
> > Hm. I wouldn't do that, but it's ok for me. I think the
> > discussion belongs to issuetracker. axiom-developer gets a
> > copy anyway. Never mind.
>
> You are right. I agree that it belongs on issuetracker. I was
> wrong to change this. You said "never mind" but now that I
> think about it, it bothers me that I did this. It may be
> exactly this attitude that keeps people from using MathAction
> interactively. Now I have caught even myself doing this!
> Why is it so hard to think of using a web system in this way???

Maybe sending e-mails looks more `natural' to us.  For example Pari/GP
has a nice (to my own eyes) bug tracking system based on e-mails.  It
is a simplification of Debian bug tracking system and may be found
here:  http://pari.math.u-bordeaux.fr/Bugs/ .

I do not how hard it would be to settle such a system for Axiom, but
if there were some interest I could dig into it.

\start
Date: Mon, 24 Jan 2005 19:07:56 -0600
From: MathAction (billpage)
To: MathAction
Subject: [FrontPage] 

 We keep a list of frequently asked questions [FAQ], known [Axiom problems],
  and, if available, their solutions

\start
Date: Mon, 24 Jan 2005 19:16:56 -0600
From: MathAction (billpage)
To: MathAction
Subject: [FAQ] (new) 

Simplification of Expressions

  Suppose we compute

\begin{axiom}
integrate(exp(-x**2/2)/sqrt(2*%pi),x=%minusInfinity..%plusInfinity)
\end{axiom}

*And now I wonder why common factors are not cancelled and why not the
result "1" is produced.*

In general (unlike some other computer math systems) Axiom automatically
performs only a very small number of basic simplifications. This is not
one of them, so we need to provide some help. In particular we need to tell
Axiom how to expand square roots.

\begin{axiom}
expandSqrt := rule sqrt(a*b)==sqrt(a)*sqrt(b)
\end{axiom}

Next, notice that the output of the integration operation has a complicated
type structure. This would interfere with the simplification, so we first
simplify the type before we apply the rule.

\begin{axiom}
(%% 1)::Expression Integer
expandSqrt %
\end{axiom}

Graphics?

  Try this

\begin{axiom}
draw(5*besselJ(0,sqrt(x**2+y**2)), x=-20..20, y=-20..20)
\end{axiom}

*Not clear why latex is not rendered properly ... *

The reason why this did not originally render properly was because I had not
defined \axiomType as a valid LaTeX command in the LatexTemplate page. The
output of the draw command generates this as part of it's LaTeX output.

Anticipating the next question::

  Where is the graphic??

Although graphics is available in the most recent version of Axiom
from the Savannah CVS (see AxiomDownload), the problem is that graphics
has not yet been integrated into MathAction. Doing so will require
solving some problems about using X-windows on the MathAction server.

Declaring Types

  The idea that one should be able to "declare the type" of a
variable in Axiom by the command
\begin{axiom}
n:PositiveInteger
\end{axiom}

is a frequent expectation of new users of Axiom - especially if one
have used other computer algebra systems, after all Axiom is supposed
to be a "strongly typed" system, right?

Unfortunately Axiom does not attempt to use this type information
when forming expressions - but worse - declaring the type actually
interferes with the use of the variable to form expressions!
When you write 'n:PositiveInteger' what this tells Axiom is that
'n' will be assigned an integer value greater than 0 - only that.
After it is actually assigned some value, then it can be used
exactly like that value, but not before.

To me, this is a tremedous waste of an opportunity in Axiom to
to deal with "domain of computation" issues such as are
addressed in other untyped computer algebra systems by the use
of "assumptions" such as::

  assume(x,PositiveInteger);

Such knowledge can be used to considerably improve the quality
and generality of the computations.

\start
Date: Mon, 24 Jan 2005 19:05:54 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [MathAction] 

??changed:
-Simplification of Expressions
-
-  Suppose we compute
-
-\begin{axiom}
-integrate(exp(-x**2/2)/sqrt(2*%pi),x=%minusInfinity..%plusInfinity)
-\end{axiom}
-
-*And now I wonder why common factors are not cancelled and why not the result "1" is produced.*
-
-In general (unlike some other computer math systems) Axiom automatically
-performs only a very small number of basic simplifications. This is not one
-of them, so we need to provide some help. In particular we need to tell
-Axiom how to expand square roots.
-
-\begin{axiom}
-expandSqrt := rule sqrt(a*b)==sqrt(a)*sqrt(b)
-\end{axiom}
-
-[35 more lines...]
MathAction is based on LatexWiki - an extension of ZWiki.
ZWiki in turn, is based on "Zope":http://www.zope.org .

\start
Date: Mon, 24 Jan 2005 19:39:40 -0600
From: MathAction (Page, Bill)
To: MathAction
Subject: [#50 Bug tracking tools...] (new) Bug tracking	tools...

Thank you very much for this suggestion. It turns out that
ZWiki (the wiki engine on which MathAction is based) does
support mail-in to IssueTracker. If all goes well, this
email should show up as an issue.

-----Original Message-----

On Sun, Jan 23, 2005 at 02:42:34PM -0500, Bill Page wrote:
> On Sunday, January 23, 2005 9:07 AM Martin Rubey wrote:
> > 
> > Bill Page writes:
> > > Martin,
> > > 
> > > I am taking this discussion back over to axiom-developer 
> > > to avoid extending the issuetracker page for now.
> > 
> > Hm. I wouldn't do that, but it's ok for me. I think the
> > discussion belongs to issuetracker. axiom-developer gets a
> > copy anyway. Never mind.
> 
> You are right. I agree that it belongs on issuetracker. I was
> wrong to change this. You said "never mind" but now that I
> think about it, it bothers me that I did this. It may be
> exactly this attitude that keeps people from using MathAction
> interactively. Now I have caught even myself doing this!
> Why is it so hard to think of using a web system in this way???

Maybe sending e-mails looks more `natural' to us.  For example Pari/GP
has a nice (to my own eyes) bug tracking system based on e-mails.  It
is a simplification of Debian bug tracking system and may be found
here:  http://pari.math.u-bordeaux.fr/Bugs/ .

I do not how hard it would be to settle such a system for Axiom, but
if there were some interest I could dig into it.

\start
Date: Mon, 24 Jan 2005 20:30:07 -0500 (EST)
From: Daniel Stoica
To: list
Subject: Re: Trying a fresh build and the errors!

 --- Tim Daly wrote: 
> 
> What kind of system were you building on? 
> Intel? Linux Redhat? The configure options 
> are system specific.

As was mentioned in the first message (and details
where lost in the thread) I have an x86 system
(exactly, dual AMD MP) and running my own
"distribution" originally based on Mandrake 10 
(e.i. using RPM system) but now hardly resemble 
the original. Current kernel 2.6.3. 

Still, I think we could include this specific change
of options to GCL 2.6.5 in the config script. This
is, I guess, the entire idea of GNU config: to adapt
to the system and facilitate the make process.

...

Thanks Tim for infos on HyperDoc and Graphics

\start
Date: Mon, 24 Jan 2005 20:11:24 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#51 duplicate definition of a function in PSETCAT] (new) duplicate definition of a function in PSETCAT


Update of bugs #4556 (project axiom):

                  Status:                    None => transferred            

\start
Date: Mon, 24 Jan 2005 20:51:32 -0500
From: Bill Page
To: Frederic Lehobey
Subject: RE: Bug tracking tools...

On Monday, January 24, 2005 5:33 PM you wrote:

> Bill Page worte:
> > Why is it so hard to think of using a web system in this way???
>
> Maybe sending e-mails looks more `natural' to us.  For example
> Pari/GP has a nice (to my own eyes) bug tracking system based
> on e-mails.  It is a simplification of Debian bug tracking system
> and may be found here:  http://pari.math.u-bordeaux.fr/Bugs/ .
>
> I do not how hard it would be to settle such a system for Axiom,
> but if there were some interest I could dig into it.
>

Thank you very much for this observation and the reference!
The Pari/GP site does indeed have a nice bug tracking system.

Yes, this is an excellent idea. In fact, it turns out that
it is *easy* to do this for Axiom. All that was required was
to use a specific name in email sent to axiom-developer.org.
I have made the required change so that now all email sent to
either:

  bugs@axiom-developer.org

or

  tracker@axiom-developer.org

will automatically create a new issue.

How simple!

Further, submitting bugs this way keeps the proper formatting
of the email including indentations, embedded LaTeX and Axiom
commands, etc. without having to fiddle with the page type.

Also this solves a problem I was having with formatting of
bug reports what were originally filed on Savannah.

\start
Date: Mon, 24 Jan 2005 20:54:56 -0500
From: Bill Page
To: Tim Daly
Subject: RE: savannah bug reports

You know those emails from the mailing list that you have
been added to IssueTracker? Well it just became MUCH easier -
simply forward the email to:

  bugs@axiom-developer.org

and they will automagically appear as issues!

Many thanks to Fr=E9d=E9ric Lehobey for motivating me to find out
how "mail-in" bug reports to IssueTracker works.

Regards,
Bill Page.

> -----Original Message-----
>
> I saw that you were processing the savannah bug reports
> but so far I have not seen them show up on IssueTracker.
> Where did they go?

\start
Date: Mon, 24 Jan 2005 20:19:17 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: axiom option -rm no longer works


Update of bugs #4561 (project axiom):

                  Status:                    None => transferred            

\start
Date: Mon, 24 Jan 2005 20:44:36 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: axiom option -rv no longer works


Update of bugs #4562 (project axiom):

                  Status:                    None => transferred            

\start
Date: Mon, 24 Jan 2005 21:05:46 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#49 GCL argument list too long] additional information

> Camm,
> 
> Kostas has found a problem on the solaris 9 platform. The argument list
> given has 154 items.
> 

Yes, and I believe the reason is that his build loaded the
...NAG..chapter function interpreted, as opposed to compiled
(i.e. util.lisp not util.o) as I noted in a earlier post.
Fortunately, GCL's inliner expanded the apply therein and place all
args on the lisp value stack (as opposed to the limited C stack), thus
circumventing the argument limitation.  I've also posted two versions
which avert the problem at the lisp source level, which is preferable,
as the inliner depends on compilation safety options, etc.  Please let
me know if those functions don't fix the problem.  I still don't know
why Kostas' build loaded util.lisp interpreted.

> There used to be a similar problem in AKCL. Do you know what the
> current arg limits are and whether they can be changed?
> 

63, and yes.  In fact, it can be made to be unlimited via libffi (if
memory serves).  We discussed this before, and it was deemed of lower
priority.  Please let me know if we now feel otherwise.  Expanding the
existing code further, which has a huge switch/case branch on the
argument number, would not seem advisable, though of course could be
done.  We could even generate the switch at configure time and put in
another configure options, but there are already too many of these
IMHO.

> Kostas,
> 
> 
> Try loading the function interpreted. There are two possible ways to
> do this. Either start the image and load the file "util.lisp" (rather
> than "util.o"). Or move the function into the file "nocompil.lisp"
> which contains functions which are never compiled. 
> 

In this case, I believe, the advise should go the other way around.
compiling the function and load it would/should be an immediate
workaround, though this is just fortuitous in this case.

> As I recall, the interpreter can handle very long argument lists but
> the compiler cannot.
> 

Calling apply from the interpreter will be limited, and calling any C
function with more that 63 args will trigger this error too.  As we
see here, this can come from either the interpreter or compiler
depending on the inlining performed.  The best solution is to avoid
the situation at the lisp level, which should be straightforward.
Even that JoinInner in nocompil.lisp could be written to take a single
list as an arg, I think, but we shouldn't fool with this at the
present.

\start
Date: Mon, 24 Jan 2005 21:10:03 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#49 GCL argument list too long] additional information

Greetings!  And thanks for the detective work!

Here's a fix:

(defun get-NAG-chapter (chapter function-list)
   (mapcan
    (lambda (f)
      (cond ((equalp chapter (subseq (string f) 0 (length chapter))) (list f 
))))
    function-list)))

or perhaps better

(defun get-NAG-chapter (chapter function-list)
   (let ((l (length chapter)) r)
      (dolist (f function-list)
        (when (equalp chapter (subseq (string f) 0 l)))
           (push f r))
      (nreverse r)))   

Don't know why this does not occur elsewhere.

\start
Date: Mon, 24 Jan 2005 22:27:26 -0500
From: Tim Daly
To: Bill Page
Subject: Re: savannah bug reports

re: bugs@axiom-developer.org

excellent, i'll add this to the faq.

\start
Date: Mon, 24 Jan 2005 21:16:48 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#17 algebra BOOTSTRAP fixed point] additional	information

Although technically it probably doesn't matter, but as
far as I can tell from the email archives, the version
of the databases that we have been using on Savannah was
actually supplied by Jergen Weiss after he was the first
to successfully build the full set of Axiom spad files under
GCL in about August 2003.. The problem with compiling some
of the spad files up until that point was apparently that
the database files from the NAG version that you had been
using were somehow incompatible with GCL. I think Jergen
actually obtained the original database files that he used
to bootstrap GCL from some other version of Axiom (based on
a different lisp, CMCL?). He was then able to build a new
set of databases directly using the GCL version of AXIOM.
In about September 2003 on your request I uploaded these
database files to the Savannah CVS. As far as I know, these
are still the same ones we are using today unless you replaced
them again at some point. The minor differences that I saw
between the most recently built database files and the ones
that Jergen built was probably due to one or two addition
spad files that were missing from Jergen's build.

In any case, this does not seem to be the reason for the
"propagation" of changes in the *.lsp files.

Regards,
Bill Page.

> -----Original Message-----
> From: root [address@bogus.example.com">mailto:address@bogus.example.com 
> Sent: Friday, January 07, 2005 10:53 AM
> To: address@bogus.example.com; address@bogus.example.com
> Cc: address@bogus.example.com
> Subject: re: algebra Makefiles with 
> explicit dependencies, bootstrap, fixed-points etc.
> 
> 
> Bill, Steve,
> 
> Note that the original databases are the NAG versions and the actual
> algebra code has been improved since that time. Modifying the algebra
> will change the domain vectors. These vectors contain hard-coded
> indexes. So, for instance, PLEQN is new since NAG's version so the
> domains which use it will have different index values. The database
> build is done after the algebra is compiled and should reflect the
> actual algebra whereas the original databases may not.

\start
Date: Mon, 24 Jan 2005 21:14:03 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#17 algebra BOOTSTRAP fixed point] additional	information

I have built first-iteration and second-iteration axioms. An identical
fixedPoint.log was produced. I have been examining the domain
vectors, trying to find some clues. 


I failed to spot a difference in two domains; BINFILE in files.spad,
and PRIMELT in primelt.spad. Indeed, for PRIMELT note that:

==============================================================================
(1) -> )lisp (setq |$DALYMODE| t)

Value = T
(1) -> (trace |eval|)

Value = (|eval|)
(1) -> PF   ==> PrimeField 5
                                                                   Type: Void
(2) -> VPF  ==> Vector PF
                                                                   Type: Void
(3) -> vec : VPF := [0, 1, 2, 3, 4]

   (3)  [0,1,2,3,4]
                                                    Type: Vector PrimeField 5
(4) -> inv(vec)$INBFF(PF)    

  1> (|eval| (|InnerNormalBasisFieldFunctions| (|PrimeField| 5)))
  <1 (|eval| #<vector 08df6888>)
  1> (|eval| #<vector 08df6888>)
  <1 (|eval| #<vector 08df6888>)
  1> (|eval| (SPADCALL (QUOTE #<vector 08db9428>) 
       (QUOTE (#<compiled-function |INBFF;inv;2V;1|> . #<vector 08df6888>))))
 
   >> Error detected within library code:
   index out of range

protected-symbol-warn called with (NIL)
==============================================================================

This happens in both builds. Im assuming at the moment the domain
vector is being indexed improperly (as opposed to the `vec'
argument). I'll look into this further. I have not tested BINFILE to
see if a similar problem is occurring there is well. 


I have attached the notes I have made while examining the domain
vectors. They show what commands I used to get the domain vectors,
followed by a snip of the vectors where I noticed a difference.

I have yet to trace FORTRAN, fortran.spad.

Generally, the domain vectors below are changing w.r.t dependencies on
SingleInteger, or Integer. I feel that looking at the build w.r.t
these two domains would be a good direction for future investigations.

Sorry this message is so terse, but I am in a bit of rush at the
moment. I'll be able to reenter this issue later today.


Sincerely,
Steve


[ notes ]


files.spad, BINFILE identical
primelt.spad, PRIMELT identical


-------------------------------------------------------------------
--- First iteration, pattern.spad, PATTERN

(1) -> (pspadvec (|evalDomain| '(|Pattern| (|PrimeField| 5))))
...
30: (Union 56 (QUOTE failed))
31: (#<compiled-function PATTERN;isPlus;$U;10> . #<vector 09089f50>)
32: (SingleInteger)
33: (newGoGet #<vector 09089f50> 14 . coerce)
34: (#<compiled-function PATTERN;isTimes;$U;11> . #<vector 09089f50>)
35: (#<compiled-function PATTERN;isList;$U;12> . #<vector 09089f50>)
...

-------------------------------------------------------------------
--- Second iteration, pattern.spad, PATTERN

(1) -> (pspadvec (|evalDomain| '(|Pattern| (|PrimeField| 5))))
...
30: (Union 54 (QUOTE failed))
31: (#<compiled-function PATTERN;isPlus;$U;10> . #<vector 08fa201c>)
32: (#<compiled-function PATTERN;isTimes;$U;11> . #<vector 08fa201c>)
33: (#<compiled-function PATTERN;isList;$U;12> . #<vector 08fa201c>)
34: (Record (: val $) (: exponent 26))
35: (Union 34 (QUOTE failed))
...



-------------------------------------------------------------------
--- First iteration, d01agents.spad, D01AGNT

(1) -> (pspadvec (|evalDomain| '(|d01AgentsPackage|)))
...
59: (#<compiled-function LIMITPS;limit;FEEU;24> . #<vector 090337a8>)
60: (#<compiled-function ORDCOMP;finite?;$B;3> . #<vector 08f2d6e4>)
61: (SingleInteger)
62: (newGoGet #<vector 08ec2f88> 117 . coerce)
63: (#<compiled-function SEG;hi;$S;4> . #<vector 08e96c78>)
64: (newGoGet #<vector 08ec2f88> 127 . whatInfinity)
...

-------------------------------------------------------------------
--- Second iteration, d01agents.spad, D01AGNT

(1) -> (pspadvec (|evalDomain| '(|d01AgentsPackage|)))
...
59: (#<compiled-function LIMITPS;limit;FEEU;24> . #<vector 09008e00>)
60: (#<compiled-function ORDCOMP;finite?;$B;3> . #<vector 08efb94c>)
61: (#<compiled-function SEG;hi;$S;4> . #<vector 08ca0c40>)
62: (SingleInteger)
63: (newGoGet #<vector 08b85834> 122 . whatInfinity)
64: (#<compiled-function SEG;lo;$S;2> . #<vector 08ca0c40>)



-------------------------------------------------------------------
--- First Iteration, fortran.spad, FC

(1) -> (pspadvec (|evalDomain| '(|FortranCode|)) 1)
...
7: (Integer)
8: <vector> :
   0: (SingleInteger)
   1: (#<compiled-function lookupComplete> #<vector 08d60a80> #<vector 
08d60b0c>)
   ...
   ...
9: (#<compiled-function SINT;coerce;I$;51> . #<vector 08d60a80>)
10: 25000
11: (#<compiled-function FC;setLabelValue;2Si;1> . #<vector 08d5ce38>)
12: (Polynomial 7)
13: (newGoGet #<vector 08d5ce38> 5 . One)
...

-------------------------------------------------------------------
--- Second Iteration, fortran.spad, FC

(1) -> (pspadvec (|evalDomain| '(|FortranCode|)))
...
7: 25000
8: (SingleInteger)
9: (#<compiled-function FC;setLabelValue;2Si;1> . #<vector 08ce9ab8>)
10: (Polynomial 13)
11: (newGoGet #<vector 08ce9ab8> 0 . One)
12: (String)
13: (Integer)
...



-------------------------------------------------------------------
--- First iteration, ffnb.spad, INBFF

(1) -> (pspadvec (|evalDomain| '(|InnerNormalBasisFieldFunctions| (|PrimeField| 
5))) 1)
...
16: 1
17: (Integer)
18: <vector> :
   0: (SingleInteger)
   1: (#<compiled-function lookupComplete> #<vector 08d60a80> #<vector 
08d60b0c>)
19: (#<compiled-function SINT;coerce;I$;51> . #<vector 08d60a80>)
20: (0 10 16 20 23 0 28 30 32 0 35)
21: (NIL (4 12 48 160 480 0) (8 72 432 0) (18 216 0) (32 480 0) NIL (72 0) (98 
0) (128 0) NIL (200 0))
22: (Vector 6)
...

-------------------------------------------------------------------
--- Second iteration, ffnb.spad, INBFF

(1) -> (pspadvec (|evalDomain| '(|InnerNormalBasisFieldFunctions| (|PrimeField| 
5))) 1)
...
16: 1
17: (0 10 16 20 23 0 28 30 32 0 35)
18: (NIL (4 12 48 160 480 0) (8 72 432 0) (18 216 0) (32 480 0) NIL (72 0) (98 
0) (128 0) NIL (200 0))
19: (Integer)
20: <vector> :
   0: (SingleInteger)
   1: (#<compiled-function lookupComplete> #<vector 08ce96ac> #<vector 
08ce9c94>)
21: (newGoGet #<vector 08e96b0c> 14 . coerce)
22: (Vector 6)
...



-------------------------------------------------------------------
--- First iteration, omdev.spad, OMENC

(1) -> (pspadvec (|evalDomain| '(|OpenMathEncoding|)))
...
7: (Boolean)
8: (#<compiled-function OMENC;=;2$B;1> . #<vector 08e1a594>)
9: (Integer)
10: (newGoGet #<vector 08e1a594> 0 . coerce)
11: (OutputForm)
12: (#<compiled-function OMENC;coerce;$Of;2> . #<vector 08e1a594>)
...

-------------------------------------------------------------------
--- Second iteration, omdev.spad, OMENC

(1) -> (pspadvec (|evalDomain| '(|OpenMathEncoding|)))
...
7: (Boolean)
8: (#<compiled-function OMENC;=;2$B;1> . #<vector 08e9ca48>)
9: (OutputForm)
10: (#<compiled-function OMENC;coerce;$Of;2> . #<vector 08e9ca48>)
11: (#<compiled-function OMENC;OMencodingUnknown;$;3> . #<vector 08e9ca48>)
12: (#<compiled-function OMENC;OMencodingBinary;$;4> . #<vector 08e9ca48>)
...



-------------------------------------------------------------------
--- First iteration, ffcg.spad, FFCGP
---
--- NOTE: vector element 147

(1) -> (pspadvec (|evalDomain| '(|FiniteFieldCyclicGroupExtensionByPolynomial| 
                                 (|PrimeField| 5) ((1 . 0)))))
...
12: 1
13: (#<compiled-function ZMOD;size;Nni;1> . #<vector 08e1a8f8>)
14: 5
15: (PositiveInteger)
16: (#<compiled-function SGROUP-;**;SPiS;1> . #<vector 08e72f34>)
17: NIL
...
...
144: (#<compiled-function FFCGP;/;$GF$;39> . #<vector 08e72fa4>)
145: (#<compiled-function FFCGP;inv;2$;40> . #<vector 08e72fa4>)
146: (#<compiled-function FFCGP;**;$I$;43> . #<vector 08e72fa4>)
147: (#<compiled-function FFCGP;**;$Pi$;41> . #<vector 08e72fa4>)  
148: (#<compiled-function FFCGP;**;$Nni$;42> . #<vector 08e72fa4>)
149: (Union 71 (QUOTE failed))
150: (Matrix $)
...

-------------------------------------------------------------------
--- Second iteration, ffcg.spad, FFCGP
---
--- NOTE: vector element 147 above is element 16 here.

(1) -> (pspadvec (|evalDomain| '(|FiniteFieldCyclicGroupExtensionByPolynomial| 
                                 (|PrimeField| 5) ((1 . 0)))))
...
12: 1
13: (#<compiled-function ZMOD;size;Nni;1> . #<vector 08e9cdac>)
14: 5
15: (PositiveInteger)
16: (#<compiled-function FFCGP;**;$Pi$;41> . #<vector 08e9c7fc>)
17: (#<compiled-function SGROUP-;**;SPiS;1> . #<vector 08e9c674>)
...
...
144: (newGoGet #<vector 08e9c7fc> 284 . /)
145: (#<compiled-function FFCGP;/;$GF$;39> . #<vector 08e9c7fc>)
146: (#<compiled-function FFCGP;inv;2$;40> . #<vector 08e9c7fc>)
147: (#<compiled-function FFCGP;**;$I$;43> . #<vector 08e9c7fc>)
148: (#<compiled-function FFCGP;**;$Nni$;42> . #<vector 08e9c7fc>)
149: (Union 72 (QUOTE failed))
150: (Matrix $)
...



-------------------------------------------------------------------
--- First iteration, reclos.spad, RECLOS

(1) -> (pspadvec (|evalDomain| '(|RealClosure| (|Fraction| (|Integer|)))))
...
88: (newGoGet #<vector 08e72b44> 184 . *)
89: (newGoGet #<vector 08e72b44> 190 . one?)
90: (Mapping $$ $$)
91: (newGoGet #<vector 08e72b44> 195 . map)
92: (#<compiled-function RECLOS;*;I2$;23> . #<vector 08e72b44>)
93: (newGoGet #<vector 08e72b44> 201 . *)
94: (newGoGet #<vector 08e72b44> 207 . zero?)
95: (newGoGet #<vector 08e72b44> 212 . one?)
...

-------------------------------------------------------------------
--- Second iteration, reclos.spad, RECLOS

(1) -> (pspadvec (|evalDomain| '(|RealClosure| (|Fraction| (|Integer|)))))
...
88: (newGoGet #<vector 08e9c2a0> 184 . *)
89: (Mapping $$ $$)
90: (newGoGet #<vector 08e9c2a0> 190 . map)
91: (#<compiled-function RECLOS;*;I2$;23> . #<vector 08e9c2a0>)
92: (newGoGet #<vector 08e9c2a0> 196 . *)
93: (newGoGet #<vector 08e9c2a0> 202 . zero?)
94: (newGoGet #<vector 08e9c2a0> 207 . one?)
95: (#<compiled-function RECLOS;*;TheField2$;24> . #<vector 08e9c2a0>)
...



-------------------------------------------------------------------
--- First iteration, reclos.spad, ROIRC

(1) -> (pspadvec (|evalDomain| '(|RightOpenIntervalRootCharacterization| 
                  (|PrimeField| 5) (|SparseUnivariatePolynomial| (|PrimeField| 
5)))))
...
50: (newGoGet #<vector 08e72770> 140 . boundOfCauchy)
51: (newGoGet #<vector 08e72770> 145 . sturmVariationsOf)
52: (newGoGet #<vector 08e72770> 150 . one?)
53: (List 7)
54: (newGoGet #<vector 08e72770> 155 . sturmSequence)
55: (newGoGet #<vector 08e72770> 160 . unitCanonical)
...

-------------------------------------------------------------------
--- Second iteration, reclos.spad, ROIRC

(1) -> (pspadvec (|evalDomain| '(|RightOpenIntervalRootCharacterization| 
                  (|PrimeField| 5) (|SparseUnivariatePolynomial| (|PrimeField| 
5)))))
...
50: (newGoGet #<vector 08e9cfc0> 140 . boundOfCauchy)
51: (newGoGet #<vector 08e9cfc0> 145 . sturmVariationsOf)
52: (List 7)
53: (newGoGet #<vector 08e9cfc0> 150 . sturmSequence)
54: (newGoGet #<vector 08e9cfc0> 155 . unitCanonical)
55: (newGoGet #<vector 08e9cfc0> 160 . numberOfMonomials)
...

\start
Date: Mon, 24 Jan 2005 21:15:23 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#17 algebra BOOTSTRAP fixed point] additional	information

No, NONE of the files with changes in the lisp code on the 1st
iteration are on the bootstrap list. Here's the list:

> --- int/algebra/BINFILE.lsp     Thu Jan  6 22:22:55 2005
> +++ int/algebra/BINFILE.NRLIB/code.lsp  Thu Jan  6 23:09:32 2005
> --- int/algebra/D01AGNT.lsp     Thu Jan  6 22:22:57 2005
> +++ int/algebra/D01AGNT.NRLIB/code.lsp  Fri Jan  7 00:23:04 2005
> --- int/algebra/FC.lsp  Thu Jan  6 22:23:00 2005
> +++ int/algebra/FC.NRLIB/code.lsp       Thu Jan  6 23:59:50 2005
> --- int/algebra/FFCGP.lsp       Thu Jan  6 22:23:01 2005
> +++ int/algebra/FFCGP.NRLIB/code.lsp    Thu Jan  6 23:39:00 2005
> --- int/algebra/FORTRAN.lsp     Thu Jan  6 22:23:02 2005
> +++ int/algebra/FORTRAN.NRLIB/code.lsp  Fri Jan  7 00:00:23 2005
> --- int/algebra/INBFF.lsp       Thu Jan  6 22:23:04 2005
> +++ int/algebra/INBFF.NRLIB/code.lsp    Fri Jan  7 00:23:21 2005
> --- int/algebra/OMENC.lsp       Thu Jan  6 22:23:10 2005
> +++ int/algebra/OMENC.NRLIB/code.lsp    Thu Jan  6 22:49:46 2005
> --- int/algebra/PATTERN.lsp     Thu Jan  6 22:23:11 2005
> +++ int/algebra/PATTERN.NRLIB/code.lsp  Thu Jan  6 23:45:01 2005
> --- int/algebra/PRIMELT.lsp     Thu Jan  6 22:23:13 2005
> +++ int/algebra/PRIMELT.NRLIB/code.lsp  Thu Jan  6 23:45:25 2005
> --- int/algebra/RECLOS.lsp      Thu Jan  6 22:23:14 2005
> +++ int/algebra/RECLOS.NRLIB/code.lsp   Thu Jan  6 23:45:39 2005
> --- int/algebra/ROIRC.lsp       Thu Jan  6 22:23:14 2005
> +++ int/algebra/ROIRC.NRLIB/code.lsp    Thu Jan  6 23:28:06 2005
> 

There are subtle semantic differences (not formatting differences)
in all of the above files.

But yes ALL of the original bootstrap .lsp files from the
pamphlet files *are* outdated in the sense that they appear to
have been produced by a very different version of Axiom (or
maybe even hand-compiled in some cases?). The lisp code produced
by AXIOM from the spad files corresponding to the bootstrap
files (which is done as the last step in the Algebra build) is
formatted very differently than the original bootstrap lisp code.
A diff of the original bootstrap files shows them as entirely
different although a quick inspection shows that the semantic
content is at least VERY SIMILAR to what Axiom produces for
these files.

In my fixedPoint script, I do not bother to show the initial
differences of the bootstrap files after only the first build -
they are all different (different variable names, pretty
printing etc.) Only a hand-analysis could determine how different
they really are. And of course at this first step it is not
possible to compare any of the non-bootstrap files because we
do not have any lisp files other than those for the bootstrap.

What I do show in the fixedPoint.log file is the result AFTER
first replacing the bootstrap lisp files with the newly generated
lisp for ALL of the SPAD files and then running the make a 2nd
time (I called this the 1st iteration). This is where I find
differences in the generated lisp code in the 2nd pass compared
the lisp code from the first pass. None of these differences
are in the original bootstrap files. In this comparison the none
of the original bootstrap code is still present. It had all been
replaced with newly generated code in the previous step and did
not change in the 2nd step. However other files (non-bootstrap
files) did change. This is why I say that the differences in the
original bootstrap files seem to have "propagated along the
dependencies" to some of the files that directly depend on the
bootstrap files. This is what really had me worried.

In spite of the fact that the original bootstrap files are out
of date, I did (more or less) expect from your description of
the process that on the 2nd pass with all newly generated lisp
files, that the next generation of lisp files would not change,
but they do. On the 3rd pass, finally all of the lisp files
match with the lisp files from the 2nd pass. (I called this the
"fixed point" since no further change can take place after that.)

If I were to replace all of the bootstrap lisp code in the
current pamphlet files with the newly generated lisp code then
it seems likely (unless I am missing something rather basic)
that the build should immediately converge to the fixed point
on the first pass. This is, of course what we should do in the
SHORT TERM. But the longer term question for me is: Do changes
in the spad files really propagate like this from one file to
the next in the dependency chain? If the answer is yes, then
this means that every time we make a change in ANY of the
algebra spad files (not just the spad files that have bootstrap
lisp code), then we will have to run the fixedPoint script in
order to make sure that we have new bootstrap lisp code that
is consistent with the spad code (the system of spad and lisp
files must "converge"). We need to do this because the dependencies
are really cyclic - they really do loop back on themselves. So
changes deeper down in the "lattice" (not really a lattice) can
potentially propagate back around to the bootstrap lisp code.

\start
Date: Mon, 24 Jan 2005 21:24:06 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#55 Graphics does not work on Windows] (new) 

> I then tried to do some simple graphics. I had to look in the 
> Axiom book to find the basic commands. The tutorial only
> discussed graphics in the context of plotting solutions of
> ODEs. I think it could use a brief chapter on elementary graphics.
> The Axiom book was fine in that regard. 
> So I tried draw(x^2, x=-2..2) and draw(sin(x), x=0..6), but
> after compiling the expressions, and reporting that the data
> was being sent to the viewport manager, both the texmacs
> interface and the native axiom command window reported the
> following error messages:
> 
> system error: SOCK-SEND-INT is invalid as a function
> protected-symbol- warn called with <NIL>
> 
> Can you clarify what's going on and if possible put me back 
> on the road to wisdom?.

Unfortunately graphics is not yet available on the Windows
version of Axiom. Both graphics and hyperdoc depend on some
graphical libraries (X-windows based) that are not available
under windows. Programs like viewport manager will have to
be re-written to interface with a Windows compatible graphics
library. This is a complex job that is going to take some
time.

\start
Date: Mon, 24 Jan 2005 21:42:31 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#46 termio vs ptermio] additional information

  Freshly updated from CVS tree fails to build on an x86-based
GNU/Linux with the following error

[...]
make[3]: Entering directory `/home/gdr/src/axiom/src/clef'
3 making /home/gdr/src/axiom/obj/linux/clef/edible.o from 
/home/gdr/src/axiom/obj/linux/clef/edible.c
edible.c: In function `main':
edible.c:276: error: storage size of `ptermio' isn't known
edible.c:276: warning: unused variable `ptermio'
make[3]: *** [/home/gdr/src/axiom/obj/linux/clef/edible.o] Error 1
make[3]: Leaving directory `/home/gdr/src/axiom/src/clef'
make[2]: *** [clefdir] Error 2
make[2]: Leaving directory `/home/gdr/src/axiom/src'
make[1]: *** [srcdir] Error 2
make[1]: Leaving directory `/home/gdr/src/axiom'
make: *** [all] Error 2

GCC is 3.3.1.

Is this a known issue?

\start
Date: Mon, 24 Jan 2005 21:31:58 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#50 Bug tracking tools...] property change

Category: Axiom Compiler => MathAction 

\start
Date: Mon, 24 Jan 2005 21:37:26 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#57 Databases are not copied back] (new) 

In general I used to "copy back" the database from a successful build
into the seed databases. I haven't implemented that machinery yet. If
this turns out to fix the problem that Bill has found then we need to
modify the makefiles to take this step.

\start
Date: Mon, 24 Jan 2005 21:19:04 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#54 Packaging Axiom and TeXmacs together] (new) 

> > To begin:
> > 
> > I downloaded the current windows version of axiom. The one clearly 
> > highlighted as "recommended." Although TexMacs is mentioned 
> > prominently,  nowhere does it state that TexMacs is a separate
> > program  that the user must download independently of axiom.  Why 
> > not come out and say it, instead of assuming the user will infer 
> > that from the discussion or be sufficiently knowledgeable of the 
> > open source world to understand how the pieces interact with each 
> > other?
> 
> Ah, well, that's actually been a point of discussion. I'm in favor of
> packaging TeXmacs with the install script but the developers are not
> all of the same mindset about this. I've forwarded this comment to 
> the developers list and we'll address it with documentation and
> possibly combining TeXmacs into the install.

I'm still not quite sure why we can't have our cake and eat it to on
this - provide a non-TeXmacs installer for people who don't need it,
prefer to install their own TeXmacs, or think it's too big, and provide
a larger "kitchen sink" installer for the more typical user.  If I
understand correctly, the final exe install files can be hosted just on
the savannah servers, correct Tim?  Pounding your server to fine power
is definitely NOT one of the goals ;-).

\start
Date: Mon, 24 Jan 2005 21:30:50 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#50 Bug tracking tools...] property change

Category:  => Axiom Compiler 
Severity:  => normal 
Status:  => testing 

\start
Date: Mon, 24 Jan 2005 21:39:44 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#46 termio vs ptermio] additional information

=========================================================================================
| Gabriel,
| 
| Steve Wilson points out that the CHANGELOG contains the lines:
| 
| 20041116 tpd src/clef/edible.c termios -> termio
| 20040730 sxw src/clef/edible.c termio -> termios
| 
| so it appears that on some systems we need termio and
| on others we need termios.

I see.  I can confirm that on GNU/Linux, and generally (recent) glibc
systems, one needs termios.  I also looked on solaris plateforms
(apparently currently not supported by axiom), one needs termios there
too. 
I guess that is something one would need to test for at configure time. 

| Steve believes that this is dead code because at the top
| of the file we see:
| 
| #ifdef unlikely
| ...
| #define logterm
| 
| and the termios code is protected by 
| #ifdef logterm

I can see that the fragment is guarded by 
  
   #ifdef logterm

but for some reasons that code is reached on my system (SuSE-9.0, 
with glibc-2.3.2).

GCC with the option -dM dumps macros that are defined.  I can confirm
that gcc -E -dM edible.c shows a line where logterm is defined.  More
precisely, I have the following

   [....]
   #define _SC_2_PBS_MESSAGE _SC_2_PBS_MESSAGE
   #define _GCC_SIZE_T 
   #define CEOT CEOF
   #define logterm 1  /* <===== here */
   #define __INO64_T_TYPE __UQUAD_TYPE
   #define _SC_AVPHYS_PAGES _SC_AVPHYS_PAGES
   #define _IO_LINKED 0x80
   [....]

so my gut feeling is that that macro gets defined as internal to some
system header files.  

That gut feeling turns out to be wrong, as replacing logterm with
AXIOM_LOGTERM throughout edible.c still leads to the same problem.
So I operated on a second assumption: the macro "unlikely" must have
been defined somewhere else.  Bingo!  With the help of gcc -E -dM, I
could spot

    [...]
    #define __KEY_T_TYPE __S32_TYPE
    #define sigev_notify_function _sigev_un._sigev_thread._function
    #define likely(x) __builtin_expect((x),1)   /* <==== here */
    #define FAPPEND O_APPEND
    #define _XOPEN_ENH_I18N 1
    [...] 
    #define F_ULOCK 0
    #define errno (*__errno_location ())
    #define unlikely(x) __builtin_expect((x),0) /* <=== here too */
    #define EL2NSYNC 45
    #define _IO_off64_t _G_off64_t
    [...]

I can't tell you right now which system header files define those
questionable macros (I know what they mean, but I don't see what they
are doing there).  It seems that some glibc-based systems have taken
the right to hijack those names.  
Maybe Axiom might prefer to spell its macros all in caps, and probably
prefixed with AXIOM_ ...

\start
Date: Mon, 24 Jan 2005 23:00:37 -0500
From: Tim Daly
To: Bill Page
Subject: Re: savannah bug reports

Issues 51, 52, and 53 seem to be missing
category, severity, and status information.

\start
Date: Mon, 24 Jan 2005 21:48:56 -0600
From: MathAction (root)
To: MathAction
Subject: [#58 error modifying title of bug] (new) error	modifying title of bug

Bill, 

I tried to modify the title of a bug report
bug $46 is titled termio vs ptermio
I clicked on this bug report.
I clicked 'edit' on the bug report page
I modified the title to read:
termio vs ptermio (in src/clef/edible.c)
and clicked save.

A request for a userid and password popped up.
I closed the request window.
I got an error report page that said:

 
Site Error

An error was encountered while publishing this resource.

Unauthorized
Sorry, a site error occurred.

Traceback (innermost last):

    * Module ZPublisher.Publish, line 163, in publish_module_standard
    * Module Products.PlacelessTranslationService.PatchStringIO, line 51, in new_publish
    * Module ZPublisher.Publish, line 127, in publish
    * Module ZPublisher.Publish, line 100, in publish
    * Module ZPublisher.mapply, line 88, in mapply
    * Module ZPublisher.Publish, line 40, in call_object
    * Module Products.ZWiki.Editing, line 274, in edit
    * Module Products.ZWiki.Editing, line 396, in handleRename
    * Module Products.ZWiki.Editing, line 481, in rename

Unauthorized: You are not authorized to rename this ZWiki Page.

Troubleshooting Suggestions

    * The URL may be incorrect.
    * The parameters passed to this resource may be incorrect.
    * A resource that this resource relies on may be encountering an error.

For more detailed information about the error, please refer to error log.

If the error persists please contact the site maintainer. Thank you for your patience. 

\start
Date: Mon, 24 Jan 2005 23:27:33 -0500
From: Tim Daly
To: Bill Page
Subject: error modifying title of bug

Bill, 

I tried to modify the title of a bug report
bug $46 is titled termio vs ptermio
I clicked on this bug report.
I clicked 'edit' on the bug report page
I modified the title to read:
termio vs ptermio (in src/clef/edible.c)
and clicked save.

A request for a userid and password popped up.
I closed the request window.
I got an error report page that said:

 
Site Error

An error was encountered while publishing this resource.

Unauthorized
Sorry, a site error occurred.

Traceback (innermost last):

    * Module ZPublisher.Publish, line 163, in publish_module_standard
    * Module Products.PlacelessTranslationService.PatchStringIO, line 51, in new_publish
    * Module ZPublisher.Publish, line 127, in publish
    * Module ZPublisher.Publish, line 100, in publish
    * Module ZPublisher.mapply, line 88, in mapply
    * Module ZPublisher.Publish, line 40, in call_object
    * Module Products.ZWiki.Editing, line 274, in edit
    * Module Products.ZWiki.Editing, line 396, in handleRename
    * Module Products.ZWiki.Editing, line 481, in rename

Unauthorized: You are not authorized to rename this ZWiki Page.

Troubleshooting Suggestions

    * The URL may be incorrect.
    * The parameters passed to this resource may be incorrect.
    * A resource that this resource relies on may be encountering an error.

For more detailed information about the error, please refer to error log.

If the error persists please contact the site maintainer. Thank you for your patience. 

\start
Date: Mon, 24 Jan 2005 21:52:08 -0600
From: MathAction (billpage)
To: MathAction
Subject: [#51 duplicate definition of a function in PSETCAT] property change

Category:  => Axiom Library 
Severity:  => normal 
Status:  => open 

\start
Date: Mon, 24 Jan 2005 21:59:24 -0600
From: MathAction (billpage)
To: MathAction
Subject: [duplicate definition of function in PSETCAT] (renamed)

This page was renamed from #51 duplicate definition of a function in PSETCAT to duplicate definition of function in PSETCAT.

\start
Date: Mon, 24 Jan 2005 22:02:12 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [duplicate definition of function in PSETCAT] #51

\start
Date: Mon, 24 Jan 2005 21:59:39 -0600
From: MathAction (Tim Daly)
To: MathAction
Subject: [#58 error modifying title of bug] 

\start
Date: Mon, 24 Jan 2005 22:34:58 -0600
From: MathAction (Tim Daly)
To: MathAction
Subject: [#10313 clef does not understand end, delete, etc] (new) 

I'm packaging Axiom (Savannah CVS Des 30, 2004) for
ALT Linux (www.altlinux.com).  Now graphics works well
under sman.  But there are a few glitches I'd like to
report on:


3. I have some troubles with clef. It doesn't understand
^end and ^delete keys. ^home and ^backspace works fine.
So normally I start axiom without clef. GCL has readline
input line editing support which works OK.
Unfortunately GCL's line editing doesn't work under sman (with -noclef). I'm seeking the way to patch clef on
linux.

\start
Date: Mon, 24 Jan 2005 22:42:53 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#10069 cot(0.0), csc(0.0), asec(0.0), acsc(0.0),asech(0.0), acsch(0.0), cot(0.0), coth(0.0), acoth(0.0)] property change

Name: '#10069 bugs ' => '#10069 cot(0.0), csc(0.0), asec(0.0), acsc(0.0), asech(0.0), acsch(0.0), cot(0.0), coth(0.0), acoth(0.0)' 

\start
Date: Mon, 24 Jan 2005 22:32:48 -0600
From: MathAction (Tim Daly)
To: MathAction
Subject: [#10070 make GCL= does not override properly] 

\start
Date: Mon, 24 Jan 2005 22:35:06 -0600
From: MathAction (Tim Daly)
To: MathAction
Subject: [#10313 clef does not understand end, delete, etc] (new) 

I'm packaging Axiom (Savannah CVS Des 30, 2004) for
ALT Linux (www.altlinux.com).  Now graphics works well
under sman.  But there are a few glitches I'd like to
report on:


3. I have some troubles with clef. It doesn't understand
^end and ^delete keys. ^home and ^backspace works fine.
So normally I start axiom without clef. GCL has readline
input line editing support which works OK.
Unfortunately GCL's line editing doesn't work under sman (with -noclef). I'm seeking the way to patch clef on
linux.

\start
Date: Mon, 24 Jan 2005 22:18:02 -0600
From: MathAction (Tim Daly)
To: MathAction
Subject: [#10070 make GCL= does not override properly] (new) 


I'm packaging Axiom (Savannah CVS Des 30, 2004) for
ALT Linux (www.altlinux.com).  Now graphics works well
under sman.  But there are a few glitches I'd like to
report on:


2. I have quite new binutils so gcl 2.6.5 requires
--disable-sysstatbfd --enable-locbfd.  But setting
this options with GCLOPTS


make GCLOPTS='"....."'


doesn't work as expected.  GCL build aborts almost
instantly with obscure error message even if I use
make with default GCLOPTS value


make GCLOPTS='"--enable-maxpage=128*1024 --enable-vssize=65536*2"'


I was able to build Axiom by direct patching GCLOPTS
in Makefile.

\start
Date: Mon, 24 Jan 2005 22:21:50 -0600
From: MathAction (billpage)
To: MathAction
Subject: [#10312 bugs ] (new) (new) Problems raising a UTS to a negative integer power

>From BillPage Fri Jan 21 23:52:32 -0600 2005
From: Bill Page
Date: Fri, 21 Jan 2005 23:52:32 -0600
Subject: (new) Problems raising a UTS to a negative integer power


This is an automated notification sent by Savannah.
It relates to:
		bugs #10312, project Axiom Computer Algebra System

==============================================================================
 LATEST MODIFICATIONS of bugs #10312:
==============================================================================

               Posted by: Bill Page <billpage1>
               Posted on: 2005-01-22 05:51 (Canada/Eastern)
    _______________________________________________________

                  Status:                    None -> transferred            


==============================================================================
 OVERVIEW of bugs #10312:
==============================================================================

URL:
  <http://savannah.nongnu.org/bugs/?func=detailitem&item_id=10312>

                 Summary: Problems raising a UTS to a negative integer power
                 Project: Axiom Computer Algebra System
            Submitted by: kratt6
            Submitted on: Tue 09/07/2004 at 14:28
                Category: algebra
                Severity: 5 - Average
              Item Group: code bug
                  Status: transferred
                 Privacy: Public
             Assigned to: billpage1
         Originator Name: 
        Originator Email: 
             Open/Closed: Open
                 Release: 
         Reproducibility: None
           Fixed Release: 
           Error message:  >> Error detected within library code:
   ** rational power of coefficient undefined

protected-symbol-warn called with (NIL)
Example of code trigerring the bug: p:=(1/2+n)::UTS(FRAC INT, 'n, 0)
(p**(-1))$UTS(FRAC INT, 'n, 0)

          Internal cause: 

    _______________________________________________________


The code below raises an unnecessary error. The problem 
is in sttaylor.spad/powern, where no distinction between rational and integer
powers are made.

The fix is easy. In fact, I just realize that the problem does not exist in
SUPS, so we can just take the definition there. I'll submit a patch tomorrow.

-------------------------------------------------------
Date: Wed 09/08/2004 at 09:09       By: Martin Rubey <kratt6>
resolved in patch #3349

\start
Date: Mon, 24 Jan 2005 22:34:33 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#10069 bugs ] (new) 

>From BillPage Fri Jan 21 23:51:32 -0600 2005
From: Bill Page
Date: Fri, 21 Jan 2005 23:51:32 -0600
Subject: (new) cot(0.0), csc(0.0), asec(0.0), acsc(0.0), asech(0.0), acsch(0.0),
	cot(0.0), coth(0.0), acoth(0.0)


This is an automated notification sent by Savannah.
It relates to:
		bugs #10069, project Axiom Computer Algebra System

==============================================================================
 LATEST MODIFICATIONS of bugs #10069:
==============================================================================

               Posted by: Bill Page <billpage1>
               Posted on: 2005-01-22 05:51 (Canada/Eastern)
    _______________________________________________________

                  Status:                    None -> transferred            


==============================================================================
 OVERVIEW of bugs #10069:
==============================================================================

URL:
  <http://savannah.nongnu.org/bugs/?func=detailitem&item_id=10069>

                 Summary: cot(0.0), csc(0.0), asec(0.0),
acsc(0.0),asech(0.0),acsch(0.0),cot(0.0),coth(0.0),acoth(0.0)
                 Project: Axiom Computer Algebra System
            Submitted by: None
            Submitted on: Fri 08/20/2004 at 02:21
                Category: algebra
                Severity: 5 - Average
              Item Group: code bug
                  Status: transferred
                 Privacy: Public
             Assigned to: billpage1
         Originator Name: 
        Originator Email: 
             Open/Closed: Open
                 Release: 
         Reproducibility: None
           Fixed Release: 
           Error message: >> Error detected within library code:
   (1 . failed) cannot be coerced to mode (Float)
Example of code trigerring the bug: cot(0.0)
          Internal cause: Has to handle failed with a 'case'

    _______________________________________________________


Example:

cot(0.0) =>

>> Error detected within library code:
   (1 . failed) cannot be coerced to mode (Float)

Has to handle failed with a 'case'

I haven't tested all, just (a)sec(h),(a)csc(h) and (a)cot(h)





    _______________________________________________________

File Attachments:


-------------------------------------------------------
Date: Mon 08/23/2004 at 17:41  Name: trigcat.patch  Size: 2.14KB   By: None
Sorry, forgot to use error &quot;&quot;
<http://savannah.nongnu.org/bugs/download.php?item_id=10069&item_file_id=1598>
-------------------------------------------------------
Date: Mon 08/23/2004 at 17:11  Name: trigcat.patch  Size: 2.1KB   By: None
Handle failed reciprocal
<http://savannah.nongnu.org/bugs/download.php?item_id=10069&item_file_id=1597>

\start
Date: Mon, 24 Jan 2005 22:13:24 -0600
From: MathAction (Tim Daly)
To: MathAction
Subject: [#59 make install sets the wrong shell variable in the axiom script] (new) 


I'm packaging Axiom (Savannah CVS Des 30, 2004) for
ALT Linux (www.altlinux.com).  Now graphics works well
under sman.  But there are a few glitches I'd like to
report on:


1. If I install axiom with the command


make INSTALL=<my-work-dir>/usr/lib/axiom \
    COMMAND=<my-work-dir>/usr/bin/axiom \
    install


then resulting axiom script contains


AXIOM=<my-work-dir>/usr/lib/axiom/mnt/


instead of correct


AXIOM=<my-work-dir>/usr/lib/axiom/mnt/linux

\start
Date: Mon, 24 Jan 2005 22:35:19 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#10069 bugs ] property change

Category:  => Axiom Library 
Status:  => pending (next release) 

\start
Date: Mon, 24 Jan 2005 22:22:18 -0600
From: MathAction (billpage)
To: MathAction
Subject: [#10312 bugs ] property change

Category:  => Axiom Library 
Status:  => open 

\start
Date: Mon, 24 Jan 2005 22:27:01 -0600
From: MathAction (billpage)
To: MathAction
Subject: [#10312 bugs Problems raising a UTS to a negative
	integer power] (renamed)

This page was renamed from #10312 bugs to #10312 bugs Problems raising
a UTS to a negative integer power.

\start
Date: Mon, 24 Jan 2005 23:07:24 -0600
From: MathAction (Tim Daly)
To: MathAction
Subject: [#68 shell script for bug reporting] (new) 

we need a shell script which will gather the 
Version and Timestamp information from Axiom
as well as the opsys information. It should
pre-populate a mail message to bugs@axiom-developer.org,
put the user in an editor so they can add information,
and when the file is saved, mails the bug report

\start
Date: Tue, 25 Jan 2005 00:44:32 -0500
From: Tim Daly
To: Bill Page
Subject: bugs@axiom-developer.org

Bill,

Nice job on bugs@axiom-developer.org. This is a win.

I think we need to write a shell script for the axiom
system which will automatically collect the version,
timestamp, and opsys information and pre-populate a
mail message.

This will make it possible for a user to send a bug
report with a minimum of fuss.

In fact, if we do it right we might be able to cause
GCL to start tracing a bug as soon as it throws an
error. If we do that then the user has mostly automated
bug reporting.

\start
Date: Tue, 25 Jan 2005 00:42:18 -0500
From: Tim Daly
To: Bill Page
Subject: how to change category of a bug?

Bill,

Bug #58 was submitted using bugs@axiom-developer.org
and the submission process appears to work.

Unfortunately, as you seem to have already discovered, 
the category, severity, and status fields are not set.

I don't know how to set those fields after the bug is created.
How do I do that?

\start
Date: Mon, 24 Jan 2005 23:20:43 -0600
From: MathAction (billpage)
To: MathAction
Subject: [#75 algebra creates the file 'code.lsp', this needs to be renamed before compile] (new) 

>From BillPage Thu Jan 20 23:42:00 -0600 2005
From: Bill Page
Date: Thu, 20 Jan 2005 23:42:00 -0600
Subject: (new) algebra creates the file 'code.lsp',
	this needs to be renamed before compile


This is an automated notification sent by Savannah.
It relates to:
		bugs #9648, project Axiom Computer Algebra System

==============================================================================
 LATEST MODIFICATIONS of bugs #9648:
==============================================================================

               Posted by: Bill Page <billpage1>
               Posted on: 2005-01-21 05:41 (Canada/Eastern)
    _______________________________________________________

                  Status:                    None -> transferred            


==============================================================================
 OVERVIEW of bugs #9648:
==============================================================================

URL:
  <http://savannah.nongnu.org/bugs/?func=detailitem&item_id=9648>

                 Summary: algebra creates the file 'code.lsp', this needs to
be renamed before compile
                 Project: Axiom Computer Algebra System
            Submitted by: axiom
            Submitted on: Thu 07/15/2004 at 03:13
                Category: build process
                Severity: 3 - Ordinary
              Item Group: feature request
                  Status: transferred
                 Privacy: Public
             Assigned to: axiom
         Originator Name: Tim Daly
        Originator Email: Tim Daly
             Open/Closed: Open
                 Release: current
         Reproducibility: None
           Fixed Release: 
           Error message: 
Example of code trigerring the bug: 
          Internal cause: 

    _______________________________________________________


Greetings!  Just a quick note on an observation I've made in putting
together the latest Debian package.  As you may recall, we are
skipping the database rebuilding step on ia64, alpha, hppa, mips and
mipsel, as we cannot natively relocate objects on these machines yet,
and they therefore use dlopen, which takes up too many file handles in
this step.  Even were this surmounted, another difficulty would arise
-- all the algebra files are compiled with the filename "code.lsp"
before renaming the .o file as appropriate.  This names the lisp
initialization function in each object "init_code", causing a linker
conflict, and results in a failure to find the sought init functions
determined by filename at load time, e.g. init_AHYB, etc.

We do intend to  get native relocation on these machines, but it will
likely take considerable time.  Might it be quicker to rename the
code.lsp before compiling?

\start
Date: Mon, 24 Jan 2005 23:21:12 -0600
From: MathAction (billpage)
To: MathAction
Subject: [#75 algebra creates the file code.lsp	this needs to be renamed before compile] property change

Name: '#75 algebra creates the file 'code.lsp', this needs to be renamed before compile' => '#75 algebra creates the file <code>code.lsp</code>, this needs to be renamed before compile' 
Category:  => Axiom Compiler 
Status:  => open 

\start
Date: Tue, 25 Jan 2005 00:48:58 -0500
From: Bill Page
To: Tim Daly
Subject: RE: savannah bug reports

Yes, my elation at the possibility of using the address:

bugs@axiom-developer.org

to transfer bug reports from Savannah has been short-lived.
This works fine but for some reason that I don't understand
tonight Savannah is only sending info on what I change and a
link to the report on Savannah. Two days ago I was getting a
full report with all the details. I don't know what changed and
I can't seem to find any setting on the Savannah admin interface,
so I have submitted a suport request to ask how I can change
that.

Also, when an issue is submitted to bugs@axiom-developer.org
it seems that the category, severity and status information
remains blank until changed online. I suppose this makes because
I am not sure how it could set this information from the
contents of an email.

As you always say: there is no such thing as an easy job. :)

On Monday, January 24, 2005 11:01 PM you wrote:
> 
> Issues 51, 52, and 53 seem to be missing
> category, severity, and status information.
> 

\start
Date: Mon, 24 Jan 2005 23:25:04 -0600
From: MathAction (billpage)
To: MathAction
Subject: [#75 algebra creates the file 'code.lsp', this needs to be renamed before compile] (new) 

>From BillPage Thu Jan 20 23:42:00 -0600 2005
From: Bill Page
Date: Thu, 20 Jan 2005 23:42:00 -0600
Subject: (new) algebra creates the file 'code.lsp',
	this needs to be renamed before compile


This is an automated notification sent by Savannah.
It relates to:
		bugs #9648, project Axiom Computer Algebra System

==============================================================================
 LATEST MODIFICATIONS of bugs #9648:
==============================================================================

               Posted by: Bill Page <billpage1>
               Posted on: 2005-01-21 05:41 (Canada/Eastern)
    _______________________________________________________

                  Status:                    None -> transferred            


==============================================================================
 OVERVIEW of bugs #9648:
==============================================================================

URL:
  <http://savannah.nongnu.org/bugs/?func=detailitem&item_id=9648>

                 Summary: algebra creates the file 'code.lsp', this needs to
be renamed before compile
                 Project: Axiom Computer Algebra System
            Submitted by: axiom
            Submitted on: Thu 07/15/2004 at 03:13
                Category: build process
                Severity: 3 - Ordinary
              Item Group: feature request
                  Status: transferred
                 Privacy: Public
             Assigned to: axiom
         Originator Name: Tim Daly
        Originator Email: Tim Daly
             Open/Closed: Open
                 Release: current
         Reproducibility: None
           Fixed Release: 
           Error message: 
Example of code trigerring the bug: 
          Internal cause: 

    _______________________________________________________


Greetings!  Just a quick note on an observation I've made in putting
together the latest Debian package.  As you may recall, we are
skipping the database rebuilding step on ia64, alpha, hppa, mips and
mipsel, as we cannot natively relocate objects on these machines yet,
and they therefore use dlopen, which takes up too many file handles in
this step.  Even were this surmounted, another difficulty would arise
-- all the algebra files are compiled with the filename "code.lsp"
before renaming the .o file as appropriate.  This names the lisp
initialization function in each object "init_code", causing a linker
conflict, and results in a failure to find the sought init functions
determined by filename at load time, e.g. init_AHYB, etc.

We do intend to  get native relocation on these machines, but it will
likely take considerable time.  Might it be quicker to rename the
code.lsp before compiling?





    _______________________________________________________

Carbon-Copy List:

CC Address                          | Comment
------------------------------------+-----------------------------
Tim Daly                       | 

\start
Date: Tue, 25 Jan 2005 00:05:03 -0600
From: MathAction (billpage)
To: MathAction
Subject: [#75 algebra creates the file code.lsp, this needs to be renamed before compile] property change

Name: '#75 algebra creates the file 'code.lsp', this needs to be renamed before compile' => '#75 algebra creates the file code.lsp, this needs to be renamed before compile' 
Category:  => Axiom Compiler 
Status:  => open 

\start
Date: Tue, 25 Jan 2005 00:35:36 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#46 termio vs ptermio (in src/clef/edible.c)]	(renamed)

This page was renamed from #46 termio vs ptermio to #46 termio vs ptermio (in src/clef/edible.c).

\start
Date: Tue, 25 Jan 2005 01:14:11 -0500
From: Bill Page
To: Tim Daly
Subject: RE: how to change category of a bug?

Tim,

On Tuesday, January 25, 2005 12:42 AM you wrote:
>
> Unfortunately, as you seem to have already discovered,
> the category, severity, and status fields are not set.

Yes. As far as I know, there is no way for the system to
determine these from the contents of the email. In the Pari
bugs system discussed by Fr=E9d=E9ric Lehobey,

http://pari.math.u-bordeaux.fr/Bugs

a special "pseudo-header" that contains such fields is defined.
The system looks for such a header and sets status fields
accordingly. I suppose it might be possible to do that in
MathAction with a little hacking.

>
> I don't know how to set those fields after the bug is
> created. How do I do that?
>

Just click on the issue title and it appears. Make the changes
and click Change.

But... some complications arise if the Page type is Plain Text.
In that case because of a bug in IssueTracker, the fields do
not show up. A work-around is, first click Edit, change the
Page type to something else, e.g. Structured Text+LaTex. Click
Save, change the fields, click Change, then Edit and change
Page type back to Plain Text and click Save. I have submitted
a issue report to the ZWiki developers about this.

In my previous tests, emails sent to bugs@axiom-developer.org
were automatically of Page type: Structured Text+LaTeX, so
it should be easy to change the fields. Did you deliberately
change the Page type to Plain Text?

\start
Date: Tue, 25 Jan 2005 01:56:12 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#58 error modifying title of bug] property change

Category:  => MathAction 
Severity:  => serious 
Status:  => open 

\start
Date: Tue, 25 Jan 2005 02:04:32 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#76 Cannot edit status fields of issue pages with Page type: Plain text] (new) 

If in edit 'Page type:' is changed to 'Plain text' then the status
fields are not display. To work-around, change the 'Page type:' to
something else, Save, change status, edit change 'Page type:' back
to 'Plain text'.

\start
Date: Tue, 25 Jan 2005 00:59:00 -0600
From: MathAction (Page, Bill)
To: MathAction
Subject: [#58 error modifying title of bug] (new) error	modifying titl	e of bug

Tim,

The problem is that you have not idendified yourself
to the MathAction. You should click on Preferences and
give a name and email address before you attempt to
change the title. If you have not done this, then the
system treats you as "anonymous".

There is an odd bug (or perhaps feature?) in the current
version of IssueTracker that prevents anonymous users from
changing the title even though as anonymous then can submit
new bugs.

On Monday, January 24, 2005 11:28 PM you wrote:
> 
> I tried to modify the title of a bug report
> bug #46 is titled termio vs ptermio
> I clicked on this bug report.
> I clicked 'edit' on the bug report page
> I modified the title to read:
> termio vs ptermio (in src/clef/edible.c)
> and clicked save.
> 
> A request for a userid and password popped up.
> I closed the request window.
> I got an error report page that said:
> 
> Site Error
> 
> An error was encountered while publishing this resource.

and ... more gibberish

I agree that this error message doesn't make any sense.

Anyway if you first click on Preferences and specify your
name and email address, this problem wont happen.

\start
Date: Tue, 25 Jan 2005 01:53:08 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#74 XSLT style sheet to convert OpenMath to MathML] property change

Category:  => Axiom User Interface 
Status:  => planned 

\start
Date: Tue, 25 Jan 2005 02:14:51 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#76 Cannot edit status fields of issue pages with Page type: Plain text] patch to plaintext.py

The following patch adds the IssueForm to pages of type Plain text::

  diff --exclude='*.pyc' -Naur test/Products/ZWiki/pagetypes/plaintext.py main/Products/ZWiki/pagetypes/plaintext.py
  --- test/Products/ZWiki/pagetypes/plaintext.py  2004-11-17 14:57:59.000000000 -0600
  +++ main/Products/ZWiki/pagetypes/plaintext.py  2005-01-25 01:47:04.000000000 -0600
  @@ -18,6 +18,8 @@

       def render(self, page, REQUEST={}, RESPONSE=None, **kw):
           t = page.preRendered()
  +        if page.isIssue() and kw.get('show_issueproperties',1):
  +            t = page.addIssueFormTo(t)
           t = page.renderMidsectionIn(t,**kw)
           t = page.addSkinTo(t,**kw)
           return t

\start
Date: Tue, 25 Jan 2005 02:15:37 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#76 Cannot edit status fields of issue pages with Page type: Plain text] property change

Status: assigned => testing 

\start
Date: Tue, 25 Jan 2005 09:57:14 +0100
From: Martin Rubey
To: Tim Daly
Subject: Re: Freshmeat Axiom page

Yes, its me.

Martin

root writes:
 > Does anyone know who owns the Axiom page on Freshmeat?

\start
Date: Tue, 25 Jan 2005 06:12:00 -0500
From: Bill Page
To: Martin Bravenboer
Subject: New user introduction,	a question about GraphXML2dot

Hello,

First a short introduction.

I am one of the current developers of the open source version
of Axiom, the computer algebra system originally developed by
IBM. Ref:

http://savannah.nongnu.org/projects/axiom

Axiom has a comparatively long history (30 years) of research
and development involving advanced programming languages for
the direct representation of formal mathematics. One result of
this research is a legacy of over 1,000 closely inter-related
algebra library modules implementing categories, domains and
packages of functions written in a language called spad (short
for scratchpad, the original name of the IBM project). There
is also a variant of spad now called Aldor which can server
both as a stand alone programming language and as the library
compiler for Axiom. See:

http://www.aldor.org

My interest in Stratego stems from the desire to find new high-
level tools to help maintain and extend the Axiom algebra
library. The initial goals are graphical visualization of the
library structure, optimization of the system build process
(which is complicated by cyclic dependencies (mutual recursion)
between the modules), and possibly rewriting of selected modules
from spad into Aldor.

In some ways Aldor is similar to Haskell, therefore I am quite
interested in how Stratego is being applied in that project.

Now my first question.

One of the things that lead me to Stratego happened to be a
quick search for a simple tool to convert a large GraphXML file
containing the Axiom algebra dependency graph into graphviz
(dot) format, hence GraphXML2dot. Of course since GraphXML2dot
is one of the programs in the collection Stratego utilities,
it turned out that this was not quite the "simple" tool that
I was hoping for. In order to use it I would have to learn
how it fits into the Stratego toolkit. Specifically I need
to learn how to parse an input GraphXML format file into
an ASF term, transform it via GraphXML2dot, and then render
the out ASF into actual dot format. None the less, sometimes
the taking the long route is worth the trip ...

I have successfully compiled and installed the most recent
versions of StrategoXT packages and the utilities (including
GraphXML2dot) on both Debian linux and on cygwin under
Windows. I have begun reading some introductory papers and
the reference manuals. But I find that I would really benefit
from a few simple tutorials which I have not yet found in
the documentation or on the Program Transformation web site.

So first, are such tutorials available? Could someone provide
references? Specifically, I would be interested in help to
complete my initial encounter with Stratego by learning to
use GraphXML2dot.

Second, I would be very interested in suggestions on how to go
about using Stratego in a more relevant manner. For example,
my understanding is that a necessary first step would be to
formally define the syntax of the spad language and if the
target is Aldor, then something similar is needed to generate
Aldor code output. Any suggestions and references related to
how to proceed with something like this would be very much
appreciated.

\start
Date: Tue, 25 Jan 2005 09:08:23 -0500
From: Bill Page
To: Tim Daly
Subject: RE: bugs@axiom-developer.org

On Tuesday, January 25, 2005 12:45 AM Tim Daly wrote:
> 
> Nice job on bugs@axiom-developer.org. This is a win.
>

Not really my job, this is a function already built-in to
ZWiki. All that is required is to set it up as per
instructions. (Ok, that did require just a little reading
between the lines. :)

> I think we need to write a shell script for the axiom
> system which will automatically collect the version,
> timestamp, and opsys information and pre-populate a
> mail message.
> 
> This will make it possible for a user to send a bug
> report with a minimum of fuss.

Well I am not so sure about a shell script to pre-populate
a mail message. Maybe it would be ok for some linux users,
but the concept is not very portable. There is a wide
variety of mail clients out there and then there is Windows
too. I think it would be hard to write a script that works
for everyone. And there is a lot of variability in email
server programs as well plus email security/anti-spam
issues to worry about.

How about a script to pre-populating a web form? The action
of the web form could be to submit a report directly to
IssueTracker. I hope that wouldn't be viewed as too much of
an assumption by users who normally use only email.

> 
> In fact, if we do it right we might be able to cause
> GCL to start tracing a bug as soon as it throws an
> error. If we do that then the user has mostly automated
> bug reporting.
> 

That reminds me to ask: What is the origin of the message

   protected-symbol-warn called with (NIL)

that appears on every error output from Axiom? This looks
like some kind of lisp error to me. Is this supposed to be
there?

\start
Date: Tue, 25 Jan 2005 09:33:28 -0500
From: Bill Page
To: Martin Rubey
Subject: RE: Graphics and Axiom (was Re: touchgraph, hypertex, hypergraph)

On Friday, January 21, 2005 6:16 AM you wrote:

> ... so if anybody is going to write a domain "graphs"
> (belonging to the category "matroids"...) he should look at
> [pigale and/or tulip].
> ...

I am very much in favor of establishing a project to extend
Axiom's algebraic capabilities in this area. So far, I think
most computer algebra systems (even commercial systems) have
only a rather primative representation of things like "networks".
But you are right to imply that from a mathematical point of
view graphs are a very fundamental structure. For example I
am inclined to think of abstract directed graphs as one of the
fundations for category theory.

Could you elaborate a little on how you see "graphs" as a
domain of the category "matroids"? How do you see the concept
of matroid as fitting into the current structure of Axiom
categories? For example, shall we attempt to relate linear
algebra also to matroids? What about directed graphs and
"oriented matroids" etc.?

\start
Date: Tue, 25 Jan 2005 10:25:26 -0600
From: MathAction (Page, Bill)
To: MathAction
Subject: [#77 protected-symbol-warn called with (NIL)]

-----Original Message-----

> That reminds me to ask: What is the origin of the message
> 
>    protected-symbol-warn called with (NIL)
> 
> that appears on every error output from Axiom? This looks
> like some kind of lisp error to me. Is this supposed to be
> there?

This is a relic of CCL.  In CCL most functions are compiled to byte
codes which are interpreted at runtime.  However Arthur Norman created a
very nice facility for Axiom which allowed us selectively to compile
functions to C so that they could be linked into the CCL kernel, which
gave quite a welcome performance boost.  Since those functions still
existed in the (byte-code) libraries the kernel versions  had to be
flagged as "protected symbols" so that they did not get over-written
when the libraries were loaded.   We did quite a lot of benchmarking and
included quite a broad selection of ex-spad code in the kernel which we
shipped.

The only downside to this was that some Axiom users quite liked to
re-compile "official" library code.  So we added a facility to warn
users when a kernel function was overwritten, and allow them to force a
redefinition (")set kernel warn" and ")set kernel protect" are the
relevent incantations IIRC).  

Quite why this message appears every time you get an error is beyond me,
although it may be due to the interaction between the break-loop support
we added for the CCL implementation, and GCL's own debugging facilities.

\start
Date: Tue, 25 Jan 2005 10:26:53 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#77 protected-symbol-warn called with (NIL)]	property change

Category:  => Axiom Interpreter 
Severity:  => normal 
Status:  => open 

\start
Date: Tue, 25 Jan 2005 15:04:53 +0000
From: Mike Dewar
To: Bill Page
Subject: re: bugs@axiom-developer.org

Hi Bill,

> That reminds me to ask: What is the origin of the message
> 
>    protected-symbol-warn called with (NIL)
> 
> that appears on every error output from Axiom? This looks
> like some kind of lisp error to me. Is this supposed to be
> there?

This is a relic of CCL.  In CCL most functions are compiled to byte
codes which are interpreted at runtime.  However Arthur Norman created a
very nice facility for Axiom which allowed us selectively to compile
functions to C so that they could be linked into the CCL kernel, which
gave quite a welcome performance boost.  Since those functions still
existed in the (byte-code) libraries the kernel versions  had to be
flagged as "protected symbols" so that they did not get over-written
when the libraries were loaded.   We did quite a lot of benchmarking and
included quite a broad selection of ex-spad code in the kernel which we
shipped.

The only downside to this was that some Axiom users quite liked to
re-compile "official" library code.  So we added a facility to warn
users when a kernel function was overwritten, and allow them to force a
redefinition (")set kernel warn" and ")set kernel protect" are the
relevent incantations IIRC).  

Quite why this message appears every time you get an error is beyond me,
although it may be due to the interaction between the break-loop support
we added for the CCL implementation, and GCL's own debugging facilities.

\start
Date: Tue, 25 Jan 2005 11:07:20 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#77 protected-symbol-warn called with (NIL)] nocompil.lisp.pamphlet

says::

  The function **protected-symbol-warn** was added because it is
  used in **setvart.boot** but apparently is nowhere defined. It
  is probably primitive to **CCL**.

  The function **protect-symbols** was added because it is
  used in **setvart.boot** but apparently is nowhere defined. It
  is probably primitive to **CCL**

However **setvart.boot** does not actually referenced in
**protected-symbol-warn**

<<gcl-cmpnote>>::

  (in-package "BOOT")
  (defun protected-symbol-warn (&rest arg))
  ;  (format t "protected-symbol-warn called with ~A~%" arg))
  (defun protect-symbols (&rest arg))
  ;  (format t "protected-symbol-warn called with ~A~%" arg))

  ...

  (defun enable-backtrace (&rest arg)
    (format t "protected-symbol-warn called with ~A~%" arg))

-----

Perhaps enable-backtrace is what issues the message.
What is this really supposed to do? In the case of CCL
t seems to be called from **debug.lisp.pamphlet** ::

  A "resumable" break loop for use in trace etc. Unfortunately this
  only works for CCL. We need to define a Common Lisp version. For
  now the function is defined but does nothing.
  <<interrupt>>=
  #-:CCL
  (defun interrupt (&rest ignore))

  #+:CCL
  (defun interrupt (&rest ignore)
    (prog (prompt ifile ofile u v)
      (setq ifile (rds *debug-io*))
      (setq ofile (wrs *debug-io*))
      (setq prompt (setpchar "Break loop (:? for help)> ")) top (setq u (read))
      (cond
        ((equal u ':x) (go exit))
        ((equal u ':r) (go resume))
        ((equal u ':q)
          (progn (lisp::enable-backtrace nil)
  ...

-------

This is the only place I can find that would call a function
that prints this error message. Could the conditional be
somehow ignored?

It's a mystery.

Also, at least on the Windows version of Axiom::

  )set kernel protect on

and::

  )set kernel warn on

seem to be non-functional, i.e.::

  )set kernel

still shows both in the 'off' state.

\start
Date: Tue, 25 Jan 2005 11:39:42 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#77 protected-symbol-warn called with (NIL)] nocompil.lisp.pamphlet

However the calls in **setvart.boot** cannot produce the message
**protected-symbol-warn** because they have been commented-out.

&lt;&lt;gcl-cmpnote&gt;&gt;::

it seems to be called from **debug.lisp.pamphlet** ::

\start
Date: Tue, 25 Jan 2005 12:38:23 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] 

\begin{axiom}
   log(1/x,x=0..z
\end{axiom}

\start
Date: Tue, 25 Jan 2005 17:53:23 -0500
From: Tim Daly
To: Bill Page
Subject: Re: bugs@axiom-developer.org

> Not really my job, this is a function already built-in to
> ZWiki. All that is required is to set it up as per
> instructions. (Ok, that did require just a little reading
> between the lines. :)

hey, it didn't work before. you played with it. it works now.
that's worth a kudo.

> Well I am not so sure about a shell script to pre-populate
> a mail message. Maybe it would be ok for some linux users,
> but the concept is not very portable. There is a wide
> variety of mail clients out there and then there is Windows
> too. I think it would be hard to write a script that works
> for everyone. And there is a lot of variability in email
> server programs as well plus email security/anti-spam
> issues to worry about.
> 
> How about a script to pre-populating a web form? The action
> of the web form could be to submit a report directly to
> IssueTracker. I hope that wouldn't be viewed as too much of
> an assumption by users who normally use only email.

Don't know about that either as it has issues. I suppose we
could extend axiom with a )bugreport function to write out
a flat file with the required info (including some cached
error messages from lisp and the interpreter?)

> That reminds me to ask: What is the origin of the message
> 
>    protected-symbol-warn called with (NIL)
> 
> that appears on every error output from Axiom? This looks
> like some kind of lisp error to me. Is this supposed to be
> there?

CCL has certain functions it "protects" and can't be redefined.
This is left over from the NAG implementation. I plan to fix it
one day but it gives axiom an air of mystery and makes it seem
more complex than it is :-)

\start
Date: Wed, 26 Jan 2005 01:37:26 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#79 log10 in GCL returns a bad value for log10(1000)]


Update of bugs #4565 (project axiom):

                  Status:                    None => transferred            


\start
Date: Wed, 26 Jan 2005 01:31:41 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#78 Axiom access to OpenMath library no longer works]


Update of bugs #4564 (project axiom):

                  Status:                    None => transferred            

    _______________________________________________________

Follow-up Comment #1:

Duplicate with #4578

\start
Date: Wed, 26 Jan 2005 01:53:44 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#80 Semantic Errors when building algebra]


Update of bugs #4582 (project axiom):

                  Status:                    None => transferred            
             Assigned to:                    None => billpage1              


\start
Date: Wed, 26 Jan 2005 02:19:14 -0600
From: MathAction (billpage)
To: MathAction
Subject: [#79 log10 in GCL returns a bad value for log10(1000)] property change

Category:  => lisp system 
Severity:  => normal 
Status:  => open 

\start
Date: Wed, 26 Jan 2005 02:38:49 -0600
From: MathAction (billpage)
To: MathAction
Subject: [#80 Semantic Errors when building algebra] property change

Category:  => Axiom Compiler 
Severity:  => normal 
Status:  => open 

\start
Date: Wed, 26 Jan 2005 02:45:32 -0600
From: MathAction (billpage)
To: MathAction
Subject: [#80 Semantic Errors when building algebra] property change

http://savannah.nongnu.org/bugs/?func=detailitem&item_id=4582

Submission:

I have also noticed five error messages (Semantic Errors) like this
one::

  0 making /home/david/pub/axiom-libre/axiom-cvs-2003-06-23-i386/new/new/int/algebra/ASP34.NRLIB
  from /home/david/pub/axiom-libre/axiom-cvs-2003-06-23-i386/new/new/int/algebra/ASP34.spad
...

Semantic Errors:

![1] coerce: code is BOTH a variable and a literal

Status:  => open

\start
Date: Wed, 26 Jan 2005 02:37:13 -0600
From: MathAction (billpage)
To: MathAction
Subject: [#79 log10 in GCL returns a bad value for log10(1000)] property change

In some versions of GCL the LOG10 function returns improperly rounded values.

The symptom is:
\begin{verbatim}
(24) -> [1000]
(24) [100]
\end{verbatim}

The common lisp failure can be shown with::

  (25) -> )lisp (log10 1000)
  Value = 2.9999999999999996

This previous boot code was::

  u < MOST_-POSITIVE_-LONG_-FLOAT => 1+negative+FLOOR LOG10 u
  and should be restored when the GCL bug is fixed.
  u < MOST_-POSITIVE_-LONG_-FLOAT => 1+negative+FLOOR ((LOG10 u) + 0.0000001)


Fri 09/05/2003 at 16:23, comment !#3

>From Tim:

I've already patched the output system to round (log10 1000).
The issue is still open because I need to remember to search
the sources for any other use of log10. I doubt we use it elsewhere
but I might as well do a quality job, yaknow?

David Mentr <dmentre>
Thu 09/04/2003 at 19:54, comment !#2:

>From Camm Maguire:
Our lisp spec expert tells me that routines returning floating point
values like (log10...) are not required to return exact integers in
cases like these.

What you want is something like this::

  (defun logi (x y &aux i r)
  (declare (longfloat x y r))
  (declare (fixnum i))
  (multiple-value-bind (i r) (round (log x y)) i))

David Mentr <dmentre>
Wed 09/03/2003 at 20:58, comment !#1:[Added information or comment]

Remind to tell about (log10 1000) issue on GCL developer mailing list.

\start
Date: Wed, 26 Jan 2005 02:52:51 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [#81 French error message when building SPLTREE]

Update of bugs #4583 (project axiom):

                  Status:                    None => transferred            


    _______________________________________________________

This item URL is:

  <http://savannah.nongnu.org/bugs/?func=detailitem&item_id=4583>

_______________________________________________
  Message sent via/by Savannah
  http://savannah.nongnu.org/

--
forwarded from http://page.axiom-developer.org/zope/mathaction/81FrenchErrorMessageWhenBuildingSPLTREE#msg20050126-085235.sv12157.87163@savannah.nongnu.org



\start
Date: Wed, 26 Jan 2005 03:00:27 -0600
From: MathAction (billpage)
To: MathAction
Subject: [#81 French error message when building SPLTREE] 

SPLTREE;eq?;2!$B;20 is replaced by errorin eq? from SPLTREE : la vache qui rit est-elle folle?

??changed:
-Translation : a vache qui rit est-elle folle? Mean : Is the laughing cow mad ? "Vache qui rit" is a brand of cheese paked in small portion who dont need to be keep in a freezer. Its a very old product comercial. And it hape I have some of my desk just now :) Not very helpfull, my idea is just somme error message saying something not made to hapen( ok like every error) who as not sence.
-
- 

Translation : a vache qui rit est-elle folle? Means : Is the laughing cow mad ?
"Vache qui rit" is a brand of cheese paked in small portion who dont need to be
keep in a freezer. Its a very old product comercial. And it hape I have some of
my desk just now :) Not very helpfull, my idea is just somme error message saying
something not made to hapen( ok like every error) who as not sence.

\start
Date: Wed, 26 Jan 2005 11:49:39 -0800 (PST)
From: Ammar Hakim
To: list
Subject: Problem compiling Axiom on Ferora Core 3...

Hello All,

I am trying to compile Axiom from latest CVS sources
on a Fedora Core 3 box. The compile fails with the
following message. Is there some configure variables
that need to be set before compiling? BTW: I have
previously compiled AXIOM on my home RedHat 9.0 box
and it works great!

....
gcc -c -Wall -DVOL=volatile -fsigned-char -pipe -O3
-fomit-frame-pointer  -I/hom
e/ammar/GNU/axiom/axiom/lsp/gcl-2.6.5/o -I../h
-I../gcl-tk sfasl.c
In file included from sfasl.c:40:
sfaslbfd.c: In function `fasload':
sfaslbfd.c:266: error: structure has no member named
`_raw_size'
sfaslbfd.c:291: error: structure has no member named
`_raw_size'
sfaslbfd.c:356: error: structure has no member named
`_raw_size'
make[4]: *** [sfasl.o] Error 1
make[4]: Leaving directory
`/home/ammar/GNU/axiom/axiom/lsp/gcl-2.6.5/o'
make[3]: *** [unixport/saved_pre_gcl] Error 2
make[3]: Leaving directory
`/home/ammar/GNU/axiom/axiom/lsp/gcl-2.6.5'
/bin/sh: unixport/saved_gcl: No such file or directory
make[2]: *** [gcldir] Error 127
make[2]: Leaving directory
`/home/ammar/GNU/axiom/axiom/lsp'
make[1]: *** [lspdir] Error 2
make[1]: Leaving directory
`/home/ammar/GNU/axiom/axiom'
make: *** [all] Error 2

\start
Date: Wed, 26 Jan 2005 15:26:28 -0500
From: Bill Page
To: Ammar Hakim
Subject: RE: Problem compiling Axiom on Ferora Core 3...

Ammar Hakim,

This problem has been discussed on the Axiom developer email list.

The short answer is to modify the lsp/Makefile.pamphlet to
change the configuration options as follows:

 configure with --disable-statsysbfd --enable-locbfd

This solution solves problems of several different kinds on
some of the less common linux systems. Let us know if you
need more detailed help to do this.

You may also get some useful information from the following
posts:

http://lists.gnu.org/archive/html/axiom-developer/2005-01/msg00529.html

 [#33 GCL fails to compile on Fedora Core 3] (new)

http://page.axiom-developer.org/zope/mathaction/33GCLFailsToCompileOnFedoraC
ore3


http://lists.gnu.org/archive/html/axiom-developer/2004-11/msg00098.html

"Minor update to the afore posted patch to work with the local
bfd source.  This is the version now on the [GCL] website errata
page: ..."

http://lists.gnu.org/archive/html/axiom-developer/2004-11/msg00117.html

http://lists.gnu.org/archive/html/axiom-developer/2004-11/msg00107.html

Regards,
Bill Page.

> -----Original Message-----
> From: Ammar Hakim [mailto:Ammar Hakim]
> Sent: Wednesday, January 26, 2005 2:50 PM
> To: list
> Subject: Problem compiling Axiom on Ferora Core 3...
> 
> 
> Hello All,
> 
> I am trying to compile Axiom from latest CVS sources
> on a Fedora Core 3 box. The compile fails with the
> following message. Is there some configure variables
> that need to be set before compiling? BTW: I have
> previously compiled AXIOM on my home RedHat 9.0 box
> and it works great!
> 
> ....
> gcc -c -Wall -DVOL=volatile -fsigned-char -pipe -O3
> -fomit-frame-pointer  -I/hom
> e/ammar/GNU/axiom/axiom/lsp/gcl-2.6.5/o -I../h
> -I../gcl-tk sfasl.c
> In file included from sfasl.c:40:
> sfaslbfd.c: In function `fasload':
> sfaslbfd.c:266: error: structure has no member named
> `_raw_size'
> sfaslbfd.c:291: error: structure has no member named
> `_raw_size'
> sfaslbfd.c:356: error: structure has no member named
> `_raw_size'



\start
Date: Wed, 26 Jan 2005 13:34:52 -0800 (PST)
From: Ammar Hakim
To: list
Subject: RE: Problem compiling Axiom on Ferora Core 3...

Thanks for the reply! I made the changes in the
Makefile.pamphlet and GCL now compiles fine. I can use
gcl from the command line. However now the code in
src/boot does not compile. It fails with the following
error. I am not sure if this is related to GCL or
something else.

...
15 making /home/ammar/GNU/axiom/axiom/src
make[2]: Entering directory
`/home/ammar/GNU/axiom/axiom/src'
21 making /home/ammar/GNU/axiom/axiom/src/boot
make[3]: Entering directory
`/home/ammar/GNU/axiom/axiom/src/boot'
44 invoking make in
/home/ammar/GNU/axiom/axiom/src/boot with parms:
SYS= linux
LSP= /home/ammar/GNU/axiom/axiom/lsp
PART= cprogs
SPAD= /home/ammar/GNU/axiom/axiom/mnt/linux
SRC= /home/ammar/GNU/axiom/axiom/src
INT= /home/ammar/GNU/axiom/axiom/int
OBJ= /home/ammar/GNU/axiom/axiom/obj
MNT= /home/ammar/GNU/axiom/axiom/mnt
make[3]: ***
[/home/ammar/GNU/axiom/axiom/obj/linux/bin/bootsys]
Error 255
make[3]: Leaving directory
`/home/ammar/GNU/axiom/axiom/src/boot'
make[2]: *** [bootdir] Error 2
make[2]: Leaving directory
`/home/ammar/GNU/axiom/axiom/src'
make[1]: *** [srcdir] Error 2
make[1]: Leaving directory
`/home/ammar/GNU/axiom/axiom'
make: *** [all] Error 2

\start
Date: Wed, 26 Jan 2005 15:58:54 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] test

solve(A+2=2)

\start
Date: Wed, 26 Jan 2005 16:12:10 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] test5

...
\begin{axiom}
expand((a+b)^2)
solve(a+b+c+d = a*b*c*d)
\end{axiom}

\start
Date: Wed, 26 Jan 2005 16:01:41 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] test3

\begin{axiom}
2^500000000000000000000000000000
\end{axiom}

\start
Date: Wed, 26 Jan 2005 16:08:19 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] test4

...
\begin{axiom}
solve(foo+bar+baz+xyzzy = foo*bar*baz*xyzzy)
\end{axiom}

\start
Date: Wed, 26 Jan 2005 16:00:27 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] test2

\begin{axiom}
solve(A+2=4)
\end{axiom}

\start
Date: Wed, 26 Jan 2005 16:24:11 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] test7

...
\begin{axiom}
solve(a+b+c+d=a*b*c*d, [a, b, c, d])
\end{axiom}

\start
Date: Wed, 26 Jan 2005 16:20:00 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [MathAction] xxx

xxx
\begin{axiom}
(1+2)/3
\end{axiom}

\start
Date: Wed, 26 Jan 2005 16:19:23 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] test6

...
\begin{axiom}
solve(1+x=3, x)
\end{axiom}

\start
Date: Wed, 26 Jan 2005 17:10:40 -0500
From: Bill Page
To: Ammar Hakim
Subject: RE: Problem compiling Axiom on Ferora Core 3...

Ammar,

On Wednesday, January 26, 2005 4:35 PM you wrote:
> 
> Thanks for the reply! I made the changes in the
> Makefile.pamphlet and GCL now compiles fine. I can use
> gcl from the command line.

Good. That's step 1.

> However now the code in src/boot does not compile. It
> fails with the following error. I am not sure if this
> is related to GCL or something else.
> 
> ...
> 15 making /home/ammar/GNU/axiom/axiom/src
> make[2]: Entering directory
> `/home/ammar/GNU/axiom/axiom/src'
> 21 making /home/ammar/GNU/axiom/axiom/src/boot
> make[3]: Entering directory
> `/home/ammar/GNU/axiom/axiom/src/boot'
> 44 invoking make in
> /home/ammar/GNU/axiom/axiom/src/boot with parms:
> SYS= linux
> LSP= /home/ammar/GNU/axiom/axiom/lsp
> PART= cprogs
> SPAD= /home/ammar/GNU/axiom/axiom/mnt/linux
> SRC= /home/ammar/GNU/axiom/axiom/src
> INT= /home/ammar/GNU/axiom/axiom/int
> OBJ= /home/ammar/GNU/axiom/axiom/obj
> MNT= /home/ammar/GNU/axiom/axiom/mnt
> make[3]: ***
> [/home/ammar/GNU/axiom/axiom/obj/linux/bin/bootsys]
> Error 255

If you search the `src/boot/Makefile' for the string
"echo 44" you will see that the failure occurs at the
point that GCL is running GCL for the first time. '255'
is an error returned by ${LOADSYS}. Notice that LOADSYS =
${OBJ}/${SYS}/bin/lisp,  which is the name that the Axiom
uses for it's slightly modified version of GCL.

When you say that you "can use GCL from the command line"
do you mean that you can type

  $ lisp

? Does GCL seem to start normally? You should at least be
able to do something trivial and quit with the commands:

  (+ 1 1)
  (quit)

Since Axiom does not do a complete install of GCL - only
enough for it's purposes - and since you mention running GCL
from the command line I wonder if maybe because of the previous
problem, you might not have allowed Axiom to build GCL in the
way that it needs to in order to build Axiom?

If you haven't done this already, I recommend that you
re-start the build fresh with the commands:

  $ ./configure
  $ (cut-and-paste AXIOM and PATH variables)
  $ make clean
  $ make | tee axiom-make.log

If this fails, then I think we will need to see a more
listing of the output of make. The `tee' command above
is a way to create such a file.

Regards,
bill Page.



\start
Date: Wed, 26 Jan 2005 16:10:59 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] test5

...
\begin{axiom}
expand((a+b)^2)
solve(a+b+c+d = a*b*c*d)
\end{axiom}

\start
Date: Wed, 26 Jan 2005 16:51:46 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [MathAction] 

It is sort of interesting, isn't it, that Axiom insists on
calling `1' a fraction just because of the way it was
calculated? There is a way to say that you want the answer
as an integer. Of course this isn't always possible:
\begin{axiom}
(1/3)::Integer
\end{axiom}

But in your example it is:
\begin{axiom}
((1+2)/3)::Integer
\end{axiom}

\start
Date: Wed, 26 Jan 2005 19:02:42 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [FAQ] 

one of them, so we need to provide some help. In particular we need to
tell Axiom how to expand square roots. (Since $\sqrt{\ }$ is a
multi-valued function this rule is true only in a restricted sense for
a particular choice of branches. Consider $a=-1, b=-1$.)

\start
Date: Wed, 26 Jan 2005 22:42:18 -0500
From: Tim Daly
To: list
Subject: axiom--main--1--patch-27

axiom--main--1--patch-27

Summary: cleanup
Keywords: daly cleanup

20050126 tpd --patch-27
20050126 tpd configure test for fedora core 3 system
20050126 tpd Makefile add fedora3 section
20050126 tpd Makefile fix solaris9 chunk
20050126 tpd src/hyper/graphics.ht unsplit line
20050126 tpd src/hyper/topics.ht  {{ }} -> { }
20050126 tpd src/hyper/rootpage.ht remove ANNA
20050126 tpd src/algebra/tex.spad fix product(product
20050126 tpd src/algebra/Makefile make generic-2 respect NOISE
20050126 tpd Makefile fix clean: to handle sys-dependent clean
20050126 tpd src/algebra/combfunc.spad fix D(0^z,z)
20050124 tpd FAQ 31: How can I find out if this is a known bug
20050124 tpd FAQ 30: How can I file a bug report?
20050123 tpd lsp/Makefile patch -> ${PATCH}
20050123 tpd Makefile patch -> ${PATCH}
20050123 tpd configure add solaris9 specific output
20050123 tpd Makefile add PATCH variable
20050123 tpd configure add SunOS -> Solaris9
20050119 tpd src/interp/Makefile remove noise lines from generic rules

\start
Date: Thu, 27 Jan 2005 11:29:51 -0800 (PST)
From: Ammar Hakim
To: list
Subject: Axiom on Fedora Core 3

[I am resending this message as my previous mail was blocked due to a
large attachment]

I tried to compile Axiom on Fedora Core 3 after changing the
Makefile.pamphlet for GCL to configure GCL with --disable-statsysbfd
--enable-locbfd. After doing this GCL works yet the code in src/boot
fails to compile. I now get the following error message. Has anybody
else compiled Axiom on Fedora 3 before? If so suggestions will be
helpful.

.....
44 invoking make in /home/ammar/gnu/axiom/axiom/src/boot with parms:
SYS= linux
LSP= /home/ammar/gnu/axiom/axiom/lsp
PART= cprogs
SPAD= /home/ammar/gnu/axiom/axiom/mnt/linux
SRC= /home/ammar/gnu/axiom/axiom/src
INT= /home/ammar/gnu/axiom/axiom/int
OBJ= /home/ammar/gnu/axiom/axiom/obj
MNT= /home/ammar/gnu/axiom/axiom/mnt

>
Loading /home/ammar/gnu/axiom/axiom/obj/linux/boot/boothdr.o
start address -T 0x8408fe0 Finished loading
/home/ammar/gnu/axiom/axiom/obj/linux/boot/boothdr.o
Loading /home/ammar/gnu/axiom/axiom/obj/linux/boot/exports.o
start address -T 0x8407fe0 Finished loading
/home/ammar/gnu/axiom/axiom/obj/linux/boot/exports.o
Loading /home/ammar/gnu/axiom/axiom/obj/linux/boot/npextras.o
start address -T 0x841d000 Finished loading
/home/ammar/gnu/axiom/axiom/obj/linux/boot/npextras.o
Loading /home/ammar/gnu/axiom/axiom/obj/linux/boot/ptyout.o
start address -T 0x842d3e0 Finished loading
/home/ammar/gnu/axiom/axiom/obj/linux/boot/ptyout.o
Loading /home/ammar/gnu/axiom/axiom/obj/linux/boot/btincl2.o
start address -T 0x8421f40 Finished loading
/home/ammar/gnu/axiom/axiom/obj/linux/boot/btincl2.o
Loading /home/ammar/gnu/axiom/axiom/obj/linux/boot/btscan2.o
start address -T 0x8437100 Finished loading
/home/ammar/gnu/axiom/axiom/obj/linux/boot/btscan2.o
Loading /home/ammar/gnu/axiom/axiom/obj/linux/boot/typrops.o
start address -T 0x841cc98 Finished loading
/home/ammar/gnu/axiom/axiom/obj/linux/boot/typrops.o
Loading /home/ammar/gnu/axiom/axiom/obj/linux/boot/btpile2.o
start address -T 0x84203a0 Finished loading
/home/ammar/gnu/axiom/axiom/obj/linux/boot/btpile2.o
Loading /home/ammar/gnu/axiom/axiom/obj/linux/boot/typars.o

Error: Caught fatal error [memory may be damaged]
Fast links are on: do (si::use-fast-links nil) for debugging
Error signalled by LAMBDA-CLOSURE.
Broken at LOAD.  Type :H for Help.
BOOTTRAN>>make[3]: *** 
[/home/ammar/gnu/axiom/axiom/obj/linux/bin/bootsys] Error 255

make[3]: Leaving directory `/home/ammar/gnu/axiom/axiom/src/boot'
make[2]: *** [bootdir] Error 2
make[2]: Leaving directory `/home/ammar/gnu/axiom/axiom/src'
make[1]: *** [srcdir] Error 2
make[1]: Leaving directory `/home/ammar/gnu/axiom/axiom'
make: *** [all] Error 2

\start
Date: Thu, 27 Jan 2005 15:03:39 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#82 Sum should be evaluated by Gosper's method, but isn't] (new) 

sum(1/(k*(k+a)), k=1..n) is returned unevaluated

Why doesn't package RationalFunctionSum handle this?

\start
Date: Thu, 27 Jan 2005 13:43:00 -0800
From: Forbes Bagatelle-Black
To: list
Subject: Looking for Clifton Williamson

If anyone knows how to get in touch with Clifton Williamson, please have 
him contact me.

Many Thanks, and sorry for the mass-mailing.

\start
Date: Thu, 27 Jan 2005 21:56:55 -0500
From: Bill Page
To: Ammar Hakim
Subject: RE: Axiom on Fedora Core 3

On Thursday, January 27, 2005 2:30 PM Ammar Hakim wrote:
> 
> I tried to compile Axiom on Fedora Core 3 after changing
> the Makefile.pamphlet for GCL to configure GCL with
> --disable-statsysbfd --enable-locbfd. 
> After doing this GCL works yet the code in src/boot fails
> to compile. I now get the following error message. Has
> anybody else compiled Axiom on Fedora 3 before? If so
> suggestions will be helpful.
>

I see similar questions but no positive answers in the email
archives. Just today Tim Daly posted an message about the
latest development version (not yet in CVS) that says (in part):

> 20050126 tpd configure test for fedora core 3 system
> 20050126 tpd Makefile add fedora3 section

so by implication I think the answer to your question is that no
one has built Axiom successfully on Fedora 3 from the Savannah
CVS. However apparently Tim has been working on it and has not
yet had time to reply to you question. If you are interested in
testing the new version that might work, you will have to download
Axiom from the arch repository. See details on how to do this see:

http://page.axiom-developer.org/zope/mathaction/ArchUsage

Or you could wait a week and refresh from CVS since this version
is scheduled to be uploaded to the Savannah CVS at the beginning
of February.

Regards,
Bill Page.

 
> .....
> 44 invoking make in /home/ammar/gnu/axiom/axiom/src/boot with parms:
> ...
> Loading /home/ammar/gnu/axiom/axiom/obj/linux/boot/btpile2.o
> start address -T 0x84203a0 Finished loading
> /home/ammar/gnu/axiom/axiom/obj/linux/boot/btpile2.o
> Loading /home/ammar/gnu/axiom/axiom/obj/linux/boot/typars.o
> 
> Error: Caught fatal error [memory may be damaged]
> Fast links are on: do (si::use-fast-links nil) for debugging
> Error signalled by LAMBDA-CLOSURE.
> Broken at LOAD.  Type :H for Help.
> BOOTTRAN>>make[3]: *** 
> [/home/ammar/gnu/axiom/axiom/obj/linux/bin/bootsys] Error 255
>

\start
Date: Thu, 27 Jan 2005 23:05:01 -0500
From: Tim Daly
To: Bill Page
Subject: Re: Axiom on Fedora Core 3

I'm burning a set of Fedora Core 3 CDs as I write this.
I'm going to set up one of my local machines as FC3 and try the build here.

Tim

\start
Date: Fri, 28 Jan 2005 00:09:49 -0600
From: MathAction (Tim Daly)
To: MathAction
Subject: [#84 conjugate(c)] (new) 

root address@bogus.example.com wrote:
> Clearly you're right and I agree with you.
> 
> The problem, as I see it, is that there are subtle degrees of meaning
> that are easily stepped around when you work on paper but must be
> clarified in computational mathematics.

Why cannot we allow *all*?  I expect I should be able to coerce 'A+1' to
an Integer, Polynomial Integer, Expression Integer, etc.  The default
seems to be Integer, which seems fine.

The error seems to be in the Polynomial domain:
    (16) -> c:Complex Integer           
                                                                       Type: 
Void
    (17) -> conjugate(c)     
     
       c is declared as being in Complex Integer but has not been given a 
          value.
    (17) -> c:Complex Polynomial Integer
                                                                       Type: 
Void
    (18) -> conjugate(c)

       (18)  c
                                                 Type: Complex Polynomial 
Integer

Adding the Polynomial to its domain causes this to go wrong...

    (19) -> c:Polynomial Complex Integer
                                                                       Type: 
Void
    (20) -> conjugate(c)
       There are 4 exposed and 1 unexposed library operations named 
          conjugate having 1 argument(s) but none was determined to be 
        ...

I'm surprised this doesn't work.  A Polynomial on a Ring is still a
member of that ring and should inherit its functions.  (in this case,
conjugate)  It also strikes me that Polynomial Complex Integer is the
proper type here, not Complex Polynomial Integer...clearly they are
inequivalent.

> A: Integer
> 
> might mean that 1) 'A' will hold a value which is an integer
> under interpretation (1)
> 
> A+1 
> 
> is an error since 'A' has no value. But what does the type of
> an unbound thing mean? Lisp assigns types to the values, not
> the boxes. This is like labeling a box 'television'.

This is the approach taken by Integer, Complex, and Float it seems.

> or perhaps that 2) 'A' is an indefinite object of type integer
> under interpretation (2)
> 
> A+1
> 
> is another indeterminant integer, where '+' comes from Integer.
> 
> or perhaps that 3) 'A' obeys the laws applied to integers
> under interpretation (3)
> 
> A+1
> 
> is a polynomial with 2 integers, representing a constant, where
> '+' comes from Polynomial.

I cannot seem to construct an example of type (3).  Given: c:Integer and
I want to construct a Polynomial Integer containing 'c', how would I do
it?

> or perhaps that 4) 'A' is a symbol which hold integers
> under interpretation (4)
> 
> A+1
> 
> is a polynomial in A with integer coefficients ignoring 'A's type
> where '+' comes from Polynomial.

The type of 'A' cannot be ignored since 'A+1' must Polynomial must have
a Field such as Integer in its constructor.

> or perhaps that 5) 'A' is an element of a Ring and theorems can be applied
> under interpretation (5)
> 
> A+1
> 
> is 'B', a new member of the Ring since '+' is a ring operator and both
> 'A' and '1' are ring elements. Ideally Axiom's types would be decorated
> with axioms, like the ring axioms making reasoning about unbound but
> typed objects possible. The '+' comes from the Category axioms of Integer.

Now this truly is a research project.  ;)

> The exact interpretation chosen appears to be dictated by the 
> underlying code and is not the same everywhere.
> 
> Axiom is the product of many people, some of whom have chosen
> different interpretations. Indeed, some of the interpretations
> didn't exist before the computational aspects of mathematics
> came into play.

I think this *must* be clarified, and a unifying set of assumptions be
applied across all domains.

> There are quite a few areas of research that could be followed.
> Indeed, working out the implications of the several meanings of 
> 'A' is a PhD topic, and a rather hard one at that. The issue 
> heads off into questions of provisos, questions of reasoning with
> theorems and axioms, etc.

This does not seem so hard, but maybe I am being naive.

\start
Date: Fri, 28 Jan 2005 00:08:44 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [MathAction] 

Axiom is very strict with types (meaning: where the operation takes
place). The division of 1+2 by 3 takes place in Fraction Integer
(field of rational numbers) and that is where the answer should be,
even if it is 1. Most people would automatically "retract" this to the
integer 1. But in general, there is no natural way to do so (why not
retract 1 to a natural number, for example?).  So Axiom provides the
user a way to "coerce" an answer to another type. You can coerce 1 to
any of many, many types, for example, as a polynomial, or even as a
matrix (or the unit element of any ring).

\begin{axiom}
((1+2)/3)::Polynomial Integer
((1+2)/3)::SquareMatrix(1,Integer)
((1+2)/3)::SquareMatrix(3,Integer)
((1+2)/3)::SquareMatrix(3, Polynomial Complex Integer)
\end{axiom}

\start
Date: Thu, 27 Jan 2005 23:52:18 -0600
From: MathAction (Tim Daly)
To: MathAction
Subject: [#83 Bug 5977   1::DMP([x], FRAC INT)::POLY FRAC INT ==> 0] (new) 

William Sit <address@bogus.example.com> wrote:

> Martin wrote:
> 
> Thanks for investigating further.
>  
> > it might be that there is an error in mainVariable$SMP, but more likely, the
> > bug is earlier in the history. mainVariable$SMP is called from coerce$POLY,
> > interestingly without checking that the result of mainVariable might be
> > "failed".
> 
> Shouldn't that mean coerce$POLY should be fixed to check the "failed" case?

Sorry, my mistake. coerce$POLY checks itself whether there is a variable or 
not...

> Which coerce$POLY is that?

the coerce operation in the POLY domain.

> > (66) -> 1::DMP([x],FRAC INT)::POLY FRAC INT
> > 
> >    coerce$POLY
> >    mainVariable1$SMP
> >    mainVariable3$SMP
> >    mainVariable4$SMP
> >  LISP output:
> > 1
> >    coerce4$POLY
> >    1
> >    coerce5$POLY
> >    coerce6$POLY
> >    (66)  0
> >                           Type: Polynomial Fraction Integer

> > Is there a way to find out what exactly the variable p in mainVariable
> > contains?
> > 
> use p$Rep  ? or trace boot.

I'm pretty sure that the coercion to from DMP to POLY fails, without signalling 
an error, just like you could always do a "pretend". This would also explain 
(66)

Note that it is not possible to coerce a DMP or a UP or anything the like to a 
POLY in compiled code! Unfortunately I don't know where these interpreter 
coercions are coded. In any case, I'm convinced that they *should* be coded in 
the Algebra, not in the interpreter. 

> Now p is declared in multpoly.spad as Union(R, VPoly).
> So the code mainVariable p seems to be correct, but your debug info
> 
> > (65) -> 1::DMP([x],INT)::POLY INT
> > 
> >    coerce$POLY
> >    mainVariable1$SMP
> >    mainVariable3$SMP
> >    mainVariable4$SMP
> > 
> >    >> System error:
> >    Caught fatal error [memory may be damaged]
> > 
> > protected-symbol-warn called with (NIL)
> 
> suggests that when 1$DMP([x], INT) is passed on to coerce$(POLY INT) and then 
> to
> mainVariable$SMP as p, it is recognized as "case VPoly". So that must be where
> the bug is, in coerce$(POLY INT).

Note that coerce$POLY only coerces to OutputForm... No internal stuff done 
there. That's why I'm sure that it is an interpreter bug.

\start
Date: Thu, 27 Jan 2005 23:59:03 -0600
From: MathAction (Tim Daly)
To: MathAction
Subject: [#8 (Savannah bug #9297) output misses some parenthesis] additional info


"Bill Page" <address@bogus.example.com> wrote:

> >  > #3127:  bug #9297 -- output misses parenthesis in COMBF [A]
> > 
> > the patch does the straightforward thing: it always adds 
> > parentheses around a sum and a product. In certain cases,
> > the parentheses might not be strictly necessary, but with the
> > patch the output is always mathematically correct. I'd
> > say that it could be a *future* project to improve output.
> >
> 
> I am still not clear about this one. Are you saying that
> the output is ambiguous in some cases because of missing
> parenthesis but that internally the result is correct?

Internally, the result is correct, however, the output is not only ambiguous, 
but wrong in some cases.

> If so, then I think I would prefer to wait for someone to
> come up with a general solution rather than to do now
> what seems like a "quick-and-dirty fix".

The fix is not dirty. It is quick and simple. It is not that easy to come up 
with a really good version, but I'd say that wrong output is unacceptable.

> >  > #3148:  bug #9216 differentiating sums with respect to a 
> > bound is wrong [A]
> > 
> > in my opinion correct beyond doubt.
> 
> In the patch report you wrote:
> 
> "Mathematically axiom produces correct output now, however
> I'm not sure whether my patch is best possible.
> 
> Maybe there should be a function D in OutputForm that displays
> unevaluated differentiation. Also, I find it ugly to use the
> raw %diff operator in COMBF. Furthermore, is it necessary to
> substitute a dummy variable for the variable of differentiation?"
> 
> I am concerned that this is another case of a "quick fix" for
> which we should consider a more general solution of the kind
> that you suggest above.

In this case the situation is a tiny little bit different, since here also 
Axioms internal representation is wrong. Worse: the design of Axioms Algebra 
currently doesn't provide "unevaluated differentiation". Obviously, it was 
thought that anything can be differentiated. In fact, I'm almost sure that 
attempting to differentiate a sum by one of its bound should signal an error, 
because it is impossible to assign a mathematically correct meaning to it. In 
this sense, I'd suggest that we aim to reach consensus until end of January.

> >  > #3161:  any? and every? should exit when the result is clear [A]
> > 
> > I don't have the time to look it up right now, whether the 
> > "mixed" behaviour TREE would vanish with this patch or not.
> > In any case, this "bug" will never produce mathematically
> > incorrect results. It will only waste cpu cycles.
> 
> Can we be sure that functions applied during evaluating 'any?'
> and 'every?' are not being executed for their side-effects?
> I worry that changing the semantics here could have unexpected
> effects in other places in Axiom where 'any?' and 'every?' are
> used.
> 
> > In fact, I included the comment regarding TREE only to document 
> > that if there would be code that depends on the "evaluate all"
> > code, it wouldn't work with TREE anyway, so it would be broken
> > already. Bottom line: no danger.
> 
> I am not convinced. I think this needs more analysis, i.e. look
> at each case were 'any?' and 'every?' are actually used or else
> we have to be prepared to do a lot of testing.

I did some analysis and I'm quite sure that no code will be broken. However, 
this is a patch I won't push, since it won't produce incorrect results. 

\start
Date: Fri, 28 Jan 2005 02:46:32 -0600
From: MathAction (Bertfried Fauser)
To: MathAction
Subject: [#84 conjugate(c)] [#84 conjugate(c)] (new) 

On Fri, 28 Jan 2005, Tim Daly wrote:

Hi,

perhaps I miss the point, but I want to comment a few statements:

> > The problem, as I see it, is that there are subtle degrees of meaning
> > that are easily stepped around when you work on paper but must be
> > clarified in computational mathematics.

I wouldn't even call this subtle, but a core problem.

> Why cannot we allow *all*?  I expect I should be able to coerce 'A+1' to
> an Integer, Polynomial Integer, Expression Integer, etc.  The default
> seems to be Integer, which seems fine.

Why I would have no problem to coerce 'A' to *all* (anything), I see a
problem with the '1', since eg a Ring may not have a '1' and '1' may not
even mean 'unit' (of multiplication, eg an additive group)

> I'm surprised this doesn't work.  A Polynomial on a Ring is still a
> member of that ring and should inherit its functions.

A polynomial on a Ring is _not_ an element of the Ring! The *value* of a
polynomial on a Ring element is a ring element (not even its roots, and
not even limits of polynomials in the dgree may have this property). A
polynomial lives (relatively natural) in the product ring RxRxR...
of the ring R, where addition, multiplication etc are inherited
canonically. However, one can make RxRx... in quite different ways into a
Ring (and thats needed eg in topology) so AXIOM will need to know what one
assumes about this extension.

> (in this case,
> conjugate)  It also strikes me that Polynomial Complex Integer is the
> proper type here, not Complex Polynomial Integer...clearly they are
> inequivalent.

You shoul be aware that the complex numbers, seen as a field, and the ring
C, seen as R-algebra (R real numbers, eg. pairs of real numbers) are *not*
isomorphic objects w.r.t. complex conjugation. Only the R-algebra C has
the obvious complex conjugation, while C as a filed has infinitely many
inequivalent (non constructive) conmplex conjugations. Hence AXIOM is
right to be careful here.

Is this of any help?

\start
Date: Fri, 28 Jan 2005 14:11:21 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] 

    \begin{axiom}
    [1/2, 3/4, 2/3]
    \end{axiom}

\start
Date: Fri, 28 Jan 2005 14:13:28 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] 

    \begin{axiom}
integrate(4x^2,x)
    \end{axiom}

\start
Date: Fri, 28 Jan 2005 14:12:57 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] 

    \begin{axiom}
2*x/sin(x)^2
integrate(%,x)
    \end{axiom}

\start
Date: Fri, 28 Jan 2005 14:13:43 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] 

\begin{axiom}
integrate(4x^2,x);
\end{axiom}

\start
Date: Fri, 28 Jan 2005 14:10:24 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] TEST

\begin{axiom}
exp(-x^2/2^l)
integrate(%,x)
\end{axiom}

\start
Date: Fri, 28 Jan 2005 14:10:54 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] 

\begin{axiom}
exp(-x^2)
integrate(%,x)
\end{axiom}

\start
Date: Fri, 28 Jan 2005 14:05:27 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] 

integrate(exp(-d^2/2^l),d=0..infinity)

\start
Date: Fri, 28 Jan 2005 14:11:07 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] 

\begin{axiom}
e^(-x^2)
integrate(%,x)
\end{axiom}

\start
Date: Fri, 28 Jan 2005 14:16:02 -0600
From: MathAction (Bob McElrath)
To: MathAction
Subject: [AxiomInterface] 

What's going on with the wiki interface?  Somebody is playing with it,
but it is generating a ton of latex errors.  Several of the integrals
they are trying give "failed" when I run it by hand.

anonymous [MathAction] wrote:
> \begin{axiom}
> integrate(4x^2,x);
> \end{axiom}

\start
Date: Fri, 28 Jan 2005 12:16:04 -0800
From: Bob McElrath
To: list
Subject: Re: [AxiomInterface]

What's going on with the wiki interface?  Somebody is playing with it,
but it is generating a ton of latex errors.  Several of the integrals
they are trying give "failed" when I run it by hand.

anonymous [MathAction] wrote:
> \begin{axiom}
> integrate(4x^2,x);
> \end{axiom}

\start
Date: Fri, 28 Jan 2005 14:06:11 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] 

\begin{axiom}
integrate(exp(-d^2/2^l),d=0..infinity)
\end{axiom}

\start
Date: Fri, 28 Jan 2005 14:08:18 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface] 

\begin{axiom}
integrate(exp(-d^2/2^l),d)
\end{axiom}

\start
Date: Sat, 29 Jan 2005 21:49:52 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [LatexTemplate] 


++added:
\def\csch{\mathop{\rm csch}\nolimits}
\def\erf{\mathop{\rm erf}\nolimits}

\start
Date: Sat, 29 Jan 2005 22:04:47 -0600
From: MathAction (Tim Daly)
To: MathAction
Subject: [#85 axiom on windows won't accept interrupts]	(new) 

Tim, this is the same version (0.1.4) that I downloaded 2-3 days 
ago.  It works nicely except for a few quirks.  E.g., 
interrupting a long calculation didn't work for me.

\start
Date: Sat, 29 Jan 2005 23:42:34 -0500
From: Tim Daly
To: list
Subject: axiom--windows version 0.1.4

------- Start of forwarded message -------
From: Kamal Abdali

Tim, this is the same version (0.1.4) that I downloaded 2-3 days 
ago.  It works nicely except for a few quirks.  E.g., 
interrupting a long calculation didn't work for me.

I had no difficulty installing it on a real Windows XP. But a 
Mac virtual PC keeps complaining that the installation file is 
corrupt/incomplete. The error message suggests trying to run it 
with command line switch /NCRC, but that also fails.

Kamal

root wrote:
> Kamal,
> 
> The latest version of the windows port of Axiom (including full
> algebra) is here:
> 
> http://page.axiom-developer.org/zope/mathaction/AxiomDownload
> 
> Tim
------- End of forwarded message -------



\start
Date: Sat, 29 Jan 2005 22:06:39 -0600
From: MathAction (Tim Daly)
To: MathAction
Subject: [#86 Axiom (Windows) in a MAC VMWare won't install] (new) 

I had no difficulty installing it on a real Windows XP. But a 
Mac virtual PC keeps complaining that the installation file is 
corrupt/incomplete. The error message suggests trying to run it 
with command line switch /NCRC, but that also fails.

\start
Date: Sat, 29 Jan 2005 23:48:49 -0500
From: Tim Daly
To: Kamal Abdali
Subject: Re: Axiom windows

Kamal,

I've recorded both errors
(http://page.axiom-developer.org/zope/mathaction/FrontPage/IssueTracker

\start
Date: Sat, 29 Jan 2005 22:57:29 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [AxiomInterface2] Somebody is playing with it - good!

Well, that is what the MathAction is here for. I am glad that
we are starting to get this sort of "walk-up" tests. I think
it is a good sign.

The LaTeX errors were actually caused by two different problems.
One was that I had neglected to inlcude the special Axiom LaTeX
defines for \erf and \csch in LatexTemplate. The other was an
attempt to calculate 2^5000000000000000000000000 which of course
aborts Axiom after a certain period of time.

I have moved these user experiments to a new page and edited a
few of them.

\start
Date: Sat, 29 Jan 2005 22:51:19 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [AxiomInterface2] (new) 

How does the Any domain work?

\begin{axiom}
i: Integer := 1
a: Any := i::Any
dom a
obj a
j: Integer := a :: Integer
s: String := "I am a string"
b: Any := s::Any
dom b
obj b
k: Integer := b :: Integer
\end{axiom}

>From unknown Mon Jan 24 06:05:28 -0600 2005
From: 
Date: Mon, 24 Jan 2005 06:05:28 -0600
Subject: mmph

Put some explanation first, then the Axiom command. Also since
the variable name 'k' was used previously on this page it is a
good idea to put the command
\begin{axiom}
)clear all
\end{axiom}
before your new commands.
\begin{axiom}
((x + c)^2 + (k / (x + c))^2)/(x^2 + 1/x^2)
\end{axiom}

>From unknown Mon Jan 24 06:07:08 -0600 2005
From: 
Date: Mon, 24 Jan 2005 06:07:08 -0600
Subject: again

Again, it is important that the first line of your reply not be \\begin{axiom}
\begin{axiom}
((x + c)**2 + (k / (x + c))**2)/(x**2 + 1/x**2)
\end{axiom}

>From unknown Mon Jan 24 06:09:12 -0600 2005
From: 
Date: Mon, 24 Jan 2005 06:09:12 -0600
Subject: simplify?

This was ok because the first line was a blank line.

\begin{axiom}
simplify(((x + c)**2 + (k / (x + c))**2)/(x**2 + 1/x**2))
\end{axiom}

>From unknown Mon Jan 24 06:33:12 -0600 2005
From: 
Date: Mon, 24 Jan 2005 06:33:12 -0600
Subject: solve?

I wonder what you are trying to do here?
\begin{axiom}
solve((((x + c)**2 + (k / (x + c))**2)/(x**2 + 1/x**2)), x + c = x * sqrt(k))
\end{axiom}


>From unknown Wed Jan 26 15:58:47 -0600 2005
From: 
Date: Wed, 26 Jan 2005 15:58:47 -0600
Subject: test

solve(A+2=2)

>From unknown Wed Jan 26 16:00:23 -0600 2005
From: 
Date: Wed, 26 Jan 2005 16:00:23 -0600
Subject: test2

\begin{axiom}
solve(A+2=4)
\end{axiom}

>From unknown Wed Jan 26 16:01:35 -0600 2005
From: 
Date: Wed, 26 Jan 2005 16:01:35 -0600
Subject: test3

Computing such a big number on a meer 21th century computer is
not a good idea! ::
  !\begin{axiom}
  2^500000000000000000000000000000
  \end{axiom}

>From unknown Wed Jan 26 16:07:55 -0600 2005
From: 
Date: Wed, 26 Jan 2005 16:07:55 -0600
Subject: test4

...
\begin{axiom}
solve(foo+bar+baz+xyzzy = foo*bar*baz*xyzzy)
\end{axiom}

>From unknown Wed Jan 26 16:11:36 -0600 2005
From: 
Date: Wed, 26 Jan 2005 16:11:36 -0600
Subject: test5

...
\begin{axiom}
expand((a+b)^2)
solve(a+b+c+d = a*b*c*d)
\end{axiom}

>From unknown Wed Jan 26 16:19:09 -0600 2005
From: 
Date: Wed, 26 Jan 2005 16:19:09 -0600
Subject: test6

...
\begin{axiom}
solve(1+x=3, x)
\end{axiom}

>From unknown Wed Jan 26 16:21:05 -0600 2005
From: 
Date: Wed, 26 Jan 2005 16:21:05 -0600
Subject: test7

...
\begin{axiom}
solve(a+b+c+d=a*b*c*d, [a, b, c, d])
\end{axiom}


>From unknown Fri Jan 28 14:06:08 -0600 2005
From: 
Date: Fri, 28 Jan 2005 14:06:08 -0600
Subject: 

integrate(exp(-d^2/2^l),d=0..infinity)
\begin{axiom}
integrate(exp(-d^2/2^l),d=0..infinity)
\end{axiom}

>From unknown Fri Jan 28 14:07:54 -0600 2005
From: 
Date: Fri, 28 Jan 2005 14:07:54 -0600
Subject: 

integrate(exp(-d^2/2^l),d)
\begin{axiom}
integrate(exp(-d^2/2^l),d)
\end{axiom}

>From unknown Fri Jan 28 14:10:23 -0600 2005
From: 
Date: Fri, 28 Jan 2005 14:10:23 -0600
Subject: TEST

exp(-x^2/2^l)
\begin{axiom}
exp(-x^2/2^l)
integrate(%,x)
\end{axiom}

>From unknown Fri Jan 28 14:10:54 -0600 2005
From: 
Date: Fri, 28 Jan 2005 14:10:54 -0600
Subject: 

exp(-x^2)
\begin{axiom}
exp(-x^2)
integrate(%,x)
\end{axiom}

>From unknown Fri Jan 28 14:11:07 -0600 2005
From: 
Date: Fri, 28 Jan 2005 14:11:07 -0600
Subject: 

e^(-x^2)
\begin{axiom}
e^(-x^2)
integrate(%,x)
\end{axiom}

>From unknown Fri Jan 28 14:12:53 -0600 2005
From: 
Date: Fri, 28 Jan 2005 14:12:53 -0600
Subject: 

2*x/sin(x)^2
\begin{axiom}
2*x/sin(x)^2
integrate(%,x)
\end{axiom}

>From unknown Fri Jan 28 14:13:27 -0600 2005
From: 
Date: Fri, 28 Jan 2005 14:13:27 -0600
Subject: 

'integrate(4x^2,x)' is incorrect. Multiplication must be written
explicitly with '*'
    \begin{axiom}
integrate(4*x^2,x)
    \end{axiom}

>From BobMcElrath Fri Jan 28 14:15:59 -0600 2005

What's going on with the wiki interface?  Somebody is playing with it,
but it is generating a ton of latex errors.  Several of the integrals
they are trying give "failed" when I run it by hand.

anonymous [MathAction] wrote:
> \begin{axiom}
> integrate(4x^2,x);
> \end{axiom}
> --
> forwarded from http://page.axiom-developer.org/zope/mathaction/AxiomInterface#msg20050128141342-0600@page.axiom-developer.org

--
forwarded from http://page.axiom-developer.org/zope/mathaction/AxiomInterface2#msg20050129225108-0600@page.axiom-developer.org



\start
Date: Sun, 30 Jan 2005 01:20:30 -0500
From: Tim Daly
To: list
Subject: axiom--main--1--patch-28

axiom--main--1--patch-28


Summary: release notes added
Keywords: daly release notes

20050130 tpd --patch-28
20050130 tpd src/hyper/releaseNotes.ht added
20050130 tpd src/hyper/rootpage.ht point to releaseNotes.ht
20050130 tpd src/hyper/Makefile make ht.db depend on src/hyper/pages/*

\start
Date: Sun, 30 Jan 2005 00:17:08 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [AxiomInterface2] "Errorfunction"

\begin{axiom}
integrate(exp(x^2/2),x=%minusInfinity..%plusInfinity)
\end{axiom}

\start
Date: Sun, 30 Jan 2005 08:23:33 -0500
From: Tim Daly
To: list
Subject: February 2005 release
Cc: Gilbert Baumslag

The February 2005 release of Axiom has been posted to:

 savannah.nongnu.org/projects/axiom
 sourceforge.net/projects/axiom
 arch.axiom-developer.org as axiom--main--1--patch-29

This is the first "feature complete" release of Axiom. It includes
all of the algebra we have available, working graphics, and a working
hyperdoc browser. Once you build the system you can test it by typing:

axiom

when the hyperdoc browser starts choose

  Basic Commands -> Draw -> A function of two variables -> Continue -> Do It

and a graph will appear. Click anywhere on the graph to get the control panel.

A Source tarball and binaries for several platforms are being compiled
and will be uploaded as they become available.

Please report any bugs at:

http://page.axiom-developer.org/zope/mathaction/FrontPage/IssueTracker

This is a wiki page and you can modify it from your browser to add bugs.
Please be sure to note the 'Version' listed on the banner when Axiom 
starts so we can track which version has the bug.

Questions should be sent to the list mailing list.

The February 2005 release is known to build on RedHat and Fedora systems
including Fedora 3. Be sure to use the ./configure script.

The Solaris 9 merger is still in process and may not yet build correctly
from these sources. A working version of Axiom has been built for Solaris 9
which includes both graphics and hyperdoc. The ./configure script should
properly recognize the solaris system.

The Windows merger is still in process and may not yet build correctly
from these sources. A working version of the algebra but not the graphics
and hyperdoc exists. Efforts are underway to make portable versions of
the graphics and hyperdoc but that will take a while. See
http://page.axiom-developer.org/zope/mathaction/AxiomDownload

The MAC OSX port is being worked on. There is no further news.

The March 2005 release is now open for changes.
Immediate items of work are:
  finish and test Solaris 9 changes
  finish and merge Windows changes
  finish and merge the "fixed-point" changes to the algebra
  automate patch file handling in hyperdoc
  create beta version of MAC OSX
  first steps toward hypertex in common lisp
  create pre-print version of volume 1 (tutorial) of book
  continue bug collection from axiom-developer mailing list to IssueTracker

=======================================================================
The --patch-29 change is a simple typo.

This release changed the following files:

CHANGELOG 
FAQ 
Makefile 
Makefile.pamphlet 
README 
configure 
lsp/Makefile.pamphlet 
lsp/ccl/src/axbase/cclwhereis2.lsp 
lsp/ccl/src/cslbase/curses.h.pamphlet 
src/Makefile.pamphlet 
src/algebra/Makefile.pamphlet 
src/algebra/algfunc.spad.pamphlet 
src/algebra/combfunc.spad.pamphlet 
src/algebra/float.spad.pamphlet 
src/algebra/sttaylor.spad.pamphlet
src/algebra/tex.spad.pamphlet
src/algebra/trigcat.spad.pamphlet 
src/booklets/Makefile.pamphlet 
src/boot/Makefile.pamphlet 
src/clef/Makefile.pamphlet 
src/clef/edible.c.pamphlet 
src/doc/Makefile.pamphlet 
src/etc/Makefile.pamphlet 
src/etc/axiom 
src/graph/Gdraws/Makefile.pamphlet 
src/graph/Makefile.pamphlet 
src/graph/view2D/Makefile.pamphlet 
src/graph/view3D/Makefile.pamphlet 
src/graph/viewAlone/Makefile.pamphlet 
src/graph/viewman/Makefile.pamphlet 
src/input/Makefile.pamphlet 
src/interp/Makefile.pamphlet
src/interp/as.boot.pamphlet 
src/interp/ax.boot.pamphlet 
src/interp/debugsys.lisp.pamphlet 
src/interp/i-syscmd.boot.pamphlet 
src/interp/setq.lisp.pamphlet 
src/interp/util.lisp.pamphlet 
src/lib/Makefile.pamphlet 
src/lib/XDither.c.pamphlet 
src/lib/XShade.c.pamphlet 
src/lib/XSpadFill.c.pamphlet
src/lib/bsdsignal.c.pamphlet 
src/scripts/Makefile.pamphlet 
src/share/Makefile.pamphlet 
src/sman/Makefile.pamphlet 
src/sman/sman.c.pamphlet 
src/hyper/*
zips/gcl-2.6.5.cmpnew.gcl_cmpmain.lsp.patch axiom/zips
zips/gcl-2.6.5.h.386-linux.h.patch axiom/zips
zips/gcl-2.6.5w.cmpnew.gcl_cmpcall.lsp.patch axiom/zips
zips/gcl-2.6.5w.cmpnew.gcl_cmpflet.lsp.patch axiom/zips
zips/gcl-2.6.5w.h.gmp_wrappers.h.patch axiom/zips
zips/gcl-2.6.5w.h.linux.defs.patch axiom/zips
zips/gcl-2.6.5w.h.mingw.defs.patch axiom/zips
zips/gcl-2.6.5w.o.alloc.c.patch axiom/zips
zips/gcl-2.6.5w.o.mingfile.c.patch axiom/zips
zips/gcl-2.6.5w.o.unixfsys.c.patch axiom/zips
zips/gcl-2.6.5w.unixport.init_gcl.lsp.in.patch axiom/zips
zips/gcl-2.6.5w.unixport.makefile.patch axiom/zips

\start
Date: Sun, 30 Jan 2005 06:51:03 -0600
From: MathAction (root)
To: MathAction
Subject: [Axiom-mail] February 2005 release

The February 2005 release of Axiom has been posted to:

 savannah.nongnu.org/projects/axiom
 sourceforge.net/projects/axiom
 arch.axiom-developer.org as axiom--main--1--patch-29

This is the first "feature complete" release of Axiom. It includes
all of the algebra we have available, working graphics, and a working
hyperdoc browser. Once you build the system you can test it by typing:

axiom

when the hyperdoc browser starts choose

  Basic Commands -> Draw -> A function of two variables -> Continue -> Do It

and a graph will appear. Click anywhere on the graph to get the control panel.

A Source tarball and binaries for several platforms are being compiled
and will be uploaded as they become available.

Please report any bugs at:

http://page.axiom-developer.org/zope/mathaction/FrontPage/IssueTracker

This is a wiki page and you can modify it from your browser to add bugs.
Please be sure to note the 'Version' listed on the banner when Axiom 
starts so we can track which version has the bug.

Questions should be sent to the list mailing list.

The February 2005 release is known to build on RedHat and Fedora systems
including Fedora 3. Be sure to use the ./configure script.

The Solaris 9 merger is still in process and may not yet build correctly
from these sources. A working version of Axiom has been built for Solaris 9
which includes both graphics and hyperdoc. The ./configure script should
properly recognize the solaris system.

The Windows merger is still in process and may not yet build correctly
from these sources. A working version of the algebra but not the graphics
and hyperdoc exists. Efforts are underway to make portable versions of
the graphics and hyperdoc but that will take a while. See
http://page.axiom-developer.org/zope/mathaction/AxiomDownload

The MAC OSX port is being worked on. There is no further news.

The March 2005 release is now open for changes.
Immediate items of work are:
  finish and test Solaris 9 changes
  finish and merge Windows changes
  finish and merge the "fixed-point" changes to the algebra
  automate patch file handling in hyperdoc
  create beta version of MAC OSX
  first steps toward hypertex in common lisp
  create pre-print version of volume 1 (tutorial) of book
  continue bug collection from axiom-developer mailing list to IssueTracker

=======================================================================
The --patch-29 change is a simple typo.

This release changed the following files:

CHANGELOG 
FAQ 
Makefile 
Makefile.pamphlet 
README 
configure 
lsp/Makefile.pamphlet 
lsp/ccl/src/axbase/cclwhereis2.lsp 
lsp/ccl/src/cslbase/curses.h.pamphlet 
src/Makefile.pamphlet 
src/algebra/Makefile.pamphlet 
src/algebra/algfunc.spad.pamphlet 
src/algebra/combfunc.spad.pamphlet 
src/algebra/float.spad.pamphlet 
src/algebra/sttaylor.spad.pamphlet
src/algebra/tex.spad.pamphlet
src/algebra/trigcat.spad.pamphlet 
src/booklets/Makefile.pamphlet 
src/boot/Makefile.pamphlet 
src/clef/Makefile.pamphlet 
src/clef/edible.c.pamphlet 
src/doc/Makefile.pamphlet 
src/etc/Makefile.pamphlet 
src/etc/axiom 
src/graph/Gdraws/Makefile.pamphlet 
src/graph/Makefile.pamphlet 
src/graph/view2D/Makefile.pamphlet 
src/graph/view3D/Makefile.pamphlet 
src/graph/viewAlone/Makefile.pamphlet 
src/graph/viewman/Makefile.pamphlet 
src/input/Makefile.pamphlet 
src/interp/Makefile.pamphlet
src/interp/as.boot.pamphlet 
src/interp/ax.boot.pamphlet 
src/interp/debugsys.lisp.pamphlet 
src/interp/i-syscmd.boot.pamphlet 
src/interp/setq.lisp.pamphlet 
src/interp/util.lisp.pamphlet 
src/lib/Makefile.pamphlet 
src/lib/XDither.c.pamphlet 
src/lib/XShade.c.pamphlet 
src/lib/XSpadFill.c.pamphlet
src/lib/bsdsignal.c.pamphlet 
src/scripts/Makefile.pamphlet 
src/share/Makefile.pamphlet 
src/sman/Makefile.pamphlet 
src/sman/sman.c.pamphlet 
src/hyper/*
zips/gcl-2.6.5.cmpnew.gcl_cmpmain.lsp.patch axiom/zips
zips/gcl-2.6.5.h.386-linux.h.patch axiom/zips
zips/gcl-2.6.5w.cmpnew.gcl_cmpcall.lsp.patch axiom/zips
zips/gcl-2.6.5w.cmpnew.gcl_cmpflet.lsp.patch axiom/zips
zips/gcl-2.6.5w.h.gmp_wrappers.h.patch axiom/zips
zips/gcl-2.6.5w.h.linux.defs.patch axiom/zips
zips/gcl-2.6.5w.h.mingw.defs.patch axiom/zips
zips/gcl-2.6.5w.o.alloc.c.patch axiom/zips
zips/gcl-2.6.5w.o.mingfile.c.patch axiom/zips
zips/gcl-2.6.5w.o.unixfsys.c.patch axiom/zips
zips/gcl-2.6.5w.unixport.init_gcl.lsp.in.patch axiom/zips
zips/gcl-2.6.5w.unixport.makefile.patch axiom/zips

\start
Date: Sun, 30 Jan 2005 07:34:07 -0600
From: MathAction (Vladimir Bondarenko)
To: MathAction
Subject: [#82 Sum should be evaluated by Gosper's method, but isn't] 

Even worse,

-> sum(1/(k+a), k=1..n)

returns uneveluated while this is obviously

digamma(n+a+1)-digamma(a+1)

\start
Date: Sun, 30 Jan 2005 16:25:18 +0200
From: Vladimir Bondarenko
To: list
Subject: AXIOM BUG: acosh(0.0) -> invalid argument to acosh

Hi *,


-> acosh(0.0)

   >> Error detected within library code:
   invalid argument to acosh

-> acosh(0) :: Complex Float

   0.6776263578 0344027125 E -20 + 1.5707963267 948966192 %i


\start
Date: Sun, 30 Jan 2005 16:17:31 +0200
From: Vladimir Bondarenko
To: list
Subject: IssueTracker: a treasure trove for my inspiration

Hi *,

Personally, I find the Issue Tracker to be an invaluable
source of QA inspiration: somehow, the more I have learnt
about the known bugs the faster I identify the new ones.

I also feel that the whole MathAction idea is a very nice
way to call the attention of the folks to AXIOM.

\start
Date: Sun, 30 Jan 2005 08:53:14 -0600
From: MathAction (anonymous)
To: MathAction
Subject: [#87 solve(x + 1.1, 0.001) fails] (new) 

For anyone experienced with other symbolic mathematics systems, it is very difficult to understand why Axiom returns a complicated error message in this case!

There are 20 exposed and 3 unexposed library operations named solve
having 2 argument(s) but none was determined to be applicable.
Use HyperDoc Browse, or issue
)display op solve
to learn more about the available operations. Perhaps
package-calling the operation or using coercions on the arguments
will allow you to apply the operation.

\start
Date: Sun, 30 Jan 2005 17:20:16 +0200
From: Vladimir Bondarenko
To: list
Subject: ? AXIOM BUG: solve(log(z)^5=1, z)

Hello *,

Any comments on the following?

This *reminds* a bug, but I'd prefer to ask an AXIOM expert
proficient in manipulations to confirm or to reject this.

The set of solutions depends on 2 parameters... suspicious
in the case.  But, in principle, AXIOM maybe has rewritten
identically the original equation as a system of 4 equations
in 2 variables, and after certain jiggery-pokery it would be
possible to construct something like product(z-z_j, j = 1..5)
= 1 ...  but I have other flaming ideas to try :)



-> solve(log(z)^5=1, z)


                %z178       %z179
   [z= %e, z= %e     , z= %e     ,

     z =
         %e
      **
              +------------------------------------------------------+
              |        2                               2
             \|- 3%z179  + (- 2%z178 - 2)%z179 - 3%z178  - 2%z178 - 3  - %z179
           + 
             - %z178 - 1
        /
           2
     ,

     z =
         1
      /
           %e
        **
                +------------------------------------------------------+
                |        2                               2
               \|- 3%z179  + (- 2%z178 - 2)%z179 - 3%z178  - 2%z178 - 3  + %z179
             + 
               %z178 + 1
          /
             2
     ]

     

Compare:

Maple 9.5.2> solve(log(z)^5=1, z);

exp(1),
exp(RootOf(_Z^4+_Z^3+_Z^2+_Z+1,-.8090169944-.5877852523*I)),
exp(RootOf(_Z^4+_Z^3+_Z^2+_Z+1,-.8090169944+.5877852523*I)),
exp(RootOf(_Z^4+_Z^3+_Z^2+_Z+1,.3090169944-.9510565163*I)),
exp(RootOf(_Z^4+_Z^3+_Z^2+_Z+1,.3090169944+.9510565163*I))

Maple 9.5.2> evalf(%);

2.718281828,
.3705619960-.2469250089*I,
.3705619960+.2469250089*I,
.7911311121-1.108777941*I,
.7911311121+1.108777941*I

\start
Date: Sun, 30 Jan 2005 19:55:16 +0200
From: Vladimir Bondarenko
To: list
Subject: AXIOM BUG: normalize(subst(asin(z), z = -1))  -> catdef: division by zero

Hi *,


-> normalize(subst(asin(z), z=-1))

   >> Error detected within library code:
   catdef: division by zero


-> simplify(subst(asin(z), z=-1))

       %pi
     - ---
        2

\start
Date: Sun, 30 Jan 2005 20:03:41 +0200
From: Vladimir Bondarenko
To: list
Subject: AXIOM BUG: normalize(subst(acot(z), z=-1))

Hi *,

Version of Monday January 17, 2005


-> normalize(acot(-1))

     3%pi
     ----
       4

-> normalize(subst(acot(z), z=-1))

       %pi
     - ---
        4

\start
Date: Sun, 30 Jan 2005 13:01:22 -0500
From: Kostas Oikonomou
To: list
Subject: (no subject)

I realized that issue #82, which I posted, is already known (it is that A=
xiom does not know about gamma and
psi functions symbolically).  How do I retract this issue?

\start
Date: Sun, 30 Jan 2005 12:54:39 -0500
From: Gilbert Baumslag
To: Tim Daly
Subject: Re: February 2005 release
Cc: Gilbert Baumslag

I looked in all three sites for the February release, but 
it appears nowhere to my relatively unpracticed eye. Is 
this release really where advertized below?

Gilbert

On Sun, 30 Jan 2005 08:23:33 -0500
  Tim Daly wrote:
>The February 2005 release of Axiom has been posted to:
>
>  savannah.nongnu.org/projects/axiom
>  sourceforge.net/projects/axiom
>  arch.axiom-developer.org as axiom--main--1--patch-29
>
>This is the first "feature complete" release of Axiom. It 
>includes
>all of the algebra we have available, working graphics, 
>and a working
>hyperdoc browser. Once you build the system you can test 
>it by typing:
>
>axiom
>
>when the hyperdoc browser starts choose
>
>   Basic Commands -> Draw -> A function of two variables 
>-> Continue -> Do It
>
>and a graph will appear. Click anywhere on the graph to 
>get the control panel.
>
>A Source tarball and binaries for several platforms are 
>being compiled
>and will be uploaded as they become available.
>
>Please report any bugs at:
>
>http://page.axiom-developer.org/zope/mathaction/FrontPage/IssueTracker
>
>This is a wiki page and you can modify it from your 
>browser to add bugs.
>Please be sure to note the 'Version' listed on the banner 
>when Axiom 
>starts so we can track which version has the bug.
>
>Questions should be sent to the 
>list mailing list.
>
>The February 2005 release is known to build on RedHat and 
>Fedora systems
>including Fedora 3. Be sure to use the ./configure 
>script.
>
>The Solaris 9 merger is still in process and may not yet 
>build correctly
>from these sources. A working version of Axiom has been 
>built for Solaris 9
>which includes both graphics and hyperdoc. The 
>./configure script should
>properly recognize the solaris system.
>
>The Windows merger is still in process and may not yet 
>build correctly
>from these sources. A working version of the algebra but 
>not the graphics
>and hyperdoc exists. Efforts are underway to make 
>portable versions of
>the graphics and hyperdoc but that will take a while. See
>http://page.axiom-developer.org/zope/mathaction/AxiomDownload
>
>The MAC OSX port is being worked on. There is no further 
>news.
>
>The March 2005 release is now open for changes.
>Immediate items of work are:
>   finish and test Solaris 9 changes
>   finish and merge Windows changes
>   finish and merge the "fixed-point" changes to the 
>algebra
>   automate patch file handling in hyperdoc
>   create beta version of MAC OSX
>   first steps toward hypertex in common lisp
>   create pre-print version of volume 1 (tutorial) of 
>book
>   continue bug collection from axiom-developer mailing 
>list to IssueTracker
>
>=======================================================================
>The --patch-29 change is a simple typo.
>
>This release changed the following files:
>
>CHANGELOG 
>FAQ 
>Makefile 
>Makefile.pamphlet 
>README 
>configure 
>lsp/Makefile.pamphlet 
>lsp/ccl/src/axbase/cclwhereis2.lsp 
>lsp/ccl/src/cslbase/curses.h.pamphlet 
>src/Makefile.pamphlet 
>src/algebra/Makefile.pamphlet 
>src/algebra/algfunc.spad.pamphlet 
>src/algebra/combfunc.spad.pamphlet 
>src/algebra/float.spad.pamphlet 
>src/algebra/sttaylor.spad.pamphlet
>src/algebra/tex.spad.pamphlet
>src/algebra/trigcat.spad.pamphlet 
>src/booklets/Makefile.pamphlet 
>src/boot/Makefile.pamphlet 
>src/clef/Makefile.pamphlet 
>src/clef/edible.c.pamphlet 
>src/doc/Makefile.pamphlet 
>src/etc/Makefile.pamphlet 
>src/etc/axiom 
>src/graph/Gdraws/Makefile.pamphlet 
>src/graph/Makefile.pamphlet 
>src/graph/view2D/Makefile.pamphlet 
>src/graph/view3D/Makefile.pamphlet 
>src/graph/viewAlone/Makefile.pamphlet 
>src/graph/viewman/Makefile.pamphlet 
>src/input/Makefile.pamphlet 
>src/interp/Makefile.pamphlet
>src/interp/as.boot.pamphlet 
>src/interp/ax.boot.pamphlet 
>src/interp/debugsys.lisp.pamphlet 
>src/interp/i-syscmd.boot.pamphlet 
>src/interp/setq.lisp.pamphlet 
>src/interp/util.lisp.pamphlet 
>src/lib/Makefile.pamphlet 
>src/lib/XDither.c.pamphlet 
>src/lib/XShade.c.pamphlet 
>src/lib/XSpadFill.c.pamphlet
>src/lib/bsdsignal.c.pamphlet 
>src/scripts/Makefile.pamphlet 
>src/share/Makefile.pamphlet 
>src/sman/Makefile.pamphlet 
>src/sman/sman.c.pamphlet 
>src/hyper/*
>zips/gcl-2.6.5.cmpnew.gcl_cmpmain.lsp.patch axiom/zips
>zips/gcl-2.6.5.h.386-linux.h.patch axiom/zips
>zips/gcl-2.6.5w.cmpnew.gcl_cmpcall.lsp.patch axiom/zips
>zips/gcl-2.6.5w.cmpnew.gcl_cmpflet.lsp.patch axiom/zips
>zips/gcl-2.6.5w.h.gmp_wrappers.h.patch axiom/zips
>zips/gcl-2.6.5w.h.linux.defs.patch axiom/zips
>zips/gcl-2.6.5w.h.mingw.defs.patch axiom/zips
>zips/gcl-2.6.5w.o.alloc.c.patch axiom/zips
>zips/gcl-2.6.5w.o.mingfile.c.patch axiom/zips
>zips/gcl-2.6.5w.o.unixfsys.c.patch axiom/zips
>zips/gcl-2.6.5w.unixport.init_gcl.lsp.in.patch axiom/zips
>zips/gcl-2.6.5w.unixport.makefile.patch axiom/zips
>
>

\start
Date: Sun, 30 Jan 2005 12:22:41 -0600
From: MathAction (Gilbert Baumslag)
To: MathAction
Subject: [Axiom-mail] Re: February 2005 release

I looked in all three sites for the February release, but 
it appears nowhere to my relatively unpracticed eye. Is 
this release really where advertized below?

Gilbert

On Sun, 30 Jan 2005 08:23:33 -0500
  Tim Daly wrote:
>The February 2005 release of Axiom has been posted to:
>
>  savannah.nongnu.org/projects/axiom
>  sourceforge.net/projects/axiom
>  arch.axiom-developer.org as axiom--main--1--patch-29
>
>This is the first "feature complete" release of Axiom. It 
>includes
>all of the algebra we have available, working graphics, 
>and a working
>hyperdoc browser. Once you build the system you can test 
>it by typing:
>
>axiom
>
>when the hyperdoc browser starts choose
>
>   Basic Commands -> Draw -> A function of two variables 
>-> Continue -> Do It
>
>and a graph will appear. Click anywhere on the graph to 
>get the control panel.
>
>A Source tarball and binaries for several platforms are 
>being compiled
>and will be uploaded as they become available.
>
>Please report any bugs at:
>
>http://page.axiom-developer.org/zope/mathaction/FrontPage/IssueTracker
>
>This is a wiki page and you can modify it from your 
>browser to add bugs.
>Please be sure to note the 'Version' listed on the banner 
>when Axiom 
>starts so we can track which version has the bug.
>
>Questions should be sent to the 
>list mailing list.
>
>The February 2005 release is known to build on RedHat and 
>Fedora systems
>including Fedora 3. Be sure to use the ./configure 
>script.
>
>The Solaris 9 merger is still in process and may not yet 
>build correctly
>from these sources. A working version of Axiom has been 
>built for Solaris 9
>which includes both graphics and hyperdoc. The 
>./configure script should
>properly recognize the solaris system.
>
>The Windows merger is still in process and may not yet 
>build correctly
>from these sources. A working version of the algebra but 
>not the graphics
>and hyperdoc exists. Efforts are underway to make 
>portable versions of
>the graphics and hyperdoc but that will take a while. See
>http://page.axiom-developer.org/zope/mathaction/AxiomDownload
>
>The MAC OSX port is being worked on. There is no further 
>news.
>
>The March 2005 release is now open for changes.
>Immediate items of work are:
>   finish and test Solaris 9 changes
>   finish and merge Windows changes
>   finish and merge the "fixed-point" changes to the 
>algebra
>   automate patch file handling in hyperdoc
>   create beta version of MAC OSX
>   first steps toward hypertex in common lisp
>   create pre-print version of volume 1 (tutorial) of 
>book
>   continue bug collection from axiom-developer mailing 
>list to IssueTracker
>
>=======================================================================
>The --patch-29 change is a simple typo.
>
>This release changed the following files:
>
>CHANGELOG 
>FAQ 
>Makefile 
>Makefile.pamphlet 
>README 
>configure 
>lsp/Makefile.pamphlet 
>lsp/ccl/src/axbase/cclwhereis2.lsp 
>lsp/ccl/src/cslbase/curses.h.pamphlet 
>src/Makefile.pamphlet 
>src/algebra/Makefile.pamphlet 
>src/algebra/algfunc.spad.pamphlet 
>src/algebra/combfunc.spad.pamphlet 
>src/algebra/float.spad.pamphlet 
>src/algebra/sttaylor.spad.pamphlet
>src/algebra/tex.spad.pamphlet
>src/algebra/trigcat.spad.pamphlet 
>src/booklets/Makefile.pamphlet 
>src/boot/Makefile.pamphlet 
>src/clef/Makefile.pamphlet 
>src/clef/edible.c.pamphlet 
>src/doc/Makefile.pamphlet 
>src/etc/Makefile.pamphlet 
>src/etc/axiom 
>src/graph/Gdraws/Makefile.pamphlet 
>src/graph/Makefile.pamphlet 
>src/graph/view2D/Makefile.pamphlet 
>src/graph/view3D/Makefile.pamphlet 
>src/graph/viewAlone/Makefile.pamphlet 
>src/graph/viewman/Makefile.pamphlet 
>src/input/Makefile.pamphlet 
>src/interp/Makefile.pamphlet
>src/interp/as.boot.pamphlet 
>src/interp/ax.boot.pamphlet 
>src/interp/debugsys.lisp.pamphlet 
>src/interp/i-syscmd.boot.pamphlet 
>src/interp/setq.lisp.pamphlet 
>src/interp/util.lisp.pamphlet 
>src/lib/Makefile.pamphlet 
>src/lib/XDither.c.pamphlet 
>src/lib/XShade.c.pamphlet 
>src/lib/XSpadFill.c.pamphlet
>src/lib/bsdsignal.c.pamphlet 
>src/scripts/Makefile.pamphlet 
>src/share/Makefile.pamphlet 
>src/sman/Makefile.pamphlet 
>src/sman/sman.c.pamphlet 
>src/hyper/*
>zips/gcl-2.6.5.cmpnew.gcl_cmpmain.lsp.patch axiom/zips
>zips/gcl-2.6.5.h.386-linux.h.patch axiom/zips
>zips/gcl-2.6.5w.cmpnew.gcl_cmpcall.lsp.patch axiom/zips
>zips/gcl-2.6.5w.cmpnew.gcl_cmpflet.lsp.patch axiom/zips
>zips/gcl-2.6.5w.h.gmp_wrappers.h.patch axiom/zips
>zips/gcl-2.6.5w.h.linux.defs.patch axiom/zips
>zips/gcl-2.6.5w.h.mingw.defs.patch axiom/zips
>zips/gcl-2.6.5w.o.alloc.c.patch axiom/zips
>zips/gcl-2.6.5w.o.mingfile.c.patch axiom/zips
>zips/gcl-2.6.5w.o.unixfsys.c.patch axiom/zips
>zips/gcl-2.6.5w.unixport.init_gcl.lsp.in.patch axiom/zips
>zips/gcl-2.6.5w.unixport.makefile.patch axiom/zips
>
>

\start
Date: Sun, 30 Jan 2005 20:41:40 +0200
From: Vladimir Bondarenko
To: list
Subject: MathAction: Typos at the entry page

Hi *,

http://page.axiom-developer.org/

1) Graphical browser helpts to navigate Axiom's documentation and source code library.
                     ^^^^^^

2) Open source develoment project on Savannah
               ^^^^^^^^^^
\start
Date: Sun, 30 Jan 2005 13:16:32 -0600
From: MathAction (Bill Page)
To: MathAction
Subject: [Axiom-mail] [Axiom-mail] Re: February 2005 release

On Sunday, January 30, 2005 1:23 PM Gilbert Baumslag wrote:
> 
> I looked in all three sites for the February release, but 
> it appears nowhere to my relatively unpracticed eye. Is 
> this release really where advertized below?
> 
> Gilbert
> 
> On Sun, 30 Jan 2005 08:23:33 -0500
>   Tim Daly wrote:
> >The February 2005 release of Axiom has been posted to:
> >
> >  savannah.nongnu.org/projects/axiom
> >  sourceforge.net/projects/axiom
> >  arch.axiom-developer.org as axiom--main--1--patch-29
> >

I am not sure what you were expecting to find.

All of these references are to the software archives used to
build Axiom from source. The first two (savannah and sourceforge)
are CVS archives. To find the new source programs just follow
the CVS links. To use THE CVS archive you need the `cvs' program
on your computer and the other compiler tools to build Axiom.

The last reference is to the `arch' source code archive. To
access it you need the `tla' program installed on your computer.
Details on how to access this archive are here:

http://page.axiom-developer.org/zope/mathaction/ArchUsage

Tim said that binary (i.e. directly installable versions) of this
new release will be available a little later.

\start
Date: Sun, 30 Jan 2005 14:19:32 -0500
From: Bill Page
To: Vladimir Bondarenko
Subject: RE: MathAction: Typos at the entry page

On Sunday, January 30, 2005 1:42 PM Vladimir Bondarenko wrote:
> 
> http://page.axiom-developer.org/
> 
> 1) Graphical browser helpts to navigate Axiom's documentation
>                      ^^^^^^
>
> 2) Open source develoment project on Savannah
>                ^^^^^^^^^^

Thanks Vladimir. I have corrected these.

\start
Date: Sun, 30 Jan 2005 22:56:30 +0200
From: Vladimir Bondarenko
To: Bill Page
Subject: Re[2]: MathAction: Typos at the entry page

BP> Thanks Vladimir. I have corrected these.

Perfect speed! I have already enjoyed a new look of
http://page.axiom-developer.org/ .

As Michelangelo has it, Trifles go to make
perfection, and perfection is no trifle.

\start
Date: Sun, 30 Jan 2005 23:43:16 +0200
From: Vladimir Bondarenko
To: list
Subject: AXIOM Release 2.3 access ?

Hello the Axiom Developers,

According to http://www.nag.com/symbolic_software.asp Release 2.3
was the last NAG's ('original') version.

This makes an invaluable 'level zero' point for a QA man to feel &
compare the 'original' product and the Axiom Developers' efforts, and
more.  Also, the very fact I would have the access to Release 2.3
would be a strong catalyst in itself; this will sure bring me new
unforeseen insights and in the long run would speed up the AXIOM
testing as well as streamline it.

I cannot explain this, I cannot fully document my claim, but somehow
I just feel this for sure. With the VM machine, I have already gone far
(you will see this soon), and the Release 2.3 access would accelerate
the advance.

How it is possible to have, to make (on-line?) access to Release 2.3?

\start
Date: Mon, 31 Jan 2005 05:07:43 +0200
From: Vladimir Bondarenko
To: list
Subject: pdf vs dvi ?  pdf looks beneficial.

Hi *,

William Page asks at

http://page.axiom-developer.org/zope/mathaction/AxiomDownload

WP> All 1,800+ dvi files documenting the algebra and other parts of
WP> the system have been converted to PDF format. The use of PDF is
WP> the main reason for the increase in size. I would like to know the
WP> opinion of people who download this file whether conversion to PDF
WP> is a good idea. Is it more convenient? Would you prefer to save
WP> space and download time by omitting the files or is dvi format
WP> acceptible to most Windows users?

Personally, I feel excellent upon having at last an opportunity to read
the pdfs - instantly! It was quite a headache for me to deal with the
dvis. Easy access to the pdfs has already given me both new bug ideas
and a better understanding of AXIOM.

As for the increased size, I'd say that, from my experience, the most
painful download threshold is about 1-2 Mb in the dial-up mode.

If a user can download 20 Mb, most probably, he or she can do 50 Mb,
without much extra effort.

\start
Date: Mon, 31 Jan 2005 05:55:25 +0200
From: Vladimir Bondarenko
To: list
Subject: Running AXIOM on Windows in a TeXmacs window ?

Hi *,

Unexpectedly, I found the following

http://axiom.axiom-developer.org/axiom-website/screenshots.html

> Axiom is now running under Windows. This is a screenshot of Axiom
> running on Windows in a TeXmacs window

Up to now, after installation AXIOM worked in a DOS-like mode.

I have tried to run  tm_axiom.exe,  but this is not what I
need. Running the Program menu's item brings the DOS interface.

How can I run AXIOM in a nice TeXmacs window?
What I should install etc?

\start
Date: Mon, 31 Jan 2005 06:49:49 +0200
From: Vladimir Bondarenko
To: list
Subject: AXIOM BUG: normalize(acos(2)) :: Complex Float

Hi *,

Please comment this. Thanks.

The following *might* be a manifestation of the bug I
reported several hours ago in the message titled
"AXIOM BUG: normalize(subst(acot(z), z=-1))"

But maybe not. This might be a new bug.


-> acos(2) :: Complex Float

   3.1415926535 897932385 + 1.3169578969 248167086 %i

-> normalize(acos(2)) :: Complex Float

   1.3169578969 248167086 %i

\start
Date: Mon, 31 Jan 2005 07:27:48 +0200
From: Vladimir Bondarenko
To: list
Subject: AXIOM on-line simplest way ?

Hi *,

What is the simplest way to try AXIOM on line,
say, tell it to calculate integrate(z, z=0..1) ?

I found this

http://page.axiom-developer.org/zope/mathaction/AxiomInterface2

but am still in doubt.

\start
Date: Mon, 31 Jan 2005 02:59:09 -0500
From: Tim Daly
To: Vladimir Bondarenko
Subject: Re: AXIOM BUG: normalize(acos(2)) :: Complex Float

Vladimir,

Please file these on IssueTracker.
They are issues, which need to be tracked.
If they turn out to be bugs they won't get lost.
If not, the behavior will still be explained and added to the book.

\start
Date: Mon, 31 Jan 2005 03:00:01 -0500
From: Tim Daly
To: Kostas Oikonomou
Subject: Re: (no subject)

There is no need to retract it.
Close it with a comment that points to the other issue.

\start
Date: Mon, 31 Jan 2005 11:35:01 -0600
From: MathAction (kratt6)
To: MathAction
Subject: [#82 Sum should be evaluated by Gosper's method, but isn't] 

Both sums do not have a hypergeometric solution, it seems to me. I tried Gosper by hand for the first one to find that Gosper fails. Am I mistaken?

\start
Date: Mon, 31 Jan 2005 11:51:15 -0600
From: MathAction (Martin Rubey)
To: MathAction
Subject: [Axiom-mail] beginner question about sum(...)

Dear Kostas,

Kostas Oikonomou writes:
 > 
 > But I was disappointed by the sum(1/k^2, k=1..n) example.  I saw that
 > Gosper's method is implemented in sum.spad.pamphlet, but this (rather
 > simple) sum needs symbolic manipulation of gamma and psi functions, which is
 > not there.  More generally, special functions seem to be handled only
 > numerically.  At least for my prospective use of Axiom, this points to a
 > rather big "hole". And I wonder how many others of this sort there are.
 > 
 > I also tried sum(1/(k*(k+a)), k=1..n).  That was also returned unevaluated,
 > although Gosper's method should handle it.

Why should Gosper's method handle it? As far as I can see the solution is not
hypergeometric?

\start
Date: Mon, 31 Jan 2005 17:20:29 -0500
From: Tim Daly
To: list
Subject: Feb 2005 release

A bug was found in the build system for the files I uploaded yesterday.
This bug has been fixed and a patch has been applied at all of the CVS
sites.

Summary: hypertex pages included a CVS directory
Keywords: daly hypertex cvs

20050131 tpd --patch-30
20050131 tpd src/hyper/Makefile handle CVS directory
20050130 tpd src/interp/setq.lisp add Vladimir Bondarenko to credits
20050130 tpd README add Vladimir Bondarenko to credits

\start
Date: Mon, 31 Jan 2005 15:50:20 -0600
From: MathAction (root)
To: MathAction
Subject: [Axiom-mail] Feb 2005 release

A bug was found in the build system for the files I uploaded yesterday.
This bug has been fixed and a patch has been applied at all of the CVS
sites.

Summary: hypertex pages included a CVS directory
Keywords: daly hypertex cvs

20050131 tpd --patch-30
20050131 tpd src/hyper/Makefile handle CVS directory
20050130 tpd src/interp/setq.lisp add Vladimir Bondarenko to credits
20050130 tpd README add Vladimir Bondarenko to credits

\start
Date: Mon, 31 Jan 2005 17:24:47 -0500
From: Balbir Thomas
To: list
Subject: libW11 for porting axiom graphics to Win32

Hi,
I don't use windows but just heard about 
libw11.sourceforge.net.
It is a X11 compatible GPL'ed graphics library for
windows that does not use cygwin or an Xserver, but
compiles to native Win32.
I am posting this since it may be another option to
consider.

\start
Date: Mon, 31 Jan 2005 19:27:30 -0500
From: Tim Daly
To: Balbir Thomas
Subject: Re: libW11 for porting axiom graphics to Win32

excellent. I'll check it out. thanks.

t



