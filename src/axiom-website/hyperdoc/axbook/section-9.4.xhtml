<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
"http://www.w3.org/TR/MathML2/dtd/xhtml-math11-f.dtd" [
<!ENTITY mathml "http://www.w3.org/1998/Math/MathML">
]>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xlink="http://www.w3.org/1999/xlink" >


  <head>
    <title>Section9.4</title>
    <link rel="stylesheet" type="text/css" href="graphicstyle.css" />
    <script type="text/javascript" src="bookax1.js" />
  </head>

  <body>
<a href="book-contents.xhtml" style="margin-right: 10px;">Book Contents</a><a href="section-9.3.xhtml" style="margin-right: 10px;">Previous Section 9.3 BasicOperator</a><a href="section-9.5.xhtml" style="margin-right: 10px;">Next Section 9.5 BinarySearchTree</a>
<a href="book-index.xhtml">Book Index</a><div class="section"  id="sec-9.4">
<h2 class="sectiontitle">9.4  BinaryExpansion</h2>


<a name="BinaryExpansionXmpPage" class="label"/>


<p>All rational numbers have repeating binary expansions.  Operations to
access the individual bits of a binary expansion can be obtained by
converting the value to <span class="teletype">RadixExpansion(2)</span>.  More examples of
expansions are available in 
<a href="section-9.15.xhtml#DecimalExpansionXmpPage" class="ref" >DecimalExpansionXmpPage</a> ,
<a href="section-9.33.xhtml#HexadecimalExpansionXmpPage" class="ref" >HexadecimalExpansionXmpPage</a> , and 
<a href="section-9.65.xhtml#RadixExpansionXmpPage" class="ref" >RadixExpansionXmpPage</a> .
</p>


<p>The expansion (of type <span class="teletype">BinaryExpansion</span>) of a rational number
is returned by the <span class="spadfunFrom" >binary</span><span class="index">binary</span><a name="chapter-9-20"/><span class="index">BinaryExpansion</span><a name="chapter-9-21"/> operation.
</p>




<div id="spadComm9-39" class="spadComm" >
<form id="formComm9-39" action="javascript:makeRequest('9-39');" >
<input id="comm9-39" type="text" class="command" style="width: 12em;" value="r := binary(22/7)" />
</form>
<span id="commSav9-39" class="commSav" >r := binary(22/7)</span>
<div id="mathAns9-39" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>11</mn><mo>.</mo><mrow><mover accent="true"><mrow><mn>001</mn></mrow><mo stretchy="true">&OverBar;</mo></mover></mrow></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: BinaryExpansion
</div>



<p>Arithmetic is exact.
</p>




<div id="spadComm9-40" class="spadComm" >
<form id="formComm9-40" action="javascript:makeRequest('9-40');" >
<input id="comm9-40" type="text" class="command" style="width: 10em;" value="r + binary(6/7)" />
</form>
<span id="commSav9-40" class="commSav" >r + binary(6/7)</span>
<div id="mathAns9-40" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mn>100</mn></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: BinaryExpansion
</div>



<p>The period of the expansion can be short or long ...
</p>




<div id="spadComm9-41" class="spadComm" >
<form id="formComm9-41" action="javascript:makeRequest('9-41');" >
<input id="comm9-41" type="text" class="command" style="width: 22em;" value="[binary(1/i) for i in 102..106] " />
</form>
<span id="commSav9-41" class="commSav" >[binary(1/i) for i in 102..106] </span>
<div id="mathAns9-41" ></div>
</div>



<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mtable><mtr><mtd><mo>[</mo><mrow><mn>0</mn><mo>.</mo><mn>0</mn><mrow><mover accent="true"><mrow><mn>00000101</mn></mrow><mo stretchy="true">&OverBar;</mo></mover></mrow></mrow><mo>,</mo><mrow><mn>0</mn><mo>.</mo><mrow><mover accent="true"><mrow><mn>000000100111110001000101100101111001110010010101001</mn></mrow><mo stretchy="true">&OverBar;</mo></mover></mrow></mrow><mo>,</mo></mtd></mtr><mtr><mtd></mtd></mtr><mtr><mtd><mrow><mn>0</mn><mo>.</mo><mn>000</mn><mrow><mover accent="true"><mrow><mn>000100111011</mn></mrow><mo stretchy="true">&OverBar;</mo></mover></mrow></mrow><mo>,</mo><mrow><mn>0</mn><mo>.</mo><mrow><mover accent="true"><mrow><mn>000000100111</mn></mrow><mo stretchy="true">&OverBar;</mo></mover></mrow></mrow><mo>,</mo></mtd></mtr><mtr><mtd></mtd></mtr><mtr><mtd><mrow><mn>0</mn><mo>.</mo><mn>0</mn><mrow><mover accent="true"><mrow><mn>0000010011010100100001110011111011001010110111100011</mn></mrow><mo stretchy="true">&OverBar;</mo></mover></mrow></mrow><mo>]</mo></mtd></mtr></mtable></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: List BinaryExpansion
</div>



<p>or very long.
</p>




<div id="spadComm9-42" class="spadComm" >
<form id="formComm9-42" action="javascript:makeRequest('9-42');" >
<input id="comm9-42" type="text" class="command" style="width: 10em;" value="binary(1/1007) " />
</form>
<span id="commSav9-42" class="commSav" >binary(1/1007) </span>
<div id="mathAns9-42" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mtable><mtr><mtd><mn>0</mn><mo>.</mo><mover accent="true"><mrow><mn>000000000100000100010100100101111000001111110000101111110010110001111101</mn></mrow><mo stretchy="true">&OverBar;</mo></mover></mtd></mtr><mtr><mtd><mspace width="0.5 em" /><mspace width="0.5 em" /><mover accent="true"><mrow><mn>000100111001001100110001100100101010111101101001100000000110000110011110</mn></mrow><mo stretchy="true">&OverBar;</mo></mover></mtd></mtr><mtr><mtd><mspace width="0.5 em" /><mspace width="0.5 em" /><mover accent="true"><mrow><mn>111000110100010111101001000111101100001010111011100111010101110011001010</mn></mrow><mo stretchy="true">&OverBar;</mo></mover></mtd></mtr><mtr><mtd><mspace width="0.5 em" /><mspace width="0.5 em" /><mover accent="true"><mrow><mn>010111000000011100011110010000001001001001101110010101001110100011011101</mn></mrow><mo stretchy="true">&OverBar;</mo></mover></mtd></mtr><mtr><mtd><mspace width="0.5 em" /><mspace width="0.5 em" /><mover accent="true"><mrow><mn>101011100010010000011001011011000000101100101111100010100000101010101101</mn></mrow><mo stretchy="true">&OverBar;</mo></mover></mtd></mtr><mtr><mtd><mspace width="0.5 em" /><mspace width="0.5 em" /><mover accent="true"><mrow><mn>011000001101101110100101011111110101110101001100100001010011011000100110</mn></mrow><mo stretchy="true">&OverBar;</mo></mover></mtd></mtr><mtr><mtd><mspace width="0.5 em" /><mspace width="0.5 em" /><mover accent="true"><mrow><mn>001000100001000011000111010011110001</mn></mrow><mo stretchy="true">&OverBar;</mo></mover></mtd></mtr></mtable></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: BinaryExpansion
</div>



<p>These numbers are bona fide algebraic objects.
</p>




<div id="spadComm9-43" class="spadComm" >
<form id="formComm9-43" action="javascript:makeRequest('9-43');" >
<input id="comm9-43" type="text" class="command" style="width: 34em;" value="p := binary(1/4)*x**2 + binary(2/3)*x + binary(4/9)" />
</form>
<span id="commSav9-43" class="commSav" >p := binary(1/4)*x**2 + binary(2/3)*x + binary(4/9)</span>
<div id="mathAns9-43" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mrow><mrow><mn>0</mn><mo>.</mo><mn>01</mn></mrow><mspace width="0.5 em" /><mrow><msup><mi>x</mi><mn>2</mn></msup></mrow></mrow><mo>+</mo><mrow><mrow><mn>0</mn><mo>.</mo><mrow><mover accent="true"><mrow><mn>10</mn></mrow><mo stretchy="true">&OverBar;</mo></mover></mrow></mrow><mspace width="0.5 em" /><mi>x</mi></mrow><mo>+</mo><mrow><mn>0</mn><mo>.</mo><mrow><mover accent="true"><mrow><mn>011100</mn></mrow><mo stretchy="true">&OverBar;</mo></mover></mrow></mrow></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Polynomial BinaryExpansion
</div>





<div id="spadComm9-44" class="spadComm" >
<form id="formComm9-44" action="javascript:makeRequest('9-44');" >
<input id="comm9-44" type="text" class="command" style="width: 8em;" value="q := D(p, x)" />
</form>
<span id="commSav9-44" class="commSav" >q := D(p, x)</span>
<div id="mathAns9-44" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mrow><mrow><mn>0</mn><mo>.</mo><mn>1</mn></mrow><mspace width="0.5 em" /><mi>x</mi></mrow><mo>+</mo><mrow><mn>0</mn><mo>.</mo><mrow><mover accent="true"><mrow><mn>10</mn></mrow><mo stretchy="true">&OverBar;</mo></mover></mrow></mrow></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Polynomial BinaryExpansion
</div>





<div id="spadComm9-45" class="spadComm" >
<form id="formComm9-45" action="javascript:makeRequest('9-45');" >
<input id="comm9-45" type="text" class="command" style="width: 10em;" value="g := gcd(p, q)" />
</form>
<span id="commSav9-45" class="commSav" >g := gcd(p, q)</span>
<div id="mathAns9-45" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mi>x</mi><mo>+</mo><mrow><mn>1</mn><mo>.</mo><mrow><mover accent="true"><mrow><mn>01</mn></mrow><mo stretchy="true">&OverBar;</mo></mover></mrow></mrow></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Polynomial BinaryExpansion
</div>





</div><a href="book-contents.xhtml" style="margin-right: 10px;">Book Contents</a>
<a href="section-9.3.xhtml" style="margin-right: 10px;">Previous Section 9.3 BasicOperator</a><a href="section-9.5.xhtml" style="margin-right: 10px;">Next Section 9.5 BinarySearchTree</a>
<a href="book-index.xhtml">Book Index</a></body>
</html>