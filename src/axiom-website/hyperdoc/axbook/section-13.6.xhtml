<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
"http://www.w3.org/TR/MathML2/dtd/xhtml-math11-f.dtd" [
<!ENTITY mathml "http://www.w3.org/1998/Math/MathML">
]>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xlink="http://www.w3.org/1999/xlink" >


  <head>
    <title>Section13.6</title>
    <link rel="stylesheet" type="text/css" href="graphicstyle.css" />
    <script type="text/javascript" src="bookax1.js" />
  </head>

  <body>
<a href="book-contents.xhtml" style="margin-right: 10px;">Book Contents</a><a href="section-13.5.xhtml" style="margin-right: 10px;">Previous Section 13.5 Browse</a><a href="section-13.7.xhtml" style="margin-right: 10px;">Next Section 13.7 Multiple Representations</a>
<a href="book-index.xhtml">Book Index</a><div class="section"  id="sec-13.6">
<h2 class="sectiontitle">13.6  Representation</h2>


<a name="ugDomainsRep" class="label"/>


<p>The <span class="teletype"> Implementation</span> part of an Axiom capsule for a
domain constructor uses the special variable <math xmlns="&mathml;" mathsize="big"><mstyle><mi>Rep</mi></mstyle></math> to
<span class="index">Rep @ <span class="teletype"> Rep</span><a name="chapter-13-2"/></span>
identify the lower level data type used to represent the objects
<span class="index">representation:of a domain</span><a name="chapter-13-3"/>
of the domain.
<span class="index">domain:representation</span><a name="chapter-13-4"/>
The <math xmlns="&mathml;" mathsize="big"><mstyle><mi>Rep</mi></mstyle></math> for quadratic forms is <span class="teletype"> SquareMatrix(n, K)</span>.
This means that all objects of the domain are required to be
<math xmlns="&mathml;" mathsize="big"><mstyle><mi>n</mi></mstyle></math> by <math xmlns="&mathml;" mathsize="big"><mstyle><mi>n</mi></mstyle></math> matrices with elements from <span style="font-weight: bold;"> K</span>.
</p>


<p>The code for <span class="teletype"> quadraticForm</span> in Figure <a href="section-13.2.xhtml#figquadform" class="ref" >figquadform</a>
checks that the matrix is symmetric and then converts it to
<span class="teletype">  $</span>, which means, as usual, ``this domain.'' Such explicit
conversions <span class="index">conversion</span><a name="chapter-13-5"/> are generally required by the
compiler.
Aside from checking that the matrix is symmetric, the code for
this function essentially does nothing.
The <span class="teletype"> m ::  $</span> on line 28 coerces <math xmlns="&mathml;" mathsize="big"><mstyle><mi>m</mi></mstyle></math> to a
quadratic form.
In fact, the quadratic form you created in step (3) of
<a href="section-13.4.xhtml#ugDomainsDemo" class="ref" >ugDomainsDemo</a>
is just the matrix you passed it in
disguise!
Without seeing this definition, you would not know that.
Nor can you take advantage of this fact now that you do know!
When we try in the next step of <a href="section-13.4.xhtml#ugDomainsDemo" class="ref" >ugDomainsDemo</a> to regard
<math xmlns="&mathml;" mathsize="big"><mstyle><mi>q</mi></mstyle></math> as a matrix by asking for <span style="font-weight: bold;"> nrows</span>, the number of
its rows, Axiom gives you an error message saying, in
effect, ``Good try, but this won't work!''
</p>


<p>The definition for the <span class="spadfunFrom" style="font-weight: bold;">matrix</span><span class="index">matrix</span><a name="chapter-13-6"/><span class="index">QuadraticForm</span><a name="chapter-13-7"/>
function could hardly be simpler:
it just returns its argument after explicitly
coercing its argument to a matrix.
Since the argument is already a matrix, this coercion does no computation.
</p>


<p>Within the context of a capsule, an object of <span class="teletype">  $</span> is
regarded both as a quadratic form <span class="italic"> and</span> as a
matrix.<span class="footnote">In case each of <span class="teletype">  $</span> and <math xmlns="&mathml;" mathsize="big"><mstyle><mi>Rep</mi></mstyle></math>
have the same named operation available,
the one from  $ takes precedence.
Thus, if you want the one from <span class="teletype"> Rep</span>, you must
package call it using a <span class="teletype">  $Rep</span> suffix.</span>
This makes the definition of <math xmlns="&mathml;" mathsize="big"><mstyle><mrow><mi>q</mi><mo>.</mo><mi>v</mi></mrow></mstyle></math> easy---it
just calls the <span class="spadfunFrom" style="font-weight: bold;">dot</span><span class="index">dot</span><a name="chapter-13-8"/><span class="index">DirectProduct</span><a name="chapter-13-9"/> product from
<span class="teletype"> DirectProduct</span> to perform the indicated operation.
</p>




</div><a href="book-contents.xhtml" style="margin-right: 10px;">Book Contents</a>
<a href="section-13.5.xhtml" style="margin-right: 10px;">Previous Section 13.5 Browse</a><a href="section-13.7.xhtml" style="margin-right: 10px;">Next Section 13.7 Multiple Representations</a>
<a href="book-index.xhtml">Book Index</a></body>
</html>