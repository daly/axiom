<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
"http://www.w3.org/TR/MathML2/dtd/xhtml-math11-f.dtd" [
<!ENTITY mathml "http://www.w3.org/1998/Math/MathML">
]>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xlink="http://www.w3.org/1999/xlink" >


  <head>
    <title>Section9.17</title>
    <link rel="stylesheet" type="text/css" href="graphicstyle.css" />
    <script type="text/javascript" src="bookax1.js" />
  </head>

  <body>
<a href="book-contents.xhtml" style="margin-right: 10px;">Book Contents</a><a href="section-9.16.xhtml" style="margin-right: 10px;">Previous Section 9.16 DistributedMultivariatePolynomial</a><a href="section-9.18.xhtml" style="margin-right: 10px;">Next Section 9.18 EqTable</a>
<a href="book-index.xhtml">Book Index</a><div class="section"  id="sec-9.17">
<h2 class="sectiontitle">9.17  DoubleFloat</h2>


<a name="DoubleFloatXmpPage" class="label"/>


<p>Axiom provides two kinds of floating point numbers.  The domain 
<span class="teletype">Float</span> (abbreviation <span class="teletype">FLOAT</span>) implements a model of arbitrary
precision floating point numbers.  The domain <span class="teletype">DoubleFloat</span>
(abbreviation <span class="teletype">DFLOAT</span>) is intended to make available hardware
floating point arithmetic in Axiom.  The actual model of floating
point <span class="teletype">DoubleFloat</span> that provides is system-dependent.  For
example, on the IBM system 370 Axiom uses IBM double precision which
has fourteen hexadecimal digits of precision or roughly sixteen
decimal digits.  Arbitrary precision floats allow the user to specify
the precision at which arithmetic operations are computed.  Although
this is an attractive facility, it comes at a cost. Arbitrary-precision 
floating-point arithmetic typically takes twenty to two hundred times 
more time than hardware floating point.
</p>


<p>The usual arithmetic and elementary functions are available for 
<span class="teletype">DoubleFloat</span>.  Use <span class="teletype">)show DoubleFloat</span> to get a list of operations
or the HyperDoc browse facility to get more extensive documentation
about <span class="teletype">DoubleFloat</span>.
</p>


<p>By default, floating point numbers that you enter into Axiom are of
type <span class="teletype">Float</span>.
</p>




<div id="spadComm9-98" class="spadComm" >
<form id="formComm9-98" action="javascript:makeRequest('9-98');" >
<input id="comm9-98" type="text" class="command" style="width: 5em;" value="2.71828" />
</form>
<span id="commSav9-98" class="commSav" >2.71828</span>
<div id="mathAns9-98" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>2</mn><mo>.</mo><mn>71828</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: Float
</div>



<p>You must therefore tell Axiom that you want to use <span class="teletype">DoubleFloat</span>
values and operations.  The following are some conservative guidelines
for getting Axiom to use <span class="teletype">DoubleFloat</span>.
</p>


<p>To get a value of type <span class="teletype">DoubleFloat</span>, use a target with <span class="teletype">@</span>, ...
</p>




<div id="spadComm9-99" class="spadComm" >
<form id="formComm9-99" action="javascript:makeRequest('9-99');" >
<input id="comm9-99" type="text" class="command" style="width: 13em;" value="2.71828@DoubleFloat" />
</form>
<span id="commSav9-99" class="commSav" >2.71828@DoubleFloat</span>
<div id="mathAns9-99" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>2</mn><mo>.</mo><mn>71828</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: DoubleFloat
</div>



<p>a conversion, ...
</p>




<div id="spadComm9-100" class="spadComm" >
<form id="formComm9-100" action="javascript:makeRequest('9-100');" >
<input id="comm9-100" type="text" class="command" style="width: 15em;" value="2.71828 :: DoubleFloat" />
</form>
<span id="commSav9-100" class="commSav" >2.71828 :: DoubleFloat</span>
<div id="mathAns9-100" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>2</mn><mo>.</mo><mn>71828</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: DoubleFloat
</div>



<p>or an assignment to a declared variable.  It is more efficient if you
use a target rather than an explicit or implicit conversion.
</p>




<div id="spadComm9-101" class="spadComm" >
<form id="formComm9-101" action="javascript:makeRequest('9-101');" >
<input id="comm9-101" type="text" class="command" style="width: 22em;" value="eApprox : DoubleFloat := 2.71828 " />
</form>
<span id="commSav9-101" class="commSav" >eApprox : DoubleFloat := 2.71828 </span>
<div id="mathAns9-101" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>2</mn><mo>.</mo><mn>71828</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: DoubleFloat
</div>



<p>You also need to declare functions that work with <span class="teletype">DoubleFloat</span>.
</p>




<div id="spadComm9-102" class="spadComm" >
<form id="formComm9-102" action="javascript:makeRequest('9-102');" >
<input id="comm9-102" type="text" class="command" style="width: 26em;" value="avg : List DoubleFloat -> DoubleFloat " />
</form>
<span id="commSav9-102" class="commSav" >avg : List DoubleFloat -> DoubleFloat </span>
<div id="mathAns9-102" ></div>
</div>




<div class="returnType">
Type: Void
</div>





<div class="verbatim"><br />
avg&nbsp;l&nbsp;==<br />
&nbsp;&nbsp;empty?&nbsp;l&nbsp;=&gt;&nbsp;0&nbsp;::&nbsp;DoubleFloat<br />
&nbsp;&nbsp;reduce(_+,l)&nbsp;/&nbsp;#l<br />
</div>




<div class="returnType">
Type: Void
</div>





<div id="spadComm9-103" class="spadComm" >
<form id="formComm9-103" action="javascript:makeRequest('9-103');" >
<input id="comm9-103" type="text" class="command" style="width: 5em;" value="avg [] " />
</form>
<span id="commSav9-103" class="commSav" >avg [] </span>
<div id="mathAns9-103" ></div>
</div>


<p> this complains but succeeds
</p>




<div id="spadComm9-104" class="spadComm" >
<form id="formComm9-104" action="javascript:makeRequest('9-104');" >
<input id="comm9-104" type="text" class="command" style="width: 13em;" value="avg [3.4,9.7,-6.8] " />
</form>
<span id="commSav9-104" class="commSav" >avg [3.4,9.7,-6.8] </span>
<div id="mathAns9-104" ></div>
</div>




<div class="verbatim"><br />
&nbsp;&nbsp;&nbsp;Compiling&nbsp;function&nbsp;avg&nbsp;with&nbsp;type&nbsp;List&nbsp;Float&nbsp;-&gt;&nbsp;DoubleFloat&nbsp;<br />
<br />
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mn>2</mn><mo>.</mo><mn>1</mn></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: DoubleFloat
</div>



<p>Use package-calling for operations from <span class="teletype">DoubleFloat</span> unless
the arguments themselves are already of type <span class="teletype">DoubleFloat</span>.
</p>




<div id="spadComm9-105" class="spadComm" >
<form id="formComm9-105" action="javascript:makeRequest('9-105');" >
<input id="comm9-105" type="text" class="command" style="width: 18em;" value="cos(3.1415926)$DoubleFloat" />
</form>
<span id="commSav9-105" class="commSav" >cos(3.1415926)$DoubleFloat</span>
<div id="mathAns9-105" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>-</mo><mrow><mn>0</mn><mo>.</mo><mn>999999999999999</mn></mrow></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: DoubleFloat
</div>





<div id="spadComm9-106" class="spadComm" >
<form id="formComm9-106" action="javascript:makeRequest('9-106');" >
<input id="comm9-106" type="text" class="command" style="width: 20em;" value="cos(3.1415926 :: DoubleFloat)" />
</form>
<span id="commSav9-106" class="commSav" >cos(3.1415926 :: DoubleFloat)</span>
<div id="mathAns9-106" ></div>
</div>


<div class="math">
<table>
<tr><td>
<math xmlns="&mathml;" mathsize="big" display="block"><mstyle><mrow><mo>-</mo><mrow><mn>0</mn><mo>.</mo><mn>999999999999999</mn></mrow></mrow></mstyle></math>
</td></tr>
</table>
</div>




<div class="returnType">
Type: DoubleFloat
</div>



<p>By far, the most common usage of <span class="teletype">DoubleFloat</span> is for functions to
be graphed.  For more information about Axiom's numerical and
graphical facilities, see Section
<a href="section-7.0.xhtml#ugGraph" class="ref" >ugGraph</a> , 
<a href="section-8.1.xhtml#ugProblemNumeric" class="ref" >ugProblemNumeric</a> , and 
<a href="section-9.17.xhtml#DoubleFloatXmpPage" class="ref" >FloatXmpPage</a> .
</p>




</div><a href="book-contents.xhtml" style="margin-right: 10px;">Book Contents</a>
<a href="section-9.16.xhtml" style="margin-right: 10px;">Previous Section 9.16 DistributedMultivariatePolynomial</a><a href="section-9.18.xhtml" style="margin-right: 10px;">Next Section 9.18 EqTable</a>
<a href="book-index.xhtml">Book Index</a></body>
</html>