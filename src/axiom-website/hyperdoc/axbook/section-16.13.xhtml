<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
"http://www.w3.org/TR/MathML2/dtd/xhtml-math11-f.dtd" [
<!ENTITY mathml "http://www.w3.org/1998/Math/MathML">
]>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:xlink="http://www.w3.org/1999/xlink" >


  <head>
    <title>Section16.13</title>
    <link rel="stylesheet" type="text/css" href="graphicstyle.css" />
    <script type="text/javascript" src="bookax1.js" />
  </head>

  <body>
<a href="book-contents.xhtml" style="margin-right: 10px;">Book Contents</a><a href="section-16.12.xhtml" style="margin-right: 10px;">Previous Section 16.12 )help</a><a href="section-16.14.xhtml" style="margin-right: 10px;">Next Section 16.14 )library</a>
<a href="book-index.xhtml">Book Index</a><div class="section"  id="sec-16.13">
<h2 class="sectiontitle">16.13  )history</h2>


<p><span class="index">ugSysCmdhistory</span><a name="chapter-16-88"/>
</p>


<p><span class="index">history</span><a name="chapter-16-89"/>
</p>



<p><span style="font-weight: bold;"> User Level Required:</span> interpreter
</p>


<p><span style="font-weight: bold;"> Command Syntax:</span>
</p>



<div class="beginlist">
<div class="item">
<span class="teletype">)history )on</span>
</div>
<div class="item"><span class="teletype">)history )off</span>
</div>
<div class="item"><span class="teletype">)history )write</span> <span class="italic">historyInputFileName</span>
</div>
<div class="item"><span class="teletype">)history )show [<span class="italic">n</span>] [both]</span>
</div>
<div class="item"><span class="teletype">)history )save</span> <span class="italic">savedHistoryName</span>
</div>
<div class="item"><span class="teletype">)history )restore</span> [<span class="italic">savedHistoryName</span>]
</div>
<div class="item"><span class="teletype">)history )reset</span>
</div>
<div class="item"><span class="teletype">)history )change</span> <span class="italic">n</span>
</div>
<div class="item"><span class="teletype">)history )memory</span>
</div>
<div class="item"><span class="teletype">)history )file</span>
</div>
<div class="item"><span class="teletype">%</span>
</div>
<div class="item"><span class="teletype">%%(<span class="italic">n</span>)</span>
</div>
<div class="item"><span class="teletype">)set history on | off</span>
</div>
</div>



<p><span style="font-weight: bold;"> Command Description:</span>
</p>


<p>The <span class="italic">history</span> facility within Axiom allows you to restore your
environment to that of another session and recall previous
computational results.
Additional commands allow you to review previous
input lines and to create an <span style="font-weight: bold;"> .input</span> file of the lines typed to
<span class="index">file:input</span><a name="chapter-16-90"/>
Axiom.
</p>


<p>Axiom saves your input and output if the history facility is
turned on (which is the default).
This information is saved if either of
</p>



<div class="verbatim"><br />
)set&nbsp;history&nbsp;on<br />
)history&nbsp;)on<br />
</div>


<p>has been issued.
Issuing either
</p>



<div class="verbatim"><br />
)set&nbsp;history&nbsp;off<br />
)history&nbsp;)off<br />
</div>


<p>will discontinue the recording of information.
<span class="index">history )on</span><a name="chapter-16-91"/>
<span class="index">set history on</span><a name="chapter-16-92"/>
<span class="index">set history off</span><a name="chapter-16-93"/>
<span class="index">history )off</span><a name="chapter-16-94"/>
</p>


<p>Whether the facility is disabled or not,
the value of <span class="teletype">%</span> in Axiom always
refers to the result of the last computation.
If you have not yet entered anything,
<span class="teletype">%</span> evaluates to an object of type
<span class="teletype">Variable('%)</span>.
The function <span class="teletype">%%</span> may be  used to refer
to other previous results if the history facility is enabled.
In that case,
<span class="teletype">%%(n)</span> is  the output from step <span class="teletype">n</span> if <span class="teletype">n > 0</span>.
If <span class="teletype">n &lt; 0</span>, the step is computed relative to the current step.
Thus <span class="teletype">%%(-1)</span> is also the previous step,
<span class="teletype">%%(-2)</span>, is the  step before that, and so on.
If an invalid step number is given, Axiom will signal an error.
</p>


<p>The <span class="italic">environment</span> information can either be saved in a file or entirely in
memory (the default).
Each frame 
(<a href="section-16.11.xhtml#ugSysCmdframe" class="ref" >ugSysCmdframe</a> )
has its own history database.
When it is kept in a file, some of it may also be kept in memory for
efficiency.
When the information is saved in a file, the name of the file is
of the form <span style="font-weight: bold;"> FRAME.axh</span> where ``<span style="font-weight: bold;"> FRAME</span>'' is the name of the
current frame.
The history file is placed in the current working directory
(see <a href="ugSysCmdcd" class="ref" >ugSysCmdcd</a> ).
Note that these history database files are not text files (in fact,
they are directories themselves), and so are not in human-readable
format.
</p>


<p>The options to the <span class="teletype">)history</span> command are as follows:
</p>



<dl>
<dt><span class="teletype">)change</span> <span class="italic">n</span></dt>
<dd>
will set the number of steps that are saved in memory to <span class="italic">n</span>.
This option only has effect when the history data is maintained in a
file.
If you have issued <span class="teletype">)history )memory</span> (or not changed the default)
there is no need to use <span class="teletype">)history )change</span>.
<span class="index">history )change</span><a name="chapter-16-95"/>
</dd>
<dt><span class="teletype">)on</span></dt>
<dd>
will start the recording of information.
If the workspace is not empty, you will be asked to confirm this
request.
If you do so, the workspace will be cleared and history data will begin
being saved.
You can also turn the facility on by issuing <span class="teletype">)set history on</span>.
</dd>
<dt><span class="teletype">)off</span></dt>
<dd>
will stop the recording of information.
The <span class="teletype">)history )show</span> command will not work after issuing this
command.
Note that this command may be issued to save time, as there is some
performance penalty paid for saving the environment data.
You can also turn the facility off by issuing <span class="teletype">)set history off</span>.
</dd>
<dt><span class="teletype">)file</span></dt>
<dd>
indicates that history data should be saved in an external file on disk.
</dd>
<dt><span class="teletype">)memory</span></dt>
<dd>
indicates that all history data should be kept in memory rather than
saved in a file.
Note that if you are computing with very large objects it may not be
practical to kept this data in memory.
</dd>
<dt><span class="teletype">)reset</span></dt>
<dd>
will flush the internal list of the most recent workspace calculations
so that the data structures may be garbage collected by the underlying
Common Lisp system.
Like <span class="teletype">)history )change</span>, this option only has real effect when
history data is being saved in a file.
</dd>
<dt><span class="teletype">)restore</span> [<span class="italic">savedHistoryName</span>]</dt>
<dd>
completely clears the environment and restores it to a saved session, if
possible.
The <span class="teletype">)save</span> option below allows you to save a session to a file
with a given name. If you had issued
<span class="teletype">)history )save jacobi</span>
the command
<span class="teletype">)history )restore jacobi</span>
would clear the current workspace and load the contents of the named
saved session. If no saved session name is specified, the system looks
for a file called <span style="font-weight: bold;"> last.axh</span>.
</dd>
<dt><span class="teletype">)save</span> <span class="italic">savedHistoryName</span></dt>
<dd>
is used to save  a snapshot of the environment in a file.
This file is placed in the current working directory
(see <a href="ugSysCmdcd" class="ref" >ugSysCmdcd</a> ).
Use <span class="teletype">)history )restore</span> to restore the environment to the state
preserved in the file.
This option also creates an input file containing all the lines of input
since you created the workspace frame (for example, by starting your
Axiom session) or last did a <span class="teletype">)clear all</span> or
<span class="teletype">)clear completely</span>.
</dd>
<dt><span class="teletype">)show</span> [<span class="italic">n</span>] [<span class="teletype">both</span>]</dt>
<dd>
can show previous input lines and output results.
<span class="teletype">)show</span> will display up to twenty of the last input lines
(fewer if you haven't typed in twenty lines).
<span class="teletype">)show</span> <span class="italic">n</span> will display up to <span class="italic">n</span> of the last input lines.
<span class="teletype">)show both</span> will display up to five of the last input lines and
output results.
<span class="teletype">)show</span> <span class="italic">n</span> <span class="teletype">both</span> will display up to <span class="italic">n</span> of the last
input lines and output results.
</dd>
<dt><span class="teletype">)write</span> <span class="italic">historyInputFile</span></dt>
<dd>
creates an <span style="font-weight: bold;"> .input</span> file with the input lines typed since the start
of the session/frame or the last <span class="teletype">)clear all</span> or <span class="teletype">)clear
completely</span>.
If <span class="italic">historyInputFileName</span> does not contain a period (``.'') in the filename,
<span style="font-weight: bold;"> .input</span> is appended to it.
For example,
<span class="teletype">)history )write chaos</span>
and
<span class="teletype">)history )write chaos.input</span>
both write the input lines to a file called <span style="font-weight: bold;"> chaos.input</span> in your
current working directory.
If you issued one or more <span class="teletype">)undo</span> commands,
<span class="teletype">)history )write</span>
eliminates all
input lines backtracked over as a result of <span class="teletype">)undo</span>.
You can edit this file and then use <span class="teletype">)read</span> to have Axiom process
the contents.
</dd>
</dl>



<p><span style="font-weight: bold;"> Also See:</span>
<span class="teletype">)frame</span> <span class="index">ugSysCmdframe</span><a name="chapter-16-96"/>,
<span class="teletype">)read</span> <span class="index">ugSysCmdread</span><a name="chapter-16-97"/>,
<span class="teletype">)set</span> <span class="index">ugSysCmdset</span><a name="chapter-16-98"/>, and
<span class="teletype">)undo</span> <span class="index">ugSysCmdundo</span><a name="chapter-16-99"/>.
</p>





</div><a href="book-contents.xhtml" style="margin-right: 10px;">Book Contents</a>
<a href="section-16.12.xhtml" style="margin-right: 10px;">Previous Section 16.12 )help</a><a href="section-16.14.xhtml" style="margin-right: 10px;">Next Section 16.14 )library</a>
<a href="book-index.xhtml">Book Index</a></body>
</html>